
2021-12-01 12:47:31,542 p=33197 u=pivotal n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be removed 
from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2021-12-01 12:47:31,558 p=33197 u=pivotal n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2021-12-01 12:47:32,176 p=33197 u=pivotal n=ansible | PLAY [all] *********************************************************************************************************************
2021-12-01 12:47:32,222 p=33197 u=pivotal n=ansible | TASK [Gathering Facts] *********************************************************************************************************
2021-12-01 12:47:36,990 p=33197 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-01 12:47:37,113 p=33197 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 12:47:37,193 p=33197 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-01 12:47:37,210 p=33197 u=pivotal n=ansible | TASK [patroni-postgres : Stop services for patroni and etcd] *******************************************************************
2021-12-01 12:47:38,947 p=33197 u=pivotal n=ansible | changed: [postgres-ha03] => (item=patroni)
2021-12-01 12:47:39,146 p=33197 u=pivotal n=ansible | changed: [postgres-ha02] => (item=patroni)
2021-12-01 12:47:39,193 p=33197 u=pivotal n=ansible | changed: [postgres-ha01] => (item=patroni)
2021-12-01 12:47:39,542 p=33197 u=pivotal n=ansible | changed: [postgres-ha03] => (item=etcd)
2021-12-01 12:47:39,738 p=33197 u=pivotal n=ansible | changed: [postgres-ha02] => (item=etcd)
2021-12-01 12:47:39,778 p=33197 u=pivotal n=ansible | changed: [postgres-ha01] => (item=etcd)
2021-12-01 12:47:39,792 p=33197 u=pivotal n=ansible | TASK [patroni-postgres : Kill etcd process] ************************************************************************************
2021-12-01 12:47:47,149 p=33197 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 12:47:47,152 p=33197 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 12:47:47,153 p=33197 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 12:47:47,166 p=33197 u=pivotal n=ansible | TASK [patroni-postgres : Delete configuration file for patroni and systemd] ****************************************************
2021-12-01 12:47:48,144 p=33197 u=pivotal n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/patroni.yml)
2021-12-01 12:47:48,151 p=33197 u=pivotal n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/patroni.yml)
2021-12-01 12:47:48,165 p=33197 u=pivotal n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/patroni.yml)
2021-12-01 12:47:48,548 p=33197 u=pivotal n=ansible | changed: [postgres-ha02] => (item=/etc/systemd/system/patroni.service)
2021-12-01 12:47:48,559 p=33197 u=pivotal n=ansible | changed: [postgres-ha01] => (item=/etc/systemd/system/patroni.service)
2021-12-01 12:47:48,568 p=33197 u=pivotal n=ansible | changed: [postgres-ha03] => (item=/etc/systemd/system/patroni.service)
2021-12-01 12:47:48,937 p=33197 u=pivotal n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/postgresql0.yml)
2021-12-01 12:47:48,970 p=33197 u=pivotal n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/postgresql0.yml)
2021-12-01 12:47:48,971 p=33197 u=pivotal n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/postgresql0.yml)
2021-12-01 12:47:49,422 p=33197 u=pivotal n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/patroni_member.log)
2021-12-01 12:47:49,502 p=33197 u=pivotal n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/patroni_member.log)
2021-12-01 12:47:49,502 p=33197 u=pivotal n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/patroni_member.log)
2021-12-01 12:47:49,923 p=33197 u=pivotal n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/etcd.yml)
2021-12-01 12:47:49,975 p=33197 u=pivotal n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/etcd.yml)
2021-12-01 12:47:49,976 p=33197 u=pivotal n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/etcd.yml)
2021-12-01 12:47:50,420 p=33197 u=pivotal n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/etcd_logfile)
2021-12-01 12:47:50,461 p=33197 u=pivotal n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/etcd_logfile)
2021-12-01 12:47:50,471 p=33197 u=pivotal n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/etcd_logfile)
2021-12-01 12:47:50,484 p=33197 u=pivotal n=ansible | TASK [patroni-postgres : Delete data directory for patroni cluster] ************************************************************
2021-12-01 12:47:55,285 p=33197 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 12:47:55,700 p=33197 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 12:47:55,709 p=33197 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 12:47:55,717 p=33197 u=pivotal n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] *********************************************************
2021-12-01 12:47:56,146 p=33197 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 12:47:56,158 p=33197 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 12:47:56,266 p=33197 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 12:47:56,277 p=33197 u=pivotal n=ansible | TASK [patroni-postgres : Uninstall pip modules of Patroni prerequisites on all three nodes] ************************************
2021-12-01 12:48:18,787 p=33197 u=pivotal n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "289224627198.4626", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:18.090442", "end": "2021-12-01 12:48:14.293396", "finished": 1, "msg": "non-zero return code", "rc": 1, "start": "2021-12-01 12:47:56.202954", "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.7\nUninstalling urllib3-1.26.7:\n  Successfully uninstalled urllib3-1.26.7\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.7", "Uninstalling urllib3-1.26.7:", "  Successfully uninstalled urllib3-1.26.7", "Found existing installation: PyYAML 3.13"]}
2021-12-01 12:48:18,788 p=33197 u=pivotal n=ansible | ...ignoring
2021-12-01 12:48:18,881 p=33197 u=pivotal n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "829064039242.4639", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:18.651010", "end": "2021-12-01 12:48:15.312001", "finished": 1, "msg": "non-zero return code", "rc": 1, "start": "2021-12-01 12:47:56.660991", "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.7\nUninstalling urllib3-1.26.7:\n  Successfully uninstalled urllib3-1.26.7\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.7", "Uninstalling urllib3-1.26.7:", "  Successfully uninstalled urllib3-1.26.7", "Found existing installation: PyYAML 3.13"]}
2021-12-01 12:48:18,881 p=33197 u=pivotal n=ansible | ...ignoring
2021-12-01 12:48:19,343 p=33197 u=pivotal n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "199016052533.4636", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:18.660817", "end": "2021-12-01 12:48:15.440697", "finished": 1, "msg": "non-zero return code", "rc": 1, "start": "2021-12-01 12:47:56.779880", "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.7\nUninstalling urllib3-1.26.7:\n  Successfully uninstalled urllib3-1.26.7\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.7", "Uninstalling urllib3-1.26.7:", "  Successfully uninstalled urllib3-1.26.7", "Found existing installation: PyYAML 3.13"]}
2021-12-01 12:48:19,343 p=33197 u=pivotal n=ansible | ...ignoring
2021-12-01 12:48:19,355 p=33197 u=pivotal n=ansible | TASK [patroni-postgres : Install wheel pip module on all three nodes] **********************************************************
2021-12-01 12:48:26,068 p=33197 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 12:48:26,086 p=33197 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 12:48:26,087 p=33197 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 12:48:26,128 p=33197 u=pivotal n=ansible | TASK [patroni-postgres : Uninstall typing pip module on all three nodes] *******************************************************
2021-12-01 12:48:32,925 p=33197 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 12:48:32,928 p=33197 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 12:48:32,928 p=33197 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 12:48:32,941 p=33197 u=pivotal n=ansible | TASK [patroni-postgres : Uninstall setuptools rust on all three nodes] *********************************************************
2021-12-01 12:48:39,198 p=33197 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 12:48:39,221 p=33197 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 12:48:39,235 p=33197 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 12:48:39,246 p=33197 u=pivotal n=ansible | TASK [patroni-postgres : Uninstall patroni module on all three nodes] **********************************************************
2021-12-01 12:48:45,844 p=33197 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 12:48:45,845 p=33197 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 12:48:45,846 p=33197 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 12:48:45,859 p=33197 u=pivotal n=ansible | TASK [patroni-postgres : Uninstall wheel module on all three nodes] ************************************************************
2021-12-01 12:48:52,298 p=33197 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 12:48:52,323 p=33197 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 12:48:52,331 p=33197 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 12:48:52,342 p=33197 u=pivotal n=ansible | TASK [patroni-postgres : Uninstall psycopg2-binary module on all three nodes] **************************************************
2021-12-01 12:48:58,804 p=33197 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 12:48:58,832 p=33197 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 12:48:58,832 p=33197 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 12:48:58,844 p=33197 u=pivotal n=ansible | TASK [patroni-postgres : Delete the dependencies file of etcd  on all three nodes] *********************************************
2021-12-01 12:48:59,549 p=33197 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 12:48:59,567 p=33197 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 12:48:59,569 p=33197 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 12:48:59,587 p=33197 u=pivotal n=ansible | TASK [patroni-postgres : Uninstall VMware Postgres RPM package on all hosts as root] *******************************************
2021-12-01 12:49:33,481 p=33197 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 12:49:38,696 p=33197 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 12:49:43,949 p=33197 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 12:49:43,960 p=33197 u=pivotal n=ansible | TASK [patroni-postgres : Delete the vmwawre-postgres rpm file to all hosts in cluster] *****************************************
2021-12-01 12:49:44,657 p=33197 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 12:49:44,661 p=33197 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 12:49:44,662 p=33197 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 12:49:44,674 p=33197 u=pivotal n=ansible | TASK [patroni-postgres : List iptables rules] **********************************************************************************
2021-12-01 12:49:45,434 p=33197 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 12:49:45,436 p=33197 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 12:49:45,437 p=33197 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 12:49:45,448 p=33197 u=pivotal n=ansible | TASK [patroni-postgres : Flush iptables rules] *********************************************************************************
2021-12-01 12:49:45,906 p=33197 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 12:49:45,929 p=33197 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 12:49:45,936 p=33197 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 12:49:45,949 p=33197 u=pivotal n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ***************************************************************************
2021-12-01 12:49:47,029 p=33197 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-01 12:49:47,030 p=33197 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-01 12:49:47,040 p=33197 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 12:49:47,084 p=33197 u=pivotal n=ansible | PLAY RECAP *********************************************************************************************************************
2021-12-01 12:49:47,084 p=33197 u=pivotal n=ansible | postgres-ha01              : ok=19   changed=17   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2021-12-01 12:49:47,084 p=33197 u=pivotal n=ansible | postgres-ha02              : ok=19   changed=17   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2021-12-01 12:49:47,084 p=33197 u=pivotal n=ansible | postgres-ha03              : ok=19   changed=17   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2021-12-01 14:14:09,125 p=46551 u=pivotal n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is
 being removed. This feature will be removed from ansible-core in version 2.14.
 Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2021-12-01 14:14:09,140 p=46551 u=pivotal n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use
-vvvv to see details

2021-12-01 14:14:09,644 p=46551 u=pivotal n=ansible | PLAY [all] *********************************************************************
2021-12-01 14:14:09,689 p=46551 u=pivotal n=ansible | TASK [Gathering Facts] *********************************************************
2021-12-01 14:14:15,190 p=46551 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-01 14:14:15,934 p=46551 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 14:14:16,295 p=46551 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-01 14:14:16,313 p=46551 u=pivotal n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ***************************
2021-12-01 14:14:17,915 p=46551 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-01 14:14:18,005 p=46551 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-01 14:14:18,292 p=46551 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 14:14:18,305 p=46551 u=pivotal n=ansible | TASK [patroni-postgres : Flush iptables rules] *********************************
2021-12-01 14:14:19,007 p=46551 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:14:19,010 p=46551 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:14:19,010 p=46551 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:14:19,020 p=46551 u=pivotal n=ansible | TASK [patroni-postgres : List iptables rules] **********************************
2021-12-01 14:14:19,537 p=46551 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:14:19,542 p=46551 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:14:19,545 p=46551 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:14:19,563 p=46551 u=pivotal n=ansible | TASK [patroni-postgres : debug] ************************************************
2021-12-01 14:14:19,589 p=46551 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2021-12-01 14:14:19,609 p=46551 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2021-12-01 14:14:19,621 p=46551 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2021-12-01 14:14:19,633 p=46551 u=pivotal n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] ***
2021-12-01 14:14:19,951 p=46551 u=pivotal n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: If you are using a module and expect the file to exist on the remote, see the remote_src option
2021-12-01 14:14:19,952 p=46551 u=pivotal n=ansible | fatal: [postgres-ha03]: FAILED! => {"changed": false, "msg": "Could not find or access 'vmware-postgres-13.3-0.el7.x86_64.rpm'\nSearched in:\n\t/Users/pivotal/postgres-cluster/roles/patroni-postgres/files/vmware-postgres-13.3-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/roles/patroni-postgres/vmware-postgres-13.3-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/roles/patroni-postgres/tasks/files/vmware-postgres-13.3-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/roles/patroni-postgres/tasks/vmware-postgres-13.3-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/files/vmware-postgres-13.3-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/vmware-postgres-13.3-0.el7.x86_64.rpm on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2021-12-01 14:14:19,952 p=46551 u=pivotal n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: If you are using a module and expect the file to exist on the remote, see the remote_src option
2021-12-01 14:14:19,952 p=46551 u=pivotal n=ansible | fatal: [postgres-ha02]: FAILED! => {"changed": false, "msg": "Could not find or access 'vmware-postgres-13.3-0.el7.x86_64.rpm'\nSearched in:\n\t/Users/pivotal/postgres-cluster/roles/patroni-postgres/files/vmware-postgres-13.3-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/roles/patroni-postgres/vmware-postgres-13.3-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/roles/patroni-postgres/tasks/files/vmware-postgres-13.3-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/roles/patroni-postgres/tasks/vmware-postgres-13.3-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/files/vmware-postgres-13.3-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/vmware-postgres-13.3-0.el7.x86_64.rpm on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2021-12-01 14:14:19,953 p=46551 u=pivotal n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: If you are using a module and expect the file to exist on the remote, see the remote_src option
2021-12-01 14:14:19,953 p=46551 u=pivotal n=ansible | fatal: [postgres-ha01]: FAILED! => {"changed": false, "msg": "Could not find or access 'vmware-postgres-13.3-0.el7.x86_64.rpm'\nSearched in:\n\t/Users/pivotal/postgres-cluster/roles/patroni-postgres/files/vmware-postgres-13.3-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/roles/patroni-postgres/vmware-postgres-13.3-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/roles/patroni-postgres/tasks/files/vmware-postgres-13.3-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/roles/patroni-postgres/tasks/vmware-postgres-13.3-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/files/vmware-postgres-13.3-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/vmware-postgres-13.3-0.el7.x86_64.rpm on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2021-12-01 14:14:19,954 p=46551 u=pivotal n=ansible | PLAY RECAP *********************************************************************
2021-12-01 14:14:19,954 p=46551 u=pivotal n=ansible | postgres-ha01              : ok=5    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-01 14:14:19,955 p=46551 u=pivotal n=ansible | postgres-ha02              : ok=5    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-01 14:14:19,955 p=46551 u=pivotal n=ansible | postgres-ha03              : ok=5    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-01 14:15:00,470 p=46913 u=pivotal n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is
 being removed. This feature will be removed from ansible-core in version 2.14.
 Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2021-12-01 14:15:00,481 p=46913 u=pivotal n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use
-vvvv to see details

2021-12-01 14:15:00,757 p=46913 u=pivotal n=ansible | PLAY [all] *********************************************************************
2021-12-01 14:15:00,794 p=46913 u=pivotal n=ansible | TASK [Gathering Facts] *********************************************************
2021-12-01 14:15:02,289 p=46913 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-01 14:15:02,292 p=46913 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-01 14:15:02,311 p=46913 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 14:15:02,329 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ***************************
2021-12-01 14:15:03,507 p=46913 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-01 14:15:03,509 p=46913 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 14:15:03,509 p=46913 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-01 14:15:03,519 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Flush iptables rules] *********************************
2021-12-01 14:15:04,459 p=46913 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:15:04,460 p=46913 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:15:04,461 p=46913 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:15:04,470 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : List iptables rules] **********************************
2021-12-01 14:15:05,018 p=46913 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:15:05,036 p=46913 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:15:05,037 p=46913 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:15:05,048 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : debug] ************************************************
2021-12-01 14:15:05,073 p=46913 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2021-12-01 14:15:05,091 p=46913 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2021-12-01 14:15:05,105 p=46913 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2021-12-01 14:15:05,117 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] ***
2021-12-01 14:15:07,109 p=46913 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:15:07,113 p=46913 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:15:07,136 p=46913 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:15:07,149 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] *********
2021-12-01 14:15:52,173 p=46913 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:15:56,788 p=46913 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:15:56,857 p=46913 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:15:56,866 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] ***
2021-12-01 14:16:03,885 p=46913 u=pivotal n=ansible | ok: [postgres-ha01] => (item=python3)
2021-12-01 14:16:03,982 p=46913 u=pivotal n=ansible | ok: [postgres-ha02] => (item=python3)
2021-12-01 14:16:04,023 p=46913 u=pivotal n=ansible | ok: [postgres-ha03] => (item=python3)
2021-12-01 14:16:10,128 p=46913 u=pivotal n=ansible | ok: [postgres-ha01] => (item=python3-devel)
2021-12-01 14:16:10,185 p=46913 u=pivotal n=ansible | ok: [postgres-ha03] => (item=python3-devel)
2021-12-01 14:16:10,188 p=46913 u=pivotal n=ansible | ok: [postgres-ha02] => (item=python3-devel)
2021-12-01 14:16:16,474 p=46913 u=pivotal n=ansible | ok: [postgres-ha02] => (item=gcc)
2021-12-01 14:16:16,798 p=46913 u=pivotal n=ansible | ok: [postgres-ha03] => (item=gcc)
2021-12-01 14:16:18,706 p=46913 u=pivotal n=ansible | ok: [postgres-ha01] => (item=gcc)
2021-12-01 14:16:22,742 p=46913 u=pivotal n=ansible | ok: [postgres-ha02] => (item=etcd)
2021-12-01 14:16:22,860 p=46913 u=pivotal n=ansible | ok: [postgres-ha03] => (item=etcd)
2021-12-01 14:16:25,083 p=46913 u=pivotal n=ansible | ok: [postgres-ha01] => (item=etcd)
2021-12-01 14:17:16,428 p=46913 u=pivotal n=ansible | changed: [postgres-ha03] => (item=python-psycopg2)
2021-12-01 14:17:16,441 p=46913 u=pivotal n=ansible | changed: [postgres-ha02] => (item=python-psycopg2)
2021-12-01 14:17:19,515 p=46913 u=pivotal n=ansible | changed: [postgres-ha01] => (item=python-psycopg2)
2021-12-01 14:17:22,559 p=46913 u=pivotal n=ansible | ok: [postgres-ha02] => (item=python3-pip)
2021-12-01 14:17:23,764 p=46913 u=pivotal n=ansible | ok: [postgres-ha03] => (item=python3-pip)
2021-12-01 14:17:26,764 p=46913 u=pivotal n=ansible | ok: [postgres-ha01] => (item=python3-pip)
2021-12-01 14:17:29,592 p=46913 u=pivotal n=ansible | ok: [postgres-ha02] => (item=python34-setuptools)
2021-12-01 14:17:30,146 p=46913 u=pivotal n=ansible | ok: [postgres-ha03] => (item=python34-setuptools)
2021-12-01 14:17:33,153 p=46913 u=pivotal n=ansible | ok: [postgres-ha01] => (item=python34-setuptools)
2021-12-01 14:17:36,260 p=46913 u=pivotal n=ansible | ok: [postgres-ha03] => (item=python27-python-setuptools)
2021-12-01 14:17:36,436 p=46913 u=pivotal n=ansible | ok: [postgres-ha02] => (item=python27-python-setuptools)
2021-12-01 14:17:39,610 p=46913 u=pivotal n=ansible | ok: [postgres-ha01] => (item=python27-python-setuptools)
2021-12-01 14:17:42,499 p=46913 u=pivotal n=ansible | ok: [postgres-ha03] => (item=yamllint)
2021-12-01 14:17:43,966 p=46913 u=pivotal n=ansible | ok: [postgres-ha02] => (item=yamllint)
2021-12-01 14:17:46,981 p=46913 u=pivotal n=ansible | ok: [postgres-ha01] => (item=yamllint)
2021-12-01 14:17:49,450 p=46913 u=pivotal n=ansible | ok: [postgres-ha03] => (item=daemonize)
2021-12-01 14:17:50,288 p=46913 u=pivotal n=ansible | ok: [postgres-ha02] => (item=daemonize)
2021-12-01 14:17:53,322 p=46913 u=pivotal n=ansible | ok: [postgres-ha01] => (item=daemonize)
2021-12-01 14:17:53,341 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Install the dependencies of etcd  on all three nodes] ***
2021-12-01 14:17:54,799 p=46913 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:17:54,911 p=46913 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:17:55,046 p=46913 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:17:55,056 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Install setuptools rust on all three nodes] ***********
2021-12-01 14:19:15,234 p=48837 u=pivotal n=ansible | [WARNING]: sftp transfer mechanism failed on [192.168.0.83]. Use
ANSIBLE_DEBUG=1 to see detailed information

2021-12-01 14:19:15,256 p=48832 u=pivotal n=ansible | [WARNING]: sftp transfer mechanism failed on [192.168.0.81]. Use
ANSIBLE_DEBUG=1 to see detailed information

2021-12-01 14:19:15,273 p=48833 u=pivotal n=ansible | [WARNING]: sftp transfer mechanism failed on [192.168.0.82]. Use
ANSIBLE_DEBUG=1 to see detailed information

2021-12-01 14:19:25,284 p=48837 u=pivotal n=ansible | [WARNING]: scp transfer mechanism failed on [192.168.0.83]. Use ANSIBLE_DEBUG=1
to see detailed information

2021-12-01 14:19:25,284 p=48832 u=pivotal n=ansible | [WARNING]: scp transfer mechanism failed on [192.168.0.81]. Use ANSIBLE_DEBUG=1
to see detailed information

2021-12-01 14:19:25,297 p=48833 u=pivotal n=ansible | [WARNING]: scp transfer mechanism failed on [192.168.0.82]. Use ANSIBLE_DEBUG=1
to see detailed information

2021-12-01 14:20:51,806 p=46913 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:20:51,818 p=46913 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:20:52,258 p=46913 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:20:52,268 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Install typing pip module on all three nodes] *********
2021-12-01 14:21:03,966 p=46913 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:21:04,166 p=46913 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:21:04,246 p=46913 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:21:04,257 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Upgrade pip3 version] *********************************
2021-12-01 14:21:10,843 p=46913 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:21:10,848 p=46913 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:21:11,478 p=46913 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:21:11,489 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Install wheel module on all three nodes] **************
2021-12-01 14:21:17,586 p=46913 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:21:17,589 p=46913 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:21:17,620 p=46913 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:21:17,629 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : debug] ************************************************
2021-12-01 14:21:17,694 p=46913 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "51113525442.9144",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:02.625084",
        "end": "2021-12-01 14:21:14.412143",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:21:11.787059",
        "stderr": "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Using cached wheel-0.37.0-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.0",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Using cached wheel-0.37.0-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.0"
        ]
    }
}
2021-12-01 14:21:17,695 p=46913 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "557260706850.9130",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:02.524394",
        "end": "2021-12-01 14:21:13.950617",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:21:11.426223",
        "stderr": "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Using cached wheel-0.37.0-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.0",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Using cached wheel-0.37.0-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.0"
        ]
    }
}
2021-12-01 14:21:17,710 p=46913 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "430175427129.9077",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:02.452775",
        "end": "2021-12-01 14:21:13.947746",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:21:11.494971",
        "stderr": "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Using cached wheel-0.37.0-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.0",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Using cached wheel-0.37.0-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.0"
        ]
    }
}
2021-12-01 14:21:17,721 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Install pip modules of Patroni prerequisites on all three nodes] ***
2021-12-01 14:21:24,547 p=46913 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:21:24,673 p=46913 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:21:24,803 p=46913 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:21:24,814 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : debug] ************************************************
2021-12-01 14:21:24,865 p=46913 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "494028019001.9438",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.756545",
        "end": "2021-12-01 14:21:18.717998",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:21:17.961453",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2021-12-01 14:21:24,874 p=46913 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "276229468956.9451",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.736736",
        "end": "2021-12-01 14:21:19.038289",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:21:18.301553",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2021-12-01 14:21:24,894 p=46913 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "739349030719.9385",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.724566",
        "end": "2021-12-01 14:21:18.704518",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:21:17.979952",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2021-12-01 14:21:24,905 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Iinstall wheel module on all three nodes] *************
2021-12-01 14:21:31,363 p=46913 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:21:31,363 p=46913 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:21:31,505 p=46913 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:21:31,514 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : debug] ************************************************
2021-12-01 14:21:31,562 p=46913 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "271738965660.9754",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:02.008088",
        "end": "2021-12-01 14:21:26.935739",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:21:24.927651",
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Using cached wheel-0.37.0-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.0",
        "stdout_lines": [
            "Collecting wheel",
            "  Using cached wheel-0.37.0-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.0"
        ]
    }
}
2021-12-01 14:21:31,576 p=46913 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "826757881398.9758",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.980467",
        "end": "2021-12-01 14:21:27.245741",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:21:25.265274",
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Using cached wheel-0.37.0-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.0",
        "stdout_lines": [
            "Collecting wheel",
            "  Using cached wheel-0.37.0-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.0"
        ]
    }
}
2021-12-01 14:21:31,592 p=46913 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "855176500615.9692",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.931550",
        "end": "2021-12-01 14:21:26.879099",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:21:24.947549",
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Using cached wheel-0.37.0-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.0",
        "stdout_lines": [
            "Collecting wheel",
            "  Using cached wheel-0.37.0-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.0"
        ]
    }
}
2021-12-01 14:21:31,602 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Install psycopg2-binary module on all three nodes] ****
2021-12-01 14:21:38,925 p=46913 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:21:39,141 p=46913 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:21:39,257 p=46913 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:21:39,267 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : debug] ************************************************
2021-12-01 14:21:39,315 p=46913 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "894357846134.10061",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:01.595242",
        "end": "2021-12-01 14:21:33.346277",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:21:31.751035",
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Using cached psycopg2_binary-2.9.2-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.2",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Using cached psycopg2_binary-2.9.2-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.2"
        ]
    }
}
2021-12-01 14:21:39,331 p=46913 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "568727038975.10065",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:01.554419",
        "end": "2021-12-01 14:21:33.637862",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:21:32.083443",
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Using cached psycopg2_binary-2.9.2-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.2",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Using cached psycopg2_binary-2.9.2-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.2"
        ]
    }
}
2021-12-01 14:21:39,350 p=46913 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "205449388832.9999",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:01.546923",
        "end": "2021-12-01 14:21:33.305999",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:21:31.759076",
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Using cached psycopg2_binary-2.9.2-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.2",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Using cached psycopg2_binary-2.9.2-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.2"
        ]
    }
}
2021-12-01 14:21:39,361 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Install patroni modules on all three nodes for vmware-postgres 13.x version] ***
2021-12-01 14:21:45,878 p=46913 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:21:45,881 p=46913 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:21:45,881 p=46913 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:21:45,892 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] *********
2021-12-01 14:21:46,836 p=46913 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:21:46,839 p=46913 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:21:46,839 p=46913 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:21:46,851 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Create the etcd.yml configuration file for all nodes] ***
2021-12-01 14:21:48,388 p=46913 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:21:48,389 p=46913 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:21:49,007 p=46913 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:21:49,018 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : debug] ************************************************
2021-12-01 14:21:49,071 p=46913 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "9ae4719bb01c1f3fe9f70a6e2c0044c7c41a95fe",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "c58c15d1af07ce06cb21d7da9f41a53d",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1638336106.9956-50911-2879527154069/source",
        "state": "file",
        "uid": 26
    }
}
2021-12-01 14:21:49,092 p=46913 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "15047e7ccbff3a953a4abe4edc1ee87eccf0c835",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "90cfbd68000432263a3d9f571742a601",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1638336106.9979289-50912-87680870010204/source",
        "state": "file",
        "uid": 26
    }
}
2021-12-01 14:21:49,110 p=46913 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "a89b395b153fde540c5b5250ee19c5a9b4a69b60",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "50ed3a33db1def8c3d70f9d8154ad6fa",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1638336107.008495-50916-210482556850921/source",
        "state": "file",
        "uid": 26
    }
}
2021-12-01 14:21:49,124 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Copy systemd configuration of etcd into /etc/systemd/system] ***
2021-12-01 14:21:50,608 p=46913 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-01 14:21:51,497 p=46913 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-01 14:21:51,516 p=46913 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 14:21:51,532 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Reload and start etcd through systemd] ****************
2021-12-01 14:22:00,328 p=46913 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:22:00,331 p=46913 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:22:00,332 p=46913 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:22:00,345 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Lists the members and identifies the current Leader.] ***
2021-12-01 14:22:03,963 p=46913 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:22:04,076 p=46913 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:22:04,092 p=46913 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:22:04,103 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : debug] ************************************************
2021-12-01 14:22:04,149 p=46913 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:02.779954",
        "end": "2021-12-01 14:22:03.263184",
        "failed": false,
        "rc": 0,
        "start": "2021-12-01 14:22:00.483230",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2021-12-01 14:22:04,166 p=46913 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:02.939785",
        "end": "2021-12-01 14:22:03.756092",
        "failed": false,
        "rc": 0,
        "start": "2021-12-01 14:22:00.816307",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2021-12-01 14:22:04,182 p=46913 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:02.966773",
        "end": "2021-12-01 14:22:03.464300",
        "failed": false,
        "rc": 0,
        "start": "2021-12-01 14:22:00.497527",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2021-12-01 14:22:04,193 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Set data directory for patroni cluster] ***************
2021-12-01 14:22:04,776 p=46913 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:22:04,780 p=46913 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:22:04,780 p=46913 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:22:04,792 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Create the patroni.yml configuration file for all nodes] ***
2021-12-01 14:22:06,344 p=46913 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:22:06,345 p=46913 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:22:06,346 p=46913 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:22:06,356 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : debug] ************************************************
2021-12-01 14:22:06,408 p=46913 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "53fcae96fcdf6e2a1c84624de4f5017d7b51c286",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "539392a07ba96f292d5c586de863ffce",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1365,
        "src": "/var/tmp/ansible-tmp-1638336124.929473-51203-173797723122641/source",
        "state": "file",
        "uid": 26
    }
}
2021-12-01 14:22:06,427 p=46913 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "ae64f4618ad3aba5efa6a7d42032c6df520c2e1b",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "1cfe9ecb757c5bfe60630defc9159455",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1365,
        "src": "/var/tmp/ansible-tmp-1638336124.93001-51204-280932425195938/source",
        "state": "file",
        "uid": 26
    }
}
2021-12-01 14:22:06,451 p=46913 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "00c83e14268b31456464e038e22bb0220b6443ef",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "5b1928e0f4d875925be57c1ed2c006fb",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1365,
        "src": "/var/tmp/ansible-tmp-1638336124.9363468-51208-33827081701181/source",
        "state": "file",
        "uid": 26
    }
}
2021-12-01 14:22:06,463 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Copy systemd configuration of patroni into /etc/systemd/system] ***
2021-12-01 14:22:07,922 p=46913 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:22:07,924 p=46913 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:22:07,926 p=46913 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:22:07,937 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Reload and start systemd service of patroni] **********
2021-12-01 14:22:08,875 p=46913 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:22:08,887 p=46913 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:22:08,896 p=46913 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:22:08,911 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ***
2021-12-01 14:22:08,933 p=51413 u=pivotal n=ansible | Pausing for 60 seconds
2021-12-01 14:22:08,934 p=51413 u=pivotal n=ansible | (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort)
2021-12-01 14:23:08,938 p=46913 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 14:23:08,949 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Remove clsuter on master] *****************************
2021-12-01 14:23:08,995 p=46913 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-01 14:23:09,011 p=46913 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-01 14:23:15,980 p=46913 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:23:15,991 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ***
2021-12-01 14:23:16,011 p=51512 u=pivotal n=ansible | Pausing for 60 seconds
2021-12-01 14:23:16,012 p=51512 u=pivotal n=ansible | (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort)
2021-12-01 14:24:16,015 p=46913 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 14:24:16,025 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : debug] ************************************************
2021-12-01 14:24:16,070 p=46913 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "201050794545.12195",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n",
        "delta": "0:00:00.957765",
        "end": "2021-12-01 14:23:10.321570",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:23:09.363805",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7035108470213224805) --+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": ",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7035108470213224805) --+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": "
        ]
    }
}
2021-12-01 14:24:16,082 p=46913 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-01 14:24:16,098 p=46913 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-01 14:24:16,109 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Reinitialize patroni clsuter on all node] *************
2021-12-01 14:24:23,160 p=46913 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:24:23,167 p=46913 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:24:23,210 p=46913 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:24:23,233 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : debug] ************************************************
2021-12-01 14:24:23,303 p=46913 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "959183945365.12593",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.284288",
        "end": "2021-12-01 14:24:16.689492",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:24:16.405204",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+--------------+----+-----------+\n| Member        | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036600371672383232) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | start failed |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Leader  | running      |  1 |           |\n+---------------+--------------+---------+--------------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Success: reinitialize for member postgres-ha01",
        "stdout_lines": [
            "+---------------+--------------+---------+--------------+----+-----------+",
            "| Member        | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036600371672383232) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | start failed |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Leader  | running      |  1 |           |",
            "+---------------+--------------+---------+--------------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Success: reinitialize for member postgres-ha01"
        ]
    }
}
2021-12-01 14:24:23,325 p=46913 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "455500277025.12282",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:03.564934",
        "end": "2021-12-01 14:24:20.310349",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:24:16.745415",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+--------------+----+-----------+\n| Member        | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036600371672383232) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | start failed |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Leader  | running      |  1 |           |\n+---------------+--------------+---------+--------------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Failed: reinitialize for member postgres-ha02, status code=503, (restarting after failure already in progress)\nDo you want to cancel it and reinitialize anyway? [y/N]: Success: reinitialize for member postgres-ha02",
        "stdout_lines": [
            "+---------------+--------------+---------+--------------+----+-----------+",
            "| Member        | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036600371672383232) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | start failed |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Leader  | running      |  1 |           |",
            "+---------------+--------------+---------+--------------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Failed: reinitialize for member postgres-ha02, status code=503, (restarting after failure already in progress)",
            "Do you want to cancel it and reinitialize anyway? [y/N]: Success: reinitialize for member postgres-ha02"
        ]
    }
}
2021-12-01 14:24:23,358 p=46913 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "127062872735.12189",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:03.574103",
        "end": "2021-12-01 14:24:20.002857",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:24:16.428754",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+--------------+----+-----------+\n| Member        | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036600371672383232) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | start failed |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Leader  | running      |  1 |           |\n+---------------+--------------+---------+--------------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Failed: reinitialize for member postgres-ha03, status code=503, (I am the leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+--------------+----+-----------+",
            "| Member        | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036600371672383232) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | start failed |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Leader  | running      |  1 |           |",
            "+---------------+--------------+---------+--------------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Failed: reinitialize for member postgres-ha03, status code=503, (I am the leader, can not reinitialize)"
        ]
    }
}
2021-12-01 14:24:23,378 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ***
2021-12-01 14:24:23,407 p=51667 u=pivotal n=ansible | Pausing for 60 seconds
2021-12-01 14:24:23,408 p=51667 u=pivotal n=ansible | (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort)
2021-12-01 14:25:23,411 p=46913 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 14:25:23,421 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : debug] ************************************************
2021-12-01 14:25:23,474 p=46913 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "959183945365.12593",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.284288",
        "end": "2021-12-01 14:24:16.689492",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:24:16.405204",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+--------------+----+-----------+\n| Member        | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036600371672383232) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | start failed |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Leader  | running      |  1 |           |\n+---------------+--------------+---------+--------------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Success: reinitialize for member postgres-ha01",
        "stdout_lines": [
            "+---------------+--------------+---------+--------------+----+-----------+",
            "| Member        | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036600371672383232) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | start failed |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Leader  | running      |  1 |           |",
            "+---------------+--------------+---------+--------------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Success: reinitialize for member postgres-ha01"
        ]
    }
}
2021-12-01 14:25:23,490 p=46913 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "455500277025.12282",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:03.564934",
        "end": "2021-12-01 14:24:20.310349",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:24:16.745415",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+--------------+----+-----------+\n| Member        | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036600371672383232) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | start failed |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Leader  | running      |  1 |           |\n+---------------+--------------+---------+--------------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Failed: reinitialize for member postgres-ha02, status code=503, (restarting after failure already in progress)\nDo you want to cancel it and reinitialize anyway? [y/N]: Success: reinitialize for member postgres-ha02",
        "stdout_lines": [
            "+---------------+--------------+---------+--------------+----+-----------+",
            "| Member        | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036600371672383232) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | start failed |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Leader  | running      |  1 |           |",
            "+---------------+--------------+---------+--------------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Failed: reinitialize for member postgres-ha02, status code=503, (restarting after failure already in progress)",
            "Do you want to cancel it and reinitialize anyway? [y/N]: Success: reinitialize for member postgres-ha02"
        ]
    }
}
2021-12-01 14:25:23,507 p=46913 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "127062872735.12189",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:03.574103",
        "end": "2021-12-01 14:24:20.002857",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:24:16.428754",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+--------------+----+-----------+\n| Member        | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036600371672383232) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | start failed |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Leader  | running      |  1 |           |\n+---------------+--------------+---------+--------------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Failed: reinitialize for member postgres-ha03, status code=503, (I am the leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+--------------+----+-----------+",
            "| Member        | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036600371672383232) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | start failed |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Leader  | running      |  1 |           |",
            "+---------------+--------------+---------+--------------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Failed: reinitialize for member postgres-ha03, status code=503, (I am the leader, can not reinitialize)"
        ]
    }
}
2021-12-01 14:25:23,518 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : Run the patronictl command-line utility to view the cluster state with Patroni started on all three nodes,] ***
2021-12-01 14:25:24,682 p=46913 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:25:24,684 p=46913 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:25:24,690 p=46913 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:25:24,700 p=46913 u=pivotal n=ansible | TASK [patroni-postgres : debug] ************************************************
2021-12-01 14:25:24,751 p=46913 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.314662",
        "end": "2021-12-01 14:25:24.052029",
        "failed": false,
        "rc": 0,
        "start": "2021-12-01 14:25:23.737367",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+--------------+----+-----------+\n| Member        | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036600371672383232) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | start failed |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | running      |  1 |         0 |\n| postgres-ha03 | 192.168.0.83 | Leader  | running      |  1 |           |\n+---------------+--------------+---------+--------------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+--------------+----+-----------+",
            "| Member        | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036600371672383232) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | start failed |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | running      |  1 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Leader  | running      |  1 |           |",
            "+---------------+--------------+---------+--------------+----+-----------+"
        ]
    }
}
2021-12-01 14:25:24,770 p=46913 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.305896",
        "end": "2021-12-01 14:25:24.374311",
        "failed": false,
        "rc": 0,
        "start": "2021-12-01 14:25:24.068415",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+--------------+----+-----------+\n| Member        | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036600371672383232) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | start failed |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | running      |  1 |         0 |\n| postgres-ha03 | 192.168.0.83 | Leader  | running      |  1 |           |\n+---------------+--------------+---------+--------------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+--------------+----+-----------+",
            "| Member        | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036600371672383232) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | start failed |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | running      |  1 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Leader  | running      |  1 |           |",
            "+---------------+--------------+---------+--------------+----+-----------+"
        ]
    }
}
2021-12-01 14:25:24,787 p=46913 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.306423",
        "end": "2021-12-01 14:25:24.054934",
        "failed": false,
        "rc": 0,
        "start": "2021-12-01 14:25:23.748511",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+--------------+----+-----------+\n| Member        | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036600371672383232) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | start failed |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | running      |  1 |         0 |\n| postgres-ha03 | 192.168.0.83 | Leader  | running      |  1 |           |\n+---------------+--------------+---------+--------------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+--------------+----+-----------+",
            "| Member        | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036600371672383232) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | start failed |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | running      |  1 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Leader  | running      |  1 |           |",
            "+---------------+--------------+---------+--------------+----+-----------+"
        ]
    }
}
2021-12-01 14:25:24,831 p=46913 u=pivotal n=ansible | PLAY RECAP *********************************************************************
2021-12-01 14:25:24,831 p=46913 u=pivotal n=ansible | postgres-ha01              : ok=43   changed=25   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2021-12-01 14:25:24,831 p=46913 u=pivotal n=ansible | postgres-ha02              : ok=39   changed=24   unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2021-12-01 14:25:24,831 p=46913 u=pivotal n=ansible | postgres-ha03              : ok=39   changed=24   unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2021-12-01 14:44:37,197 p=53843 u=pivotal n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is
 being removed. This feature will be removed from ansible-core in version 2.14.
 Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2021-12-01 14:44:37,210 p=53843 u=pivotal n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use
-vvvv to see details

2021-12-01 14:44:37,664 p=53843 u=pivotal n=ansible | PLAY [all] *********************************************************************
2021-12-01 14:44:37,725 p=53843 u=pivotal n=ansible | TASK [Gathering Facts] *********************************************************
2021-12-01 14:44:39,973 p=53843 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-01 14:44:39,999 p=53843 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 14:44:40,004 p=53843 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-01 14:44:40,023 p=53843 u=pivotal n=ansible | TASK [patroni-postgres : Stop services for patroni and etcd] *******************
2021-12-01 14:44:41,553 p=53843 u=pivotal n=ansible | changed: [postgres-ha01] => (item=patroni)
2021-12-01 14:44:41,713 p=53843 u=pivotal n=ansible | changed: [postgres-ha02] => (item=patroni)
2021-12-01 14:44:42,082 p=53843 u=pivotal n=ansible | changed: [postgres-ha03] => (item=patroni)
2021-12-01 14:44:42,207 p=53843 u=pivotal n=ansible | changed: [postgres-ha01] => (item=etcd)
2021-12-01 14:44:42,307 p=53843 u=pivotal n=ansible | changed: [postgres-ha02] => (item=etcd)
2021-12-01 14:44:42,633 p=53843 u=pivotal n=ansible | changed: [postgres-ha03] => (item=etcd)
2021-12-01 14:44:42,653 p=53843 u=pivotal n=ansible | TASK [patroni-postgres : Kill etcd process] ************************************
2021-12-01 14:44:49,692 p=53843 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:44:49,693 p=53843 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:44:49,694 p=53843 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:44:49,704 p=53843 u=pivotal n=ansible | TASK [patroni-postgres : Delete configuration file for patroni and systemd] ****
2021-12-01 14:44:50,408 p=53843 u=pivotal n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/patroni.yml)
2021-12-01 14:44:50,420 p=53843 u=pivotal n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/patroni.yml)
2021-12-01 14:44:50,425 p=53843 u=pivotal n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/patroni.yml)
2021-12-01 14:44:50,784 p=53843 u=pivotal n=ansible | changed: [postgres-ha03] => (item=/etc/systemd/system/patroni.service)
2021-12-01 14:44:50,810 p=53843 u=pivotal n=ansible | changed: [postgres-ha02] => (item=/etc/systemd/system/patroni.service)
2021-12-01 14:44:50,812 p=53843 u=pivotal n=ansible | changed: [postgres-ha01] => (item=/etc/systemd/system/patroni.service)
2021-12-01 14:44:51,174 p=53843 u=pivotal n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/postgresql0.yml)
2021-12-01 14:44:51,210 p=53843 u=pivotal n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/postgresql0.yml)
2021-12-01 14:44:51,225 p=53843 u=pivotal n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/postgresql0.yml)
2021-12-01 14:44:51,607 p=53843 u=pivotal n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/patroni_member.log)
2021-12-01 14:44:51,628 p=53843 u=pivotal n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/patroni_member.log)
2021-12-01 14:44:51,663 p=53843 u=pivotal n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/patroni_member.log)
2021-12-01 14:44:52,038 p=53843 u=pivotal n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/etcd.yml)
2021-12-01 14:44:52,039 p=53843 u=pivotal n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/etcd.yml)
2021-12-01 14:44:52,096 p=53843 u=pivotal n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/etcd.yml)
2021-12-01 14:44:52,600 p=53843 u=pivotal n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/etcd_logfile)
2021-12-01 14:44:52,606 p=53843 u=pivotal n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/etcd_logfile)
2021-12-01 14:44:52,649 p=53843 u=pivotal n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/etcd_logfile)
2021-12-01 14:44:52,662 p=53843 u=pivotal n=ansible | TASK [patroni-postgres : Delete data directory for patroni cluster] ************
2021-12-01 14:44:53,193 p=53843 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:44:53,206 p=53843 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:44:53,212 p=53843 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:44:53,222 p=53843 u=pivotal n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] *********
2021-12-01 14:44:53,843 p=53843 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 14:44:53,844 p=53843 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-01 14:44:53,844 p=53843 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-01 14:44:53,856 p=53843 u=pivotal n=ansible | TASK [patroni-postgres : Uninstall pip modules of Patroni prerequisites on all three nodes] ***
2021-12-01 14:45:00,377 p=53843 u=pivotal n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "16966541216.14772", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.461517", "end": "2021-12-01 14:44:54.683309", "finished": 1, "msg": "non-zero return code", "rc": 1, "start": "2021-12-01 14:44:54.221792", "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.7\nUninstalling urllib3-1.26.7:\n  Successfully uninstalled urllib3-1.26.7\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.7", "Uninstalling urllib3-1.26.7:", "  Successfully uninstalled urllib3-1.26.7", "Found existing installation: PyYAML 3.13"]}
2021-12-01 14:45:00,377 p=53843 u=pivotal n=ansible | ...ignoring
2021-12-01 14:45:00,378 p=53843 u=pivotal n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "381782379914.14811", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.461154", "end": "2021-12-01 14:44:54.380030", "finished": 1, "msg": "non-zero return code", "rc": 1, "start": "2021-12-01 14:44:53.918876", "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.7\nUninstalling urllib3-1.26.7:\n  Successfully uninstalled urllib3-1.26.7\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.7", "Uninstalling urllib3-1.26.7:", "  Successfully uninstalled urllib3-1.26.7", "Found existing installation: PyYAML 3.13"]}
2021-12-01 14:45:00,378 p=53843 u=pivotal n=ansible | ...ignoring
2021-12-01 14:45:00,379 p=53843 u=pivotal n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "721784273058.16147", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.482655", "end": "2021-12-01 14:44:54.373209", "finished": 1, "msg": "non-zero return code", "rc": 1, "start": "2021-12-01 14:44:53.890554", "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.7\nUninstalling urllib3-1.26.7:\n  Successfully uninstalled urllib3-1.26.7\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.7", "Uninstalling urllib3-1.26.7:", "  Successfully uninstalled urllib3-1.26.7", "Found existing installation: PyYAML 3.13"]}
2021-12-01 14:45:00,379 p=53843 u=pivotal n=ansible | ...ignoring
2021-12-01 14:45:00,389 p=53843 u=pivotal n=ansible | TASK [patroni-postgres : Install wheel pip module on all three nodes] **********
2021-12-01 14:45:06,934 p=53843 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:45:06,939 p=53843 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:45:06,939 p=53843 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:45:06,951 p=53843 u=pivotal n=ansible | TASK [patroni-postgres : Uninstall typing pip module on all three nodes] *******
2021-12-01 14:45:13,475 p=53843 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:45:13,479 p=53843 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:45:13,480 p=53843 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:45:13,491 p=53843 u=pivotal n=ansible | TASK [patroni-postgres : Uninstall setuptools rust on all three nodes] *********
2021-12-01 14:45:19,806 p=53843 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:45:19,808 p=53843 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:45:19,808 p=53843 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:45:19,818 p=53843 u=pivotal n=ansible | TASK [patroni-postgres : Uninstall patroni module on all three nodes] **********
2021-12-01 14:45:26,105 p=53843 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:45:26,139 p=53843 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:45:26,147 p=53843 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:45:26,165 p=53843 u=pivotal n=ansible | TASK [patroni-postgres : Uninstall wheel module on all three nodes] ************
2021-12-01 14:45:32,654 p=53843 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:45:32,655 p=53843 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:45:32,656 p=53843 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:45:32,667 p=53843 u=pivotal n=ansible | TASK [patroni-postgres : Uninstall psycopg2-binary module on all three nodes] ***
2021-12-01 14:45:39,313 p=53843 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:45:39,314 p=53843 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:45:39,316 p=53843 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:45:39,327 p=53843 u=pivotal n=ansible | TASK [patroni-postgres : Delete the dependencies file of etcd  on all three nodes] ***
2021-12-01 14:45:39,913 p=53843 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:45:39,915 p=53843 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:45:39,916 p=53843 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:45:39,929 p=53843 u=pivotal n=ansible | TASK [patroni-postgres : Uninstall VMware Postgres RPM package on all hosts as root] ***
2021-12-01 14:45:52,101 p=53843 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:45:57,432 p=53843 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:45:57,432 p=53843 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:45:57,448 p=53843 u=pivotal n=ansible | TASK [patroni-postgres : Delete the vmwawre-postgres rpm file to all hosts in cluster] ***
2021-12-01 14:45:57,980 p=53843 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:45:57,981 p=53843 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:45:57,983 p=53843 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:45:57,995 p=53843 u=pivotal n=ansible | TASK [patroni-postgres : List iptables rules] **********************************
2021-12-01 14:45:58,558 p=53843 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:45:58,559 p=53843 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:45:58,560 p=53843 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:45:58,571 p=53843 u=pivotal n=ansible | TASK [patroni-postgres : Flush iptables rules] *********************************
2021-12-01 14:45:59,031 p=53843 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:45:59,054 p=53843 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:45:59,054 p=53843 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:45:59,068 p=53843 u=pivotal n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ***************************
2021-12-01 14:46:00,030 p=53843 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-01 14:46:00,031 p=53843 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-01 14:46:00,033 p=53843 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 14:46:00,075 p=53843 u=pivotal n=ansible | PLAY RECAP *********************************************************************
2021-12-01 14:46:00,076 p=53843 u=pivotal n=ansible | postgres-ha01              : ok=19   changed=16   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2021-12-01 14:46:00,076 p=53843 u=pivotal n=ansible | postgres-ha02              : ok=19   changed=16   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2021-12-01 14:46:00,076 p=53843 u=pivotal n=ansible | postgres-ha03              : ok=19   changed=16   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2021-12-01 14:49:06,802 p=55911 u=pivotal n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being 
removed. This feature will be removed from ansible-core in version 2.14. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2021-12-01 14:49:06,812 p=55911 u=pivotal n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to
see details

2021-12-01 14:49:07,121 p=55911 u=pivotal n=ansible | [WARNING]: file /Users/pivotal/postgres-cluster/roles/haproxy/tasks/haproxy-
upgrade.yml is empty and had no tasks to include

2021-12-01 14:49:07,131 p=55911 u=pivotal n=ansible | PLAY [all] ****************************************************************************
2021-12-01 14:49:07,168 p=55911 u=pivotal n=ansible | TASK [Gathering Facts] ****************************************************************
2021-12-01 14:49:09,405 p=55911 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 14:49:09,416 p=55911 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-01 14:49:09,418 p=55911 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-01 14:49:13,344 p=55911 u=pivotal n=ansible | ok: [postgres-haproxy02]
2021-12-01 14:49:13,626 p=55911 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-01 14:49:13,643 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Stop and disable firewalld] **********************************
2021-12-01 14:49:14,562 p=55911 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 14:49:14,563 p=55911 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-01 14:49:14,569 p=55911 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-01 14:49:14,854 p=55911 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-01 14:49:14,905 p=55911 u=pivotal n=ansible | ok: [postgres-haproxy02]
2021-12-01 14:49:14,916 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Flush iptables rules] ****************************************
2021-12-01 14:49:15,558 p=55911 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-01 14:49:15,570 p=55911 u=pivotal n=ansible | changed: [postgres-haproxy02]
2021-12-01 14:49:15,583 p=55911 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:49:15,584 p=55911 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:49:15,591 p=55911 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:49:15,603 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : List iptables rules] *****************************************
2021-12-01 14:49:16,080 p=55911 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-01 14:49:16,112 p=55911 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:49:16,119 p=55911 u=pivotal n=ansible | changed: [postgres-haproxy02]
2021-12-01 14:49:16,146 p=55911 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:49:16,152 p=55911 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:49:16,171 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : debug] *******************************************************
2021-12-01 14:49:16,214 p=55911 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2021-12-01 14:49:16,235 p=55911 u=pivotal n=ansible | ok: [postgres-haproxy02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2021-12-01 14:49:16,253 p=55911 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2021-12-01 14:49:16,255 p=55911 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2021-12-01 14:49:16,266 p=55911 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2021-12-01 14:49:16,286 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] ***
2021-12-01 14:49:18,275 p=55911 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:49:18,282 p=55911 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:49:18,294 p=55911 u=pivotal n=ansible | changed: [postgres-haproxy02]
2021-12-01 14:49:18,303 p=55911 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:49:18,322 p=55911 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-01 14:49:18,334 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] ****************
2021-12-01 14:49:36,519 p=55911 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:49:41,683 p=55911 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:49:41,684 p=55911 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:50:09,793 p=55911 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-01 14:50:10,215 p=55911 u=pivotal n=ansible | changed: [postgres-haproxy02]
2021-12-01 14:50:10,225 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] ***
2021-12-01 14:50:16,535 p=55911 u=pivotal n=ansible | ok: [postgres-ha03] => (item=python3)
2021-12-01 14:50:17,552 p=55911 u=pivotal n=ansible | ok: [postgres-ha02] => (item=python3)
2021-12-01 14:50:17,953 p=55911 u=pivotal n=ansible | ok: [postgres-ha01] => (item=python3)
2021-12-01 14:50:18,842 p=55911 u=pivotal n=ansible | ok: [postgres-haproxy02] => (item=python3)
2021-12-01 14:50:19,194 p=55911 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=python3)
2021-12-01 14:50:23,013 p=55911 u=pivotal n=ansible | ok: [postgres-ha03] => (item=python3-devel)
2021-12-01 14:50:24,073 p=55911 u=pivotal n=ansible | ok: [postgres-ha01] => (item=python3-devel)
2021-12-01 14:50:24,226 p=55911 u=pivotal n=ansible | ok: [postgres-ha02] => (item=python3-devel)
2021-12-01 14:50:25,165 p=55911 u=pivotal n=ansible | ok: [postgres-haproxy02] => (item=python3-devel)
2021-12-01 14:50:25,314 p=55911 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=python3-devel)
2021-12-01 14:50:29,432 p=55911 u=pivotal n=ansible | ok: [postgres-ha03] => (item=gcc)
2021-12-01 14:50:30,192 p=55911 u=pivotal n=ansible | ok: [postgres-ha01] => (item=gcc)
2021-12-01 14:50:30,297 p=55911 u=pivotal n=ansible | ok: [postgres-ha02] => (item=gcc)
2021-12-01 14:50:31,226 p=55911 u=pivotal n=ansible | ok: [postgres-haproxy02] => (item=gcc)
2021-12-01 14:50:31,373 p=55911 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=gcc)
2021-12-01 14:50:35,854 p=55911 u=pivotal n=ansible | ok: [postgres-ha03] => (item=etcd)
2021-12-01 14:50:36,374 p=55911 u=pivotal n=ansible | ok: [postgres-ha02] => (item=etcd)
2021-12-01 14:50:36,624 p=55911 u=pivotal n=ansible | ok: [postgres-ha01] => (item=etcd)
2021-12-01 14:50:37,325 p=55911 u=pivotal n=ansible | ok: [postgres-haproxy02] => (item=etcd)
2021-12-01 14:50:37,514 p=55911 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=etcd)
2021-12-01 14:50:52,827 p=55911 u=pivotal n=ansible | changed: [postgres-ha03] => (item=python-psycopg2)
2021-12-01 14:50:53,194 p=55911 u=pivotal n=ansible | changed: [postgres-ha02] => (item=python-psycopg2)
2021-12-01 14:50:58,554 p=55911 u=pivotal n=ansible | changed: [postgres-ha01] => (item=python-psycopg2)
2021-12-01 14:50:58,966 p=55911 u=pivotal n=ansible | ok: [postgres-ha03] => (item=python3-pip)
2021-12-01 14:50:59,237 p=55911 u=pivotal n=ansible | ok: [postgres-ha02] => (item=python3-pip)
2021-12-01 14:51:04,613 p=55911 u=pivotal n=ansible | ok: [postgres-ha01] => (item=python3-pip)
2021-12-01 14:51:05,027 p=55911 u=pivotal n=ansible | ok: [postgres-ha03] => (item=python34-setuptools)
2021-12-01 14:51:05,280 p=55911 u=pivotal n=ansible | ok: [postgres-ha02] => (item=python34-setuptools)
2021-12-01 14:51:10,675 p=55911 u=pivotal n=ansible | ok: [postgres-ha01] => (item=python34-setuptools)
2021-12-01 14:51:11,218 p=55911 u=pivotal n=ansible | ok: [postgres-ha03] => (item=python27-python-setuptools)
2021-12-01 14:51:11,424 p=55911 u=pivotal n=ansible | ok: [postgres-ha02] => (item=python27-python-setuptools)
2021-12-01 14:51:17,006 p=55911 u=pivotal n=ansible | ok: [postgres-ha01] => (item=python27-python-setuptools)
2021-12-01 14:51:17,387 p=55911 u=pivotal n=ansible | ok: [postgres-ha03] => (item=yamllint)
2021-12-01 14:51:18,250 p=55911 u=pivotal n=ansible | ok: [postgres-ha02] => (item=yamllint)
2021-12-01 14:51:23,189 p=55911 u=pivotal n=ansible | ok: [postgres-ha01] => (item=yamllint)
2021-12-01 14:51:23,395 p=55911 u=pivotal n=ansible | ok: [postgres-ha03] => (item=daemonize)
2021-12-01 14:51:25,139 p=55911 u=pivotal n=ansible | ok: [postgres-ha02] => (item=daemonize)
2021-12-01 14:51:29,473 p=55911 u=pivotal n=ansible | ok: [postgres-ha01] => (item=daemonize)
2021-12-01 14:51:48,489 p=55911 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=python-psycopg2)
2021-12-01 14:51:54,970 p=55911 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=python3-pip)
2021-12-01 14:52:45,586 p=55911 u=pivotal n=ansible | failed: [postgres-haproxy02] (item=python-psycopg2) => {"ansible_loop_var": "item", "changed": false, "item": "python-psycopg2", "msg": "async task did not complete within the requested time - 120s"}
2021-12-01 14:52:52,013 p=55911 u=pivotal n=ansible | ok: [postgres-haproxy02] => (item=python3-pip)
2021-12-01 14:54:02,931 p=55911 u=pivotal n=ansible | failed: [postgres-haproxy01] (item=python34-setuptools) => {"ansible_loop_var": "item", "changed": false, "item": "python34-setuptools", "msg": "async task did not complete within the requested time - 120s"}
2021-12-01 14:54:36,401 p=55911 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=python27-python-setuptools)
2021-12-01 14:55:00,972 p=55911 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=yamllint)
2021-12-01 14:55:07,582 p=55911 u=pivotal n=ansible | failed: [postgres-haproxy02] (item=python34-setuptools) => {"ansible_loop_var": "item", "changed": false, "item": "python34-setuptools", "msg": "async task did not complete within the requested time - 120s"}
2021-12-01 14:55:13,131 p=55911 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=daemonize)
2021-12-01 14:55:47,135 p=55911 u=pivotal n=ansible | changed: [postgres-haproxy02] => (item=python27-python-setuptools)
2021-12-01 14:56:05,948 p=55911 u=pivotal n=ansible | changed: [postgres-haproxy02] => (item=yamllint)
2021-12-01 14:56:25,333 p=55911 u=pivotal n=ansible | changed: [postgres-haproxy02] => (item=daemonize)
2021-12-01 14:56:25,349 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Install the dependencies of etcd  on all three nodes] ********
2021-12-01 14:56:26,570 p=55911 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:56:26,594 p=55911 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:56:26,609 p=55911 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:56:26,623 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Install setuptools rust on all three nodes] ******************
2021-12-01 14:56:32,954 p=55911 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:56:32,958 p=55911 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:56:32,960 p=55911 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:56:32,979 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Install typing pip module on all three nodes] ****************
2021-12-01 14:56:39,334 p=55911 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:56:39,363 p=55911 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:56:39,364 p=55911 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:56:39,381 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Upgrade pip3 version] ****************************************
2021-12-01 14:56:45,558 p=55911 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:56:45,573 p=55911 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:56:45,585 p=55911 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:56:45,596 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Install wheel module on all three nodes] *********************
2021-12-01 14:56:51,842 p=55911 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:56:51,843 p=55911 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:56:51,846 p=55911 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:56:51,857 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : debug] *******************************************************
2021-12-01 14:56:51,924 p=55911 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "689585241966.25128",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.786295",
        "end": "2021-12-01 14:56:47.449998",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:56:45.663703",
        "stderr": "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Using cached wheel-0.37.0-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.0",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Using cached wheel-0.37.0-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.0"
        ]
    }
}
2021-12-01 14:56:51,928 p=55911 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "931059714538.23611",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.758431",
        "end": "2021-12-01 14:56:47.753344",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:56:45.994913",
        "stderr": "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Using cached wheel-0.37.0-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.0",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Using cached wheel-0.37.0-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.0"
        ]
    }
}
2021-12-01 14:56:51,949 p=55911 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "239981418372.23667",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.735190",
        "end": "2021-12-01 14:56:47.416216",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:56:45.681026",
        "stderr": "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Using cached wheel-0.37.0-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.0",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Using cached wheel-0.37.0-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.0"
        ]
    }
}
2021-12-01 14:56:51,961 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Install pip modules of Patroni prerequisites on all three nodes] ***
2021-12-01 14:56:58,133 p=55911 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:56:58,347 p=55911 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:56:58,476 p=55911 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:56:58,489 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : debug] *******************************************************
2021-12-01 14:56:58,546 p=55911 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "456025679579.25435",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.728202",
        "end": "2021-12-01 14:56:52.713682",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:56:51.985480",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2021-12-01 14:56:58,564 p=55911 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "466572764409.23918",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.730453",
        "end": "2021-12-01 14:56:53.046759",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:56:52.316306",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2021-12-01 14:56:58,587 p=55911 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "179604733204.23974",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.729110",
        "end": "2021-12-01 14:56:52.735246",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:56:52.006136",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2021-12-01 14:56:58,599 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Iinstall wheel module on all three nodes] ********************
2021-12-01 14:57:04,739 p=55911 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:57:04,758 p=55911 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:57:05,009 p=55911 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:57:05,054 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : debug] *******************************************************
2021-12-01 14:57:05,100 p=55911 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "869827461823.25742",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.360483",
        "end": "2021-12-01 14:56:59.942692",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:56:58.582209",
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Using cached wheel-0.37.0-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.0",
        "stdout_lines": [
            "Collecting wheel",
            "  Using cached wheel-0.37.0-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.0"
        ]
    }
}
2021-12-01 14:57:05,117 p=55911 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "690466996951.24225",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.280180",
        "end": "2021-12-01 14:57:00.205980",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:56:58.925800",
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Using cached wheel-0.37.0-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.0",
        "stdout_lines": [
            "Collecting wheel",
            "  Using cached wheel-0.37.0-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.0"
        ]
    }
}
2021-12-01 14:57:05,133 p=55911 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "389022891188.24281",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.258636",
        "end": "2021-12-01 14:56:59.873228",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:56:58.614592",
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Using cached wheel-0.37.0-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.0",
        "stdout_lines": [
            "Collecting wheel",
            "  Using cached wheel-0.37.0-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.0"
        ]
    }
}
2021-12-01 14:57:05,144 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Install psycopg2-binary module on all three nodes] ***********
2021-12-01 14:57:11,200 p=55911 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:57:12,074 p=55911 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:57:12,297 p=55911 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:57:12,307 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : debug] *******************************************************
2021-12-01 14:57:12,357 p=55911 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "533807597173.26049",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:01.172779",
        "end": "2021-12-01 14:57:06.276860",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:57:05.104081",
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Using cached psycopg2_binary-2.9.2-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.2",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Using cached psycopg2_binary-2.9.2-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.2"
        ]
    }
}
2021-12-01 14:57:12,368 p=55911 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "670745973268.24532",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:01.117571",
        "end": "2021-12-01 14:57:06.576754",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:57:05.459183",
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Using cached psycopg2_binary-2.9.2-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.2",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Using cached psycopg2_binary-2.9.2-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.2"
        ]
    }
}
2021-12-01 14:57:12,385 p=55911 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "401401925430.24588",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:01.105629",
        "end": "2021-12-01 14:57:06.253614",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:57:05.147985",
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Using cached psycopg2_binary-2.9.2-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.2",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Using cached psycopg2_binary-2.9.2-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.2"
        ]
    }
}
2021-12-01 14:57:12,396 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Install patroni modules on all three nodes for vmware-postgres 13.x version] ***
2021-12-01 14:57:18,474 p=55911 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:57:18,488 p=55911 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:57:18,490 p=55911 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:57:18,504 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ****************
2021-12-01 14:57:19,209 p=55911 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-01 14:57:19,210 p=55911 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 14:57:19,211 p=55911 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-01 14:57:19,220 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Create the etcd.yml configuration file for all nodes] ********
2021-12-01 14:57:20,207 p=55911 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:57:20,208 p=55911 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:57:20,209 p=55911 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:57:20,219 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : debug] *******************************************************
2021-12-01 14:57:20,268 p=55911 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "9ae4719bb01c1f3fe9f70a6e2c0044c7c41a95fe",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "c58c15d1af07ce06cb21d7da9f41a53d",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1638338239.332287-61267-175827830533745/source",
        "state": "file",
        "uid": 26
    }
}
2021-12-01 14:57:20,288 p=55911 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "15047e7ccbff3a953a4abe4edc1ee87eccf0c835",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "90cfbd68000432263a3d9f571742a601",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1638338239.343495-61268-79577030317847/source",
        "state": "file",
        "uid": 26
    }
}
2021-12-01 14:57:20,307 p=55911 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "a89b395b153fde540c5b5250ee19c5a9b4a69b60",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "50ed3a33db1def8c3d70f9d8154ad6fa",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1638338239.349205-61272-163744905438178/source",
        "state": "file",
        "uid": 26
    }
}
2021-12-01 14:57:20,319 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Copy systemd configuration of etcd into /etc/systemd/system] ***
2021-12-01 14:57:21,405 p=55911 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 14:57:21,406 p=55911 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-01 14:57:21,409 p=55911 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-01 14:57:21,421 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Reload and start etcd through systemd] ***********************
2021-12-01 14:57:35,631 p=55911 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:57:35,633 p=55911 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:57:35,633 p=55911 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:57:35,643 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Lists the members and identifies the current Leader.] ********
2021-12-01 14:57:36,157 p=55911 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:57:36,158 p=55911 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:57:36,176 p=55911 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:57:36,188 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : debug] *******************************************************
2021-12-01 14:57:36,237 p=55911 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.021554",
        "end": "2021-12-01 14:57:35.531878",
        "failed": false,
        "rc": 0,
        "start": "2021-12-01 14:57:35.510324",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2021-12-01 14:57:36,255 p=55911 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.021200",
        "end": "2021-12-01 14:57:35.861102",
        "failed": false,
        "rc": 0,
        "start": "2021-12-01 14:57:35.839902",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2021-12-01 14:57:36,276 p=55911 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.020003",
        "end": "2021-12-01 14:57:35.566095",
        "failed": false,
        "rc": 0,
        "start": "2021-12-01 14:57:35.546092",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2021-12-01 14:57:36,290 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Set data directory for patroni cluster] **********************
2021-12-01 14:57:36,809 p=55911 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:57:36,813 p=55911 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:57:36,820 p=55911 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:57:36,833 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Create the patroni.yml configuration file for all nodes] *****
2021-12-01 14:57:37,984 p=55911 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:57:37,996 p=55911 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:57:37,996 p=55911 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:57:38,010 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : debug] *******************************************************
2021-12-01 14:57:38,063 p=55911 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "53fcae96fcdf6e2a1c84624de4f5017d7b51c286",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "539392a07ba96f292d5c586de863ffce",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1365,
        "src": "/var/tmp/ansible-tmp-1638338256.983468-61563-15907037973545/source",
        "state": "file",
        "uid": 26
    }
}
2021-12-01 14:57:38,081 p=55911 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "ae64f4618ad3aba5efa6a7d42032c6df520c2e1b",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "1cfe9ecb757c5bfe60630defc9159455",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1365,
        "src": "/var/tmp/ansible-tmp-1638338256.991474-61564-205430509442906/source",
        "state": "file",
        "uid": 26
    }
}
2021-12-01 14:57:38,097 p=55911 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "00c83e14268b31456464e038e22bb0220b6443ef",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "5b1928e0f4d875925be57c1ed2c006fb",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1365,
        "src": "/var/tmp/ansible-tmp-1638338257.004384-61568-260279257980384/source",
        "state": "file",
        "uid": 26
    }
}
2021-12-01 14:57:38,109 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Copy systemd configuration of patroni into /etc/systemd/system] ***
2021-12-01 14:57:38,979 p=55911 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:57:39,006 p=55911 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:57:39,006 p=55911 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:57:39,017 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Reload and start systemd service of patroni] *****************
2021-12-01 14:57:39,753 p=55911 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:57:39,756 p=55911 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:57:39,756 p=55911 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:57:39,769 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ***
2021-12-01 14:57:39,792 p=61773 u=pivotal n=ansible | Pausing for 60 seconds
2021-12-01 14:57:39,792 p=61773 u=pivotal n=ansible | (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort)
2021-12-01 14:58:39,797 p=55911 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 14:58:39,806 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Remove clsuter on master] ************************************
2021-12-01 14:58:39,849 p=55911 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-01 14:58:39,861 p=55911 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-01 14:58:46,577 p=55911 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:58:46,588 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ***
2021-12-01 14:58:46,606 p=61847 u=pivotal n=ansible | Pausing for 60 seconds
2021-12-01 14:58:46,606 p=61847 u=pivotal n=ansible | (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort)
2021-12-01 14:59:46,610 p=55911 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 14:59:46,621 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : debug] *******************************************************
2021-12-01 14:59:46,672 p=55911 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "180362349310.28194",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n",
        "delta": "0:00:02.139140",
        "end": "2021-12-01 14:58:42.343182",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:58:40.204042",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036600371672383232) --+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": ",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036600371672383232) --+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": "
        ]
    }
}
2021-12-01 14:59:46,688 p=55911 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-01 14:59:46,709 p=55911 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-01 14:59:46,721 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Reinitialize patroni clsuter on all node] ********************
2021-12-01 14:59:53,595 p=55911 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 14:59:53,920 p=55911 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 14:59:56,091 p=55911 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 14:59:56,108 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : debug] *******************************************************
2021-12-01 14:59:56,174 p=55911 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "803975138842.28553",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.326156",
        "end": "2021-12-01 14:59:47.365494",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:59:47.039338",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+--------------+----+-----------+\n| Member        | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running      |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | start failed |    |   unknown |\n+---------------+--------------+---------+--------------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (I am the leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+--------------+----+-----------+",
            "| Member        | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running      |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | start failed |    |   unknown |",
            "+---------------+--------------+---------+--------------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (I am the leader, can not reinitialize)"
        ]
    }
}
2021-12-01 14:59:56,285 p=55911 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "577827204688.26747",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.324157",
        "end": "2021-12-01 14:59:47.708465",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:59:47.384308",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+--------------+----+-----------+\n| Member        | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running      |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | start failed |    |   unknown |\n+---------------+--------------+---------+--------------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Success: reinitialize for member postgres-ha02",
        "stdout_lines": [
            "+---------------+--------------+---------+--------------+----+-----------+",
            "| Member        | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running      |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | start failed |    |   unknown |",
            "+---------------+--------------+---------+--------------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Success: reinitialize for member postgres-ha02"
        ]
    }
}
2021-12-01 14:59:56,318 p=55911 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "659656210333.26803",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.323877",
        "end": "2021-12-01 14:59:47.378553",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:59:47.054676",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+--------------+----+-----------+\n| Member        | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running      |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | start failed |    |   unknown |\n+---------------+--------------+---------+--------------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Success: reinitialize for member postgres-ha03",
        "stdout_lines": [
            "+---------------+--------------+---------+--------------+----+-----------+",
            "| Member        | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running      |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | start failed |    |   unknown |",
            "+---------------+--------------+---------+--------------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Success: reinitialize for member postgres-ha03"
        ]
    }
}
2021-12-01 14:59:56,355 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ***
2021-12-01 14:59:56,398 p=62005 u=pivotal n=ansible | Pausing for 60 seconds
2021-12-01 14:59:56,399 p=62005 u=pivotal n=ansible | (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort)
2021-12-01 15:00:56,404 p=55911 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 15:00:56,419 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : debug] *******************************************************
2021-12-01 15:00:56,502 p=55911 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "803975138842.28553",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.326156",
        "end": "2021-12-01 14:59:47.365494",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:59:47.039338",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+--------------+----+-----------+\n| Member        | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running      |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | start failed |    |   unknown |\n+---------------+--------------+---------+--------------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (I am the leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+--------------+----+-----------+",
            "| Member        | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running      |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | start failed |    |   unknown |",
            "+---------------+--------------+---------+--------------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (I am the leader, can not reinitialize)"
        ]
    }
}
2021-12-01 15:00:56,504 p=55911 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "577827204688.26747",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.324157",
        "end": "2021-12-01 14:59:47.708465",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:59:47.384308",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+--------------+----+-----------+\n| Member        | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running      |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | start failed |    |   unknown |\n+---------------+--------------+---------+--------------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Success: reinitialize for member postgres-ha02",
        "stdout_lines": [
            "+---------------+--------------+---------+--------------+----+-----------+",
            "| Member        | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running      |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | start failed |    |   unknown |",
            "+---------------+--------------+---------+--------------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Success: reinitialize for member postgres-ha02"
        ]
    }
}
2021-12-01 15:00:56,552 p=55911 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "659656210333.26803",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.323877",
        "end": "2021-12-01 14:59:47.378553",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 14:59:47.054676",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+--------------+----+-----------+\n| Member        | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running      |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | start failed |    |   unknown |\n+---------------+--------------+---------+--------------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Success: reinitialize for member postgres-ha03",
        "stdout_lines": [
            "+---------------+--------------+---------+--------------+----+-----------+",
            "| Member        | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running      |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | start failed |    |   unknown |",
            "+---------------+--------------+---------+--------------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Success: reinitialize for member postgres-ha03"
        ]
    }
}
2021-12-01 15:00:56,566 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : Run the patronictl command-line utility to view the cluster state with Patroni started on all three nodes,] ***
2021-12-01 15:00:57,668 p=55911 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 15:00:57,684 p=55911 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 15:00:57,686 p=55911 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 15:00:57,704 p=55911 u=pivotal n=ansible | TASK [patroni-postgres : debug] *******************************************************
2021-12-01 15:00:57,766 p=55911 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.317182",
        "end": "2021-12-01 15:00:57.034862",
        "failed": false,
        "rc": 0,
        "start": "2021-12-01 15:00:56.717680",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | running |  1 |         0 |\n| postgres-ha03 | 192.168.0.83 | Replica | running |  1 |         0 |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | running |  1 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Replica | running |  1 |         0 |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2021-12-01 15:00:57,801 p=55911 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.317874",
        "end": "2021-12-01 15:00:57.379845",
        "failed": false,
        "rc": 0,
        "start": "2021-12-01 15:00:57.061971",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | running |  1 |         0 |\n| postgres-ha03 | 192.168.0.83 | Replica | running |  1 |         0 |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | running |  1 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Replica | running |  1 |         0 |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2021-12-01 15:00:57,808 p=55911 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.316095",
        "end": "2021-12-01 15:00:57.069988",
        "failed": false,
        "rc": 0,
        "start": "2021-12-01 15:00:56.753893",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | running |  1 |         0 |\n| postgres-ha03 | 192.168.0.83 | Replica | running |  1 |         0 |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | running |  1 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Replica | running |  1 |         0 |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2021-12-01 15:00:57,853 p=55911 u=pivotal n=ansible | TASK [haproxy : Install all rpm packages for haproxy] *********************************
2021-12-01 15:00:57,883 p=55911 u=pivotal n=ansible | skipping: [postgres-ha01] => (item=bind-utils) 
2021-12-01 15:00:57,885 p=55911 u=pivotal n=ansible | skipping: [postgres-ha01] => (item=haproxy) 
2021-12-01 15:00:57,908 p=55911 u=pivotal n=ansible | skipping: [postgres-ha02] => (item=bind-utils) 
2021-12-01 15:00:57,910 p=55911 u=pivotal n=ansible | skipping: [postgres-ha02] => (item=haproxy) 
2021-12-01 15:00:57,929 p=55911 u=pivotal n=ansible | skipping: [postgres-ha03] => (item=bind-utils) 
2021-12-01 15:00:57,930 p=55911 u=pivotal n=ansible | skipping: [postgres-ha03] => (item=haproxy) 
2021-12-01 15:00:57,944 p=55911 u=pivotal n=ansible | TASK [haproxy : Copy haproxy.cfg] *****************************************************
2021-12-01 15:00:57,977 p=55911 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-01 15:00:58,005 p=55911 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-01 15:00:58,023 p=55911 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-01 15:00:58,038 p=55911 u=pivotal n=ansible | TASK [haproxy : force systemd to reread configs] **************************************
2021-12-01 15:00:58,065 p=55911 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-01 15:00:58,093 p=55911 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-01 15:00:58,105 p=55911 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-01 15:00:58,122 p=55911 u=pivotal n=ansible | TASK [haproxy : Enable the systemd haproxy service] ***********************************
2021-12-01 15:00:58,150 p=55911 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-01 15:00:58,175 p=55911 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-01 15:00:58,190 p=55911 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-01 15:00:58,205 p=55911 u=pivotal n=ansible | TASK [haproxy : Set selinux context for ha proxy] *************************************
2021-12-01 15:00:58,252 p=55911 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-01 15:00:58,253 p=55911 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-01 15:00:58,269 p=55911 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-01 15:00:58,321 p=55911 u=pivotal n=ansible | PLAY RECAP ****************************************************************************
2021-12-01 15:00:58,321 p=55911 u=pivotal n=ansible | postgres-ha01              : ok=43   changed=24   unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2021-12-01 15:00:58,321 p=55911 u=pivotal n=ansible | postgres-ha02              : ok=39   changed=23   unreachable=0    failed=0    skipped=6    rescued=0    ignored=0   
2021-12-01 15:00:58,321 p=55911 u=pivotal n=ansible | postgres-ha03              : ok=39   changed=23   unreachable=0    failed=0    skipped=6    rescued=0    ignored=0   
2021-12-01 15:00:58,321 p=55911 u=pivotal n=ansible | postgres-haproxy01         : ok=7    changed=4    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-01 15:00:58,321 p=55911 u=pivotal n=ansible | postgres-haproxy02         : ok=7    changed=4    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-01 16:28:11,992 p=74835 u=pivotal n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being 
removed. This feature will be removed from ansible-core in version 2.14. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2021-12-01 16:28:12,009 p=74835 u=pivotal n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to
see details

2021-12-01 16:28:12,486 p=74835 u=pivotal n=ansible | [WARNING]: file /Users/pivotal/postgres-cluster/roles/haproxy/tasks/haproxy-
upgrade.yml is empty and had no tasks to include

2021-12-01 16:28:12,500 p=74835 u=pivotal n=ansible | PLAY [all] ****************************************************************************
2021-12-01 16:28:12,548 p=74835 u=pivotal n=ansible | TASK [Gathering Facts] ****************************************************************
2021-12-01 16:28:14,823 p=74835 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 16:28:14,832 p=74835 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-01 16:28:14,837 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-01 16:28:14,872 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy02]
2021-12-01 16:28:16,175 p=74835 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-01 16:28:16,197 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Stop and disable firewalld] **********************************
2021-12-01 16:28:17,243 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-01 16:28:17,246 p=74835 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 16:28:17,249 p=74835 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-01 16:28:17,252 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy02]
2021-12-01 16:28:17,254 p=74835 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-01 16:28:17,270 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Flush iptables rules] ****************************************
2021-12-01 16:28:18,544 p=74835 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 16:28:18,547 p=74835 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 16:28:18,547 p=74835 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 16:28:18,554 p=74835 u=pivotal n=ansible | changed: [postgres-haproxy02]
2021-12-01 16:28:18,562 p=74835 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-01 16:28:18,587 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : List iptables rules] *****************************************
2021-12-01 16:28:19,358 p=74835 u=pivotal n=ansible | changed: [postgres-haproxy02]
2021-12-01 16:28:19,359 p=74835 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-01 16:28:19,364 p=74835 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 16:28:19,379 p=74835 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 16:28:19,385 p=74835 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 16:28:19,406 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : debug] *******************************************************
2021-12-01 16:28:19,495 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2021-12-01 16:28:19,530 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2021-12-01 16:28:19,556 p=74835 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2021-12-01 16:28:19,557 p=74835 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2021-12-01 16:28:19,571 p=74835 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2021-12-01 16:28:19,588 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] ***
2021-12-01 16:28:21,143 p=74835 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 16:28:21,149 p=74835 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-01 16:28:21,155 p=74835 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-01 16:28:21,164 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-01 16:28:21,170 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy02]
2021-12-01 16:28:21,183 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] ****************
2021-12-01 16:28:28,928 p=74835 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-01 16:28:28,930 p=74835 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 16:28:28,938 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-01 16:28:28,939 p=74835 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-01 16:28:28,940 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy02]
2021-12-01 16:28:28,962 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] ***
2021-12-01 16:28:35,645 p=74835 u=pivotal n=ansible | ok: [postgres-ha01] => (item=python3)
2021-12-01 16:28:35,646 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=python3)
2021-12-01 16:28:35,650 p=74835 u=pivotal n=ansible | ok: [postgres-ha02] => (item=python3)
2021-12-01 16:28:35,713 p=74835 u=pivotal n=ansible | ok: [postgres-ha03] => (item=python3)
2021-12-01 16:28:35,756 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy02] => (item=python3)
2021-12-01 16:28:41,902 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=python3-devel)
2021-12-01 16:28:41,918 p=74835 u=pivotal n=ansible | ok: [postgres-ha03] => (item=python3-devel)
2021-12-01 16:28:41,938 p=74835 u=pivotal n=ansible | ok: [postgres-ha01] => (item=python3-devel)
2021-12-01 16:28:41,947 p=74835 u=pivotal n=ansible | ok: [postgres-ha02] => (item=python3-devel)
2021-12-01 16:28:42,305 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy02] => (item=python3-devel)
2021-12-01 16:28:48,246 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=gcc)
2021-12-01 16:28:48,264 p=74835 u=pivotal n=ansible | ok: [postgres-ha03] => (item=gcc)
2021-12-01 16:28:48,274 p=74835 u=pivotal n=ansible | ok: [postgres-ha01] => (item=gcc)
2021-12-01 16:28:48,281 p=74835 u=pivotal n=ansible | ok: [postgres-ha02] => (item=gcc)
2021-12-01 16:28:48,694 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy02] => (item=gcc)
2021-12-01 16:28:54,408 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=etcd)
2021-12-01 16:28:54,443 p=74835 u=pivotal n=ansible | ok: [postgres-ha02] => (item=etcd)
2021-12-01 16:28:54,543 p=74835 u=pivotal n=ansible | ok: [postgres-ha03] => (item=etcd)
2021-12-01 16:28:54,545 p=74835 u=pivotal n=ansible | ok: [postgres-ha01] => (item=etcd)
2021-12-01 16:28:55,392 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy02] => (item=etcd)
2021-12-01 16:29:00,739 p=74835 u=pivotal n=ansible | ok: [postgres-ha01] => (item=python-psycopg2)
2021-12-01 16:29:06,005 p=74835 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=python-psycopg2)
2021-12-01 16:29:07,034 p=74835 u=pivotal n=ansible | ok: [postgres-ha01] => (item=python3-pip)
2021-12-01 16:29:11,311 p=74835 u=pivotal n=ansible | changed: [postgres-ha02] => (item=python-psycopg2)
2021-12-01 16:29:11,329 p=74835 u=pivotal n=ansible | changed: [postgres-ha03] => (item=python-psycopg2)
2021-12-01 16:29:12,243 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=python3-pip)
2021-12-01 16:29:12,405 p=74835 u=pivotal n=ansible | changed: [postgres-haproxy02] => (item=python-psycopg2)
2021-12-01 16:29:13,270 p=74835 u=pivotal n=ansible | ok: [postgres-ha01] => (item=python34-setuptools)
2021-12-01 16:29:17,462 p=74835 u=pivotal n=ansible | ok: [postgres-ha02] => (item=python3-pip)
2021-12-01 16:29:17,464 p=74835 u=pivotal n=ansible | ok: [postgres-ha03] => (item=python3-pip)
2021-12-01 16:29:18,702 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy02] => (item=python3-pip)
2021-12-01 16:29:19,665 p=74835 u=pivotal n=ansible | ok: [postgres-ha01] => (item=python27-python-setuptools)
2021-12-01 16:29:23,844 p=74835 u=pivotal n=ansible | ok: [postgres-ha03] => (item=python34-setuptools)
2021-12-01 16:29:24,032 p=74835 u=pivotal n=ansible | ok: [postgres-ha02] => (item=python34-setuptools)
2021-12-01 16:29:25,889 p=74835 u=pivotal n=ansible | ok: [postgres-ha01] => (item=yamllint)
2021-12-01 16:29:30,177 p=74835 u=pivotal n=ansible | ok: [postgres-ha03] => (item=python27-python-setuptools)
2021-12-01 16:29:30,293 p=74835 u=pivotal n=ansible | ok: [postgres-ha02] => (item=python27-python-setuptools)
2021-12-01 16:29:32,299 p=74835 u=pivotal n=ansible | ok: [postgres-ha01] => (item=daemonize)
2021-12-01 16:29:36,330 p=74835 u=pivotal n=ansible | ok: [postgres-ha03] => (item=yamllint)
2021-12-01 16:29:36,436 p=74835 u=pivotal n=ansible | ok: [postgres-ha02] => (item=yamllint)
2021-12-01 16:29:42,525 p=74835 u=pivotal n=ansible | ok: [postgres-ha03] => (item=daemonize)
2021-12-01 16:29:42,569 p=74835 u=pivotal n=ansible | ok: [postgres-ha02] => (item=daemonize)
2021-12-01 16:29:45,473 p=74835 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=python34-setuptools)
2021-12-01 16:29:51,841 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=python27-python-setuptools)
2021-12-01 16:29:58,194 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=yamllint)
2021-12-01 16:30:04,307 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=daemonize)
2021-12-01 16:30:14,247 p=74835 u=pivotal n=ansible | changed: [postgres-haproxy02] => (item=python34-setuptools)
2021-12-01 16:30:20,788 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy02] => (item=python27-python-setuptools)
2021-12-01 16:30:27,381 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy02] => (item=yamllint)
2021-12-01 16:30:34,303 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy02] => (item=daemonize)
2021-12-01 16:30:34,318 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Install the dependencies of etcd  on all three nodes] ********
2021-12-01 16:30:34,349 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-01 16:30:34,369 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-01 16:30:35,188 p=74835 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-01 16:30:35,188 p=74835 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-01 16:30:35,439 p=74835 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 16:30:35,452 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Install setuptools rust on all three nodes] ******************
2021-12-01 16:30:35,508 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-01 16:30:35,534 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-01 16:30:41,753 p=74835 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 16:30:41,756 p=74835 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 16:30:41,763 p=74835 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 16:30:41,773 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Install typing pip module on all three nodes] ****************
2021-12-01 16:30:41,797 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-01 16:30:41,815 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-01 16:30:48,016 p=74835 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 16:30:48,022 p=74835 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 16:30:48,027 p=74835 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 16:30:48,037 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Upgrade pip3 version] ****************************************
2021-12-01 16:30:48,059 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-01 16:30:48,079 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-01 16:30:54,305 p=74835 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 16:30:54,311 p=74835 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 16:30:54,311 p=74835 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 16:30:54,322 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Install wheel module on all three nodes] *********************
2021-12-01 16:30:54,350 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-01 16:30:54,369 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-01 16:31:00,594 p=74835 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 16:31:00,608 p=74835 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 16:31:00,608 p=74835 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 16:31:00,621 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : debug] *******************************************************
2021-12-01 16:31:00,820 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-01 16:31:00,820 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-01 16:31:00,851 p=74835 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "496623502779.4216",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.651667",
        "end": "2021-12-01 16:30:55.119686",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 16:30:54.468019",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in ./.local/lib/python3.6/site-packages (0.37.0)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in ./.local/lib/python3.6/site-packages (0.37.0)"
        ]
    }
}
2021-12-01 16:31:00,852 p=74835 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "86918203550.1435",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.648399",
        "end": "2021-12-01 16:30:55.452886",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 16:30:54.804487",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in ./.local/lib/python3.6/site-packages (0.37.0)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in ./.local/lib/python3.6/site-packages (0.37.0)"
        ]
    }
}
2021-12-01 16:31:00,853 p=74835 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "785209306647.1475",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.622692",
        "end": "2021-12-01 16:30:55.113307",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 16:30:54.490615",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in ./.local/lib/python3.6/site-packages (0.37.0)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in ./.local/lib/python3.6/site-packages (0.37.0)"
        ]
    }
}
2021-12-01 16:31:00,862 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Install pip modules of Patroni prerequisites on all three nodes] ***
2021-12-01 16:31:00,887 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-01 16:31:00,907 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-01 16:31:07,101 p=74835 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 16:31:07,103 p=74835 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 16:31:07,108 p=74835 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 16:31:07,119 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : debug] *******************************************************
2021-12-01 16:31:07,186 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-01 16:31:07,207 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-01 16:31:07,211 p=74835 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "224916724511.4523",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.752019",
        "end": "2021-12-01 16:31:01.720953",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 16:31:00.968934",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2021-12-01 16:31:07,253 p=74835 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "965806545527.1752",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.735702",
        "end": "2021-12-01 16:31:02.031650",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 16:31:01.295948",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2021-12-01 16:31:07,254 p=74835 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "575912172783.1792",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.747668",
        "end": "2021-12-01 16:31:01.734558",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 16:31:00.986890",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2021-12-01 16:31:07,268 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Iinstall wheel module on all three nodes] ********************
2021-12-01 16:31:07,315 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-01 16:31:07,344 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-01 16:31:13,572 p=74835 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 16:31:13,576 p=74835 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 16:31:13,577 p=74835 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 16:31:13,588 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : debug] *******************************************************
2021-12-01 16:31:13,656 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-01 16:31:13,681 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-01 16:31:13,704 p=74835 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "698950788014.4830",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.581909",
        "end": "2021-12-01 16:31:08.002049",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 16:31:07.420140",
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.0)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.0)"
        ]
    }
}
2021-12-01 16:31:13,706 p=74835 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "293989512404.2059",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.495818",
        "end": "2021-12-01 16:31:08.239123",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 16:31:07.743305",
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.0)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.0)"
        ]
    }
}
2021-12-01 16:31:13,751 p=74835 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "52976200578.2099",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.499122",
        "end": "2021-12-01 16:31:07.947826",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 16:31:07.448704",
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.0)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.0)"
        ]
    }
}
2021-12-01 16:31:13,763 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Install psycopg2-binary module on all three nodes] ***********
2021-12-01 16:31:13,790 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-01 16:31:13,811 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-01 16:31:20,039 p=74835 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 16:31:20,060 p=74835 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 16:31:20,060 p=74835 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 16:31:20,074 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : debug] *******************************************************
2021-12-01 16:31:20,141 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-01 16:31:20,164 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-01 16:31:20,167 p=74835 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "119367559177.5137",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.590101",
        "end": "2021-12-01 16:31:14.485106",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 16:31:13.895005",
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.2)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.2)"
        ]
    }
}
2021-12-01 16:31:20,201 p=74835 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "182816411261.2366",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.518657",
        "end": "2021-12-01 16:31:14.779931",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 16:31:14.261274",
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.2)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.2)"
        ]
    }
}
2021-12-01 16:31:20,204 p=74835 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "501378452193.2406",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.515508",
        "end": "2021-12-01 16:31:14.452887",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 16:31:13.937379",
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.2)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.2)"
        ]
    }
}
2021-12-01 16:31:20,214 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Install patroni modules on all three nodes for vmware-postgres 13.x version] ***
2021-12-01 16:31:20,240 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-01 16:31:20,277 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-01 16:31:26,456 p=74835 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 16:31:26,484 p=74835 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 16:31:26,485 p=74835 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 16:31:26,497 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ****************
2021-12-01 16:31:26,528 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-01 16:31:26,589 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-01 16:31:27,224 p=74835 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 16:31:27,243 p=74835 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-01 16:31:27,245 p=74835 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-01 16:31:27,256 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Create the etcd.yml configuration file for all nodes] ********
2021-12-01 16:31:27,278 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-01 16:31:27,295 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-01 16:31:28,048 p=74835 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 16:31:28,065 p=74835 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-01 16:31:28,090 p=74835 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-01 16:31:28,102 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : debug] *******************************************************
2021-12-01 16:31:28,179 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-01 16:31:28,202 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-01 16:31:28,204 p=74835 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": false,
        "checksum": "9ae4719bb01c1f3fe9f70a6e2c0044c7c41a95fe",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": {
            "after": {
                "path": "/var/lib/pgsql/etcd.yml"
            },
            "before": {
                "path": "/var/lib/pgsql/etcd.yml"
            }
        },
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "mode": "0644",
        "owner": "postgres",
        "path": "/var/lib/pgsql/etcd.yml",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "state": "file",
        "uid": 26
    }
}
2021-12-01 16:31:28,228 p=74835 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "checksum": "15047e7ccbff3a953a4abe4edc1ee87eccf0c835",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": {
            "after": {
                "path": "/var/lib/pgsql/etcd.yml"
            },
            "before": {
                "path": "/var/lib/pgsql/etcd.yml"
            }
        },
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "mode": "0644",
        "owner": "postgres",
        "path": "/var/lib/pgsql/etcd.yml",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "state": "file",
        "uid": 26
    }
}
2021-12-01 16:31:28,251 p=74835 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "checksum": "a89b395b153fde540c5b5250ee19c5a9b4a69b60",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": {
            "after": {
                "path": "/var/lib/pgsql/etcd.yml"
            },
            "before": {
                "path": "/var/lib/pgsql/etcd.yml"
            }
        },
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "mode": "0644",
        "owner": "postgres",
        "path": "/var/lib/pgsql/etcd.yml",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "state": "file",
        "uid": 26
    }
}
2021-12-01 16:31:28,264 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Copy systemd configuration of etcd into /etc/systemd/system] ***
2021-12-01 16:31:28,289 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-01 16:31:28,310 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-01 16:31:29,120 p=74835 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-01 16:31:29,125 p=74835 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 16:31:29,127 p=74835 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-01 16:31:29,136 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Reload and start etcd through systemd] ***********************
2021-12-01 16:31:29,162 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-01 16:31:29,184 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-01 16:31:29,876 p=74835 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 16:31:29,882 p=74835 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-01 16:31:29,886 p=74835 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-01 16:31:29,897 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Lists the members and identifies the current Leader.] ********
2021-12-01 16:31:29,921 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-01 16:31:29,939 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-01 16:31:30,450 p=74835 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 16:31:30,462 p=74835 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 16:31:30,472 p=74835 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 16:31:30,484 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : debug] *******************************************************
2021-12-01 16:31:30,552 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-01 16:31:30,579 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-01 16:31:30,601 p=74835 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.021905",
        "end": "2021-12-01 16:31:29.856372",
        "failed": false,
        "rc": 0,
        "start": "2021-12-01 16:31:29.834467",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2021-12-01 16:31:30,602 p=74835 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.021870",
        "end": "2021-12-01 16:31:30.202146",
        "failed": false,
        "rc": 0,
        "start": "2021-12-01 16:31:30.180276",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2021-12-01 16:31:30,651 p=74835 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.022623",
        "end": "2021-12-01 16:31:29.892507",
        "failed": false,
        "rc": 0,
        "start": "2021-12-01 16:31:29.869884",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2021-12-01 16:31:30,664 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Set data directory for patroni cluster] **********************
2021-12-01 16:31:31,190 p=74835 u=pivotal n=ansible | changed: [postgres-haproxy02]
2021-12-01 16:31:31,218 p=74835 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-01 16:31:31,222 p=74835 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 16:31:31,234 p=74835 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-01 16:31:31,426 p=74835 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-01 16:31:31,436 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Create the patroni.yml configuration file for all nodes] *****
2021-12-01 16:31:31,458 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-01 16:31:31,476 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-01 16:31:32,565 p=74835 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-01 16:31:32,566 p=74835 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 16:31:32,567 p=74835 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-01 16:31:32,577 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : debug] *******************************************************
2021-12-01 16:31:32,696 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-01 16:31:32,727 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-01 16:31:32,752 p=74835 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": false,
        "checksum": "53fcae96fcdf6e2a1c84624de4f5017d7b51c286",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": {
            "after": {
                "path": "/var/lib/pgsql/patroni.yml"
            },
            "before": {
                "path": "/var/lib/pgsql/patroni.yml"
            }
        },
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "mode": "0644",
        "owner": "postgres",
        "path": "/var/lib/pgsql/patroni.yml",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1365,
        "state": "file",
        "uid": 26
    }
}
2021-12-01 16:31:32,770 p=74835 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "checksum": "ae64f4618ad3aba5efa6a7d42032c6df520c2e1b",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": {
            "after": {
                "path": "/var/lib/pgsql/patroni.yml"
            },
            "before": {
                "path": "/var/lib/pgsql/patroni.yml"
            }
        },
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "mode": "0644",
        "owner": "postgres",
        "path": "/var/lib/pgsql/patroni.yml",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1365,
        "state": "file",
        "uid": 26
    }
}
2021-12-01 16:31:32,802 p=74835 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "checksum": "00c83e14268b31456464e038e22bb0220b6443ef",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": {
            "after": {
                "path": "/var/lib/pgsql/patroni.yml"
            },
            "before": {
                "path": "/var/lib/pgsql/patroni.yml"
            }
        },
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "mode": "0644",
        "owner": "postgres",
        "path": "/var/lib/pgsql/patroni.yml",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1365,
        "state": "file",
        "uid": 26
    }
}
2021-12-01 16:31:32,815 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Copy systemd configuration of patroni into /etc/systemd/system] ***
2021-12-01 16:31:32,840 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-01 16:31:32,861 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-01 16:31:33,647 p=74835 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-01 16:31:33,653 p=74835 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 16:31:33,664 p=74835 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-01 16:31:33,679 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Reload and start systemd service of patroni] *****************
2021-12-01 16:31:33,710 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-01 16:31:33,734 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-01 16:31:34,385 p=74835 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-01 16:31:34,385 p=74835 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-01 16:31:34,393 p=74835 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-01 16:31:34,410 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ***
2021-12-01 16:31:34,429 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-01 16:31:34,438 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Remove clsuter on master] ************************************
2021-12-01 16:31:34,460 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-01 16:31:34,479 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-01 16:31:34,516 p=74835 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-01 16:31:34,532 p=74835 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-01 16:31:41,001 p=74835 u=pivotal n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "333487940992.7131", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n", "delta": "0:00:00.268913", "end": "2021-12-01 16:31:34.907382", "finished": 1, "msg": "non-zero return code", "rc": 1, "start": "2021-12-01 16:31:34.638469", "stderr": "Aborted!", "stderr_lines": ["Aborted!"], "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running | 39 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | running | 39 |         0 |\n| postgres-ha03 | 192.168.0.83 | Replica | running | 39 |         0 |\n+---------------+--------------+---------+---------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": This cluster currently is healthy. Please specify the master name to continue: ", "stdout_lines": ["+---------------+--------------+---------+---------+----+-----------+", "| Member        | Host         | Role    | State   | TL | Lag in MB |", "+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+-----------+", "| postgres-ha01 | 192.168.0.81 | Leader  | running | 39 |           |", "| postgres-ha02 | 192.168.0.82 | Replica | running | 39 |         0 |", "| postgres-ha03 | 192.168.0.83 | Replica | running | 39 |         0 |", "+---------------+--------------+---------+---------+----+-----------+", "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": This cluster currently is healthy. Please specify the master name to continue: "]}
2021-12-01 16:31:41,002 p=74835 u=pivotal n=ansible | ...ignoring
2021-12-01 16:31:41,013 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ***
2021-12-01 16:31:41,031 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-01 16:31:41,041 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : debug] *******************************************************
2021-12-01 16:31:41,111 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-01 16:31:41,137 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-01 16:31:41,152 p=74835 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "333487940992.7131",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n",
        "delta": "0:00:00.268913",
        "end": "2021-12-01 16:31:34.907382",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "start": "2021-12-01 16:31:34.638469",
        "stderr": "Aborted!",
        "stderr_lines": [
            "Aborted!"
        ],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running | 39 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | running | 39 |         0 |\n| postgres-ha03 | 192.168.0.83 | Replica | running | 39 |         0 |\n+---------------+--------------+---------+---------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": This cluster currently is healthy. Please specify the master name to continue: ",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running | 39 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | running | 39 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Replica | running | 39 |         0 |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": This cluster currently is healthy. Please specify the master name to continue: "
        ]
    }
}
2021-12-01 16:31:41,155 p=74835 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-01 16:31:41,177 p=74835 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-01 16:31:41,188 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Reinitialize patroni clsuter on all node] ********************
2021-12-01 16:31:41,212 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-01 16:31:41,231 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-01 16:31:47,576 p=74835 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 16:31:47,631 p=74835 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 16:31:48,299 p=74835 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 16:31:48,308 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : debug] *******************************************************
2021-12-01 16:31:48,367 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-01 16:31:48,390 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-01 16:31:48,402 p=74835 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "922464026518.7436",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.330752",
        "end": "2021-12-01 16:31:41.568838",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 16:31:41.238086",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running | 39 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | running | 39 |         0 |\n| postgres-ha03 | 192.168.0.83 | Replica | running | 39 |         0 |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (I am the leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running | 39 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | running | 39 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Replica | running | 39 |         0 |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (I am the leader, can not reinitialize)"
        ]
    }
}
2021-12-01 16:31:48,410 p=74835 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "533517035887.4351",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.337152",
        "end": "2021-12-01 16:31:41.947911",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 16:31:41.610759",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running | 39 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | running | 39 |         0 |\n| postgres-ha03 | 192.168.0.83 | Replica | running | 39 |         0 |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Success: reinitialize for member postgres-ha02",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running | 39 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | running | 39 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Replica | running | 39 |         0 |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Success: reinitialize for member postgres-ha02"
        ]
    }
}
2021-12-01 16:31:48,452 p=74835 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "221899935555.4400",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.315301",
        "end": "2021-12-01 16:31:41.600841",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 16:31:41.285540",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running | 39 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | running | 39 |         0 |\n| postgres-ha03 | 192.168.0.83 | Replica | running | 39 |         0 |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Success: reinitialize for member postgres-ha03",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running | 39 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | running | 39 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Replica | running | 39 |         0 |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Success: reinitialize for member postgres-ha03"
        ]
    }
}
2021-12-01 16:31:48,464 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ***
2021-12-01 16:31:48,481 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-01 16:31:48,492 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : debug] *******************************************************
2021-12-01 16:31:48,554 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-01 16:31:48,571 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-01 16:31:48,601 p=74835 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "922464026518.7436",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.330752",
        "end": "2021-12-01 16:31:41.568838",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 16:31:41.238086",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running | 39 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | running | 39 |         0 |\n| postgres-ha03 | 192.168.0.83 | Replica | running | 39 |         0 |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (I am the leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running | 39 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | running | 39 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Replica | running | 39 |         0 |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (I am the leader, can not reinitialize)"
        ]
    }
}
2021-12-01 16:31:48,602 p=74835 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "533517035887.4351",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.337152",
        "end": "2021-12-01 16:31:41.947911",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 16:31:41.610759",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running | 39 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | running | 39 |         0 |\n| postgres-ha03 | 192.168.0.83 | Replica | running | 39 |         0 |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Success: reinitialize for member postgres-ha02",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running | 39 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | running | 39 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Replica | running | 39 |         0 |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Success: reinitialize for member postgres-ha02"
        ]
    }
}
2021-12-01 16:31:48,615 p=74835 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "221899935555.4400",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.315301",
        "end": "2021-12-01 16:31:41.600841",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-01 16:31:41.285540",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running | 39 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | running | 39 |         0 |\n| postgres-ha03 | 192.168.0.83 | Replica | running | 39 |         0 |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Success: reinitialize for member postgres-ha03",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036609546929725163) --+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running | 39 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | running | 39 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Replica | running | 39 |         0 |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Success: reinitialize for member postgres-ha03"
        ]
    }
}
2021-12-01 16:31:48,626 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : Run the patronictl command-line utility to view the cluster state with Patroni started on all three nodes,] ***
2021-12-01 16:31:48,649 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-01 16:31:48,669 p=74835 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-01 16:31:49,423 p=74835 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-01 16:31:49,434 p=74835 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-01 16:31:49,458 p=74835 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-01 16:31:49,472 p=74835 u=pivotal n=ansible | TASK [patroni-postgres : debug] *******************************************************
2021-12-01 16:31:49,562 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-01 16:31:49,642 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-01 16:31:49,652 p=74835 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.309882",
        "end": "2021-12-01 16:31:48.822534",
        "failed": false,
        "rc": 0,
        "start": "2021-12-01 16:31:48.512652",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+------------------+----+-----------+\n| Member        | Host         | Role    | State            | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036609546929725163) ------+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running          | 39 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | creating replica |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | creating replica |    |   unknown |\n+---------------+--------------+---------+------------------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+------------------+----+-----------+",
            "| Member        | Host         | Role    | State            | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036609546929725163) ------+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running          | 39 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | creating replica |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | creating replica |    |   unknown |",
            "+---------------+--------------+---------+------------------+----+-----------+"
        ]
    }
}
2021-12-01 16:31:49,654 p=74835 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.315458",
        "end": "2021-12-01 16:31:49.171175",
        "failed": false,
        "rc": 0,
        "start": "2021-12-01 16:31:48.855717",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+------------------+----+-----------+\n| Member        | Host         | Role    | State            | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036609546929725163) ------+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running          | 39 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | creating replica |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | creating replica |    |   unknown |\n+---------------+--------------+---------+------------------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+------------------+----+-----------+",
            "| Member        | Host         | Role    | State            | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036609546929725163) ------+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running          | 39 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | creating replica |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | creating replica |    |   unknown |",
            "+---------------+--------------+---------+------------------+----+-----------+"
        ]
    }
}
2021-12-01 16:31:49,702 p=74835 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.311691",
        "end": "2021-12-01 16:31:48.876355",
        "failed": false,
        "rc": 0,
        "start": "2021-12-01 16:31:48.564664",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+------------------+----+-----------+\n| Member        | Host         | Role    | State            | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7036609546929725163) ------+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running          | 39 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | creating replica |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | creating replica |    |   unknown |\n+---------------+--------------+---------+------------------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+------------------+----+-----------+",
            "| Member        | Host         | Role    | State            | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7036609546929725163) ------+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running          | 39 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | creating replica |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | creating replica |    |   unknown |",
            "+---------------+--------------+---------+------------------+----+-----------+"
        ]
    }
}
2021-12-01 16:31:49,762 p=74835 u=pivotal n=ansible | TASK [haproxy : Install all rpm packages for haproxy] *********************************
2021-12-01 16:31:49,848 p=74835 u=pivotal n=ansible | skipping: [postgres-ha01] => (item=bind-utils) 
2021-12-01 16:31:49,850 p=74835 u=pivotal n=ansible | skipping: [postgres-ha01] => (item=haproxy) 
2021-12-01 16:31:49,872 p=74835 u=pivotal n=ansible | skipping: [postgres-ha02] => (item=bind-utils) 
2021-12-01 16:31:49,873 p=74835 u=pivotal n=ansible | skipping: [postgres-ha02] => (item=haproxy) 
2021-12-01 16:31:49,901 p=74835 u=pivotal n=ansible | skipping: [postgres-ha03] => (item=bind-utils) 
2021-12-01 16:31:49,902 p=74835 u=pivotal n=ansible | skipping: [postgres-ha03] => (item=haproxy) 
2021-12-01 16:31:59,303 p=74835 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=bind-utils)
2021-12-01 16:31:59,765 p=74835 u=pivotal n=ansible | changed: [postgres-haproxy02] => (item=bind-utils)
2021-12-01 16:32:09,491 p=74835 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=haproxy)
2021-12-01 16:32:09,838 p=74835 u=pivotal n=ansible | changed: [postgres-haproxy02] => (item=haproxy)
2021-12-01 16:32:09,849 p=74835 u=pivotal n=ansible | TASK [haproxy : Copy haproxy.cfg] *****************************************************
2021-12-01 16:32:09,910 p=74835 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-01 16:32:09,928 p=74835 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-01 16:32:09,939 p=74835 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-01 16:32:11,100 p=74835 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-01 16:32:11,468 p=74835 u=pivotal n=ansible | changed: [postgres-haproxy02]
2021-12-01 16:32:11,480 p=74835 u=pivotal n=ansible | TASK [haproxy : force systemd to reread configs] **************************************
2021-12-01 16:32:11,551 p=74835 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-01 16:32:11,572 p=74835 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-01 16:32:11,586 p=74835 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-01 16:32:12,159 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-01 16:32:12,169 p=74835 u=pivotal n=ansible | ok: [postgres-haproxy02]
2021-12-01 16:32:12,179 p=74835 u=pivotal n=ansible | TASK [haproxy : Enable the systemd haproxy service] ***********************************
2021-12-01 16:32:12,241 p=74835 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-01 16:32:12,259 p=74835 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-01 16:32:12,271 p=74835 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-01 16:32:12,829 p=74835 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-01 16:32:12,838 p=74835 u=pivotal n=ansible | changed: [postgres-haproxy02]
2021-12-01 16:32:12,847 p=74835 u=pivotal n=ansible | TASK [haproxy : Set selinux context for ha proxy] *************************************
2021-12-01 16:32:12,910 p=74835 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-01 16:32:12,929 p=74835 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-01 16:32:12,939 p=74835 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-01 16:32:26,477 p=74835 u=pivotal n=ansible | changed: [postgres-haproxy02]
2021-12-01 16:32:26,697 p=74835 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-01 16:32:26,747 p=74835 u=pivotal n=ansible | PLAY RECAP ****************************************************************************
2021-12-01 16:32:26,747 p=74835 u=pivotal n=ansible | postgres-ha01              : ok=40   changed=14   unreachable=0    failed=0    skipped=5    rescued=0    ignored=1   
2021-12-01 16:32:26,747 p=74835 u=pivotal n=ansible | postgres-ha02              : ok=39   changed=14   unreachable=0    failed=0    skipped=6    rescued=0    ignored=0   
2021-12-01 16:32:26,748 p=74835 u=pivotal n=ansible | postgres-ha03              : ok=39   changed=14   unreachable=0    failed=0    skipped=6    rescued=0    ignored=0   
2021-12-01 16:32:26,748 p=74835 u=pivotal n=ansible | postgres-haproxy01         : ok=25   changed=8    unreachable=0    failed=0    skipped=23   rescued=0    ignored=0   
2021-12-01 16:32:26,748 p=74835 u=pivotal n=ansible | postgres-haproxy02         : ok=25   changed=8    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
2021-12-08 23:12:03,212 p=58138 u=pivotal n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will 
be removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2021-12-08 23:12:03,232 p=58138 u=pivotal n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2021-12-08 23:12:03,742 p=58138 u=pivotal n=ansible | [WARNING]: file /Users/pivotal/postgres-cluster/roles/haproxy/tasks/haproxy-upgrade.yml is empty and had no tasks
to include

2021-12-08 23:12:03,758 p=58138 u=pivotal n=ansible | PLAY [all] *******************************************************************************************************
2021-12-08 23:12:03,809 p=58138 u=pivotal n=ansible | TASK [Gathering Facts] *******************************************************************************************
2021-12-08 23:12:13,865 p=58138 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-08 23:12:14,137 p=58138 u=pivotal n=ansible | ok: [postgres-haproxy02]
2021-12-08 23:12:28,527 p=58138 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-08 23:12:30,288 p=58138 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-08 23:12:32,008 p=58138 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-08 23:12:32,042 p=58138 u=pivotal n=ansible | TASK [patroni-postgres : Stop services for patroni and etcd] *****************************************************
2021-12-08 23:12:32,086 p=58138 u=pivotal n=ansible | skipping: [postgres-haproxy01] => (item=patroni) 
2021-12-08 23:12:32,089 p=58138 u=pivotal n=ansible | skipping: [postgres-haproxy01] => (item=etcd) 
2021-12-08 23:12:32,119 p=58138 u=pivotal n=ansible | skipping: [postgres-haproxy02] => (item=patroni) 
2021-12-08 23:12:32,120 p=58138 u=pivotal n=ansible | skipping: [postgres-haproxy02] => (item=etcd) 
2021-12-08 23:12:33,998 p=58138 u=pivotal n=ansible | changed: [postgres-ha03] => (item=patroni)
2021-12-08 23:12:34,015 p=58138 u=pivotal n=ansible | changed: [postgres-ha02] => (item=patroni)
2021-12-08 23:12:34,032 p=58138 u=pivotal n=ansible | changed: [postgres-ha01] => (item=patroni)
2021-12-08 23:12:34,574 p=58138 u=pivotal n=ansible | changed: [postgres-ha03] => (item=etcd)
2021-12-08 23:12:34,603 p=58138 u=pivotal n=ansible | changed: [postgres-ha02] => (item=etcd)
2021-12-08 23:12:34,614 p=58138 u=pivotal n=ansible | changed: [postgres-ha01] => (item=etcd)
2021-12-08 23:12:34,636 p=58138 u=pivotal n=ansible | TASK [patroni-postgres : Kill etcd process] **********************************************************************
2021-12-08 23:12:34,673 p=58138 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:12:34,707 p=58138 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-08 23:12:42,692 p=58138 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-08 23:12:42,700 p=58138 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-08 23:12:42,701 p=58138 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-08 23:12:42,722 p=58138 u=pivotal n=ansible | TASK [patroni-postgres : Delete configuration file for patroni and systemd] **************************************
2021-12-08 23:12:43,902 p=58138 u=pivotal n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/patroni.yml)
2021-12-08 23:12:44,563 p=58138 u=pivotal n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/patroni.yml)
2021-12-08 23:12:44,665 p=58138 u=pivotal n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/patroni.yml)
2021-12-08 23:12:44,705 p=58138 u=pivotal n=ansible | changed: [postgres-ha03] => (item=/etc/systemd/system/patroni.service)
2021-12-08 23:12:44,986 p=58138 u=pivotal n=ansible | changed: [postgres-ha02] => (item=/etc/systemd/system/patroni.service)
2021-12-08 23:12:45,051 p=58138 u=pivotal n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni.yml)
2021-12-08 23:12:45,106 p=58138 u=pivotal n=ansible | changed: [postgres-ha01] => (item=/etc/systemd/system/patroni.service)
2021-12-08 23:12:45,140 p=58138 u=pivotal n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/postgresql0.yml)
2021-12-08 23:12:45,297 p=58138 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni.yml)
2021-12-08 23:12:45,482 p=58138 u=pivotal n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/postgresql0.yml)
2021-12-08 23:12:45,563 p=58138 u=pivotal n=ansible | ok: [postgres-haproxy02] => (item=/etc/systemd/system/patroni.service)
2021-12-08 23:12:45,584 p=58138 u=pivotal n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/postgresql0.yml)
2021-12-08 23:12:45,638 p=58138 u=pivotal n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/patroni_member.log)
2021-12-08 23:12:45,770 p=58138 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=/etc/systemd/system/patroni.service)
2021-12-08 23:12:45,945 p=58138 u=pivotal n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/patroni_member.log)
2021-12-08 23:12:46,014 p=58138 u=pivotal n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/postgresql0.yml)
2021-12-08 23:12:46,042 p=58138 u=pivotal n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/patroni_member.log)
2021-12-08 23:12:46,094 p=58138 u=pivotal n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/etcd.yml)
2021-12-08 23:12:46,253 p=58138 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/postgresql0.yml)
2021-12-08 23:12:46,417 p=58138 u=pivotal n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/etcd.yml)
2021-12-08 23:12:46,507 p=58138 u=pivotal n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni_member.log)
2021-12-08 23:12:46,562 p=58138 u=pivotal n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/etcd.yml)
2021-12-08 23:12:46,582 p=58138 u=pivotal n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/etcd_logfile)
2021-12-08 23:12:46,899 p=58138 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni_member.log)
2021-12-08 23:12:47,043 p=58138 u=pivotal n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/etcd_logfile)
2021-12-08 23:12:47,136 p=58138 u=pivotal n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd.yml)
2021-12-08 23:12:47,182 p=58138 u=pivotal n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/etcd_logfile)
2021-12-08 23:12:47,426 p=58138 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd.yml)
2021-12-08 23:12:47,724 p=58138 u=pivotal n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd_logfile)
2021-12-08 23:12:47,992 p=58138 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd_logfile)
2021-12-08 23:12:48,008 p=58138 u=pivotal n=ansible | TASK [patroni-postgres : Delete data directory for patroni cluster] **********************************************
2021-12-08 23:12:48,559 p=58138 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:12:48,648 p=58138 u=pivotal n=ansible | changed: [postgres-haproxy02]
2021-12-08 23:12:51,401 p=58138 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-08 23:12:51,885 p=58138 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-08 23:12:51,895 p=58138 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-08 23:12:51,910 p=58138 u=pivotal n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] *******************************************
2021-12-08 23:12:51,966 p=58138 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:12:51,989 p=58138 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-08 23:12:52,493 p=58138 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-08 23:12:52,515 p=58138 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-08 23:12:52,888 p=58138 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-08 23:12:52,903 p=58138 u=pivotal n=ansible | TASK [patroni-postgres : Uninstall pip modules of Patroni prerequisites on all three nodes] **********************
2021-12-08 23:12:52,936 p=58138 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:12:52,962 p=58138 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-08 23:13:15,547 p=58138 u=pivotal n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "824669904798.3566", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:19.163285", "end": "2021-12-08 23:13:12.315825", "finished": 1, "msg": "non-zero return code", "rc": 1, "start": "2021-12-08 23:12:53.152540", "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.7\nUninstalling urllib3-1.26.7:\n  Successfully uninstalled urllib3-1.26.7\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.7", "Uninstalling urllib3-1.26.7:", "  Successfully uninstalled urllib3-1.26.7", "Found existing installation: PyYAML 3.13"]}
2021-12-08 23:13:15,549 p=58138 u=pivotal n=ansible | ...ignoring
2021-12-08 23:13:15,550 p=58138 u=pivotal n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "265399323554.3564", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:18.209982", "end": "2021-12-08 23:13:11.400604", "finished": 1, "msg": "non-zero return code", "rc": 1, "start": "2021-12-08 23:12:53.190622", "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.7\nUninstalling urllib3-1.26.7:\n  Successfully uninstalled urllib3-1.26.7\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.7", "Uninstalling urllib3-1.26.7:", "  Successfully uninstalled urllib3-1.26.7", "Found existing installation: PyYAML 3.13"]}
2021-12-08 23:13:15,551 p=58138 u=pivotal n=ansible | ...ignoring
2021-12-08 23:13:15,980 p=58138 u=pivotal n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "392675574396.3561", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:18.783218", "end": "2021-12-08 23:13:12.898911", "finished": 1, "msg": "non-zero return code", "rc": 1, "start": "2021-12-08 23:12:54.115693", "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.7\nUninstalling urllib3-1.26.7:\n  Successfully uninstalled urllib3-1.26.7\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.7", "Uninstalling urllib3-1.26.7:", "  Successfully uninstalled urllib3-1.26.7", "Found existing installation: PyYAML 3.13"]}
2021-12-08 23:13:15,980 p=58138 u=pivotal n=ansible | ...ignoring
2021-12-08 23:13:15,994 p=58138 u=pivotal n=ansible | TASK [patroni-postgres : Install wheel pip module on all three nodes] ********************************************
2021-12-08 23:13:16,028 p=58138 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:13:16,058 p=58138 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-08 23:13:22,589 p=58138 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-08 23:13:22,591 p=58138 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-08 23:13:22,591 p=58138 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-08 23:13:22,607 p=58138 u=pivotal n=ansible | TASK [patroni-postgres : Uninstall typing pip module on all three nodes] *****************************************
2021-12-08 23:13:22,707 p=58138 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:13:22,746 p=58138 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-08 23:13:29,252 p=58138 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-08 23:13:29,275 p=58138 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-08 23:13:29,306 p=58138 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-08 23:13:29,321 p=58138 u=pivotal n=ansible | TASK [patroni-postgres : Uninstall setuptools rust on all three nodes] *******************************************
2021-12-08 23:13:29,350 p=58138 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:13:29,373 p=58138 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-08 23:13:35,837 p=58138 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-08 23:13:36,492 p=58138 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-08 23:13:36,507 p=58138 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-08 23:13:36,526 p=58138 u=pivotal n=ansible | TASK [patroni-postgres : Uninstall patroni module on all three nodes] ********************************************
2021-12-08 23:13:36,573 p=58138 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:13:36,643 p=58138 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-08 23:13:42,792 p=58138 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-08 23:13:42,796 p=58138 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-08 23:13:42,806 p=58138 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-08 23:13:42,825 p=58138 u=pivotal n=ansible | TASK [patroni-postgres : Uninstall wheel module on all three nodes] **********************************************
2021-12-08 23:13:42,859 p=58138 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:13:42,885 p=58138 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-08 23:13:49,072 p=58138 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-08 23:13:49,153 p=58138 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-08 23:13:49,154 p=58138 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-08 23:13:49,171 p=58138 u=pivotal n=ansible | TASK [patroni-postgres : Uninstall psycopg2-binary module on all three nodes] ************************************
2021-12-08 23:13:49,202 p=58138 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:13:49,227 p=58138 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-08 23:13:55,660 p=58138 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-08 23:13:55,662 p=58138 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-08 23:13:55,665 p=58138 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-08 23:13:55,677 p=58138 u=pivotal n=ansible | TASK [patroni-postgres : Delete the dependencies file of etcd  on all three nodes] *******************************
2021-12-08 23:13:55,704 p=58138 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:13:55,726 p=58138 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-08 23:13:56,236 p=58138 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-08 23:13:56,238 p=58138 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-08 23:13:56,245 p=58138 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-08 23:13:56,261 p=58138 u=pivotal n=ansible | TASK [patroni-postgres : Uninstall VMware Postgres RPM package on all hosts as root] *****************************
2021-12-08 23:14:56,750 p=58138 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-08 23:14:58,375 p=58138 u=pivotal n=ansible | changed: [postgres-haproxy02]
2021-12-08 23:15:04,132 p=58138 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:15:07,454 p=58138 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-08 23:15:10,708 p=58138 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-08 23:15:10,722 p=58138 u=pivotal n=ansible | TASK [patroni-postgres : Delete the vmwawre-postgres rpm file to all hosts in cluster] ***************************
2021-12-08 23:15:11,294 p=58138 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:15:11,298 p=58138 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-08 23:15:11,301 p=58138 u=pivotal n=ansible | changed: [postgres-haproxy02]
2021-12-08 23:15:11,329 p=58138 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-08 23:15:11,342 p=58138 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-08 23:15:11,355 p=58138 u=pivotal n=ansible | TASK [patroni-postgres : List iptables rules] ********************************************************************
2021-12-08 23:15:11,907 p=58138 u=pivotal n=ansible | changed: [postgres-haproxy02]
2021-12-08 23:15:11,908 p=58138 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:15:11,920 p=58138 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-08 23:15:11,928 p=58138 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-08 23:15:11,932 p=58138 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-08 23:15:11,947 p=58138 u=pivotal n=ansible | TASK [patroni-postgres : Flush iptables rules] *******************************************************************
2021-12-08 23:15:12,641 p=58138 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:15:12,656 p=58138 u=pivotal n=ansible | changed: [postgres-haproxy02]
2021-12-08 23:15:12,674 p=58138 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-08 23:15:12,692 p=58138 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-08 23:15:12,693 p=58138 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-08 23:15:12,709 p=58138 u=pivotal n=ansible | TASK [patroni-postgres : Stop and disable firewalld] *************************************************************
2021-12-08 23:15:14,301 p=58138 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-08 23:15:14,315 p=58138 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-08 23:15:14,543 p=58138 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-08 23:15:14,647 p=58138 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-08 23:15:14,693 p=58138 u=pivotal n=ansible | ok: [postgres-haproxy02]
2021-12-08 23:15:14,763 p=58138 u=pivotal n=ansible | TASK [haproxy : Set selinux context for haproxy] *****************************************************************
2021-12-08 23:15:14,850 p=58138 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-08 23:15:14,875 p=58138 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-08 23:15:14,897 p=58138 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-08 23:15:23,194 p=58138 u=pivotal n=ansible | changed: [postgres-haproxy02]
2021-12-08 23:15:26,228 p=58138 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:15:26,243 p=58138 u=pivotal n=ansible | TASK [haproxy : Disable the systemd haproxy service] *************************************************************
2021-12-08 23:15:26,333 p=58138 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-08 23:15:26,360 p=58138 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-08 23:15:26,382 p=58138 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-08 23:15:27,837 p=58138 u=pivotal n=ansible | changed: [postgres-haproxy02]
2021-12-08 23:15:27,910 p=58138 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:15:27,921 p=58138 u=pivotal n=ansible | TASK [haproxy : force systemd to reread configs] *****************************************************************
2021-12-08 23:15:27,990 p=58138 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-08 23:15:28,012 p=58138 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-08 23:15:28,026 p=58138 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-08 23:15:28,548 p=58138 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-08 23:15:28,549 p=58138 u=pivotal n=ansible | ok: [postgres-haproxy02]
2021-12-08 23:15:28,562 p=58138 u=pivotal n=ansible | TASK [haproxy : Uninstall all rpm packages for haproxy] **********************************************************
2021-12-08 23:15:28,642 p=58138 u=pivotal n=ansible | skipping: [postgres-ha01] => (item=bind-utils) 
2021-12-08 23:15:28,644 p=58138 u=pivotal n=ansible | skipping: [postgres-ha01] => (item=haproxy) 
2021-12-08 23:15:28,665 p=58138 u=pivotal n=ansible | skipping: [postgres-ha02] => (item=bind-utils) 
2021-12-08 23:15:28,666 p=58138 u=pivotal n=ansible | skipping: [postgres-ha02] => (item=haproxy) 
2021-12-08 23:15:28,688 p=58138 u=pivotal n=ansible | skipping: [postgres-ha03] => (item=bind-utils) 
2021-12-08 23:15:28,689 p=58138 u=pivotal n=ansible | skipping: [postgres-ha03] => (item=haproxy) 
2021-12-08 23:15:36,790 p=58138 u=pivotal n=ansible | changed: [postgres-haproxy02] => (item=bind-utils)
2021-12-08 23:15:36,811 p=58138 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=bind-utils)
2021-12-08 23:15:52,085 p=58138 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=haproxy)
2021-12-08 23:15:52,118 p=58138 u=pivotal n=ansible | changed: [postgres-haproxy02] => (item=haproxy)
2021-12-08 23:15:52,132 p=58138 u=pivotal n=ansible | TASK [haproxy : Delete haproxy.cfg] ******************************************************************************
2021-12-08 23:15:52,206 p=58138 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-08 23:15:52,230 p=58138 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-08 23:15:52,254 p=58138 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-08 23:15:52,680 p=58138 u=pivotal n=ansible | ok: [postgres-haproxy02]
2021-12-08 23:15:52,681 p=58138 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-08 23:15:52,762 p=58138 u=pivotal n=ansible | PLAY RECAP *******************************************************************************************************
2021-12-08 23:15:52,762 p=58138 u=pivotal n=ansible | postgres-ha01              : ok=19   changed=17   unreachable=0    failed=0    skipped=5    rescued=0    ignored=1   
2021-12-08 23:15:52,762 p=58138 u=pivotal n=ansible | postgres-ha02              : ok=19   changed=17   unreachable=0    failed=0    skipped=5    rescued=0    ignored=1   
2021-12-08 23:15:52,763 p=58138 u=pivotal n=ansible | postgres-ha03              : ok=19   changed=17   unreachable=0    failed=0    skipped=5    rescued=0    ignored=1   
2021-12-08 23:15:52,763 p=58138 u=pivotal n=ansible | postgres-haproxy01         : ok=13   changed=8    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2021-12-08 23:15:52,763 p=58138 u=pivotal n=ansible | postgres-haproxy02         : ok=13   changed=8    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2021-12-08 23:28:47,587 p=61432 u=pivotal n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will 
be removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2021-12-08 23:28:47,603 p=61432 u=pivotal n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2021-12-08 23:28:47,970 p=61432 u=pivotal n=ansible | [WARNING]: While constructing a mapping from /Users/pivotal/postgres-cluster/roles/pgfailover-
postgres/tasks/pgfailover-postgres-install.yml, line 269, column 3, found a duplicate dict key (when). Using last
defined value only.

2021-12-08 23:28:48,038 p=61432 u=pivotal n=ansible | [WARNING]: file /Users/pivotal/postgres-cluster/roles/pgfailover-postgres/tasks/pgfailover-postgres-upgrade.yml
is empty and had no tasks to include

2021-12-08 23:28:48,050 p=61432 u=pivotal n=ansible | PLAY [all] *******************************************************************************************************
2021-12-08 23:28:48,087 p=61432 u=pivotal n=ansible | TASK [Gathering Facts] *******************************************************************************************
2021-12-08 23:28:50,176 p=61432 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-08 23:28:50,203 p=61432 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-08 23:28:50,205 p=61432 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-08 23:28:50,219 p=61432 u=pivotal n=ansible | ok: [postgres-haproxy02]
2021-12-08 23:28:50,232 p=61432 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-08 23:28:50,252 p=61432 u=pivotal n=ansible | TASK [pgfailover-postgres : Open Firewall] ***********************************************************************
2021-12-08 23:28:54,554 p=61432 u=pivotal n=ansible | failed: [postgres-ha02] (item=5432) => {"ansible_loop_var": "item", "changed": false, "item": "5432", "msg": "firewall is not currently running, unable to perform immediate actions without a running firewall daemon"}
2021-12-08 23:28:54,627 p=61432 u=pivotal n=ansible | failed: [postgres-haproxy01] (item=5432) => {"ansible_loop_var": "item", "changed": false, "item": "5432", "msg": "firewall is not currently running, unable to perform immediate actions without a running firewall daemon"}
2021-12-08 23:28:55,268 p=61432 u=pivotal n=ansible | failed: [postgres-haproxy02] (item=5432) => {"ansible_loop_var": "item", "changed": false, "item": "5432", "msg": "firewall is not currently running, unable to perform immediate actions without a running firewall daemon"}
2021-12-08 23:28:55,337 p=61432 u=pivotal n=ansible | failed: [postgres-ha01] (item=5432) => {"ansible_loop_var": "item", "changed": false, "item": "5432", "msg": "firewall is not currently running, unable to perform immediate actions without a running firewall daemon"}
2021-12-08 23:28:55,548 p=61432 u=pivotal n=ansible | failed: [postgres-ha03] (item=5432) => {"ansible_loop_var": "item", "changed": false, "item": "5432", "msg": "firewall is not currently running, unable to perform immediate actions without a running firewall daemon"}
2021-12-08 23:28:55,552 p=61432 u=pivotal n=ansible | PLAY RECAP *******************************************************************************************************
2021-12-08 23:28:55,552 p=61432 u=pivotal n=ansible | postgres-ha01              : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-08 23:28:55,553 p=61432 u=pivotal n=ansible | postgres-ha02              : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-08 23:28:55,553 p=61432 u=pivotal n=ansible | postgres-ha03              : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-08 23:28:55,553 p=61432 u=pivotal n=ansible | postgres-haproxy01         : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-08 23:28:55,553 p=61432 u=pivotal n=ansible | postgres-haproxy02         : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-08 23:32:26,836 p=61788 u=pivotal n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will 
be removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2021-12-08 23:32:26,855 p=61788 u=pivotal n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2021-12-08 23:32:27,236 p=61788 u=pivotal n=ansible | [WARNING]: While constructing a mapping from /Users/pivotal/postgres-cluster/roles/pgfailover-
postgres/tasks/pgfailover-postgres-install.yml, line 276, column 3, found a duplicate dict key (when). Using last
defined value only.

2021-12-08 23:32:27,308 p=61788 u=pivotal n=ansible | [WARNING]: file /Users/pivotal/postgres-cluster/roles/pgfailover-postgres/tasks/pgfailover-postgres-upgrade.yml
is empty and had no tasks to include

2021-12-08 23:32:27,321 p=61788 u=pivotal n=ansible | PLAY [all] *******************************************************************************************************
2021-12-08 23:32:27,366 p=61788 u=pivotal n=ansible | TASK [Gathering Facts] *******************************************************************************************
2021-12-08 23:32:29,244 p=61788 u=pivotal n=ansible | ok: [postgres-haproxy02]
2021-12-08 23:32:29,272 p=61788 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-08 23:32:29,290 p=61788 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-08 23:32:29,310 p=61788 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-08 23:32:29,312 p=61788 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-08 23:32:29,360 p=61788 u=pivotal n=ansible | TASK [pgfailover-postgres : Start and enable firewalld.] *********************************************************
2021-12-08 23:32:55,655 p=61788 u=pivotal n=ansible | fatal: [postgres-ha01]: FAILED! => {"changed": false, "msg": "Unable to enable service firewalld: Failed to execute operation: Connection timed out\n"}
2021-12-08 23:32:55,659 p=61788 u=pivotal n=ansible | fatal: [postgres-haproxy02]: FAILED! => {"changed": false, "msg": "Unable to enable service firewalld: Failed to execute operation: Connection timed out\n"}
2021-12-08 23:32:55,660 p=61788 u=pivotal n=ansible | fatal: [postgres-ha03]: FAILED! => {"changed": false, "msg": "Unable to enable service firewalld: Failed to execute operation: Connection timed out\n"}
2021-12-08 23:32:55,661 p=61788 u=pivotal n=ansible | fatal: [postgres-ha02]: FAILED! => {"changed": false, "msg": "Unable to enable service firewalld: Failed to execute operation: Connection timed out\n"}
2021-12-08 23:32:55,666 p=61788 u=pivotal n=ansible | fatal: [postgres-haproxy01]: FAILED! => {"changed": false, "msg": "Unable to enable service firewalld: Failed to execute operation: Connection timed out\n"}
2021-12-08 23:32:55,672 p=61788 u=pivotal n=ansible | PLAY RECAP *******************************************************************************************************
2021-12-08 23:32:55,672 p=61788 u=pivotal n=ansible | postgres-ha01              : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-08 23:32:55,673 p=61788 u=pivotal n=ansible | postgres-ha02              : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-08 23:32:55,673 p=61788 u=pivotal n=ansible | postgres-ha03              : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-08 23:32:55,673 p=61788 u=pivotal n=ansible | postgres-haproxy01         : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-08 23:32:55,673 p=61788 u=pivotal n=ansible | postgres-haproxy02         : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-08 23:35:50,424 p=62108 u=pivotal n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will 
be removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2021-12-08 23:35:50,451 p=62108 u=pivotal n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2021-12-08 23:35:50,808 p=62108 u=pivotal n=ansible | [WARNING]: While constructing a mapping from /Users/pivotal/postgres-cluster/roles/pgfailover-
postgres/tasks/pgfailover-postgres-install.yml, line 276, column 3, found a duplicate dict key (when). Using last
defined value only.

2021-12-08 23:35:50,867 p=62108 u=pivotal n=ansible | [WARNING]: file /Users/pivotal/postgres-cluster/roles/pgfailover-postgres/tasks/pgfailover-postgres-upgrade.yml
is empty and had no tasks to include

2021-12-08 23:35:50,878 p=62108 u=pivotal n=ansible | PLAY [all] *******************************************************************************************************
2021-12-08 23:35:50,917 p=62108 u=pivotal n=ansible | TASK [Gathering Facts] *******************************************************************************************
2021-12-08 23:35:52,985 p=62108 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-08 23:35:53,014 p=62108 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-08 23:35:53,024 p=62108 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-08 23:35:53,033 p=62108 u=pivotal n=ansible | ok: [postgres-haproxy02]
2021-12-08 23:35:53,035 p=62108 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-08 23:35:53,062 p=62108 u=pivotal n=ansible | TASK [pgfailover-postgres : Start and enable firewalld.] *********************************************************
2021-12-08 23:36:19,403 p=62108 u=pivotal n=ansible | fatal: [postgres-haproxy02]: FAILED! => {"changed": false, "msg": "Unable to enable service firewalld: Failed to execute operation: Connection timed out\n"}
2021-12-08 23:36:19,410 p=62108 u=pivotal n=ansible | fatal: [postgres-haproxy01]: FAILED! => {"changed": false, "msg": "Unable to enable service firewalld: Failed to execute operation: Connection timed out\n"}
2021-12-08 23:36:19,410 p=62108 u=pivotal n=ansible | fatal: [postgres-ha03]: FAILED! => {"changed": false, "msg": "Unable to enable service firewalld: Failed to execute operation: Connection timed out\n"}
2021-12-08 23:36:19,413 p=62108 u=pivotal n=ansible | fatal: [postgres-ha02]: FAILED! => {"changed": false, "msg": "Unable to enable service firewalld: Failed to execute operation: Connection timed out\n"}
2021-12-08 23:36:19,414 p=62108 u=pivotal n=ansible | fatal: [postgres-ha01]: FAILED! => {"changed": false, "msg": "Unable to enable service firewalld: Failed to execute operation: Connection timed out\n"}
2021-12-08 23:36:19,420 p=62108 u=pivotal n=ansible | PLAY RECAP *******************************************************************************************************
2021-12-08 23:36:19,421 p=62108 u=pivotal n=ansible | postgres-ha01              : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-08 23:36:19,421 p=62108 u=pivotal n=ansible | postgres-ha02              : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-08 23:36:19,422 p=62108 u=pivotal n=ansible | postgres-ha03              : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-08 23:36:19,423 p=62108 u=pivotal n=ansible | postgres-haproxy01         : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-08 23:36:19,423 p=62108 u=pivotal n=ansible | postgres-haproxy02         : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-08 23:38:33,048 p=62395 u=pivotal n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will 
be removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2021-12-08 23:38:33,063 p=62395 u=pivotal n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2021-12-08 23:38:33,417 p=62395 u=pivotal n=ansible | [WARNING]: While constructing a mapping from /Users/pivotal/postgres-cluster/roles/pgfailover-
postgres/tasks/pgfailover-postgres-install.yml, line 277, column 3, found a duplicate dict key (when). Using last
defined value only.

2021-12-08 23:38:33,480 p=62395 u=pivotal n=ansible | [WARNING]: file /Users/pivotal/postgres-cluster/roles/pgfailover-postgres/tasks/pgfailover-postgres-upgrade.yml
is empty and had no tasks to include

2021-12-08 23:38:33,492 p=62395 u=pivotal n=ansible | PLAY [all] *******************************************************************************************************
2021-12-08 23:38:33,532 p=62395 u=pivotal n=ansible | TASK [Gathering Facts] *******************************************************************************************
2021-12-08 23:38:36,035 p=62395 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-08 23:38:36,049 p=62395 u=pivotal n=ansible | ok: [postgres-haproxy02]
2021-12-08 23:38:36,051 p=62395 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-08 23:38:36,057 p=62395 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-08 23:38:36,062 p=62395 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-08 23:38:36,088 p=62395 u=pivotal n=ansible | TASK [pgfailover-postgres : Start and enable firewalld.] *********************************************************
2021-12-08 23:38:37,532 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:38:37,538 p=62395 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-08 23:38:38,963 p=62395 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-08 23:38:39,097 p=62395 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-08 23:38:39,790 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy02]
2021-12-08 23:38:39,804 p=62395 u=pivotal n=ansible | TASK [pgfailover-postgres : Open Firewall] ***********************************************************************
2021-12-08 23:38:41,264 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=5432)
2021-12-08 23:38:41,267 p=62395 u=pivotal n=ansible | changed: [postgres-ha01] => (item=5432)
2021-12-08 23:38:41,689 p=62395 u=pivotal n=ansible | changed: [postgres-ha03] => (item=5432)
2021-12-08 23:38:41,903 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy02] => (item=5432)
2021-12-08 23:38:42,232 p=62395 u=pivotal n=ansible | changed: [postgres-ha02] => (item=5432)
2021-12-08 23:38:42,254 p=62395 u=pivotal n=ansible | TASK [pgfailover-postgres : Whitelist of Ip addresses] ***********************************************************
2021-12-08 23:38:43,410 p=62395 u=pivotal n=ansible | changed: [postgres-ha01] => (item=postgres-haproxy01)
2021-12-08 23:38:43,412 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy02] => (item=postgres-haproxy01)
2021-12-08 23:38:43,420 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=postgres-haproxy01)
2021-12-08 23:38:43,473 p=62395 u=pivotal n=ansible | changed: [postgres-ha02] => (item=postgres-haproxy01)
2021-12-08 23:38:43,517 p=62395 u=pivotal n=ansible | changed: [postgres-ha03] => (item=postgres-haproxy01)
2021-12-08 23:38:44,367 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=postgres-haproxy02)
2021-12-08 23:38:44,375 p=62395 u=pivotal n=ansible | changed: [postgres-ha01] => (item=postgres-haproxy02)
2021-12-08 23:38:44,392 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy02] => (item=postgres-haproxy02)
2021-12-08 23:38:44,429 p=62395 u=pivotal n=ansible | changed: [postgres-ha03] => (item=postgres-haproxy02)
2021-12-08 23:38:44,460 p=62395 u=pivotal n=ansible | changed: [postgres-ha02] => (item=postgres-haproxy02)
2021-12-08 23:38:45,041 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=postgres-ha01)
2021-12-08 23:38:45,082 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy02] => (item=postgres-ha01)
2021-12-08 23:38:45,093 p=62395 u=pivotal n=ansible | changed: [postgres-ha01] => (item=postgres-ha01)
2021-12-08 23:38:45,132 p=62395 u=pivotal n=ansible | changed: [postgres-ha02] => (item=postgres-ha01)
2021-12-08 23:38:45,154 p=62395 u=pivotal n=ansible | changed: [postgres-ha03] => (item=postgres-ha01)
2021-12-08 23:38:45,958 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=postgres-ha02)
2021-12-08 23:38:46,039 p=62395 u=pivotal n=ansible | changed: [postgres-ha01] => (item=postgres-ha02)
2021-12-08 23:38:46,056 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy02] => (item=postgres-ha02)
2021-12-08 23:38:46,112 p=62395 u=pivotal n=ansible | changed: [postgres-ha03] => (item=postgres-ha02)
2021-12-08 23:38:46,119 p=62395 u=pivotal n=ansible | changed: [postgres-ha02] => (item=postgres-ha02)
2021-12-08 23:38:46,684 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=postgres-ha03)
2021-12-08 23:38:46,736 p=62395 u=pivotal n=ansible | changed: [postgres-ha01] => (item=postgres-ha03)
2021-12-08 23:38:46,764 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy02] => (item=postgres-ha03)
2021-12-08 23:38:46,777 p=62395 u=pivotal n=ansible | changed: [postgres-ha03] => (item=postgres-ha03)
2021-12-08 23:38:46,889 p=62395 u=pivotal n=ansible | changed: [postgres-ha02] => (item=postgres-ha03)
2021-12-08 23:38:46,903 p=62395 u=pivotal n=ansible | TASK [pgfailover-postgres : Bounce firewalld] ********************************************************************
2021-12-08 23:38:49,271 p=62395 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-08 23:38:49,308 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:38:49,326 p=62395 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-08 23:38:49,332 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy02]
2021-12-08 23:38:49,379 p=62395 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-08 23:38:49,396 p=62395 u=pivotal n=ansible | TASK [pgfailover-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] **************************
2021-12-08 23:38:51,553 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:38:51,568 p=62395 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-08 23:38:51,735 p=62395 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-08 23:38:51,738 p=62395 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-08 23:38:52,977 p=62395 u=pivotal n=ansible | ok: [postgres-haproxy02]
2021-12-08 23:38:52,998 p=62395 u=pivotal n=ansible | TASK [pgfailover-postgres : Install VMware Postgres on all hosts as root] ****************************************
2021-12-08 23:39:32,024 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:39:32,704 p=62395 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-08 23:39:33,927 p=62395 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-08 23:39:34,825 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy02]
2021-12-08 23:39:39,224 p=62395 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-08 23:39:39,238 p=62395 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify that pg_auto_failover/postgres was installed properly] ************************
2021-12-08 23:39:39,312 p=62395 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-08 23:39:39,335 p=62395 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-08 23:39:39,357 p=62395 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-08 23:39:40,417 p=62395 u=pivotal n=ansible | [WARNING]: Module remote_tmp /var/lib/pgsql/.ansible/tmp did not exist and was created with a mode of 0700, this
may cause issues when running as another user. To avoid this, create the remote_tmp dir with the correct
permissions manually

2021-12-08 23:39:40,417 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy02]
2021-12-08 23:39:40,634 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:39:40,647 p=62395 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *******************************************************************************
2021-12-08 23:39:40,699 p=62395 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": "pg_autoctl version 1.4.2\npg_autoctl extension version 1.4\ncompiled with PostgreSQL 12.7 (VMware Postgres 12.7.0) on x86_64-redhat-linux-gnu, compiled by gcc (GCC) 4.8.5 20150623 (Red Hat 4.8.5-44), 64-bit\ncompatible with Postgres 10, 11, 12, and 13"
}
2021-12-08 23:39:40,725 p=62395 u=pivotal n=ansible | ok: [postgres-haproxy02] => {
    "msg": "pg_autoctl version 1.4.2\npg_autoctl extension version 1.4\ncompiled with PostgreSQL 12.7 (VMware Postgres 12.7.0) on x86_64-redhat-linux-gnu, compiled by gcc (GCC) 4.8.5 20150623 (Red Hat 4.8.5-44), 64-bit\ncompatible with Postgres 10, 11, 12, and 13"
}
2021-12-08 23:39:40,749 p=62395 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-08 23:39:40,751 p=62395 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-08 23:39:40,766 p=62395 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-08 23:39:40,779 p=62395 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify that pg_auto_failover/postgres was installed properly] ************************
2021-12-08 23:39:40,849 p=62395 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-08 23:39:40,871 p=62395 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-08 23:39:40,888 p=62395 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-08 23:39:41,313 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:39:41,666 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy02]
2021-12-08 23:39:41,676 p=62395 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *******************************************************************************
2021-12-08 23:39:41,731 p=62395 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": "pg_ctl (PostgreSQL) 12.7 (VMware Postgres 12.7.0)"
}
2021-12-08 23:39:41,756 p=62395 u=pivotal n=ansible | ok: [postgres-haproxy02] => {
    "msg": "pg_ctl (PostgreSQL) 12.7 (VMware Postgres 12.7.0)"
}
2021-12-08 23:39:41,779 p=62395 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-08 23:39:41,780 p=62395 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-08 23:39:41,796 p=62395 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-08 23:39:41,811 p=62395 u=pivotal n=ansible | TASK [pgfailover-postgres : Getting process IDs of the pg_autoctl process] ***************************************
2021-12-08 23:39:42,580 p=62395 u=pivotal n=ansible | fatal: [postgres-ha03]: FAILED! => {"changed": false, "msg": "Failed to import the required Python library (psutil) on postgres-ha03.jtest.pivotal.io's Python /usr/bin/python. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2021-12-08 23:39:42,590 p=62395 u=pivotal n=ansible | fatal: [postgres-ha02]: FAILED! => {"changed": false, "msg": "Failed to import the required Python library (psutil) on postgres-ha02.jtest.pivotal.io's Python /usr/bin/python. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2021-12-08 23:39:42,590 p=62395 u=pivotal n=ansible | fatal: [postgres-ha01]: FAILED! => {"changed": false, "msg": "Failed to import the required Python library (psutil) on postgres-ha01.jtest.pivotal.io's Python /usr/bin/python. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2021-12-08 23:39:44,487 p=62395 u=pivotal n=ansible | ok: [postgres-haproxy02]
2021-12-08 23:39:44,631 p=62395 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-08 23:39:44,645 p=62395 u=pivotal n=ansible | TASK [pgfailover-postgres : Printing the process IDs obtained] ***************************************************
2021-12-08 23:39:44,712 p=62395 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": "PIDS of pg_autoctl:"
}
2021-12-08 23:39:44,724 p=62395 u=pivotal n=ansible | ok: [postgres-haproxy02] => {
    "msg": "PIDS of pg_autoctl:"
}
2021-12-08 23:39:44,741 p=62395 u=pivotal n=ansible | TASK [pgfailover-postgres : Stop pgautofailover service of systemd] **********************************************
2021-12-08 23:39:44,792 p=62395 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:39:44,810 p=62395 u=pivotal n=ansible | skipping: [postgres-haproxy02]
2021-12-08 23:39:44,823 p=62395 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *******************************************************************************
2021-12-08 23:39:44,886 p=62395 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-08 23:39:44,897 p=62395 u=pivotal n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-08 23:39:44,908 p=62395 u=pivotal n=ansible | TASK [pgfailover-postgres : Create the monitor node] *************************************************************
2021-12-08 23:39:56,882 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:40:03,804 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy02]
2021-12-08 23:40:03,818 p=62395 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *******************************************************************************
2021-12-08 23:40:03,878 p=62395 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "ansible_job_id": "533165875168.9139",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; pg_autoctl create monitor --auth trust --ssl-self-signed --pgdata monitor )",
        "delta": "0:00:06.112738",
        "end": "2021-12-08 23:39:51.556122",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-08 23:39:45.443384",
        "stderr": "23:39:45 9148 INFO  Using default --ssl-mode \"require\"\n23:39:45 9148 INFO  Using --ssl-self-signed: pg_autoctl will create self-signed certificates, allowing for encrypted network traffic\n23:39:45 9148 WARN  Self-signed certificates provide protection against eavesdropping; this setup does NOT protect against Man-In-The-Middle attacks nor Impersonation attacks.\n23:39:45 9148 WARN  See https://www.postgresql.org/docs/current/libpq-ssl.html for details\n23:39:46 9148 INFO   /bin/openssl req -new -x509 -days 365 -nodes -text -out /var/lib/pgsql/monitor/server.crt -keyout /var/lib/pgsql/monitor/server.key -subj \"/CN=postgres-haproxy01\"\n23:39:47 9148 INFO  Started pg_autoctl postgres service with pid 9152\n23:39:47 9152 INFO   /usr/bin/pg_autoctl do service postgres --pgdata monitor -v\n23:39:47 9148 INFO  Started pg_autoctl monitor-init service with pid 9153\n23:39:47 9153 INFO  Granting connection privileges on 192.168.0.0/24\n23:39:47 9157 INFO   /bin/postgres -D /var/lib/pgsql/monitor -p 5432 -h *\n23:39:49 9152 INFO  Postgres is now serving PGDATA \"/var/lib/pgsql/monitor\" on port 5432 with pid 9157\n23:39:50 9153 INFO  The user \"autoctl\" already exists, skipping.\n23:39:50 9153 INFO  The database \"pg_auto_failover\" already exists, skipping.\n23:39:50 9153 WARN  NOTICE:  extension \"pgautofailover\" already exists, skipping\n23:39:50 9153 INFO  Your pg_auto_failover monitor instance is now ready on port 5432.\n23:39:50 9153 INFO  Monitor has been successfully initialized.\n23:39:50 9148 WARN  pg_autoctl service monitor-init exited with exit status 0\n23:39:50 9152 INFO  Postgres controller service received signal SIGTERM, terminating\n23:39:50 9152 INFO  Stopping pg_autoctl postgres service\n23:39:50 9152 INFO  /bin/pg_ctl --pgdata /var/lib/pgsql/monitor --wait stop --mode fast\n23:39:50 9148 INFO  Waiting for subprocesses to terminate.\n23:39:51 9148 INFO  Stop pg_autoctl",
        "stderr_lines": [
            "23:39:45 9148 INFO  Using default --ssl-mode \"require\"",
            "23:39:45 9148 INFO  Using --ssl-self-signed: pg_autoctl will create self-signed certificates, allowing for encrypted network traffic",
            "23:39:45 9148 WARN  Self-signed certificates provide protection against eavesdropping; this setup does NOT protect against Man-In-The-Middle attacks nor Impersonation attacks.",
            "23:39:45 9148 WARN  See https://www.postgresql.org/docs/current/libpq-ssl.html for details",
            "23:39:46 9148 INFO   /bin/openssl req -new -x509 -days 365 -nodes -text -out /var/lib/pgsql/monitor/server.crt -keyout /var/lib/pgsql/monitor/server.key -subj \"/CN=postgres-haproxy01\"",
            "23:39:47 9148 INFO  Started pg_autoctl postgres service with pid 9152",
            "23:39:47 9152 INFO   /usr/bin/pg_autoctl do service postgres --pgdata monitor -v",
            "23:39:47 9148 INFO  Started pg_autoctl monitor-init service with pid 9153",
            "23:39:47 9153 INFO  Granting connection privileges on 192.168.0.0/24",
            "23:39:47 9157 INFO   /bin/postgres -D /var/lib/pgsql/monitor -p 5432 -h *",
            "23:39:49 9152 INFO  Postgres is now serving PGDATA \"/var/lib/pgsql/monitor\" on port 5432 with pid 9157",
            "23:39:50 9153 INFO  The user \"autoctl\" already exists, skipping.",
            "23:39:50 9153 INFO  The database \"pg_auto_failover\" already exists, skipping.",
            "23:39:50 9153 WARN  NOTICE:  extension \"pgautofailover\" already exists, skipping",
            "23:39:50 9153 INFO  Your pg_auto_failover monitor instance is now ready on port 5432.",
            "23:39:50 9153 INFO  Monitor has been successfully initialized.",
            "23:39:50 9148 WARN  pg_autoctl service monitor-init exited with exit status 0",
            "23:39:50 9152 INFO  Postgres controller service received signal SIGTERM, terminating",
            "23:39:50 9152 INFO  Stopping pg_autoctl postgres service",
            "23:39:50 9152 INFO  /bin/pg_ctl --pgdata /var/lib/pgsql/monitor --wait stop --mode fast",
            "23:39:50 9148 INFO  Waiting for subprocesses to terminate.",
            "23:39:51 9148 INFO  Stop pg_autoctl"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2021-12-08 23:40:03,897 p=62395 u=pivotal n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "ansible_job_id": "315021402061.9129",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; pg_autoctl create monitor --auth trust --ssl-self-signed --pgdata monitor )",
        "delta": "0:00:12.272202",
        "end": "2021-12-08 23:39:56.736640",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-08 23:39:44.464438",
        "stderr": "23:39:44 9138 INFO  Using default --ssl-mode \"require\"\n23:39:44 9138 INFO  Using --ssl-self-signed: pg_autoctl will create self-signed certificates, allowing for encrypted network traffic\n23:39:44 9138 WARN  Self-signed certificates provide protection against eavesdropping; this setup does NOT protect against Man-In-The-Middle attacks nor Impersonation attacks.\n23:39:44 9138 WARN  See https://www.postgresql.org/docs/current/libpq-ssl.html for details\n23:39:44 9138 INFO  Initialising a PostgreSQL cluster at \"monitor\"\n23:39:44 9138 INFO  /bin/pg_ctl initdb -s -D monitor --option '--auth=trust'\n23:39:52 9138 INFO   /bin/openssl req -new -x509 -days 365 -nodes -text -out /var/lib/pgsql/monitor/server.crt -keyout /var/lib/pgsql/monitor/server.key -subj \"/CN=postgres-haproxy02\"\n23:39:52 9138 INFO  Started pg_autoctl postgres service with pid 9255\n23:39:52 9255 INFO   /usr/bin/pg_autoctl do service postgres --pgdata monitor -v\n23:39:52 9138 INFO  Started pg_autoctl monitor-init service with pid 9256\n23:39:52 9256 INFO  Granting connection privileges on 192.168.0.0/24\n23:39:52 9261 INFO   /bin/postgres -D /var/lib/pgsql/monitor -p 5432 -h *\n23:39:53 9255 INFO  Postgres is now serving PGDATA \"/var/lib/pgsql/monitor\" on port 5432 with pid 9261\n23:39:55 9256 WARN  NOTICE:  installing required extension \"btree_gist\"\n23:39:55 9256 INFO  Your pg_auto_failover monitor instance is now ready on port 5432.\n23:39:55 9256 INFO  Monitor has been successfully initialized.\n23:39:55 9138 WARN  pg_autoctl service monitor-init exited with exit status 0\n23:39:55 9255 INFO  Postgres controller service received signal SIGTERM, terminating\n23:39:55 9255 INFO  Stopping pg_autoctl postgres service\n23:39:55 9255 INFO  /bin/pg_ctl --pgdata /var/lib/pgsql/monitor --wait stop --mode fast\n23:39:55 9138 INFO  Waiting for subprocesses to terminate.\n23:39:56 9138 INFO  Stop pg_autoctl",
        "stderr_lines": [
            "23:39:44 9138 INFO  Using default --ssl-mode \"require\"",
            "23:39:44 9138 INFO  Using --ssl-self-signed: pg_autoctl will create self-signed certificates, allowing for encrypted network traffic",
            "23:39:44 9138 WARN  Self-signed certificates provide protection against eavesdropping; this setup does NOT protect against Man-In-The-Middle attacks nor Impersonation attacks.",
            "23:39:44 9138 WARN  See https://www.postgresql.org/docs/current/libpq-ssl.html for details",
            "23:39:44 9138 INFO  Initialising a PostgreSQL cluster at \"monitor\"",
            "23:39:44 9138 INFO  /bin/pg_ctl initdb -s -D monitor --option '--auth=trust'",
            "23:39:52 9138 INFO   /bin/openssl req -new -x509 -days 365 -nodes -text -out /var/lib/pgsql/monitor/server.crt -keyout /var/lib/pgsql/monitor/server.key -subj \"/CN=postgres-haproxy02\"",
            "23:39:52 9138 INFO  Started pg_autoctl postgres service with pid 9255",
            "23:39:52 9255 INFO   /usr/bin/pg_autoctl do service postgres --pgdata monitor -v",
            "23:39:52 9138 INFO  Started pg_autoctl monitor-init service with pid 9256",
            "23:39:52 9256 INFO  Granting connection privileges on 192.168.0.0/24",
            "23:39:52 9261 INFO   /bin/postgres -D /var/lib/pgsql/monitor -p 5432 -h *",
            "23:39:53 9255 INFO  Postgres is now serving PGDATA \"/var/lib/pgsql/monitor\" on port 5432 with pid 9261",
            "23:39:55 9256 WARN  NOTICE:  installing required extension \"btree_gist\"",
            "23:39:55 9256 INFO  Your pg_auto_failover monitor instance is now ready on port 5432.",
            "23:39:55 9256 INFO  Monitor has been successfully initialized.",
            "23:39:55 9138 WARN  pg_autoctl service monitor-init exited with exit status 0",
            "23:39:55 9255 INFO  Postgres controller service received signal SIGTERM, terminating",
            "23:39:55 9255 INFO  Stopping pg_autoctl postgres service",
            "23:39:55 9255 INFO  /bin/pg_ctl --pgdata /var/lib/pgsql/monitor --wait stop --mode fast",
            "23:39:55 9138 INFO  Waiting for subprocesses to terminate.",
            "23:39:56 9138 INFO  Stop pg_autoctl"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2021-12-08 23:40:03,911 p=62395 u=pivotal n=ansible | TASK [pgfailover-postgres : Create systemd service file of monitor instance] *************************************
2021-12-08 23:40:10,519 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:40:10,840 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy02]
2021-12-08 23:40:10,853 p=62395 u=pivotal n=ansible | TASK [pgfailover-postgres : Copy systemd service file of monitor instance] ***************************************
2021-12-08 23:40:11,434 p=62395 u=pivotal n=ansible | ok: [postgres-haproxy02]
2021-12-08 23:40:11,435 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:40:11,447 p=62395 u=pivotal n=ansible | TASK [pgfailover-postgres : Reload and start systemd service of monitor instance] ********************************
2021-12-08 23:40:12,912 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:40:12,916 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy02]
2021-12-08 23:40:12,928 p=62395 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *******************************************************************************
2021-12-08 23:40:12,989 p=62395 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": true,
        "enabled": true,
        "failed": false,
        "name": "pgautofailover",
        "state": "started",
        "status": {
            "ActiveEnterTimestampMonotonic": "0",
            "ActiveExitTimestampMonotonic": "0",
            "ActiveState": "inactive",
            "After": "-.mount systemd-journald.socket basic.target system.slice",
            "AllowIsolate": "no",
            "AmbientCapabilities": "0",
            "AssertResult": "no",
            "AssertTimestampMonotonic": "0",
            "Before": "shutdown.target",
            "BlockIOAccounting": "no",
            "BlockIOWeight": "18446744073709551615",
            "CPUAccounting": "no",
            "CPUQuotaPerSecUSec": "infinity",
            "CPUSchedulingPolicy": "0",
            "CPUSchedulingPriority": "0",
            "CPUSchedulingResetOnFork": "no",
            "CPUShares": "18446744073709551615",
            "CanIsolate": "no",
            "CanReload": "no",
            "CanStart": "yes",
            "CanStop": "yes",
            "CapabilityBoundingSet": "18446744073709551615",
            "CollectMode": "inactive",
            "ConditionResult": "no",
            "ConditionTimestampMonotonic": "0",
            "Conflicts": "shutdown.target",
            "ControlPID": "0",
            "DefaultDependencies": "yes",
            "Delegate": "no",
            "Description": "pg_auto_failover",
            "DevicePolicy": "auto",
            "Environment": "PGDATA=/var/lib/pgsql/monitor",
            "ExecMainCode": "0",
            "ExecMainExitTimestampMonotonic": "0",
            "ExecMainPID": "0",
            "ExecMainStartTimestampMonotonic": "0",
            "ExecMainStatus": "0",
            "ExecStart": "{ path=/usr/bin/pg_autoctl ; argv[]=/usr/bin/pg_autoctl run ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
            "FailureAction": "none",
            "FileDescriptorStoreMax": "0",
            "FragmentPath": "/etc/systemd/system/pgautofailover.service",
            "GuessMainPID": "yes",
            "IOScheduling": "0",
            "Id": "pgautofailover.service",
            "IgnoreOnIsolate": "no",
            "IgnoreOnSnapshot": "no",
            "IgnoreSIGPIPE": "yes",
            "InactiveEnterTimestampMonotonic": "0",
            "InactiveExitTimestampMonotonic": "0",
            "JobTimeoutAction": "none",
            "JobTimeoutUSec": "0",
            "KillMode": "control-group",
            "KillSignal": "15",
            "LimitAS": "18446744073709551615",
            "LimitCORE": "18446744073709551615",
            "LimitCPU": "18446744073709551615",
            "LimitDATA": "18446744073709551615",
            "LimitFSIZE": "18446744073709551615",
            "LimitLOCKS": "18446744073709551615",
            "LimitMEMLOCK": "65536",
            "LimitMSGQUEUE": "819200",
            "LimitNICE": "0",
            "LimitNOFILE": "4096",
            "LimitNPROC": "63444",
            "LimitRSS": "18446744073709551615",
            "LimitRTPRIO": "0",
            "LimitRTTIME": "18446744073709551615",
            "LimitSIGPENDING": "63444",
            "LimitSTACK": "18446744073709551615",
            "LoadState": "loaded",
            "MainPID": "0",
            "MemoryAccounting": "no",
            "MemoryCurrent": "18446744073709551615",
            "MemoryLimit": "18446744073709551615",
            "MountFlags": "0",
            "Names": "pgautofailover.service",
            "NeedDaemonReload": "no",
            "Nice": "0",
            "NoNewPrivileges": "no",
            "NonBlocking": "no",
            "NotifyAccess": "none",
            "OOMScoreAdjust": "0",
            "OnFailureJobMode": "replace",
            "PermissionsStartOnly": "no",
            "PrivateDevices": "no",
            "PrivateNetwork": "no",
            "PrivateTmp": "no",
            "ProtectHome": "no",
            "ProtectSystem": "no",
            "RefuseManualStart": "no",
            "RefuseManualStop": "no",
            "RemainAfterExit": "no",
            "Requires": "-.mount basic.target system.slice",
            "RequiresMountsFor": "/var/lib/pgsql",
            "Restart": "always",
            "RestartUSec": "100ms",
            "Result": "success",
            "RootDirectoryStartOnly": "no",
            "RuntimeDirectoryMode": "0755",
            "SameProcessGroup": "no",
            "SecureBits": "0",
            "SendSIGHUP": "no",
            "SendSIGKILL": "yes",
            "Slice": "system.slice",
            "StandardError": "inherit",
            "StandardInput": "null",
            "StandardOutput": "journal",
            "StartLimitAction": "none",
            "StartLimitBurst": "0",
            "StartLimitInterval": "10000000",
            "StartupBlockIOWeight": "18446744073709551615",
            "StartupCPUShares": "18446744073709551615",
            "StatusErrno": "0",
            "StopWhenUnneeded": "no",
            "SubState": "dead",
            "SyslogLevelPrefix": "yes",
            "SyslogPriority": "30",
            "SystemCallErrorNumber": "0",
            "TTYReset": "no",
            "TTYVHangup": "no",
            "TTYVTDisallocate": "no",
            "TasksAccounting": "no",
            "TasksCurrent": "18446744073709551615",
            "TasksMax": "18446744073709551615",
            "TimeoutStartUSec": "1min 30s",
            "TimeoutStopUSec": "1min 30s",
            "TimerSlackNSec": "50000",
            "Transient": "no",
            "Type": "simple",
            "UMask": "0022",
            "UnitFilePreset": "disabled",
            "UnitFileState": "disabled",
            "User": "postgres",
            "WatchdogTimestampMonotonic": "0",
            "WatchdogUSec": "0",
            "WorkingDirectory": "/var/lib/pgsql"
        }
    }
}
2021-12-08 23:40:13,005 p=62395 u=pivotal n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": true,
        "enabled": true,
        "failed": false,
        "name": "pgautofailover",
        "state": "started",
        "status": {
            "ActiveEnterTimestampMonotonic": "0",
            "ActiveExitTimestampMonotonic": "0",
            "ActiveState": "inactive",
            "After": "basic.target system.slice -.mount systemd-journald.socket",
            "AllowIsolate": "no",
            "AmbientCapabilities": "0",
            "AssertResult": "no",
            "AssertTimestampMonotonic": "0",
            "Before": "shutdown.target",
            "BlockIOAccounting": "no",
            "BlockIOWeight": "18446744073709551615",
            "CPUAccounting": "no",
            "CPUQuotaPerSecUSec": "infinity",
            "CPUSchedulingPolicy": "0",
            "CPUSchedulingPriority": "0",
            "CPUSchedulingResetOnFork": "no",
            "CPUShares": "18446744073709551615",
            "CanIsolate": "no",
            "CanReload": "no",
            "CanStart": "yes",
            "CanStop": "yes",
            "CapabilityBoundingSet": "18446744073709551615",
            "CollectMode": "inactive",
            "ConditionResult": "no",
            "ConditionTimestampMonotonic": "0",
            "Conflicts": "shutdown.target",
            "ControlPID": "0",
            "DefaultDependencies": "yes",
            "Delegate": "no",
            "Description": "pg_auto_failover",
            "DevicePolicy": "auto",
            "Environment": "PGDATA=/var/lib/pgsql/monitor",
            "ExecMainCode": "0",
            "ExecMainExitTimestampMonotonic": "0",
            "ExecMainPID": "0",
            "ExecMainStartTimestampMonotonic": "0",
            "ExecMainStatus": "0",
            "ExecStart": "{ path=/usr/bin/pg_autoctl ; argv[]=/usr/bin/pg_autoctl run ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
            "FailureAction": "none",
            "FileDescriptorStoreMax": "0",
            "FragmentPath": "/etc/systemd/system/pgautofailover.service",
            "GuessMainPID": "yes",
            "IOScheduling": "0",
            "Id": "pgautofailover.service",
            "IgnoreOnIsolate": "no",
            "IgnoreOnSnapshot": "no",
            "IgnoreSIGPIPE": "yes",
            "InactiveEnterTimestampMonotonic": "0",
            "InactiveExitTimestampMonotonic": "0",
            "JobTimeoutAction": "none",
            "JobTimeoutUSec": "0",
            "KillMode": "control-group",
            "KillSignal": "15",
            "LimitAS": "18446744073709551615",
            "LimitCORE": "18446744073709551615",
            "LimitCPU": "18446744073709551615",
            "LimitDATA": "18446744073709551615",
            "LimitFSIZE": "18446744073709551615",
            "LimitLOCKS": "18446744073709551615",
            "LimitMEMLOCK": "65536",
            "LimitMSGQUEUE": "819200",
            "LimitNICE": "0",
            "LimitNOFILE": "4096",
            "LimitNPROC": "63444",
            "LimitRSS": "18446744073709551615",
            "LimitRTPRIO": "0",
            "LimitRTTIME": "18446744073709551615",
            "LimitSIGPENDING": "63444",
            "LimitSTACK": "18446744073709551615",
            "LoadState": "loaded",
            "MainPID": "0",
            "MemoryAccounting": "no",
            "MemoryCurrent": "18446744073709551615",
            "MemoryLimit": "18446744073709551615",
            "MountFlags": "0",
            "Names": "pgautofailover.service",
            "NeedDaemonReload": "no",
            "Nice": "0",
            "NoNewPrivileges": "no",
            "NonBlocking": "no",
            "NotifyAccess": "none",
            "OOMScoreAdjust": "0",
            "OnFailureJobMode": "replace",
            "PermissionsStartOnly": "no",
            "PrivateDevices": "no",
            "PrivateNetwork": "no",
            "PrivateTmp": "no",
            "ProtectHome": "no",
            "ProtectSystem": "no",
            "RefuseManualStart": "no",
            "RefuseManualStop": "no",
            "RemainAfterExit": "no",
            "Requires": "system.slice -.mount basic.target",
            "RequiresMountsFor": "/var/lib/pgsql",
            "Restart": "always",
            "RestartUSec": "100ms",
            "Result": "success",
            "RootDirectoryStartOnly": "no",
            "RuntimeDirectoryMode": "0755",
            "SameProcessGroup": "no",
            "SecureBits": "0",
            "SendSIGHUP": "no",
            "SendSIGKILL": "yes",
            "Slice": "system.slice",
            "StandardError": "inherit",
            "StandardInput": "null",
            "StandardOutput": "journal",
            "StartLimitAction": "none",
            "StartLimitBurst": "0",
            "StartLimitInterval": "10000000",
            "StartupBlockIOWeight": "18446744073709551615",
            "StartupCPUShares": "18446744073709551615",
            "StatusErrno": "0",
            "StopWhenUnneeded": "no",
            "SubState": "dead",
            "SyslogLevelPrefix": "yes",
            "SyslogPriority": "30",
            "SystemCallErrorNumber": "0",
            "TTYReset": "no",
            "TTYVHangup": "no",
            "TTYVTDisallocate": "no",
            "TasksAccounting": "no",
            "TasksCurrent": "18446744073709551615",
            "TasksMax": "18446744073709551615",
            "TimeoutStartUSec": "1min 30s",
            "TimeoutStopUSec": "1min 30s",
            "TimerSlackNSec": "50000",
            "Transient": "no",
            "Type": "simple",
            "UMask": "0022",
            "UnitFilePreset": "disabled",
            "UnitFileState": "disabled",
            "User": "postgres",
            "WatchdogTimestampMonotonic": "0",
            "WatchdogUSec": "0",
            "WorkingDirectory": "/var/lib/pgsql"
        }
    }
}
2021-12-08 23:40:13,018 p=62395 u=pivotal n=ansible | TASK [pgfailover-postgres : Replace database directory] **********************************************************
2021-12-08 23:40:14,029 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy02]
2021-12-08 23:40:14,495 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:40:14,508 p=62395 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify the current state of monitor instance] ****************************************
2021-12-08 23:40:15,083 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:40:15,091 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy02]
2021-12-08 23:40:15,107 p=62395 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *******************************************************************************
2021-12-08 23:40:15,178 p=62395 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": true,
        "cmd": "( ps -ef | grep postgres )",
        "delta": "0:00:00.043274",
        "end": "2021-12-08 23:40:14.888240",
        "failed": false,
        "rc": 0,
        "start": "2021-12-08 23:40:14.844966",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "postgres  9996     1  0 23:40 ?        00:00:00 /usr/bin/pg_autoctl run\npostgres  9999  9996  0 23:40 ?        00:00:00 pg_autoctl: start/stop postgres\npostgres 10000  9996  0 23:40 ?        00:00:00 pg_autoctl: monitor listener\npostgres 10021  9999  3 23:40 ?        00:00:00 /bin/postgres -D /var/lib/pgsql/monitor -p 5432 -h *\npostgres 10097 10021  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: logger   \npostgres 10123 10021  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: checkpointer   \npostgres 10124 10021  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: background writer  \npostgres 10125 10021  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: walwriter   \npostgres 10126 10021  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: autovacuum launcher  \npostgres 10127 10021  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: stats collector  \npostgres 10128 10021  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor  \npostgres 10129 10021  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: logical replication launcher  \npostgres 10138 10021  1 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor worker  \npostgres 10139 10021  2 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor worker  \npostgres 10140 10021  2 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: autoctl_node pg_auto_failover [local] idle\njomoon   10235  6406  0 23:40 pts/0    00:00:00 /bin/sh -c sudo -H -S  -p \"[sudo via ansible, key=pftjthscyjirudpxjybztifwufkvdpcu] password:\" -u postgres /bin/sh -c 'echo BECOME-SUCCESS-pftjthscyjirudpxjybztifwufkvdpcu ; /usr/bin/python /var/tmp/ansible-tmp-1638974414.604195-64044-280627058937721/AnsiballZ_command.py' && sleep 0\nroot     10257 10235  0 23:40 pts/0    00:00:00 sudo -H -S -p [sudo via ansible, key=pftjthscyjirudpxjybztifwufkvdpcu] password: -u postgres /bin/sh -c echo BECOME-SUCCESS-pftjthscyjirudpxjybztifwufkvdpcu ; /usr/bin/python /var/tmp/ansible-tmp-1638974414.604195-64044-280627058937721/AnsiballZ_command.py\npostgres 10258 10257  0 23:40 pts/0    00:00:00 /bin/sh -c echo BECOME-SUCCESS-pftjthscyjirudpxjybztifwufkvdpcu ; /usr/bin/python /var/tmp/ansible-tmp-1638974414.604195-64044-280627058937721/AnsiballZ_command.py\npostgres 10259 10258  0 23:40 pts/0    00:00:00 /usr/bin/python /var/tmp/ansible-tmp-1638974414.604195-64044-280627058937721/AnsiballZ_command.py\npostgres 10260 10259  0 23:40 pts/0    00:00:00 /bin/sh -c ( ps -ef | grep postgres )\npostgres 10261 10260  0 23:40 pts/0    00:00:00 /bin/sh -c ( ps -ef | grep postgres )\npostgres 10262 10261  0 23:40 pts/0    00:00:00 ps -ef\npostgres 10263 10261  0 23:40 pts/0    00:00:00 grep postgres",
        "stdout_lines": [
            "postgres  9996     1  0 23:40 ?        00:00:00 /usr/bin/pg_autoctl run",
            "postgres  9999  9996  0 23:40 ?        00:00:00 pg_autoctl: start/stop postgres",
            "postgres 10000  9996  0 23:40 ?        00:00:00 pg_autoctl: monitor listener",
            "postgres 10021  9999  3 23:40 ?        00:00:00 /bin/postgres -D /var/lib/pgsql/monitor -p 5432 -h *",
            "postgres 10097 10021  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: logger   ",
            "postgres 10123 10021  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: checkpointer   ",
            "postgres 10124 10021  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: background writer  ",
            "postgres 10125 10021  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: walwriter   ",
            "postgres 10126 10021  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: autovacuum launcher  ",
            "postgres 10127 10021  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: stats collector  ",
            "postgres 10128 10021  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor  ",
            "postgres 10129 10021  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: logical replication launcher  ",
            "postgres 10138 10021  1 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor worker  ",
            "postgres 10139 10021  2 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor worker  ",
            "postgres 10140 10021  2 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: autoctl_node pg_auto_failover [local] idle",
            "jomoon   10235  6406  0 23:40 pts/0    00:00:00 /bin/sh -c sudo -H -S  -p \"[sudo via ansible, key=pftjthscyjirudpxjybztifwufkvdpcu] password:\" -u postgres /bin/sh -c 'echo BECOME-SUCCESS-pftjthscyjirudpxjybztifwufkvdpcu ; /usr/bin/python /var/tmp/ansible-tmp-1638974414.604195-64044-280627058937721/AnsiballZ_command.py' && sleep 0",
            "root     10257 10235  0 23:40 pts/0    00:00:00 sudo -H -S -p [sudo via ansible, key=pftjthscyjirudpxjybztifwufkvdpcu] password: -u postgres /bin/sh -c echo BECOME-SUCCESS-pftjthscyjirudpxjybztifwufkvdpcu ; /usr/bin/python /var/tmp/ansible-tmp-1638974414.604195-64044-280627058937721/AnsiballZ_command.py",
            "postgres 10258 10257  0 23:40 pts/0    00:00:00 /bin/sh -c echo BECOME-SUCCESS-pftjthscyjirudpxjybztifwufkvdpcu ; /usr/bin/python /var/tmp/ansible-tmp-1638974414.604195-64044-280627058937721/AnsiballZ_command.py",
            "postgres 10259 10258  0 23:40 pts/0    00:00:00 /usr/bin/python /var/tmp/ansible-tmp-1638974414.604195-64044-280627058937721/AnsiballZ_command.py",
            "postgres 10260 10259  0 23:40 pts/0    00:00:00 /bin/sh -c ( ps -ef | grep postgres )",
            "postgres 10261 10260  0 23:40 pts/0    00:00:00 /bin/sh -c ( ps -ef | grep postgres )",
            "postgres 10262 10261  0 23:40 pts/0    00:00:00 ps -ef",
            "postgres 10263 10261  0 23:40 pts/0    00:00:00 grep postgres"
        ]
    }
}
2021-12-08 23:40:15,205 p=62395 u=pivotal n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": true,
        "cmd": "( ps -ef | grep postgres )",
        "delta": "0:00:00.042450",
        "end": "2021-12-08 23:40:13.889812",
        "failed": false,
        "rc": 0,
        "start": "2021-12-08 23:40:13.847362",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "postgres 10058     1  0 23:40 ?        00:00:00 /usr/bin/pg_autoctl run\npostgres 10061 10058  0 23:40 ?        00:00:00 pg_autoctl: start/stop postgres\npostgres 10062 10058  0 23:40 ?        00:00:00 pg_autoctl: monitor listener\npostgres 10084 10061  3 23:40 ?        00:00:00 /bin/postgres -D /var/lib/pgsql/monitor -p 5432 -h *\npostgres 10159 10084  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: logger   \npostgres 10213 10084  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: checkpointer   \npostgres 10214 10084  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: background writer  \npostgres 10215 10084  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: walwriter   \npostgres 10216 10084  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: autovacuum launcher  \npostgres 10217 10084  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: stats collector  \npostgres 10218 10084  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor  \npostgres 10219 10084  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: logical replication launcher  \npostgres 10220 10084  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor worker  \npostgres 10221 10084  2 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor worker  \npostgres 10222 10084  3 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: autoctl_node pg_auto_failover [local] idle\njomoon   10297  6238  0 23:40 pts/0    00:00:00 /bin/sh -c sudo -H -S  -p \"[sudo via ansible, key=ddlzuswjxgjvxsdytsgnotoqqslvtsud] password:\" -u postgres /bin/sh -c 'echo BECOME-SUCCESS-ddlzuswjxgjvxsdytsgnotoqqslvtsud ; /usr/bin/python /var/tmp/ansible-tmp-1638974414.624956-64045-40376509694072/AnsiballZ_command.py' && sleep 0\nroot     10319 10297  0 23:40 pts/0    00:00:00 sudo -H -S -p [sudo via ansible, key=ddlzuswjxgjvxsdytsgnotoqqslvtsud] password: -u postgres /bin/sh -c echo BECOME-SUCCESS-ddlzuswjxgjvxsdytsgnotoqqslvtsud ; /usr/bin/python /var/tmp/ansible-tmp-1638974414.624956-64045-40376509694072/AnsiballZ_command.py\npostgres 10320 10319  0 23:40 pts/0    00:00:00 /bin/sh -c echo BECOME-SUCCESS-ddlzuswjxgjvxsdytsgnotoqqslvtsud ; /usr/bin/python /var/tmp/ansible-tmp-1638974414.624956-64045-40376509694072/AnsiballZ_command.py\npostgres 10321 10320  0 23:40 pts/0    00:00:00 /usr/bin/python /var/tmp/ansible-tmp-1638974414.624956-64045-40376509694072/AnsiballZ_command.py\npostgres 10322 10321  0 23:40 pts/0    00:00:00 /bin/sh -c ( ps -ef | grep postgres )\npostgres 10323 10322  0 23:40 pts/0    00:00:00 /bin/sh -c ( ps -ef | grep postgres )\npostgres 10324 10323  0 23:40 pts/0    00:00:00 ps -ef\npostgres 10325 10323  0 23:40 pts/0    00:00:00 grep postgres",
        "stdout_lines": [
            "postgres 10058     1  0 23:40 ?        00:00:00 /usr/bin/pg_autoctl run",
            "postgres 10061 10058  0 23:40 ?        00:00:00 pg_autoctl: start/stop postgres",
            "postgres 10062 10058  0 23:40 ?        00:00:00 pg_autoctl: monitor listener",
            "postgres 10084 10061  3 23:40 ?        00:00:00 /bin/postgres -D /var/lib/pgsql/monitor -p 5432 -h *",
            "postgres 10159 10084  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: logger   ",
            "postgres 10213 10084  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: checkpointer   ",
            "postgres 10214 10084  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: background writer  ",
            "postgres 10215 10084  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: walwriter   ",
            "postgres 10216 10084  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: autovacuum launcher  ",
            "postgres 10217 10084  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: stats collector  ",
            "postgres 10218 10084  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor  ",
            "postgres 10219 10084  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: logical replication launcher  ",
            "postgres 10220 10084  0 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor worker  ",
            "postgres 10221 10084  2 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor worker  ",
            "postgres 10222 10084  3 23:40 ?        00:00:00 postgres: pg_auto_failover monitor: autoctl_node pg_auto_failover [local] idle",
            "jomoon   10297  6238  0 23:40 pts/0    00:00:00 /bin/sh -c sudo -H -S  -p \"[sudo via ansible, key=ddlzuswjxgjvxsdytsgnotoqqslvtsud] password:\" -u postgres /bin/sh -c 'echo BECOME-SUCCESS-ddlzuswjxgjvxsdytsgnotoqqslvtsud ; /usr/bin/python /var/tmp/ansible-tmp-1638974414.624956-64045-40376509694072/AnsiballZ_command.py' && sleep 0",
            "root     10319 10297  0 23:40 pts/0    00:00:00 sudo -H -S -p [sudo via ansible, key=ddlzuswjxgjvxsdytsgnotoqqslvtsud] password: -u postgres /bin/sh -c echo BECOME-SUCCESS-ddlzuswjxgjvxsdytsgnotoqqslvtsud ; /usr/bin/python /var/tmp/ansible-tmp-1638974414.624956-64045-40376509694072/AnsiballZ_command.py",
            "postgres 10320 10319  0 23:40 pts/0    00:00:00 /bin/sh -c echo BECOME-SUCCESS-ddlzuswjxgjvxsdytsgnotoqqslvtsud ; /usr/bin/python /var/tmp/ansible-tmp-1638974414.624956-64045-40376509694072/AnsiballZ_command.py",
            "postgres 10321 10320  0 23:40 pts/0    00:00:00 /usr/bin/python /var/tmp/ansible-tmp-1638974414.624956-64045-40376509694072/AnsiballZ_command.py",
            "postgres 10322 10321  0 23:40 pts/0    00:00:00 /bin/sh -c ( ps -ef | grep postgres )",
            "postgres 10323 10322  0 23:40 pts/0    00:00:00 /bin/sh -c ( ps -ef | grep postgres )",
            "postgres 10324 10323  0 23:40 pts/0    00:00:00 ps -ef",
            "postgres 10325 10323  0 23:40 pts/0    00:00:00 grep postgres"
        ]
    }
}
2021-12-08 23:40:15,224 p=62395 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify the current state of monitor] *************************************************
2021-12-08 23:40:15,878 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy02]
2021-12-08 23:40:17,010 p=62395 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:40:17,024 p=62395 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *******************************************************************************
2021-12-08 23:40:17,091 p=62395 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": true,
        "cmd": "( psql -c \"\\l\" )",
        "delta": "0:00:00.205087",
        "end": "2021-12-08 23:40:16.722389",
        "failed": false,
        "rc": 0,
        "start": "2021-12-08 23:40:16.517302",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "                                 List of databases\n       Name       |  Owner   | Encoding  | Collate | Ctype |   Access privileges   \n------------------+----------+-----------+---------+-------+-----------------------\n pg_auto_failover | autoctl  | SQL_ASCII | C       | C     | \n postgres         | postgres | SQL_ASCII | C       | C     | \n template0        | postgres | SQL_ASCII | C       | C     | =c/postgres          +\n                  |          |           |         |       | postgres=CTc/postgres\n template1        | postgres | SQL_ASCII | C       | C     | =c/postgres          +\n                  |          |           |         |       | postgres=CTc/postgres\n(4 rows)",
        "stdout_lines": [
            "                                 List of databases",
            "       Name       |  Owner   | Encoding  | Collate | Ctype |   Access privileges   ",
            "------------------+----------+-----------+---------+-------+-----------------------",
            " pg_auto_failover | autoctl  | SQL_ASCII | C       | C     | ",
            " postgres         | postgres | SQL_ASCII | C       | C     | ",
            " template0        | postgres | SQL_ASCII | C       | C     | =c/postgres          +",
            "                  |          |           |         |       | postgres=CTc/postgres",
            " template1        | postgres | SQL_ASCII | C       | C     | =c/postgres          +",
            "                  |          |           |         |       | postgres=CTc/postgres",
            "(4 rows)"
        ]
    }
}
2021-12-08 23:40:17,118 p=62395 u=pivotal n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": true,
        "cmd": "( psql -c \"\\l\" )",
        "delta": "0:00:00.010415",
        "end": "2021-12-08 23:40:14.613355",
        "failed": false,
        "rc": 0,
        "start": "2021-12-08 23:40:14.602940",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "                                 List of databases\n       Name       |  Owner   | Encoding  | Collate | Ctype |   Access privileges   \n------------------+----------+-----------+---------+-------+-----------------------\n pg_auto_failover | autoctl  | SQL_ASCII | C       | C     | \n postgres         | postgres | SQL_ASCII | C       | C     | \n template0        | postgres | SQL_ASCII | C       | C     | =c/postgres          +\n                  |          |           |         |       | postgres=CTc/postgres\n template1        | postgres | SQL_ASCII | C       | C     | =c/postgres          +\n                  |          |           |         |       | postgres=CTc/postgres\n(4 rows)",
        "stdout_lines": [
            "                                 List of databases",
            "       Name       |  Owner   | Encoding  | Collate | Ctype |   Access privileges   ",
            "------------------+----------+-----------+---------+-------+-----------------------",
            " pg_auto_failover | autoctl  | SQL_ASCII | C       | C     | ",
            " postgres         | postgres | SQL_ASCII | C       | C     | ",
            " template0        | postgres | SQL_ASCII | C       | C     | =c/postgres          +",
            "                  |          |           |         |       | postgres=CTc/postgres",
            " template1        | postgres | SQL_ASCII | C       | C     | =c/postgres          +",
            "                  |          |           |         |       | postgres=CTc/postgres",
            "(4 rows)"
        ]
    }
}
2021-12-08 23:40:17,135 p=62395 u=pivotal n=ansible | TASK [pgfailover-postgres : Create primiary instance. It will automatically be set by the monitor as the primary node with read-write capability (PGDATA = /var/lib/pgpsql/ha)] ***
2021-12-08 23:40:17,169 p=62395 u=pivotal n=ansible | fatal: [postgres-haproxy01]: FAILED! => {"msg": "The conditional check 'inventory_hostname in groups['primary']' failed. The error was: error while evaluating conditional (inventory_hostname in groups['primary']): 'dict object' has no attribute 'primary'\n\nThe error appears to be in '/Users/pivotal/postgres-cluster/roles/pgfailover-postgres/tasks/pgfailover-postgres-install.yml': line 210, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n# Primary instance\n- name: Create primiary instance. It will automatically be set by the monitor as the primary node with read-write capability (PGDATA = /var/lib/pgpsql/ha)\n  ^ here\n"}
2021-12-08 23:40:17,184 p=62395 u=pivotal n=ansible | fatal: [postgres-haproxy02]: FAILED! => {"msg": "The conditional check 'inventory_hostname in groups['primary']' failed. The error was: error while evaluating conditional (inventory_hostname in groups['primary']): 'dict object' has no attribute 'primary'\n\nThe error appears to be in '/Users/pivotal/postgres-cluster/roles/pgfailover-postgres/tasks/pgfailover-postgres-install.yml': line 210, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n# Primary instance\n- name: Create primiary instance. It will automatically be set by the monitor as the primary node with read-write capability (PGDATA = /var/lib/pgpsql/ha)\n  ^ here\n"}
2021-12-08 23:40:17,188 p=62395 u=pivotal n=ansible | PLAY RECAP *******************************************************************************************************
2021-12-08 23:40:17,188 p=62395 u=pivotal n=ansible | postgres-ha01              : ok=7    changed=6    unreachable=0    failed=1    skipped=4    rescued=0    ignored=0   
2021-12-08 23:40:17,188 p=62395 u=pivotal n=ansible | postgres-ha02              : ok=7    changed=6    unreachable=0    failed=1    skipped=4    rescued=0    ignored=0   
2021-12-08 23:40:17,188 p=62395 u=pivotal n=ansible | postgres-ha03              : ok=7    changed=6    unreachable=0    failed=1    skipped=4    rescued=0    ignored=0   
2021-12-08 23:40:17,189 p=62395 u=pivotal n=ansible | postgres-haproxy01         : ok=25   changed=15   unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2021-12-08 23:40:17,189 p=62395 u=pivotal n=ansible | postgres-haproxy02         : ok=25   changed=13   unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2021-12-08 23:49:43,066 p=64410 u=pivotal n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will 
be removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2021-12-08 23:49:43,496 p=64410 u=pivotal n=ansible | [WARNING]: While constructing a mapping from /Users/pivotal/postgres-cluster/roles/pgfailover-
postgres/tasks/pgfailover-postgres-install.yml, line 277, column 3, found a duplicate dict key (when). Using last
defined value only.

2021-12-08 23:49:43,572 p=64410 u=pivotal n=ansible | [WARNING]: file /Users/pivotal/postgres-cluster/roles/pgfailover-postgres/tasks/pgfailover-postgres-upgrade.yml
is empty and had no tasks to include

2021-12-08 23:49:43,586 p=64410 u=pivotal n=ansible | PLAY [all] *******************************************************************************************************
2021-12-08 23:49:43,636 p=64410 u=pivotal n=ansible | TASK [Gathering Facts] *******************************************************************************************
2021-12-08 23:49:46,291 p=64410 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-08 23:49:46,294 p=64410 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-08 23:49:46,305 p=64410 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-08 23:49:46,309 p=64410 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-08 23:49:46,332 p=64410 u=pivotal n=ansible | TASK [pgfailover-postgres : Disable port from public zone] *******************************************************
2021-12-08 23:49:47,833 p=64410 u=pivotal n=ansible | changed: [postgres-ha01] => (item=5432)
2021-12-08 23:49:47,901 p=64410 u=pivotal n=ansible | changed: [postgres-ha02] => (item=5432)
2021-12-08 23:49:47,908 p=64410 u=pivotal n=ansible | changed: [postgres-ha03] => (item=5432)
2021-12-08 23:49:48,861 p=64410 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=5432)
2021-12-08 23:49:48,875 p=64410 u=pivotal n=ansible | TASK [pgfailover-postgres : Disable IP Addresses in whitelist] ***************************************************
2021-12-08 23:49:49,985 p=64410 u=pivotal n=ansible | changed: [postgres-ha03] => (item=postgres-haproxy01)
2021-12-08 23:49:50,004 p=64410 u=pivotal n=ansible | changed: [postgres-ha01] => (item=postgres-haproxy01)
2021-12-08 23:49:50,006 p=64410 u=pivotal n=ansible | changed: [postgres-ha02] => (item=postgres-haproxy01)
2021-12-08 23:49:50,012 p=64410 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=postgres-haproxy01)
2021-12-08 23:49:50,955 p=64410 u=pivotal n=ansible | changed: [postgres-ha01] => (item=postgres-ha01)
2021-12-08 23:49:50,956 p=64410 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=postgres-ha01)
2021-12-08 23:49:50,971 p=64410 u=pivotal n=ansible | changed: [postgres-ha03] => (item=postgres-ha01)
2021-12-08 23:49:50,990 p=64410 u=pivotal n=ansible | changed: [postgres-ha02] => (item=postgres-ha01)
2021-12-08 23:49:51,622 p=64410 u=pivotal n=ansible | changed: [postgres-ha01] => (item=postgres-ha02)
2021-12-08 23:49:51,637 p=64410 u=pivotal n=ansible | changed: [postgres-ha03] => (item=postgres-ha02)
2021-12-08 23:49:51,645 p=64410 u=pivotal n=ansible | changed: [postgres-ha02] => (item=postgres-ha02)
2021-12-08 23:49:52,488 p=64410 u=pivotal n=ansible | changed: [postgres-ha02] => (item=postgres-ha03)
2021-12-08 23:49:52,586 p=64410 u=pivotal n=ansible | changed: [postgres-ha01] => (item=postgres-ha03)
2021-12-08 23:49:52,587 p=64410 u=pivotal n=ansible | changed: [postgres-ha03] => (item=postgres-ha03)
2021-12-08 23:49:52,929 p=64410 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=postgres-ha02)
2021-12-08 23:49:53,819 p=64410 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=postgres-ha03)
2021-12-08 23:49:53,836 p=64410 u=pivotal n=ansible | TASK [pgfailover-postgres : Bounce firewalld] ********************************************************************
2021-12-08 23:49:56,483 p=64410 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-08 23:49:56,527 p=64410 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:49:56,589 p=64410 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-08 23:49:56,591 p=64410 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-08 23:49:56,605 p=64410 u=pivotal n=ansible | TASK [pgfailover-postgres : Stop and disable firewalld.] *********************************************************
2021-12-08 23:49:57,426 p=64410 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-08 23:49:57,470 p=64410 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-08 23:49:58,408 p=64410 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:49:58,411 p=64410 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-08 23:49:58,431 p=64410 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify that pg_auto_failover/postgres was installed properly] ************************
2021-12-08 23:49:58,489 p=64410 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-08 23:49:58,514 p=64410 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-08 23:49:58,534 p=64410 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-08 23:49:59,159 p=64410 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:49:59,173 p=64410 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify that pg_auto_failover/postgres was installed properly] ************************
2021-12-08 23:49:59,227 p=64410 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-08 23:49:59,253 p=64410 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-08 23:49:59,271 p=64410 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-08 23:49:59,778 p=64410 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:49:59,791 p=64410 u=pivotal n=ansible | TASK [pgfailover-postgres : Getting process IDs of the pg_autoctl process] ***************************************
2021-12-08 23:50:00,687 p=64410 u=pivotal n=ansible | fatal: [postgres-ha03]: FAILED! => {"changed": false, "msg": "Failed to import the required Python library (psutil) on postgres-ha03.jtest.pivotal.io's Python /usr/bin/python. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2021-12-08 23:50:00,689 p=64410 u=pivotal n=ansible | fatal: [postgres-ha01]: FAILED! => {"changed": false, "msg": "Failed to import the required Python library (psutil) on postgres-ha01.jtest.pivotal.io's Python /usr/bin/python. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2021-12-08 23:50:00,690 p=64410 u=pivotal n=ansible | fatal: [postgres-ha02]: FAILED! => {"changed": false, "msg": "Failed to import the required Python library (psutil) on postgres-ha02.jtest.pivotal.io's Python /usr/bin/python. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2021-12-08 23:50:00,726 p=64410 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-08 23:50:00,741 p=64410 u=pivotal n=ansible | TASK [pgfailover-postgres : Stop pgautofailover service of systemd] **********************************************
2021-12-08 23:50:02,234 p=64410 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:50:02,250 p=64410 u=pivotal n=ansible | TASK [pgfailover-postgres : Delete line in a .bash_profile] ******************************************************
2021-12-08 23:50:02,272 p=64410 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:50:02,285 p=64410 u=pivotal n=ansible | TASK [pgfailover-postgres : Reload and start secondary systemd service of secondary instance] ********************
2021-12-08 23:50:02,310 p=64410 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:50:02,327 p=64410 u=pivotal n=ansible | TASK [pgfailover-postgres : Delete secondary systemd service file of secondary instance] *************************
2021-12-08 23:50:02,368 p=64410 u=pivotal n=ansible | skipping: [postgres-haproxy01] => (item=/etc/systemd/system/pgautofailover.service) 
2021-12-08 23:50:02,369 p=64410 u=pivotal n=ansible | skipping: [postgres-haproxy01] => (item=/var/lib/pgsql/pgautofailover.service) 
2021-12-08 23:50:02,385 p=64410 u=pivotal n=ansible | TASK [pgfailover-postgres : Delete line in a .bash_profile] ******************************************************
2021-12-08 23:50:02,409 p=64410 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:50:02,424 p=64410 u=pivotal n=ansible | TASK [pgfailover-postgres : Reload and start primary systemd service of primary instance] ************************
2021-12-08 23:50:02,448 p=64410 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:50:02,459 p=64410 u=pivotal n=ansible | TASK [pgfailover-postgres : Delete primary systemd service file of secondary instance] ***************************
2021-12-08 23:50:02,489 p=64410 u=pivotal n=ansible | skipping: [postgres-haproxy01] => (item=/etc/systemd/system/pgautofailover.service) 
2021-12-08 23:50:02,491 p=64410 u=pivotal n=ansible | skipping: [postgres-haproxy01] => (item=/var/lib/pgsql/pgautofailover.service) 
2021-12-08 23:50:02,504 p=64410 u=pivotal n=ansible | TASK [pgfailover-postgres : Delete line in a .bash_profile] ******************************************************
2021-12-08 23:50:03,327 p=64410 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:50:03,340 p=64410 u=pivotal n=ansible | TASK [pgfailover-postgres : Reload and start systemd service of monitor instance] ********************************
2021-12-08 23:50:04,262 p=64410 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:50:04,281 p=64410 u=pivotal n=ansible | TASK [pgfailover-postgres : Delete primary systemd service file of secondary instance] ***************************
2021-12-08 23:50:05,112 p=64410 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=/etc/systemd/system/pgautofailover.service)
2021-12-08 23:50:05,671 p=64410 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=/var/lib/pgsql/pgautofailover.service)
2021-12-08 23:50:05,689 p=64410 u=pivotal n=ansible | TASK [pgfailover-postgres : Uninstall VMware Postgres on all hosts as root] **************************************
2021-12-08 23:50:18,258 p=64410 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:50:18,274 p=64410 u=pivotal n=ansible | TASK [pgfailover-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] **************************
2021-12-08 23:50:18,885 p=64410 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:50:18,918 p=64410 u=pivotal n=ansible | PLAY RECAP *******************************************************************************************************
2021-12-08 23:50:18,918 p=64410 u=pivotal n=ansible | postgres-ha01              : ok=5    changed=4    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2021-12-08 23:50:18,918 p=64410 u=pivotal n=ansible | postgres-ha02              : ok=5    changed=4    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2021-12-08 23:50:18,918 p=64410 u=pivotal n=ansible | postgres-ha03              : ok=5    changed=4    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2021-12-08 23:50:18,918 p=64410 u=pivotal n=ansible | postgres-haproxy01         : ok=14   changed=12   unreachable=0    failed=0    skipped=6    rescued=0    ignored=0   
2021-12-08 23:51:11,623 p=65174 u=pivotal n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will 
be removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2021-12-08 23:51:11,918 p=65174 u=pivotal n=ansible | [WARNING]: While constructing a mapping from /Users/pivotal/postgres-cluster/roles/pgfailover-
postgres/tasks/pgfailover-postgres-install.yml, line 277, column 3, found a duplicate dict key (when). Using last
defined value only.

2021-12-08 23:51:11,990 p=65174 u=pivotal n=ansible | [WARNING]: file /Users/pivotal/postgres-cluster/roles/pgfailover-postgres/tasks/pgfailover-postgres-upgrade.yml
is empty and had no tasks to include

2021-12-08 23:51:12,003 p=65174 u=pivotal n=ansible | PLAY [all] *******************************************************************************************************
2021-12-08 23:51:12,045 p=65174 u=pivotal n=ansible | TASK [Gathering Facts] *******************************************************************************************
2021-12-08 23:51:14,150 p=65174 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-08 23:51:14,154 p=65174 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-08 23:51:14,157 p=65174 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-08 23:51:14,163 p=65174 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-08 23:51:14,189 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Start and enable firewalld.] *********************************************************
2021-12-08 23:51:15,586 p=65174 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:51:15,600 p=65174 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-08 23:51:15,618 p=65174 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-08 23:51:15,631 p=65174 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-08 23:51:15,645 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Open Firewall] ***********************************************************************
2021-12-08 23:51:16,974 p=65174 u=pivotal n=ansible | changed: [postgres-ha02] => (item=5432)
2021-12-08 23:51:16,979 p=65174 u=pivotal n=ansible | changed: [postgres-ha01] => (item=5432)
2021-12-08 23:51:17,090 p=65174 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=5432)
2021-12-08 23:51:17,111 p=65174 u=pivotal n=ansible | changed: [postgres-ha03] => (item=5432)
2021-12-08 23:51:17,131 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Whitelist of Ip addresses] ***********************************************************
2021-12-08 23:51:17,987 p=65174 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=postgres-haproxy01)
2021-12-08 23:51:18,016 p=65174 u=pivotal n=ansible | changed: [postgres-ha02] => (item=postgres-haproxy01)
2021-12-08 23:51:18,049 p=65174 u=pivotal n=ansible | changed: [postgres-ha01] => (item=postgres-haproxy01)
2021-12-08 23:51:18,052 p=65174 u=pivotal n=ansible | changed: [postgres-ha03] => (item=postgres-haproxy01)
2021-12-08 23:51:19,143 p=65174 u=pivotal n=ansible | changed: [postgres-ha02] => (item=postgres-ha01)
2021-12-08 23:51:19,144 p=65174 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=postgres-ha01)
2021-12-08 23:51:19,182 p=65174 u=pivotal n=ansible | changed: [postgres-ha03] => (item=postgres-ha01)
2021-12-08 23:51:19,187 p=65174 u=pivotal n=ansible | changed: [postgres-ha01] => (item=postgres-ha01)
2021-12-08 23:51:19,836 p=65174 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=postgres-ha02)
2021-12-08 23:51:19,843 p=65174 u=pivotal n=ansible | changed: [postgres-ha02] => (item=postgres-ha02)
2021-12-08 23:51:19,852 p=65174 u=pivotal n=ansible | changed: [postgres-ha01] => (item=postgres-ha02)
2021-12-08 23:51:19,909 p=65174 u=pivotal n=ansible | changed: [postgres-ha03] => (item=postgres-ha02)
2021-12-08 23:51:20,511 p=65174 u=pivotal n=ansible | changed: [postgres-ha01] => (item=postgres-ha03)
2021-12-08 23:51:20,528 p=65174 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=postgres-ha03)
2021-12-08 23:51:20,557 p=65174 u=pivotal n=ansible | changed: [postgres-ha02] => (item=postgres-ha03)
2021-12-08 23:51:20,586 p=65174 u=pivotal n=ansible | changed: [postgres-ha03] => (item=postgres-ha03)
2021-12-08 23:51:20,601 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Bounce firewalld] ********************************************************************
2021-12-08 23:51:23,142 p=65174 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-08 23:51:23,186 p=65174 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-08 23:51:23,186 p=65174 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-08 23:51:23,192 p=65174 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:51:23,213 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] **************************
2021-12-08 23:51:24,900 p=65174 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-08 23:51:24,901 p=65174 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-08 23:51:24,905 p=65174 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-08 23:51:25,057 p=65174 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:51:25,072 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Install VMware Postgres on all hosts as root] ****************************************
2021-12-08 23:51:32,329 p=65174 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-08 23:51:32,340 p=65174 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-08 23:51:32,878 p=65174 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-08 23:51:39,397 p=65174 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:51:39,423 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify that pg_auto_failover/postgres was installed properly] ************************
2021-12-08 23:51:39,483 p=65174 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-08 23:51:39,507 p=65174 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-08 23:51:39,526 p=65174 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-08 23:51:40,328 p=65174 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:51:40,357 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *******************************************************************************
2021-12-08 23:51:40,419 p=65174 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": "pg_autoctl version 1.4.2\npg_autoctl extension version 1.4\ncompiled with PostgreSQL 12.7 (VMware Postgres 12.7.0) on x86_64-redhat-linux-gnu, compiled by gcc (GCC) 4.8.5 20150623 (Red Hat 4.8.5-44), 64-bit\ncompatible with Postgres 10, 11, 12, and 13"
}
2021-12-08 23:51:40,449 p=65174 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-08 23:51:40,451 p=65174 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-08 23:51:40,468 p=65174 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-08 23:51:40,488 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify that pg_auto_failover/postgres was installed properly] ************************
2021-12-08 23:51:40,558 p=65174 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-08 23:51:40,597 p=65174 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-08 23:51:40,628 p=65174 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-08 23:51:41,123 p=65174 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:51:41,137 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *******************************************************************************
2021-12-08 23:51:41,186 p=65174 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": "pg_ctl (PostgreSQL) 12.7 (VMware Postgres 12.7.0)"
}
2021-12-08 23:51:41,210 p=65174 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-08 23:51:41,212 p=65174 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-08 23:51:41,225 p=65174 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-08 23:51:41,240 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Getting process IDs of the pg_autoctl process] ***************************************
2021-12-08 23:51:41,999 p=65174 u=pivotal n=ansible | fatal: [postgres-ha03]: FAILED! => {"changed": false, "msg": "Failed to import the required Python library (psutil) on postgres-ha03.jtest.pivotal.io's Python /usr/bin/python. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2021-12-08 23:51:42,011 p=65174 u=pivotal n=ansible | fatal: [postgres-ha01]: FAILED! => {"changed": false, "msg": "Failed to import the required Python library (psutil) on postgres-ha01.jtest.pivotal.io's Python /usr/bin/python. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2021-12-08 23:51:42,018 p=65174 u=pivotal n=ansible | fatal: [postgres-ha02]: FAILED! => {"changed": false, "msg": "Failed to import the required Python library (psutil) on postgres-ha02.jtest.pivotal.io's Python /usr/bin/python. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2021-12-08 23:51:42,062 p=65174 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-08 23:51:42,076 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Printing the process IDs obtained] ***************************************************
2021-12-08 23:51:42,125 p=65174 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": "PIDS of pg_autoctl:"
}
2021-12-08 23:51:42,137 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Stop pgautofailover service of systemd] **********************************************
2021-12-08 23:51:42,182 p=65174 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:51:42,194 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *******************************************************************************
2021-12-08 23:51:42,249 p=65174 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-08 23:51:42,261 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Create the monitor node] *************************************************************
2021-12-08 23:51:49,123 p=65174 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:51:49,138 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *******************************************************************************
2021-12-08 23:51:49,208 p=65174 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "ansible_job_id": "981393957596.15938",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; pg_autoctl create monitor --auth trust --ssl-self-signed --pgdata monitor )",
        "delta": "0:00:01.113599",
        "end": "2021-12-08 23:51:44.077136",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-08 23:51:42.963537",
        "stderr": "23:51:42 15947 INFO  Using default --ssl-mode \"require\"\n23:51:42 15947 INFO  Using --ssl-self-signed: pg_autoctl will create self-signed certificates, allowing for encrypted network traffic\n23:51:42 15947 WARN  Self-signed certificates provide protection against eavesdropping; this setup does NOT protect against Man-In-The-Middle attacks nor Impersonation attacks.\n23:51:42 15947 WARN  See https://www.postgresql.org/docs/current/libpq-ssl.html for details\n23:51:43 15947 INFO   /bin/openssl req -new -x509 -days 365 -nodes -text -out /var/lib/pgsql/monitor/server.crt -keyout /var/lib/pgsql/monitor/server.key -subj \"/CN=postgres-haproxy01\"\n23:51:43 15947 INFO  Started pg_autoctl postgres service with pid 15951\n23:51:43 15951 INFO   /usr/bin/pg_autoctl do service postgres --pgdata monitor -v\n23:51:43 15947 INFO  Started pg_autoctl monitor-init service with pid 15952\n23:51:43 15952 INFO  Granting connection privileges on 192.168.0.0/24\n23:51:43 15955 INFO   /bin/postgres -D /var/lib/pgsql/monitor -p 5432 -h *\n23:51:43 15951 INFO  Postgres is now serving PGDATA \"/var/lib/pgsql/monitor\" on port 5432 with pid 15955\n23:51:43 15952 INFO  The user \"autoctl\" already exists, skipping.\n23:51:43 15952 INFO  The database \"pg_auto_failover\" already exists, skipping.\n23:51:43 15952 WARN  NOTICE:  extension \"pgautofailover\" already exists, skipping\n23:51:43 15952 INFO  Your pg_auto_failover monitor instance is now ready on port 5432.\n23:51:43 15952 INFO  Monitor has been successfully initialized.\n23:51:43 15947 WARN  pg_autoctl service monitor-init exited with exit status 0\n23:51:43 15951 INFO  Postgres controller service received signal SIGTERM, terminating\n23:51:43 15951 INFO  Stopping pg_autoctl postgres service\n23:51:43 15951 INFO  /bin/pg_ctl --pgdata /var/lib/pgsql/monitor --wait stop --mode fast\n23:51:43 15947 INFO  Waiting for subprocesses to terminate.\n23:51:44 15947 INFO  Stop pg_autoctl",
        "stderr_lines": [
            "23:51:42 15947 INFO  Using default --ssl-mode \"require\"",
            "23:51:42 15947 INFO  Using --ssl-self-signed: pg_autoctl will create self-signed certificates, allowing for encrypted network traffic",
            "23:51:42 15947 WARN  Self-signed certificates provide protection against eavesdropping; this setup does NOT protect against Man-In-The-Middle attacks nor Impersonation attacks.",
            "23:51:42 15947 WARN  See https://www.postgresql.org/docs/current/libpq-ssl.html for details",
            "23:51:43 15947 INFO   /bin/openssl req -new -x509 -days 365 -nodes -text -out /var/lib/pgsql/monitor/server.crt -keyout /var/lib/pgsql/monitor/server.key -subj \"/CN=postgres-haproxy01\"",
            "23:51:43 15947 INFO  Started pg_autoctl postgres service with pid 15951",
            "23:51:43 15951 INFO   /usr/bin/pg_autoctl do service postgres --pgdata monitor -v",
            "23:51:43 15947 INFO  Started pg_autoctl monitor-init service with pid 15952",
            "23:51:43 15952 INFO  Granting connection privileges on 192.168.0.0/24",
            "23:51:43 15955 INFO   /bin/postgres -D /var/lib/pgsql/monitor -p 5432 -h *",
            "23:51:43 15951 INFO  Postgres is now serving PGDATA \"/var/lib/pgsql/monitor\" on port 5432 with pid 15955",
            "23:51:43 15952 INFO  The user \"autoctl\" already exists, skipping.",
            "23:51:43 15952 INFO  The database \"pg_auto_failover\" already exists, skipping.",
            "23:51:43 15952 WARN  NOTICE:  extension \"pgautofailover\" already exists, skipping",
            "23:51:43 15952 INFO  Your pg_auto_failover monitor instance is now ready on port 5432.",
            "23:51:43 15952 INFO  Monitor has been successfully initialized.",
            "23:51:43 15947 WARN  pg_autoctl service monitor-init exited with exit status 0",
            "23:51:43 15951 INFO  Postgres controller service received signal SIGTERM, terminating",
            "23:51:43 15951 INFO  Stopping pg_autoctl postgres service",
            "23:51:43 15951 INFO  /bin/pg_ctl --pgdata /var/lib/pgsql/monitor --wait stop --mode fast",
            "23:51:43 15947 INFO  Waiting for subprocesses to terminate.",
            "23:51:44 15947 INFO  Stop pg_autoctl"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2021-12-08 23:51:49,222 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Create systemd service file of monitor instance] *************************************
2021-12-08 23:51:56,254 p=65174 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:51:56,267 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Copy systemd service file of monitor instance] ***************************************
2021-12-08 23:51:56,897 p=65174 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:51:56,909 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Reload and start systemd service of monitor instance] ********************************
2021-12-08 23:51:58,269 p=65174 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:51:58,282 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *******************************************************************************
2021-12-08 23:51:58,345 p=65174 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": true,
        "enabled": true,
        "failed": false,
        "name": "pgautofailover",
        "state": "started",
        "status": {
            "ActiveEnterTimestampMonotonic": "0",
            "ActiveExitTimestampMonotonic": "0",
            "ActiveState": "inactive",
            "After": "-.mount systemd-journald.socket system.slice basic.target",
            "AllowIsolate": "no",
            "AmbientCapabilities": "0",
            "AssertResult": "no",
            "AssertTimestampMonotonic": "0",
            "Before": "shutdown.target",
            "BlockIOAccounting": "no",
            "BlockIOWeight": "18446744073709551615",
            "CPUAccounting": "no",
            "CPUQuotaPerSecUSec": "infinity",
            "CPUSchedulingPolicy": "0",
            "CPUSchedulingPriority": "0",
            "CPUSchedulingResetOnFork": "no",
            "CPUShares": "18446744073709551615",
            "CanIsolate": "no",
            "CanReload": "no",
            "CanStart": "yes",
            "CanStop": "yes",
            "CapabilityBoundingSet": "18446744073709551615",
            "CollectMode": "inactive",
            "ConditionResult": "no",
            "ConditionTimestampMonotonic": "0",
            "Conflicts": "shutdown.target",
            "ControlPID": "0",
            "DefaultDependencies": "yes",
            "Delegate": "no",
            "Description": "pg_auto_failover",
            "DevicePolicy": "auto",
            "Environment": "PGDATA=/var/lib/pgsql/monitor",
            "ExecMainCode": "0",
            "ExecMainExitTimestampMonotonic": "0",
            "ExecMainPID": "0",
            "ExecMainStartTimestampMonotonic": "0",
            "ExecMainStatus": "0",
            "ExecStart": "{ path=/usr/bin/pg_autoctl ; argv[]=/usr/bin/pg_autoctl run ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
            "FailureAction": "none",
            "FileDescriptorStoreMax": "0",
            "FragmentPath": "/etc/systemd/system/pgautofailover.service",
            "GuessMainPID": "yes",
            "IOScheduling": "0",
            "Id": "pgautofailover.service",
            "IgnoreOnIsolate": "no",
            "IgnoreOnSnapshot": "no",
            "IgnoreSIGPIPE": "yes",
            "InactiveEnterTimestampMonotonic": "0",
            "InactiveExitTimestampMonotonic": "0",
            "JobTimeoutAction": "none",
            "JobTimeoutUSec": "0",
            "KillMode": "control-group",
            "KillSignal": "15",
            "LimitAS": "18446744073709551615",
            "LimitCORE": "18446744073709551615",
            "LimitCPU": "18446744073709551615",
            "LimitDATA": "18446744073709551615",
            "LimitFSIZE": "18446744073709551615",
            "LimitLOCKS": "18446744073709551615",
            "LimitMEMLOCK": "65536",
            "LimitMSGQUEUE": "819200",
            "LimitNICE": "0",
            "LimitNOFILE": "4096",
            "LimitNPROC": "63444",
            "LimitRSS": "18446744073709551615",
            "LimitRTPRIO": "0",
            "LimitRTTIME": "18446744073709551615",
            "LimitSIGPENDING": "63444",
            "LimitSTACK": "18446744073709551615",
            "LoadState": "loaded",
            "MainPID": "0",
            "MemoryAccounting": "no",
            "MemoryCurrent": "18446744073709551615",
            "MemoryLimit": "18446744073709551615",
            "MountFlags": "0",
            "Names": "pgautofailover.service",
            "NeedDaemonReload": "no",
            "Nice": "0",
            "NoNewPrivileges": "no",
            "NonBlocking": "no",
            "NotifyAccess": "none",
            "OOMScoreAdjust": "0",
            "OnFailureJobMode": "replace",
            "PermissionsStartOnly": "no",
            "PrivateDevices": "no",
            "PrivateNetwork": "no",
            "PrivateTmp": "no",
            "ProtectHome": "no",
            "ProtectSystem": "no",
            "RefuseManualStart": "no",
            "RefuseManualStop": "no",
            "RemainAfterExit": "no",
            "Requires": "-.mount system.slice basic.target",
            "RequiresMountsFor": "/var/lib/pgsql",
            "Restart": "always",
            "RestartUSec": "100ms",
            "Result": "success",
            "RootDirectoryStartOnly": "no",
            "RuntimeDirectoryMode": "0755",
            "SameProcessGroup": "no",
            "SecureBits": "0",
            "SendSIGHUP": "no",
            "SendSIGKILL": "yes",
            "Slice": "system.slice",
            "StandardError": "inherit",
            "StandardInput": "null",
            "StandardOutput": "journal",
            "StartLimitAction": "none",
            "StartLimitBurst": "0",
            "StartLimitInterval": "10000000",
            "StartupBlockIOWeight": "18446744073709551615",
            "StartupCPUShares": "18446744073709551615",
            "StatusErrno": "0",
            "StopWhenUnneeded": "no",
            "SubState": "dead",
            "SyslogLevelPrefix": "yes",
            "SyslogPriority": "30",
            "SystemCallErrorNumber": "0",
            "TTYReset": "no",
            "TTYVHangup": "no",
            "TTYVTDisallocate": "no",
            "TasksAccounting": "no",
            "TasksCurrent": "18446744073709551615",
            "TasksMax": "18446744073709551615",
            "TimeoutStartUSec": "1min 30s",
            "TimeoutStopUSec": "1min 30s",
            "TimerSlackNSec": "50000",
            "Transient": "no",
            "Type": "simple",
            "UMask": "0022",
            "UnitFilePreset": "disabled",
            "UnitFileState": "disabled",
            "User": "postgres",
            "WatchdogTimestampMonotonic": "0",
            "WatchdogUSec": "0",
            "WorkingDirectory": "/var/lib/pgsql"
        }
    }
}
2021-12-08 23:51:58,359 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Replace database directory] **********************************************************
2021-12-08 23:51:59,257 p=65174 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:51:59,270 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify the current state of monitor instance] ****************************************
2021-12-08 23:51:59,985 p=65174 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:51:59,997 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *******************************************************************************
2021-12-08 23:52:00,060 p=65174 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": true,
        "cmd": "( ps -ef | grep postgres )",
        "delta": "0:00:00.021428",
        "end": "2021-12-08 23:51:59.792110",
        "failed": false,
        "rc": 0,
        "start": "2021-12-08 23:51:59.770682",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "postgres 16728     1  0 23:51 ?        00:00:00 /usr/bin/pg_autoctl run\npostgres 16731 16728  0 23:51 ?        00:00:00 pg_autoctl: start/stop postgres\npostgres 16732 16728  0 23:51 ?        00:00:00 pg_autoctl: monitor listener\npostgres 16753 16731  2 23:51 ?        00:00:00 /bin/postgres -D /var/lib/pgsql/monitor -p 5432 -h *\npostgres 16876 16753  0 23:51 ?        00:00:00 postgres: pg_auto_failover monitor: logger   \npostgres 16886 16753  0 23:51 ?        00:00:00 postgres: pg_auto_failover monitor: checkpointer   \npostgres 16887 16753  0 23:51 ?        00:00:00 postgres: pg_auto_failover monitor: background writer  \npostgres 16889 16753  0 23:51 ?        00:00:00 postgres: pg_auto_failover monitor: walwriter   \npostgres 16890 16753  0 23:51 ?        00:00:00 postgres: pg_auto_failover monitor: autovacuum launcher  \npostgres 16891 16753  0 23:51 ?        00:00:00 postgres: pg_auto_failover monitor: stats collector  \npostgres 16892 16753  0 23:51 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor  \npostgres 16893 16753  0 23:51 ?        00:00:00 postgres: pg_auto_failover monitor: logical replication launcher  \npostgres 16903 16753  1 23:51 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor worker  \npostgres 16904 16753  1 23:51 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor worker  \npostgres 16933 16753  0 23:51 ?        00:00:00 postgres: pg_auto_failover monitor: autoctl_node pg_auto_failover [local] idle\njomoon   16968 10502  0 23:51 pts/0    00:00:00 /bin/sh -c sudo -H -S  -p \"[sudo via ansible, key=iblfqywygielmvblwtwcaywujuamxtjd] password:\" -u postgres /bin/sh -c 'echo BECOME-SUCCESS-iblfqywygielmvblwtwcaywujuamxtjd ; /usr/bin/python /var/tmp/ansible-tmp-1638975119.4240818-66138-97837338069837/AnsiballZ_command.py' && sleep 0\nroot     16990 16968  0 23:51 pts/0    00:00:00 sudo -H -S -p [sudo via ansible, key=iblfqywygielmvblwtwcaywujuamxtjd] password: -u postgres /bin/sh -c echo BECOME-SUCCESS-iblfqywygielmvblwtwcaywujuamxtjd ; /usr/bin/python /var/tmp/ansible-tmp-1638975119.4240818-66138-97837338069837/AnsiballZ_command.py\npostgres 16991 16990  0 23:51 pts/0    00:00:00 /bin/sh -c echo BECOME-SUCCESS-iblfqywygielmvblwtwcaywujuamxtjd ; /usr/bin/python /var/tmp/ansible-tmp-1638975119.4240818-66138-97837338069837/AnsiballZ_command.py\npostgres 16992 16991  0 23:51 pts/0    00:00:00 /usr/bin/python /var/tmp/ansible-tmp-1638975119.4240818-66138-97837338069837/AnsiballZ_command.py\npostgres 16993 16992  0 23:51 pts/0    00:00:00 /bin/sh -c ( ps -ef | grep postgres )\npostgres 16994 16993  0 23:51 pts/0    00:00:00 /bin/sh -c ( ps -ef | grep postgres )\npostgres 16995 16994  0 23:51 pts/0    00:00:00 ps -ef\npostgres 16996 16994  0 23:51 pts/0    00:00:00 grep postgres",
        "stdout_lines": [
            "postgres 16728     1  0 23:51 ?        00:00:00 /usr/bin/pg_autoctl run",
            "postgres 16731 16728  0 23:51 ?        00:00:00 pg_autoctl: start/stop postgres",
            "postgres 16732 16728  0 23:51 ?        00:00:00 pg_autoctl: monitor listener",
            "postgres 16753 16731  2 23:51 ?        00:00:00 /bin/postgres -D /var/lib/pgsql/monitor -p 5432 -h *",
            "postgres 16876 16753  0 23:51 ?        00:00:00 postgres: pg_auto_failover monitor: logger   ",
            "postgres 16886 16753  0 23:51 ?        00:00:00 postgres: pg_auto_failover monitor: checkpointer   ",
            "postgres 16887 16753  0 23:51 ?        00:00:00 postgres: pg_auto_failover monitor: background writer  ",
            "postgres 16889 16753  0 23:51 ?        00:00:00 postgres: pg_auto_failover monitor: walwriter   ",
            "postgres 16890 16753  0 23:51 ?        00:00:00 postgres: pg_auto_failover monitor: autovacuum launcher  ",
            "postgres 16891 16753  0 23:51 ?        00:00:00 postgres: pg_auto_failover monitor: stats collector  ",
            "postgres 16892 16753  0 23:51 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor  ",
            "postgres 16893 16753  0 23:51 ?        00:00:00 postgres: pg_auto_failover monitor: logical replication launcher  ",
            "postgres 16903 16753  1 23:51 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor worker  ",
            "postgres 16904 16753  1 23:51 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor worker  ",
            "postgres 16933 16753  0 23:51 ?        00:00:00 postgres: pg_auto_failover monitor: autoctl_node pg_auto_failover [local] idle",
            "jomoon   16968 10502  0 23:51 pts/0    00:00:00 /bin/sh -c sudo -H -S  -p \"[sudo via ansible, key=iblfqywygielmvblwtwcaywujuamxtjd] password:\" -u postgres /bin/sh -c 'echo BECOME-SUCCESS-iblfqywygielmvblwtwcaywujuamxtjd ; /usr/bin/python /var/tmp/ansible-tmp-1638975119.4240818-66138-97837338069837/AnsiballZ_command.py' && sleep 0",
            "root     16990 16968  0 23:51 pts/0    00:00:00 sudo -H -S -p [sudo via ansible, key=iblfqywygielmvblwtwcaywujuamxtjd] password: -u postgres /bin/sh -c echo BECOME-SUCCESS-iblfqywygielmvblwtwcaywujuamxtjd ; /usr/bin/python /var/tmp/ansible-tmp-1638975119.4240818-66138-97837338069837/AnsiballZ_command.py",
            "postgres 16991 16990  0 23:51 pts/0    00:00:00 /bin/sh -c echo BECOME-SUCCESS-iblfqywygielmvblwtwcaywujuamxtjd ; /usr/bin/python /var/tmp/ansible-tmp-1638975119.4240818-66138-97837338069837/AnsiballZ_command.py",
            "postgres 16992 16991  0 23:51 pts/0    00:00:00 /usr/bin/python /var/tmp/ansible-tmp-1638975119.4240818-66138-97837338069837/AnsiballZ_command.py",
            "postgres 16993 16992  0 23:51 pts/0    00:00:00 /bin/sh -c ( ps -ef | grep postgres )",
            "postgres 16994 16993  0 23:51 pts/0    00:00:00 /bin/sh -c ( ps -ef | grep postgres )",
            "postgres 16995 16994  0 23:51 pts/0    00:00:00 ps -ef",
            "postgres 16996 16994  0 23:51 pts/0    00:00:00 grep postgres"
        ]
    }
}
2021-12-08 23:52:00,073 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify the current state of monitor] *************************************************
2021-12-08 23:52:00,764 p=65174 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:52:00,782 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *******************************************************************************
2021-12-08 23:52:00,858 p=65174 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": true,
        "cmd": "( psql -c \"\\l\" )",
        "delta": "0:00:00.010266",
        "end": "2021-12-08 23:52:00.559277",
        "failed": false,
        "rc": 0,
        "start": "2021-12-08 23:52:00.549011",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "                                 List of databases\n       Name       |  Owner   | Encoding  | Collate | Ctype |   Access privileges   \n------------------+----------+-----------+---------+-------+-----------------------\n pg_auto_failover | autoctl  | SQL_ASCII | C       | C     | \n postgres         | postgres | SQL_ASCII | C       | C     | \n template0        | postgres | SQL_ASCII | C       | C     | =c/postgres          +\n                  |          |           |         |       | postgres=CTc/postgres\n template1        | postgres | SQL_ASCII | C       | C     | =c/postgres          +\n                  |          |           |         |       | postgres=CTc/postgres\n(4 rows)",
        "stdout_lines": [
            "                                 List of databases",
            "       Name       |  Owner   | Encoding  | Collate | Ctype |   Access privileges   ",
            "------------------+----------+-----------+---------+-------+-----------------------",
            " pg_auto_failover | autoctl  | SQL_ASCII | C       | C     | ",
            " postgres         | postgres | SQL_ASCII | C       | C     | ",
            " template0        | postgres | SQL_ASCII | C       | C     | =c/postgres          +",
            "                  |          |           |         |       | postgres=CTc/postgres",
            " template1        | postgres | SQL_ASCII | C       | C     | =c/postgres          +",
            "                  |          |           |         |       | postgres=CTc/postgres",
            "(4 rows)"
        ]
    }
}
2021-12-08 23:52:00,874 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Create primiary instance. It will automatically be set by the monitor as the primary node with read-write capability (PGDATA = /var/lib/pgpsql/ha)] ***
2021-12-08 23:52:00,906 p=65174 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:52:00,926 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *******************************************************************************
2021-12-08 23:52:00,956 p=65174 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:52:00,972 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Create systemd service file of pirmary instance] *************************************
2021-12-08 23:52:00,999 p=65174 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:52:01,014 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *******************************************************************************
2021-12-08 23:52:01,039 p=65174 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:52:01,055 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Copy primary systemd service file of primary instance] *******************************
2021-12-08 23:52:01,080 p=65174 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:52:01,094 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Reload and start primary systemd service of primary instance] ************************
2021-12-08 23:52:01,117 p=65174 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:52:01,131 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Replace database directory] **********************************************************
2021-12-08 23:52:01,156 p=65174 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:52:01,171 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify the state of primary instance] ************************************************
2021-12-08 23:52:01,196 p=65174 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:52:01,209 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *******************************************************************************
2021-12-08 23:52:01,237 p=65174 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:52:01,252 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Create secondary instance. It will automatically be set by the monitor as the secondary  node with read-write capability (PGDATA = /var/lib/pgpsql/ha)] ***
2021-12-08 23:52:01,277 p=65174 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:52:01,293 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *******************************************************************************
2021-12-08 23:52:01,321 p=65174 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:52:01,335 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Create systemd service file of secondary instance] ***********************************
2021-12-08 23:52:01,370 p=65174 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:52:01,387 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *******************************************************************************
2021-12-08 23:52:01,417 p=65174 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:52:01,436 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Copy secondary systemd service file of secondary instance] ***************************
2021-12-08 23:52:01,468 p=65174 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:52:01,487 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Reload and start secondary systemd service of secondary instance] ********************
2021-12-08 23:52:01,520 p=65174 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:52:01,536 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Replace database directory] **********************************************************
2021-12-08 23:52:01,563 p=65174 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:52:01,578 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify the state of secondary instance] **********************************************
2021-12-08 23:52:01,604 p=65174 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:52:01,619 p=65174 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *******************************************************************************
2021-12-08 23:52:01,646 p=65174 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:52:01,684 p=65174 u=pivotal n=ansible | PLAY RECAP *******************************************************************************************************
2021-12-08 23:52:01,685 p=65174 u=pivotal n=ansible | postgres-ha01              : ok=7    changed=4    unreachable=0    failed=1    skipped=4    rescued=0    ignored=0   
2021-12-08 23:52:01,685 p=65174 u=pivotal n=ansible | postgres-ha02              : ok=7    changed=4    unreachable=0    failed=1    skipped=4    rescued=0    ignored=0   
2021-12-08 23:52:01,685 p=65174 u=pivotal n=ansible | postgres-ha03              : ok=7    changed=4    unreachable=0    failed=1    skipped=4    rescued=0    ignored=0   
2021-12-08 23:52:01,685 p=65174 u=pivotal n=ansible | postgres-haproxy01         : ok=25   changed=15   unreachable=0    failed=0    skipped=19   rescued=0    ignored=0   
2021-12-08 23:56:43,171 p=66338 u=pivotal n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be
 removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2021-12-08 23:56:43,552 p=66338 u=pivotal n=ansible | [WARNING]: While constructing a mapping from /Users/pivotal/postgres-cluster/roles/pgfailover-
postgres/tasks/pgfailover-postgres-install.yml, line 277, column 3, found a duplicate dict key (when). Using last
defined value only.

2021-12-08 23:56:43,614 p=66338 u=pivotal n=ansible | [WARNING]: file /Users/pivotal/postgres-cluster/roles/pgfailover-postgres/tasks/pgfailover-postgres-upgrade.yml is
empty and had no tasks to include

2021-12-08 23:56:43,626 p=66338 u=pivotal n=ansible | PLAY [all] *********************************************************************************************************
2021-12-08 23:56:43,666 p=66338 u=pivotal n=ansible | TASK [Gathering Facts] *********************************************************************************************
2021-12-08 23:56:45,671 p=66338 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-08 23:56:45,675 p=66338 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-08 23:56:45,684 p=66338 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-08 23:56:45,696 p=66338 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-08 23:56:45,719 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Start and enable firewalld.] ***********************************************************
2021-12-08 23:56:47,179 p=66338 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-08 23:56:47,184 p=66338 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-08 23:56:47,184 p=66338 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-08 23:56:48,322 p=66338 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-08 23:56:48,334 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Open Firewall] *************************************************************************
2021-12-08 23:56:49,318 p=66338 u=pivotal n=ansible | ok: [postgres-ha01] => (item=5432)
2021-12-08 23:56:49,325 p=66338 u=pivotal n=ansible | ok: [postgres-ha03] => (item=5432)
2021-12-08 23:56:49,326 p=66338 u=pivotal n=ansible | ok: [postgres-ha02] => (item=5432)
2021-12-08 23:56:50,798 p=66338 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=5432)
2021-12-08 23:56:50,814 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Whitelist of Ip addresses] *************************************************************
2021-12-08 23:56:51,605 p=66338 u=pivotal n=ansible | ok: [postgres-ha02] => (item=postgres-haproxy01)
2021-12-08 23:56:51,612 p=66338 u=pivotal n=ansible | ok: [postgres-ha01] => (item=postgres-haproxy01)
2021-12-08 23:56:51,642 p=66338 u=pivotal n=ansible | ok: [postgres-ha03] => (item=postgres-haproxy01)
2021-12-08 23:56:52,367 p=66338 u=pivotal n=ansible | ok: [postgres-ha03] => (item=postgres-ha01)
2021-12-08 23:56:52,382 p=66338 u=pivotal n=ansible | ok: [postgres-ha02] => (item=postgres-ha01)
2021-12-08 23:56:52,392 p=66338 u=pivotal n=ansible | ok: [postgres-ha01] => (item=postgres-ha01)
2021-12-08 23:56:52,983 p=66338 u=pivotal n=ansible | ok: [postgres-ha03] => (item=postgres-ha02)
2021-12-08 23:56:53,012 p=66338 u=pivotal n=ansible | ok: [postgres-ha02] => (item=postgres-ha02)
2021-12-08 23:56:53,026 p=66338 u=pivotal n=ansible | ok: [postgres-ha01] => (item=postgres-ha02)
2021-12-08 23:56:53,033 p=66338 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=postgres-haproxy01)
2021-12-08 23:56:53,644 p=66338 u=pivotal n=ansible | ok: [postgres-ha03] => (item=postgres-ha03)
2021-12-08 23:56:53,704 p=66338 u=pivotal n=ansible | ok: [postgres-ha01] => (item=postgres-ha03)
2021-12-08 23:56:53,706 p=66338 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=postgres-ha01)
2021-12-08 23:56:53,711 p=66338 u=pivotal n=ansible | ok: [postgres-ha02] => (item=postgres-ha03)
2021-12-08 23:56:55,109 p=66338 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=postgres-ha02)
2021-12-08 23:56:55,823 p=66338 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=postgres-ha03)
2021-12-08 23:56:55,834 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Bounce firewalld] **********************************************************************
2021-12-08 23:56:57,721 p=66338 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-08 23:56:57,735 p=66338 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-08 23:56:57,748 p=66338 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-08 23:56:58,637 p=66338 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:56:58,659 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] ****************************
2021-12-08 23:56:59,982 p=66338 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-08 23:56:59,995 p=66338 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-08 23:57:00,001 p=66338 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-08 23:57:00,014 p=66338 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-08 23:57:00,040 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Install VMware Postgres on all hosts as root] ******************************************
2021-12-08 23:57:07,587 p=66338 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-08 23:57:07,733 p=66338 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-08 23:57:07,860 p=66338 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-08 23:57:08,542 p=66338 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-08 23:57:08,559 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify that pg_auto_failover/postgres was installed properly] **************************
2021-12-08 23:57:08,609 p=66338 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-08 23:57:08,629 p=66338 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-08 23:57:08,644 p=66338 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-08 23:57:09,485 p=66338 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:57:09,507 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************************************************
2021-12-08 23:57:09,569 p=66338 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": "pg_autoctl version 1.4.2\npg_autoctl extension version 1.4\ncompiled with PostgreSQL 12.7 (VMware Postgres 12.7.0) on x86_64-redhat-linux-gnu, compiled by gcc (GCC) 4.8.5 20150623 (Red Hat 4.8.5-44), 64-bit\ncompatible with Postgres 10, 11, 12, and 13"
}
2021-12-08 23:57:09,596 p=66338 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-08 23:57:09,598 p=66338 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-08 23:57:09,613 p=66338 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-08 23:57:09,628 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify that pg_auto_failover/postgres was installed properly] **************************
2021-12-08 23:57:09,711 p=66338 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-08 23:57:09,712 p=66338 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-08 23:57:09,728 p=66338 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-08 23:57:10,318 p=66338 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:57:10,332 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************************************************
2021-12-08 23:57:10,389 p=66338 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": "pg_ctl (PostgreSQL) 12.7 (VMware Postgres 12.7.0)"
}
2021-12-08 23:57:10,415 p=66338 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-08 23:57:10,416 p=66338 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-08 23:57:10,432 p=66338 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-08 23:57:10,448 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Getting process IDs of the pg_autoctl process] *****************************************
2021-12-08 23:57:11,190 p=66338 u=pivotal n=ansible | fatal: [postgres-ha02]: FAILED! => {"changed": false, "msg": "Failed to import the required Python library (psutil) on postgres-ha02.jtest.pivotal.io's Python /usr/bin/python. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2021-12-08 23:57:11,192 p=66338 u=pivotal n=ansible | fatal: [postgres-ha01]: FAILED! => {"changed": false, "msg": "Failed to import the required Python library (psutil) on postgres-ha01.jtest.pivotal.io's Python /usr/bin/python. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2021-12-08 23:57:11,193 p=66338 u=pivotal n=ansible | fatal: [postgres-ha03]: FAILED! => {"changed": false, "msg": "Failed to import the required Python library (psutil) on postgres-ha03.jtest.pivotal.io's Python /usr/bin/python. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2021-12-08 23:57:11,265 p=66338 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-08 23:57:11,281 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Printing the process IDs obtained] *****************************************************
2021-12-08 23:57:11,343 p=66338 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": "PIDS of pg_autoctl:16728,16731,16732"
}
2021-12-08 23:57:11,353 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Stop pgautofailover service of systemd] ************************************************
2021-12-08 23:57:14,688 p=66338 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:57:14,702 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************************************************
2021-12-08 23:57:14,777 p=66338 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": true,
        "failed": false,
        "name": "pgautofailover",
        "state": "stopped",
        "status": {
            "ActiveEnterTimestamp": "Wed 2021-12-08 23:51:57 KST",
            "ActiveEnterTimestampMonotonic": "2534399888",
            "ActiveExitTimestampMonotonic": "0",
            "ActiveState": "active",
            "After": "-.mount systemd-journald.socket system.slice basic.target",
            "AllowIsolate": "no",
            "AmbientCapabilities": "0",
            "AssertResult": "yes",
            "AssertTimestamp": "Wed 2021-12-08 23:51:57 KST",
            "AssertTimestampMonotonic": "2534398785",
            "Before": "shutdown.target multi-user.target",
            "BlockIOAccounting": "no",
            "BlockIOWeight": "18446744073709551615",
            "CPUAccounting": "no",
            "CPUQuotaPerSecUSec": "infinity",
            "CPUSchedulingPolicy": "0",
            "CPUSchedulingPriority": "0",
            "CPUSchedulingResetOnFork": "no",
            "CPUShares": "18446744073709551615",
            "CanIsolate": "no",
            "CanReload": "no",
            "CanStart": "yes",
            "CanStop": "yes",
            "CapabilityBoundingSet": "18446744073709551615",
            "CollectMode": "inactive",
            "ConditionResult": "yes",
            "ConditionTimestamp": "Wed 2021-12-08 23:51:57 KST",
            "ConditionTimestampMonotonic": "2534398785",
            "Conflicts": "shutdown.target",
            "ControlGroup": "/system.slice/pgautofailover.service",
            "ControlPID": "0",
            "DefaultDependencies": "yes",
            "Delegate": "no",
            "Description": "pg_auto_failover",
            "DevicePolicy": "auto",
            "Environment": "PGDATA=/var/lib/pgsql/monitor",
            "ExecMainCode": "0",
            "ExecMainExitTimestampMonotonic": "0",
            "ExecMainPID": "16728",
            "ExecMainStartTimestamp": "Wed 2021-12-08 23:51:57 KST",
            "ExecMainStartTimestampMonotonic": "2534399828",
            "ExecMainStatus": "0",
            "ExecStart": "{ path=/usr/bin/pg_autoctl ; argv[]=/usr/bin/pg_autoctl run ; ignore_errors=no ; start_time=[Wed 2021-12-08 23:51:57 KST] ; stop_time=[n/a] ; pid=16728 ; code=(null) ; status=0/0 }",
            "FailureAction": "none",
            "FileDescriptorStoreMax": "0",
            "FragmentPath": "/etc/systemd/system/pgautofailover.service",
            "GuessMainPID": "yes",
            "IOScheduling": "0",
            "Id": "pgautofailover.service",
            "IgnoreOnIsolate": "no",
            "IgnoreOnSnapshot": "no",
            "IgnoreSIGPIPE": "yes",
            "InactiveEnterTimestampMonotonic": "0",
            "InactiveExitTimestamp": "Wed 2021-12-08 23:51:57 KST",
            "InactiveExitTimestampMonotonic": "2534399888",
            "JobTimeoutAction": "none",
            "JobTimeoutUSec": "0",
            "KillMode": "control-group",
            "KillSignal": "15",
            "LimitAS": "18446744073709551615",
            "LimitCORE": "18446744073709551615",
            "LimitCPU": "18446744073709551615",
            "LimitDATA": "18446744073709551615",
            "LimitFSIZE": "18446744073709551615",
            "LimitLOCKS": "18446744073709551615",
            "LimitMEMLOCK": "65536",
            "LimitMSGQUEUE": "819200",
            "LimitNICE": "0",
            "LimitNOFILE": "4096",
            "LimitNPROC": "63444",
            "LimitRSS": "18446744073709551615",
            "LimitRTPRIO": "0",
            "LimitRTTIME": "18446744073709551615",
            "LimitSIGPENDING": "63444",
            "LimitSTACK": "18446744073709551615",
            "LoadState": "loaded",
            "MainPID": "16728",
            "MemoryAccounting": "no",
            "MemoryCurrent": "18446744073709551615",
            "MemoryLimit": "18446744073709551615",
            "MountFlags": "0",
            "Names": "pgautofailover.service",
            "NeedDaemonReload": "no",
            "Nice": "0",
            "NoNewPrivileges": "no",
            "NonBlocking": "no",
            "NotifyAccess": "none",
            "OOMScoreAdjust": "0",
            "OnFailureJobMode": "replace",
            "PermissionsStartOnly": "no",
            "PrivateDevices": "no",
            "PrivateNetwork": "no",
            "PrivateTmp": "no",
            "ProtectHome": "no",
            "ProtectSystem": "no",
            "RefuseManualStart": "no",
            "RefuseManualStop": "no",
            "RemainAfterExit": "no",
            "Requires": "-.mount system.slice basic.target",
            "RequiresMountsFor": "/var/lib/pgsql",
            "Restart": "always",
            "RestartUSec": "100ms",
            "Result": "success",
            "RootDirectoryStartOnly": "no",
            "RuntimeDirectoryMode": "0755",
            "SameProcessGroup": "no",
            "SecureBits": "0",
            "SendSIGHUP": "no",
            "SendSIGKILL": "yes",
            "Slice": "system.slice",
            "StandardError": "inherit",
            "StandardInput": "null",
            "StandardOutput": "journal",
            "StartLimitAction": "none",
            "StartLimitBurst": "0",
            "StartLimitInterval": "10000000",
            "StartupBlockIOWeight": "18446744073709551615",
            "StartupCPUShares": "18446744073709551615",
            "StatusErrno": "0",
            "StopWhenUnneeded": "no",
            "SubState": "running",
            "SyslogLevelPrefix": "yes",
            "SyslogPriority": "30",
            "SystemCallErrorNumber": "0",
            "TTYReset": "no",
            "TTYVHangup": "no",
            "TTYVTDisallocate": "no",
            "TasksAccounting": "no",
            "TasksCurrent": "15",
            "TasksMax": "18446744073709551615",
            "TimeoutStartUSec": "1min 30s",
            "TimeoutStopUSec": "1min 30s",
            "TimerSlackNSec": "50000",
            "Transient": "no",
            "Type": "simple",
            "UMask": "0022",
            "UnitFilePreset": "disabled",
            "UnitFileState": "enabled",
            "User": "postgres",
            "WantedBy": "multi-user.target",
            "WatchdogTimestamp": "Wed 2021-12-08 23:51:57 KST",
            "WatchdogTimestampMonotonic": "2534399860",
            "WatchdogUSec": "0",
            "WorkingDirectory": "/var/lib/pgsql"
        }
    }
}
2021-12-08 23:57:14,793 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Create the monitor node] ***************************************************************
2021-12-08 23:57:21,514 p=66338 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:57:21,526 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************************************************
2021-12-08 23:57:21,590 p=66338 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "ansible_job_id": "477822339620.19695",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; pg_autoctl create monitor --auth trust --ssl-self-signed --pgdata monitor )",
        "delta": "0:00:01.013560",
        "end": "2021-12-08 23:57:16.637282",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-08 23:57:15.623722",
        "stderr": "23:57:15 19704 INFO  Using default --ssl-mode \"require\"\n23:57:15 19704 INFO  Using --ssl-self-signed: pg_autoctl will create self-signed certificates, allowing for encrypted network traffic\n23:57:15 19704 WARN  Self-signed certificates provide protection against eavesdropping; this setup does NOT protect against Man-In-The-Middle attacks nor Impersonation attacks.\n23:57:15 19704 WARN  See https://www.postgresql.org/docs/current/libpq-ssl.html for details\n23:57:15 19704 INFO   /bin/openssl req -new -x509 -days 365 -nodes -text -out /var/lib/pgsql/monitor/server.crt -keyout /var/lib/pgsql/monitor/server.key -subj \"/CN=postgres-haproxy01\"\n23:57:15 19704 INFO  Started pg_autoctl postgres service with pid 19708\n23:57:15 19708 INFO   /usr/bin/pg_autoctl do service postgres --pgdata monitor -v\n23:57:15 19704 INFO  Started pg_autoctl monitor-init service with pid 19709\n23:57:15 19709 INFO  Granting connection privileges on 192.168.0.0/24\n23:57:15 19713 INFO   /bin/postgres -D /var/lib/pgsql/monitor -p 5432 -h *\n23:57:16 19708 INFO  Postgres is now serving PGDATA \"/var/lib/pgsql/monitor\" on port 5432 with pid 19713\n23:57:16 19709 INFO  The user \"autoctl\" already exists, skipping.\n23:57:16 19709 INFO  The database \"pg_auto_failover\" already exists, skipping.\n23:57:16 19709 WARN  NOTICE:  extension \"pgautofailover\" already exists, skipping\n23:57:16 19709 INFO  Your pg_auto_failover monitor instance is now ready on port 5432.\n23:57:16 19709 INFO  Monitor has been successfully initialized.\n23:57:16 19704 WARN  pg_autoctl service monitor-init exited with exit status 0\n23:57:16 19708 INFO  Postgres controller service received signal SIGTERM, terminating\n23:57:16 19708 INFO  Stopping pg_autoctl postgres service\n23:57:16 19708 INFO  /bin/pg_ctl --pgdata /var/lib/pgsql/monitor --wait stop --mode fast\n23:57:16 19704 INFO  Waiting for subprocesses to terminate.\n23:57:16 19704 INFO  Stop pg_autoctl",
        "stderr_lines": [
            "23:57:15 19704 INFO  Using default --ssl-mode \"require\"",
            "23:57:15 19704 INFO  Using --ssl-self-signed: pg_autoctl will create self-signed certificates, allowing for encrypted network traffic",
            "23:57:15 19704 WARN  Self-signed certificates provide protection against eavesdropping; this setup does NOT protect against Man-In-The-Middle attacks nor Impersonation attacks.",
            "23:57:15 19704 WARN  See https://www.postgresql.org/docs/current/libpq-ssl.html for details",
            "23:57:15 19704 INFO   /bin/openssl req -new -x509 -days 365 -nodes -text -out /var/lib/pgsql/monitor/server.crt -keyout /var/lib/pgsql/monitor/server.key -subj \"/CN=postgres-haproxy01\"",
            "23:57:15 19704 INFO  Started pg_autoctl postgres service with pid 19708",
            "23:57:15 19708 INFO   /usr/bin/pg_autoctl do service postgres --pgdata monitor -v",
            "23:57:15 19704 INFO  Started pg_autoctl monitor-init service with pid 19709",
            "23:57:15 19709 INFO  Granting connection privileges on 192.168.0.0/24",
            "23:57:15 19713 INFO   /bin/postgres -D /var/lib/pgsql/monitor -p 5432 -h *",
            "23:57:16 19708 INFO  Postgres is now serving PGDATA \"/var/lib/pgsql/monitor\" on port 5432 with pid 19713",
            "23:57:16 19709 INFO  The user \"autoctl\" already exists, skipping.",
            "23:57:16 19709 INFO  The database \"pg_auto_failover\" already exists, skipping.",
            "23:57:16 19709 WARN  NOTICE:  extension \"pgautofailover\" already exists, skipping",
            "23:57:16 19709 INFO  Your pg_auto_failover monitor instance is now ready on port 5432.",
            "23:57:16 19709 INFO  Monitor has been successfully initialized.",
            "23:57:16 19704 WARN  pg_autoctl service monitor-init exited with exit status 0",
            "23:57:16 19708 INFO  Postgres controller service received signal SIGTERM, terminating",
            "23:57:16 19708 INFO  Stopping pg_autoctl postgres service",
            "23:57:16 19708 INFO  /bin/pg_ctl --pgdata /var/lib/pgsql/monitor --wait stop --mode fast",
            "23:57:16 19704 INFO  Waiting for subprocesses to terminate.",
            "23:57:16 19704 INFO  Stop pg_autoctl"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2021-12-08 23:57:21,604 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Create systemd service file of monitor instance] ***************************************
2021-12-08 23:57:28,164 p=66338 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:57:28,176 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Copy systemd service file of monitor instance] *****************************************
2021-12-08 23:57:29,125 p=66338 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-08 23:57:29,144 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Reload and start systemd service of monitor instance] **********************************
2021-12-08 23:57:29,974 p=66338 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:57:29,986 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************************************************
2021-12-08 23:57:30,051 p=66338 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": true,
        "enabled": true,
        "failed": false,
        "name": "pgautofailover",
        "state": "started",
        "status": {
            "ActiveEnterTimestamp": "Wed 2021-12-08 23:51:57 KST",
            "ActiveEnterTimestampMonotonic": "2534399888",
            "ActiveExitTimestamp": "Wed 2021-12-08 23:57:12 KST",
            "ActiveExitTimestampMonotonic": "2848787466",
            "ActiveState": "inactive",
            "After": "basic.target systemd-journald.socket system.slice -.mount",
            "AllowIsolate": "no",
            "AmbientCapabilities": "0",
            "AssertResult": "yes",
            "AssertTimestamp": "Wed 2021-12-08 23:51:57 KST",
            "AssertTimestampMonotonic": "2534398785",
            "Before": "multi-user.target shutdown.target",
            "BlockIOAccounting": "no",
            "BlockIOWeight": "18446744073709551615",
            "CPUAccounting": "no",
            "CPUQuotaPerSecUSec": "infinity",
            "CPUSchedulingPolicy": "0",
            "CPUSchedulingPriority": "0",
            "CPUSchedulingResetOnFork": "no",
            "CPUShares": "18446744073709551615",
            "CanIsolate": "no",
            "CanReload": "no",
            "CanStart": "yes",
            "CanStop": "yes",
            "CapabilityBoundingSet": "18446744073709551615",
            "CollectMode": "inactive",
            "ConditionResult": "yes",
            "ConditionTimestamp": "Wed 2021-12-08 23:51:57 KST",
            "ConditionTimestampMonotonic": "2534398785",
            "Conflicts": "shutdown.target",
            "ControlPID": "0",
            "DefaultDependencies": "yes",
            "Delegate": "no",
            "Description": "pg_auto_failover",
            "DevicePolicy": "auto",
            "Environment": "PGDATA=/var/lib/pgsql/monitor",
            "ExecMainCode": "1",
            "ExecMainExitTimestamp": "Wed 2021-12-08 23:57:14 KST",
            "ExecMainExitTimestampMonotonic": "2850902729",
            "ExecMainPID": "16728",
            "ExecMainStartTimestamp": "Wed 2021-12-08 23:51:57 KST",
            "ExecMainStartTimestampMonotonic": "2534399828",
            "ExecMainStatus": "0",
            "ExecStart": "{ path=/usr/bin/pg_autoctl ; argv[]=/usr/bin/pg_autoctl run ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
            "FailureAction": "none",
            "FileDescriptorStoreMax": "0",
            "FragmentPath": "/etc/systemd/system/pgautofailover.service",
            "GuessMainPID": "yes",
            "IOScheduling": "0",
            "Id": "pgautofailover.service",
            "IgnoreOnIsolate": "no",
            "IgnoreOnSnapshot": "no",
            "IgnoreSIGPIPE": "yes",
            "InactiveEnterTimestamp": "Wed 2021-12-08 23:57:14 KST",
            "InactiveEnterTimestampMonotonic": "2850903380",
            "InactiveExitTimestamp": "Wed 2021-12-08 23:51:57 KST",
            "InactiveExitTimestampMonotonic": "2534399888",
            "JobTimeoutAction": "none",
            "JobTimeoutUSec": "0",
            "KillMode": "control-group",
            "KillSignal": "15",
            "LimitAS": "18446744073709551615",
            "LimitCORE": "18446744073709551615",
            "LimitCPU": "18446744073709551615",
            "LimitDATA": "18446744073709551615",
            "LimitFSIZE": "18446744073709551615",
            "LimitLOCKS": "18446744073709551615",
            "LimitMEMLOCK": "65536",
            "LimitMSGQUEUE": "819200",
            "LimitNICE": "0",
            "LimitNOFILE": "4096",
            "LimitNPROC": "63444",
            "LimitRSS": "18446744073709551615",
            "LimitRTPRIO": "0",
            "LimitRTTIME": "18446744073709551615",
            "LimitSIGPENDING": "63444",
            "LimitSTACK": "18446744073709551615",
            "LoadState": "loaded",
            "MainPID": "0",
            "MemoryAccounting": "no",
            "MemoryCurrent": "18446744073709551615",
            "MemoryLimit": "18446744073709551615",
            "MountFlags": "0",
            "Names": "pgautofailover.service",
            "NeedDaemonReload": "no",
            "Nice": "0",
            "NoNewPrivileges": "no",
            "NonBlocking": "no",
            "NotifyAccess": "none",
            "OOMScoreAdjust": "0",
            "OnFailureJobMode": "replace",
            "PermissionsStartOnly": "no",
            "PrivateDevices": "no",
            "PrivateNetwork": "no",
            "PrivateTmp": "no",
            "ProtectHome": "no",
            "ProtectSystem": "no",
            "RefuseManualStart": "no",
            "RefuseManualStop": "no",
            "RemainAfterExit": "no",
            "Requires": "basic.target system.slice -.mount",
            "RequiresMountsFor": "/var/lib/pgsql",
            "Restart": "always",
            "RestartUSec": "100ms",
            "Result": "success",
            "RootDirectoryStartOnly": "no",
            "RuntimeDirectoryMode": "0755",
            "SameProcessGroup": "no",
            "SecureBits": "0",
            "SendSIGHUP": "no",
            "SendSIGKILL": "yes",
            "Slice": "system.slice",
            "StandardError": "inherit",
            "StandardInput": "null",
            "StandardOutput": "journal",
            "StartLimitAction": "none",
            "StartLimitBurst": "0",
            "StartLimitInterval": "10000000",
            "StartupBlockIOWeight": "18446744073709551615",
            "StartupCPUShares": "18446744073709551615",
            "StatusErrno": "0",
            "StopWhenUnneeded": "no",
            "SubState": "dead",
            "SyslogLevelPrefix": "yes",
            "SyslogPriority": "30",
            "SystemCallErrorNumber": "0",
            "TTYReset": "no",
            "TTYVHangup": "no",
            "TTYVTDisallocate": "no",
            "TasksAccounting": "no",
            "TasksCurrent": "18446744073709551615",
            "TasksMax": "18446744073709551615",
            "TimeoutStartUSec": "1min 30s",
            "TimeoutStopUSec": "1min 30s",
            "TimerSlackNSec": "50000",
            "Transient": "no",
            "Type": "simple",
            "UMask": "0022",
            "UnitFilePreset": "disabled",
            "UnitFileState": "enabled",
            "User": "postgres",
            "WantedBy": "multi-user.target",
            "WatchdogTimestampMonotonic": "0",
            "WatchdogUSec": "0",
            "WorkingDirectory": "/var/lib/pgsql"
        }
    }
}
2021-12-08 23:57:30,067 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Replace database directory] ************************************************************
2021-12-08 23:57:30,933 p=66338 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-08 23:57:30,944 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify the current state of monitor instance] ******************************************
2021-12-08 23:57:31,849 p=66338 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:57:31,860 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************************************************
2021-12-08 23:57:31,915 p=66338 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": true,
        "cmd": "( ps -ef | grep postgres )",
        "delta": "0:00:00.019353",
        "end": "2021-12-08 23:57:31.666542",
        "failed": false,
        "rc": 0,
        "start": "2021-12-08 23:57:31.647189",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "postgres 20456     1  0 23:57 ?        00:00:00 /usr/bin/pg_autoctl run\npostgres 20459 20456  0 23:57 ?        00:00:00 pg_autoctl: start/stop postgres\npostgres 20460 20456  0 23:57 ?        00:00:00 pg_autoctl: monitor listener\npostgres 20488 20459  2 23:57 ?        00:00:00 /bin/postgres -D /var/lib/pgsql/monitor -p 5432 -h *\npostgres 20505 20488  0 23:57 ?        00:00:00 postgres: pg_auto_failover monitor: logger   \njomoon   20683 17315  0 23:57 pts/0    00:00:00 /bin/sh -c sudo -H -S  -p \"[sudo via ansible, key=hztkciqiltdjyhuqkqwnkfecwgnddctc] password:\" -u postgres /bin/sh -c 'echo BECOME-SUCCESS-hztkciqiltdjyhuqkqwnkfecwgnddctc ; /usr/bin/python /var/tmp/ansible-tmp-1638975451.059517-67318-49723904407739/AnsiballZ_command.py' && sleep 0\nroot     20705 20683  0 23:57 pts/0    00:00:00 sudo -H -S -p [sudo via ansible, key=hztkciqiltdjyhuqkqwnkfecwgnddctc] password: -u postgres /bin/sh -c echo BECOME-SUCCESS-hztkciqiltdjyhuqkqwnkfecwgnddctc ; /usr/bin/python /var/tmp/ansible-tmp-1638975451.059517-67318-49723904407739/AnsiballZ_command.py\npostgres 20706 20705  0 23:57 pts/0    00:00:00 /bin/sh -c echo BECOME-SUCCESS-hztkciqiltdjyhuqkqwnkfecwgnddctc ; /usr/bin/python /var/tmp/ansible-tmp-1638975451.059517-67318-49723904407739/AnsiballZ_command.py\npostgres 20707 20706 10 23:57 pts/0    00:00:00 /usr/bin/python /var/tmp/ansible-tmp-1638975451.059517-67318-49723904407739/AnsiballZ_command.py\npostgres 20708 20488  0 23:57 ?        00:00:00 postgres: pg_auto_failover monitor: checkpointer   \npostgres 20709 20488  0 23:57 ?        00:00:00 postgres: pg_auto_failover monitor: background writer  \npostgres 20710 20488  0 23:57 ?        00:00:00 postgres: pg_auto_failover monitor: walwriter   \npostgres 20711 20488  0 23:57 ?        00:00:00 postgres: pg_auto_failover monitor: autovacuum launcher  \npostgres 20712 20488  0 23:57 ?        00:00:00 postgres: pg_auto_failover monitor: stats collector  \npostgres 20713 20488  0 23:57 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor  \npostgres 20714 20488  0 23:57 ?        00:00:00 postgres: pg_auto_failover monitor: logical replication launcher  \npostgres 20715 20488  0 23:57 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor worker  \npostgres 20716 20488  0 23:57 ?        00:00:00 postgres: pg_auto_failover monitor: autoctl_node pg_auto_failover [local] idle\npostgres 20717 20488  0 23:57 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor worker  \npostgres 20718 20707  0 23:57 pts/0    00:00:00 /bin/sh -c ( ps -ef | grep postgres )\npostgres 20719 20718  0 23:57 pts/0    00:00:00 /bin/sh -c ( ps -ef | grep postgres )\npostgres 20720 20719  0 23:57 pts/0    00:00:00 ps -ef\npostgres 20721 20719  0 23:57 pts/0    00:00:00 grep postgres",
        "stdout_lines": [
            "postgres 20456     1  0 23:57 ?        00:00:00 /usr/bin/pg_autoctl run",
            "postgres 20459 20456  0 23:57 ?        00:00:00 pg_autoctl: start/stop postgres",
            "postgres 20460 20456  0 23:57 ?        00:00:00 pg_autoctl: monitor listener",
            "postgres 20488 20459  2 23:57 ?        00:00:00 /bin/postgres -D /var/lib/pgsql/monitor -p 5432 -h *",
            "postgres 20505 20488  0 23:57 ?        00:00:00 postgres: pg_auto_failover monitor: logger   ",
            "jomoon   20683 17315  0 23:57 pts/0    00:00:00 /bin/sh -c sudo -H -S  -p \"[sudo via ansible, key=hztkciqiltdjyhuqkqwnkfecwgnddctc] password:\" -u postgres /bin/sh -c 'echo BECOME-SUCCESS-hztkciqiltdjyhuqkqwnkfecwgnddctc ; /usr/bin/python /var/tmp/ansible-tmp-1638975451.059517-67318-49723904407739/AnsiballZ_command.py' && sleep 0",
            "root     20705 20683  0 23:57 pts/0    00:00:00 sudo -H -S -p [sudo via ansible, key=hztkciqiltdjyhuqkqwnkfecwgnddctc] password: -u postgres /bin/sh -c echo BECOME-SUCCESS-hztkciqiltdjyhuqkqwnkfecwgnddctc ; /usr/bin/python /var/tmp/ansible-tmp-1638975451.059517-67318-49723904407739/AnsiballZ_command.py",
            "postgres 20706 20705  0 23:57 pts/0    00:00:00 /bin/sh -c echo BECOME-SUCCESS-hztkciqiltdjyhuqkqwnkfecwgnddctc ; /usr/bin/python /var/tmp/ansible-tmp-1638975451.059517-67318-49723904407739/AnsiballZ_command.py",
            "postgres 20707 20706 10 23:57 pts/0    00:00:00 /usr/bin/python /var/tmp/ansible-tmp-1638975451.059517-67318-49723904407739/AnsiballZ_command.py",
            "postgres 20708 20488  0 23:57 ?        00:00:00 postgres: pg_auto_failover monitor: checkpointer   ",
            "postgres 20709 20488  0 23:57 ?        00:00:00 postgres: pg_auto_failover monitor: background writer  ",
            "postgres 20710 20488  0 23:57 ?        00:00:00 postgres: pg_auto_failover monitor: walwriter   ",
            "postgres 20711 20488  0 23:57 ?        00:00:00 postgres: pg_auto_failover monitor: autovacuum launcher  ",
            "postgres 20712 20488  0 23:57 ?        00:00:00 postgres: pg_auto_failover monitor: stats collector  ",
            "postgres 20713 20488  0 23:57 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor  ",
            "postgres 20714 20488  0 23:57 ?        00:00:00 postgres: pg_auto_failover monitor: logical replication launcher  ",
            "postgres 20715 20488  0 23:57 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor worker  ",
            "postgres 20716 20488  0 23:57 ?        00:00:00 postgres: pg_auto_failover monitor: autoctl_node pg_auto_failover [local] idle",
            "postgres 20717 20488  0 23:57 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor worker  ",
            "postgres 20718 20707  0 23:57 pts/0    00:00:00 /bin/sh -c ( ps -ef | grep postgres )",
            "postgres 20719 20718  0 23:57 pts/0    00:00:00 /bin/sh -c ( ps -ef | grep postgres )",
            "postgres 20720 20719  0 23:57 pts/0    00:00:00 ps -ef",
            "postgres 20721 20719  0 23:57 pts/0    00:00:00 grep postgres"
        ]
    }
}
2021-12-08 23:57:31,925 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify the current state of monitor] ***************************************************
2021-12-08 23:57:32,586 p=66338 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:57:32,601 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************************************************
2021-12-08 23:57:32,659 p=66338 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": true,
        "cmd": "( psql -c \"\\l\" )",
        "delta": "0:00:00.010379",
        "end": "2021-12-08 23:57:32.402466",
        "failed": false,
        "rc": 0,
        "start": "2021-12-08 23:57:32.392087",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "                                 List of databases\n       Name       |  Owner   | Encoding  | Collate | Ctype |   Access privileges   \n------------------+----------+-----------+---------+-------+-----------------------\n pg_auto_failover | autoctl  | SQL_ASCII | C       | C     | \n postgres         | postgres | SQL_ASCII | C       | C     | \n template0        | postgres | SQL_ASCII | C       | C     | =c/postgres          +\n                  |          |           |         |       | postgres=CTc/postgres\n template1        | postgres | SQL_ASCII | C       | C     | =c/postgres          +\n                  |          |           |         |       | postgres=CTc/postgres\n(4 rows)",
        "stdout_lines": [
            "                                 List of databases",
            "       Name       |  Owner   | Encoding  | Collate | Ctype |   Access privileges   ",
            "------------------+----------+-----------+---------+-------+-----------------------",
            " pg_auto_failover | autoctl  | SQL_ASCII | C       | C     | ",
            " postgres         | postgres | SQL_ASCII | C       | C     | ",
            " template0        | postgres | SQL_ASCII | C       | C     | =c/postgres          +",
            "                  |          |           |         |       | postgres=CTc/postgres",
            " template1        | postgres | SQL_ASCII | C       | C     | =c/postgres          +",
            "                  |          |           |         |       | postgres=CTc/postgres",
            "(4 rows)"
        ]
    }
}
2021-12-08 23:57:32,674 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Create primiary instance. It will automatically be set by the monitor as the primary node with read-write capability (PGDATA = /var/lib/pgpsql/ha)] ***
2021-12-08 23:57:32,698 p=66338 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:57:32,717 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************************************************
2021-12-08 23:57:32,743 p=66338 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:57:32,756 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Create systemd service file of pirmary instance] ***************************************
2021-12-08 23:57:32,782 p=66338 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:57:32,794 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************************************************
2021-12-08 23:57:32,821 p=66338 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:57:32,835 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Copy primary systemd service file of primary instance] *********************************
2021-12-08 23:57:32,860 p=66338 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:57:32,876 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Reload and start primary systemd service of primary instance] **************************
2021-12-08 23:57:32,900 p=66338 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:57:32,915 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Replace database directory] ************************************************************
2021-12-08 23:57:32,940 p=66338 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:57:32,953 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify the state of primary instance] **************************************************
2021-12-08 23:57:32,977 p=66338 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:57:32,990 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************************************************
2021-12-08 23:57:33,014 p=66338 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:57:33,028 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Create secondary instance. It will automatically be set by the monitor as the secondary  node with read-write capability (PGDATA = /var/lib/pgpsql/ha)] ***
2021-12-08 23:57:33,052 p=66338 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:57:33,066 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************************************************
2021-12-08 23:57:33,093 p=66338 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:57:33,108 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Create systemd service file of secondary instance] *************************************
2021-12-08 23:57:33,134 p=66338 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:57:33,148 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************************************************
2021-12-08 23:57:33,173 p=66338 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:57:33,188 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Copy secondary systemd service file of secondary instance] *****************************
2021-12-08 23:57:33,212 p=66338 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:57:33,226 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Reload and start secondary systemd service of secondary instance] **********************
2021-12-08 23:57:33,254 p=66338 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:57:33,269 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Replace database directory] ************************************************************
2021-12-08 23:57:33,298 p=66338 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:57:33,313 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify the state of secondary instance] ************************************************
2021-12-08 23:57:33,339 p=66338 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:57:33,354 p=66338 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************************************************
2021-12-08 23:57:33,379 p=66338 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-08 23:57:33,413 p=66338 u=pivotal n=ansible | PLAY RECAP *********************************************************************************************************
2021-12-08 23:57:33,413 p=66338 u=pivotal n=ansible | postgres-ha01              : ok=7    changed=1    unreachable=0    failed=1    skipped=4    rescued=0    ignored=0   
2021-12-08 23:57:33,413 p=66338 u=pivotal n=ansible | postgres-ha02              : ok=7    changed=1    unreachable=0    failed=1    skipped=4    rescued=0    ignored=0   
2021-12-08 23:57:33,414 p=66338 u=pivotal n=ansible | postgres-ha03              : ok=7    changed=1    unreachable=0    failed=1    skipped=4    rescued=0    ignored=0   
2021-12-08 23:57:33,414 p=66338 u=pivotal n=ansible | postgres-haproxy01         : ok=26   changed=9    unreachable=0    failed=0    skipped=18   rescued=0    ignored=0   
2021-12-08 23:59:40,218 p=67427 u=pivotal n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be
 removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2021-12-08 23:59:40,601 p=67427 u=pivotal n=ansible | [WARNING]: While constructing a mapping from /Users/pivotal/postgres-cluster/roles/pgfailover-
postgres/tasks/pgfailover-postgres-install.yml, line 285, column 3, found a duplicate dict key (when). Using last
defined value only.

2021-12-08 23:59:40,668 p=67427 u=pivotal n=ansible | [WARNING]: file /Users/pivotal/postgres-cluster/roles/pgfailover-postgres/tasks/pgfailover-postgres-upgrade.yml is
empty and had no tasks to include

2021-12-08 23:59:40,680 p=67427 u=pivotal n=ansible | PLAY [all] *********************************************************************************************************
2021-12-08 23:59:40,720 p=67427 u=pivotal n=ansible | TASK [Gathering Facts] *********************************************************************************************
2021-12-08 23:59:43,345 p=67427 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-08 23:59:43,354 p=67427 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-08 23:59:43,368 p=67427 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-08 23:59:44,161 p=67427 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-08 23:59:44,185 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Start and enable firewalld.] ***********************************************************
2021-12-08 23:59:45,275 p=67427 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-08 23:59:45,282 p=67427 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-08 23:59:45,283 p=67427 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-08 23:59:45,295 p=67427 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-08 23:59:45,311 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Open Firewall] *************************************************************************
2021-12-08 23:59:46,549 p=67427 u=pivotal n=ansible | ok: [postgres-ha01] => (item=5432)
2021-12-08 23:59:46,561 p=67427 u=pivotal n=ansible | ok: [postgres-ha03] => (item=5432)
2021-12-08 23:59:46,565 p=67427 u=pivotal n=ansible | ok: [postgres-ha02] => (item=5432)
2021-12-08 23:59:46,575 p=67427 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=5432)
2021-12-08 23:59:46,594 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Whitelist of Ip addresses] *************************************************************
2021-12-08 23:59:47,725 p=67427 u=pivotal n=ansible | ok: [postgres-ha01] => (item=postgres-haproxy01)
2021-12-08 23:59:47,727 p=67427 u=pivotal n=ansible | ok: [postgres-ha02] => (item=postgres-haproxy01)
2021-12-08 23:59:47,745 p=67427 u=pivotal n=ansible | ok: [postgres-ha03] => (item=postgres-haproxy01)
2021-12-08 23:59:47,829 p=67427 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=postgres-haproxy01)
2021-12-08 23:59:48,383 p=67427 u=pivotal n=ansible | ok: [postgres-ha01] => (item=postgres-ha01)
2021-12-08 23:59:48,398 p=67427 u=pivotal n=ansible | ok: [postgres-ha03] => (item=postgres-ha01)
2021-12-08 23:59:48,412 p=67427 u=pivotal n=ansible | ok: [postgres-ha02] => (item=postgres-ha01)
2021-12-08 23:59:48,491 p=67427 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=postgres-ha01)
2021-12-08 23:59:49,058 p=67427 u=pivotal n=ansible | ok: [postgres-ha01] => (item=postgres-ha02)
2021-12-08 23:59:49,089 p=67427 u=pivotal n=ansible | ok: [postgres-ha03] => (item=postgres-ha02)
2021-12-08 23:59:49,122 p=67427 u=pivotal n=ansible | ok: [postgres-ha02] => (item=postgres-ha02)
2021-12-08 23:59:49,250 p=67427 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=postgres-ha02)
2021-12-08 23:59:49,887 p=67427 u=pivotal n=ansible | ok: [postgres-ha01] => (item=postgres-ha03)
2021-12-08 23:59:49,925 p=67427 u=pivotal n=ansible | ok: [postgres-ha03] => (item=postgres-ha03)
2021-12-08 23:59:49,937 p=67427 u=pivotal n=ansible | ok: [postgres-ha02] => (item=postgres-ha03)
2021-12-08 23:59:49,997 p=67427 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=postgres-ha03)
2021-12-08 23:59:50,014 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Bounce firewalld] **********************************************************************
2021-12-08 23:59:52,127 p=67427 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-08 23:59:52,135 p=67427 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-08 23:59:52,201 p=67427 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-08 23:59:52,203 p=67427 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-08 23:59:52,221 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] ****************************
2021-12-08 23:59:53,856 p=67427 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-08 23:59:53,864 p=67427 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-08 23:59:53,874 p=67427 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-08 23:59:53,875 p=67427 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-08 23:59:53,894 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Install dependency rpm package for pgautofailover] *************************************
2021-12-09 00:00:01,803 p=67427 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-09 00:00:44,610 p=67427 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-09 00:00:57,289 p=67427 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-09 00:01:05,938 p=67427 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-09 00:01:05,961 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Install VMware Postgres on all hosts as root] ******************************************
2021-12-09 00:01:12,321 p=67427 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-09 00:01:12,329 p=67427 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-09 00:01:12,502 p=67427 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-09 00:01:13,586 p=67427 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-09 00:01:13,608 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify that pg_auto_failover/postgres was installed properly] **************************
2021-12-09 00:01:13,667 p=67427 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 00:01:13,693 p=67427 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 00:01:13,713 p=67427 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 00:01:14,634 p=67427 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-09 00:01:14,658 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************************************************
2021-12-09 00:01:14,750 p=67427 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": "pg_autoctl version 1.4.2\npg_autoctl extension version 1.4\ncompiled with PostgreSQL 12.7 (VMware Postgres 12.7.0) on x86_64-redhat-linux-gnu, compiled by gcc (GCC) 4.8.5 20150623 (Red Hat 4.8.5-44), 64-bit\ncompatible with Postgres 10, 11, 12, and 13"
}
2021-12-09 00:01:14,777 p=67427 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 00:01:14,779 p=67427 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 00:01:14,797 p=67427 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 00:01:14,815 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify that pg_auto_failover/postgres was installed properly] **************************
2021-12-09 00:01:14,870 p=67427 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 00:01:14,897 p=67427 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 00:01:14,925 p=67427 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 00:01:15,617 p=67427 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-09 00:01:15,633 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************************************************
2021-12-09 00:01:15,694 p=67427 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": "pg_ctl (PostgreSQL) 12.7 (VMware Postgres 12.7.0)"
}
2021-12-09 00:01:15,723 p=67427 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 00:01:15,724 p=67427 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 00:01:15,744 p=67427 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 00:01:15,763 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Getting process IDs of the pg_autoctl process] *****************************************
2021-12-09 00:01:16,673 p=67427 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-09 00:01:16,682 p=67427 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-09 00:01:16,695 p=67427 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-09 00:01:16,695 p=67427 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-09 00:01:16,711 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Printing the process IDs obtained] *****************************************************
2021-12-09 00:01:16,796 p=67427 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": "PIDS of pg_autoctl:20456,20459,20460"
}
2021-12-09 00:01:16,798 p=67427 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": "PIDS of pg_autoctl:"
}
2021-12-09 00:01:16,818 p=67427 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": "PIDS of pg_autoctl:"
}
2021-12-09 00:01:16,847 p=67427 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": "PIDS of pg_autoctl:"
}
2021-12-09 00:01:16,862 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Stop pgautofailover service of systemd] ************************************************
2021-12-09 00:01:16,931 p=67427 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 00:01:16,953 p=67427 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 00:01:16,970 p=67427 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 00:01:19,292 p=67427 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-09 00:01:19,308 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************************************************
2021-12-09 00:01:19,382 p=67427 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": true,
        "failed": false,
        "name": "pgautofailover",
        "state": "stopped",
        "status": {
            "ActiveEnterTimestamp": "Wed 2021-12-08 23:57:29 KST",
            "ActiveEnterTimestampMonotonic": "2866179830",
            "ActiveExitTimestamp": "Wed 2021-12-08 23:57:12 KST",
            "ActiveExitTimestampMonotonic": "2848787466",
            "ActiveState": "active",
            "After": "basic.target systemd-journald.socket system.slice -.mount",
            "AllowIsolate": "no",
            "AmbientCapabilities": "0",
            "AssertResult": "yes",
            "AssertTimestamp": "Wed 2021-12-08 23:57:29 KST",
            "AssertTimestampMonotonic": "2866178751",
            "Before": "multi-user.target shutdown.target",
            "BlockIOAccounting": "no",
            "BlockIOWeight": "18446744073709551615",
            "CPUAccounting": "no",
            "CPUQuotaPerSecUSec": "infinity",
            "CPUSchedulingPolicy": "0",
            "CPUSchedulingPriority": "0",
            "CPUSchedulingResetOnFork": "no",
            "CPUShares": "18446744073709551615",
            "CanIsolate": "no",
            "CanReload": "no",
            "CanStart": "yes",
            "CanStop": "yes",
            "CapabilityBoundingSet": "18446744073709551615",
            "CollectMode": "inactive",
            "ConditionResult": "yes",
            "ConditionTimestamp": "Wed 2021-12-08 23:57:29 KST",
            "ConditionTimestampMonotonic": "2866178751",
            "Conflicts": "shutdown.target",
            "ControlGroup": "/system.slice/pgautofailover.service",
            "ControlPID": "0",
            "DefaultDependencies": "yes",
            "Delegate": "no",
            "Description": "pg_auto_failover",
            "DevicePolicy": "auto",
            "Environment": "PGDATA=/var/lib/pgsql/monitor",
            "ExecMainCode": "0",
            "ExecMainExitTimestampMonotonic": "0",
            "ExecMainPID": "20456",
            "ExecMainStartTimestamp": "Wed 2021-12-08 23:57:29 KST",
            "ExecMainStartTimestampMonotonic": "2866179775",
            "ExecMainStatus": "0",
            "ExecStart": "{ path=/usr/bin/pg_autoctl ; argv[]=/usr/bin/pg_autoctl run ; ignore_errors=no ; start_time=[Wed 2021-12-08 23:57:29 KST] ; stop_time=[n/a] ; pid=20456 ; code=(null) ; status=0/0 }",
            "FailureAction": "none",
            "FileDescriptorStoreMax": "0",
            "FragmentPath": "/etc/systemd/system/pgautofailover.service",
            "GuessMainPID": "yes",
            "IOScheduling": "0",
            "Id": "pgautofailover.service",
            "IgnoreOnIsolate": "no",
            "IgnoreOnSnapshot": "no",
            "IgnoreSIGPIPE": "yes",
            "InactiveEnterTimestamp": "Wed 2021-12-08 23:57:14 KST",
            "InactiveEnterTimestampMonotonic": "2850903380",
            "InactiveExitTimestamp": "Wed 2021-12-08 23:57:29 KST",
            "InactiveExitTimestampMonotonic": "2866179830",
            "JobTimeoutAction": "none",
            "JobTimeoutUSec": "0",
            "KillMode": "control-group",
            "KillSignal": "15",
            "LimitAS": "18446744073709551615",
            "LimitCORE": "18446744073709551615",
            "LimitCPU": "18446744073709551615",
            "LimitDATA": "18446744073709551615",
            "LimitFSIZE": "18446744073709551615",
            "LimitLOCKS": "18446744073709551615",
            "LimitMEMLOCK": "65536",
            "LimitMSGQUEUE": "819200",
            "LimitNICE": "0",
            "LimitNOFILE": "4096",
            "LimitNPROC": "63444",
            "LimitRSS": "18446744073709551615",
            "LimitRTPRIO": "0",
            "LimitRTTIME": "18446744073709551615",
            "LimitSIGPENDING": "63444",
            "LimitSTACK": "18446744073709551615",
            "LoadState": "loaded",
            "MainPID": "20456",
            "MemoryAccounting": "no",
            "MemoryCurrent": "18446744073709551615",
            "MemoryLimit": "18446744073709551615",
            "MountFlags": "0",
            "Names": "pgautofailover.service",
            "NeedDaemonReload": "no",
            "Nice": "0",
            "NoNewPrivileges": "no",
            "NonBlocking": "no",
            "NotifyAccess": "none",
            "OOMScoreAdjust": "0",
            "OnFailureJobMode": "replace",
            "PermissionsStartOnly": "no",
            "PrivateDevices": "no",
            "PrivateNetwork": "no",
            "PrivateTmp": "no",
            "ProtectHome": "no",
            "ProtectSystem": "no",
            "RefuseManualStart": "no",
            "RefuseManualStop": "no",
            "RemainAfterExit": "no",
            "Requires": "basic.target system.slice -.mount",
            "RequiresMountsFor": "/var/lib/pgsql",
            "Restart": "always",
            "RestartUSec": "100ms",
            "Result": "success",
            "RootDirectoryStartOnly": "no",
            "RuntimeDirectoryMode": "0755",
            "SameProcessGroup": "no",
            "SecureBits": "0",
            "SendSIGHUP": "no",
            "SendSIGKILL": "yes",
            "Slice": "system.slice",
            "StandardError": "inherit",
            "StandardInput": "null",
            "StandardOutput": "journal",
            "StartLimitAction": "none",
            "StartLimitBurst": "0",
            "StartLimitInterval": "10000000",
            "StartupBlockIOWeight": "18446744073709551615",
            "StartupCPUShares": "18446744073709551615",
            "StatusErrno": "0",
            "StopWhenUnneeded": "no",
            "SubState": "running",
            "SyslogLevelPrefix": "yes",
            "SyslogPriority": "30",
            "SystemCallErrorNumber": "0",
            "TTYReset": "no",
            "TTYVHangup": "no",
            "TTYVTDisallocate": "no",
            "TasksAccounting": "no",
            "TasksCurrent": "15",
            "TasksMax": "18446744073709551615",
            "TimeoutStartUSec": "1min 30s",
            "TimeoutStopUSec": "1min 30s",
            "TimerSlackNSec": "50000",
            "Transient": "no",
            "Type": "simple",
            "UMask": "0022",
            "UnitFilePreset": "disabled",
            "UnitFileState": "enabled",
            "User": "postgres",
            "WantedBy": "multi-user.target",
            "WatchdogTimestamp": "Wed 2021-12-08 23:57:29 KST",
            "WatchdogTimestampMonotonic": "2866179812",
            "WatchdogUSec": "0",
            "WorkingDirectory": "/var/lib/pgsql"
        }
    }
}
2021-12-09 00:01:19,385 p=67427 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-09 00:01:19,407 p=67427 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-09 00:01:19,426 p=67427 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-09 00:01:19,439 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Create the monitor node] ***************************************************************
2021-12-09 00:01:19,482 p=67427 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 00:01:19,504 p=67427 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 00:01:19,521 p=67427 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 00:01:26,628 p=67427 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-09 00:01:26,643 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************************************************
2021-12-09 00:01:26,695 p=67427 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 00:01:26,730 p=67427 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "ansible_job_id": "473513320896.23639",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; pg_autoctl create monitor --auth trust --ssl-self-signed --pgdata monitor )",
        "delta": "0:00:02.408278",
        "end": "2021-12-09 00:01:22.440946",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-09 00:01:20.032668",
        "stderr": "00:01:20 23648 INFO  Using default --ssl-mode \"require\"\n00:01:20 23648 INFO  Using --ssl-self-signed: pg_autoctl will create self-signed certificates, allowing for encrypted network traffic\n00:01:20 23648 WARN  Self-signed certificates provide protection against eavesdropping; this setup does NOT protect against Man-In-The-Middle attacks nor Impersonation attacks.\n00:01:20 23648 WARN  See https://www.postgresql.org/docs/current/libpq-ssl.html for details\n00:01:20 23648 INFO   /bin/openssl req -new -x509 -days 365 -nodes -text -out /var/lib/pgsql/monitor/server.crt -keyout /var/lib/pgsql/monitor/server.key -subj \"/CN=postgres-haproxy01\"\n00:01:20 23648 INFO  Started pg_autoctl postgres service with pid 23652\n00:01:20 23652 INFO   /usr/bin/pg_autoctl do service postgres --pgdata monitor -v\n00:01:20 23648 INFO  Started pg_autoctl monitor-init service with pid 23653\n00:01:20 23653 INFO  Granting connection privileges on 192.168.0.0/24\n00:01:20 23657 INFO   /bin/postgres -D /var/lib/pgsql/monitor -p 5432 -h *\n00:01:20 23652 INFO  Postgres is now serving PGDATA \"/var/lib/pgsql/monitor\" on port 5432 with pid 23657\n00:01:20 23653 INFO  The user \"autoctl\" already exists, skipping.\n00:01:20 23653 INFO  The database \"pg_auto_failover\" already exists, skipping.\n00:01:20 23653 WARN  NOTICE:  extension \"pgautofailover\" already exists, skipping\n00:01:20 23653 INFO  Your pg_auto_failover monitor instance is now ready on port 5432.\n00:01:20 23653 INFO  Monitor has been successfully initialized.\n00:01:20 23648 WARN  pg_autoctl service monitor-init exited with exit status 0\n00:01:20 23652 INFO  Postgres controller service received signal SIGTERM, terminating\n00:01:20 23652 INFO  Stopping pg_autoctl postgres service\n00:01:20 23652 INFO  /bin/pg_ctl --pgdata /var/lib/pgsql/monitor --wait stop --mode fast\n00:01:20 23648 INFO  Waiting for subprocesses to terminate.\n00:01:22 23648 INFO  Stop pg_autoctl",
        "stderr_lines": [
            "00:01:20 23648 INFO  Using default --ssl-mode \"require\"",
            "00:01:20 23648 INFO  Using --ssl-self-signed: pg_autoctl will create self-signed certificates, allowing for encrypted network traffic",
            "00:01:20 23648 WARN  Self-signed certificates provide protection against eavesdropping; this setup does NOT protect against Man-In-The-Middle attacks nor Impersonation attacks.",
            "00:01:20 23648 WARN  See https://www.postgresql.org/docs/current/libpq-ssl.html for details",
            "00:01:20 23648 INFO   /bin/openssl req -new -x509 -days 365 -nodes -text -out /var/lib/pgsql/monitor/server.crt -keyout /var/lib/pgsql/monitor/server.key -subj \"/CN=postgres-haproxy01\"",
            "00:01:20 23648 INFO  Started pg_autoctl postgres service with pid 23652",
            "00:01:20 23652 INFO   /usr/bin/pg_autoctl do service postgres --pgdata monitor -v",
            "00:01:20 23648 INFO  Started pg_autoctl monitor-init service with pid 23653",
            "00:01:20 23653 INFO  Granting connection privileges on 192.168.0.0/24",
            "00:01:20 23657 INFO   /bin/postgres -D /var/lib/pgsql/monitor -p 5432 -h *",
            "00:01:20 23652 INFO  Postgres is now serving PGDATA \"/var/lib/pgsql/monitor\" on port 5432 with pid 23657",
            "00:01:20 23653 INFO  The user \"autoctl\" already exists, skipping.",
            "00:01:20 23653 INFO  The database \"pg_auto_failover\" already exists, skipping.",
            "00:01:20 23653 WARN  NOTICE:  extension \"pgautofailover\" already exists, skipping",
            "00:01:20 23653 INFO  Your pg_auto_failover monitor instance is now ready on port 5432.",
            "00:01:20 23653 INFO  Monitor has been successfully initialized.",
            "00:01:20 23648 WARN  pg_autoctl service monitor-init exited with exit status 0",
            "00:01:20 23652 INFO  Postgres controller service received signal SIGTERM, terminating",
            "00:01:20 23652 INFO  Stopping pg_autoctl postgres service",
            "00:01:20 23652 INFO  /bin/pg_ctl --pgdata /var/lib/pgsql/monitor --wait stop --mode fast",
            "00:01:20 23648 INFO  Waiting for subprocesses to terminate.",
            "00:01:22 23648 INFO  Stop pg_autoctl"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2021-12-09 00:01:26,732 p=67427 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 00:01:26,746 p=67427 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 00:01:26,761 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Create systemd service file of monitor instance] ***************************************
2021-12-09 00:01:26,812 p=67427 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 00:01:26,839 p=67427 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 00:01:26,857 p=67427 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 00:01:33,357 p=67427 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-09 00:01:33,377 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Copy systemd service file of monitor instance] *****************************************
2021-12-09 00:01:33,433 p=67427 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 00:01:33,457 p=67427 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 00:01:33,475 p=67427 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 00:01:34,278 p=67427 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-09 00:01:34,292 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Reload and start systemd service of monitor instance] **********************************
2021-12-09 00:01:34,357 p=67427 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 00:01:34,413 p=67427 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 00:01:34,432 p=67427 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 00:01:35,302 p=67427 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-09 00:01:35,318 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************************************************
2021-12-09 00:01:35,404 p=67427 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 00:01:35,408 p=67427 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": true,
        "enabled": true,
        "failed": false,
        "name": "pgautofailover",
        "state": "started",
        "status": {
            "ActiveEnterTimestamp": "Wed 2021-12-08 23:57:29 KST",
            "ActiveEnterTimestampMonotonic": "2866179830",
            "ActiveExitTimestamp": "Thu 2021-12-09 00:01:18 KST",
            "ActiveExitTimestampMonotonic": "3094437493",
            "ActiveState": "inactive",
            "After": "systemd-journald.socket basic.target system.slice -.mount",
            "AllowIsolate": "no",
            "AmbientCapabilities": "0",
            "AssertResult": "yes",
            "AssertTimestamp": "Wed 2021-12-08 23:57:29 KST",
            "AssertTimestampMonotonic": "2866178751",
            "Before": "multi-user.target shutdown.target",
            "BlockIOAccounting": "no",
            "BlockIOWeight": "18446744073709551615",
            "CPUAccounting": "no",
            "CPUQuotaPerSecUSec": "infinity",
            "CPUSchedulingPolicy": "0",
            "CPUSchedulingPriority": "0",
            "CPUSchedulingResetOnFork": "no",
            "CPUShares": "18446744073709551615",
            "CanIsolate": "no",
            "CanReload": "no",
            "CanStart": "yes",
            "CanStop": "yes",
            "CapabilityBoundingSet": "18446744073709551615",
            "CollectMode": "inactive",
            "ConditionResult": "yes",
            "ConditionTimestamp": "Wed 2021-12-08 23:57:29 KST",
            "ConditionTimestampMonotonic": "2866178751",
            "Conflicts": "shutdown.target",
            "ControlPID": "0",
            "DefaultDependencies": "yes",
            "Delegate": "no",
            "Description": "pg_auto_failover",
            "DevicePolicy": "auto",
            "Environment": "PGDATA=/var/lib/pgsql/monitor",
            "ExecMainCode": "1",
            "ExecMainExitTimestamp": "Thu 2021-12-09 00:01:19 KST",
            "ExecMainExitTimestampMonotonic": "3095444506",
            "ExecMainPID": "20456",
            "ExecMainStartTimestamp": "Wed 2021-12-08 23:57:29 KST",
            "ExecMainStartTimestampMonotonic": "2866179775",
            "ExecMainStatus": "0",
            "ExecStart": "{ path=/usr/bin/pg_autoctl ; argv[]=/usr/bin/pg_autoctl run ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
            "FailureAction": "none",
            "FileDescriptorStoreMax": "0",
            "FragmentPath": "/etc/systemd/system/pgautofailover.service",
            "GuessMainPID": "yes",
            "IOScheduling": "0",
            "Id": "pgautofailover.service",
            "IgnoreOnIsolate": "no",
            "IgnoreOnSnapshot": "no",
            "IgnoreSIGPIPE": "yes",
            "InactiveEnterTimestamp": "Thu 2021-12-09 00:01:19 KST",
            "InactiveEnterTimestampMonotonic": "3095444690",
            "InactiveExitTimestamp": "Wed 2021-12-08 23:57:29 KST",
            "InactiveExitTimestampMonotonic": "2866179830",
            "JobTimeoutAction": "none",
            "JobTimeoutUSec": "0",
            "KillMode": "control-group",
            "KillSignal": "15",
            "LimitAS": "18446744073709551615",
            "LimitCORE": "18446744073709551615",
            "LimitCPU": "18446744073709551615",
            "LimitDATA": "18446744073709551615",
            "LimitFSIZE": "18446744073709551615",
            "LimitLOCKS": "18446744073709551615",
            "LimitMEMLOCK": "65536",
            "LimitMSGQUEUE": "819200",
            "LimitNICE": "0",
            "LimitNOFILE": "4096",
            "LimitNPROC": "63444",
            "LimitRSS": "18446744073709551615",
            "LimitRTPRIO": "0",
            "LimitRTTIME": "18446744073709551615",
            "LimitSIGPENDING": "63444",
            "LimitSTACK": "18446744073709551615",
            "LoadState": "loaded",
            "MainPID": "0",
            "MemoryAccounting": "no",
            "MemoryCurrent": "18446744073709551615",
            "MemoryLimit": "18446744073709551615",
            "MountFlags": "0",
            "Names": "pgautofailover.service",
            "NeedDaemonReload": "no",
            "Nice": "0",
            "NoNewPrivileges": "no",
            "NonBlocking": "no",
            "NotifyAccess": "none",
            "OOMScoreAdjust": "0",
            "OnFailureJobMode": "replace",
            "PermissionsStartOnly": "no",
            "PrivateDevices": "no",
            "PrivateNetwork": "no",
            "PrivateTmp": "no",
            "ProtectHome": "no",
            "ProtectSystem": "no",
            "RefuseManualStart": "no",
            "RefuseManualStop": "no",
            "RemainAfterExit": "no",
            "Requires": "basic.target system.slice -.mount",
            "RequiresMountsFor": "/var/lib/pgsql",
            "Restart": "always",
            "RestartUSec": "100ms",
            "Result": "success",
            "RootDirectoryStartOnly": "no",
            "RuntimeDirectoryMode": "0755",
            "SameProcessGroup": "no",
            "SecureBits": "0",
            "SendSIGHUP": "no",
            "SendSIGKILL": "yes",
            "Slice": "system.slice",
            "StandardError": "inherit",
            "StandardInput": "null",
            "StandardOutput": "journal",
            "StartLimitAction": "none",
            "StartLimitBurst": "0",
            "StartLimitInterval": "10000000",
            "StartupBlockIOWeight": "18446744073709551615",
            "StartupCPUShares": "18446744073709551615",
            "StatusErrno": "0",
            "StopWhenUnneeded": "no",
            "SubState": "dead",
            "SyslogLevelPrefix": "yes",
            "SyslogPriority": "30",
            "SystemCallErrorNumber": "0",
            "TTYReset": "no",
            "TTYVHangup": "no",
            "TTYVTDisallocate": "no",
            "TasksAccounting": "no",
            "TasksCurrent": "18446744073709551615",
            "TasksMax": "18446744073709551615",
            "TimeoutStartUSec": "1min 30s",
            "TimeoutStopUSec": "1min 30s",
            "TimerSlackNSec": "50000",
            "Transient": "no",
            "Type": "simple",
            "UMask": "0022",
            "UnitFilePreset": "disabled",
            "UnitFileState": "enabled",
            "User": "postgres",
            "WantedBy": "multi-user.target",
            "WatchdogTimestampMonotonic": "0",
            "WatchdogUSec": "0",
            "WorkingDirectory": "/var/lib/pgsql"
        }
    }
}
2021-12-09 00:01:35,408 p=67427 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 00:01:35,419 p=67427 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 00:01:35,434 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Replace database directory] ************************************************************
2021-12-09 00:01:35,488 p=67427 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 00:01:35,511 p=67427 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 00:01:35,527 p=67427 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 00:01:36,502 p=67427 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-09 00:01:36,514 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify the current state of monitor instance] ******************************************
2021-12-09 00:01:36,570 p=67427 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 00:01:36,596 p=67427 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 00:01:36,615 p=67427 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 00:01:37,517 p=67427 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-09 00:01:37,539 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************************************************
2021-12-09 00:01:37,592 p=67427 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 00:01:37,623 p=67427 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": true,
        "cmd": "( ps -ef | grep postgres )",
        "delta": "0:00:00.020940",
        "end": "2021-12-09 00:01:37.338288",
        "failed": false,
        "rc": 0,
        "start": "2021-12-09 00:01:37.317348",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "postgres 24400     1  0 00:01 ?        00:00:00 /usr/bin/pg_autoctl run\npostgres 24403 24400  0 00:01 ?        00:00:00 pg_autoctl: start/stop postgres\npostgres 24404 24400  0 00:01 ?        00:00:00 pg_autoctl: monitor listener\npostgres 24426 24403  3 00:01 ?        00:00:00 /bin/postgres -D /var/lib/pgsql/monitor -p 5432 -h *\npostgres 24445 24426  0 00:01 ?        00:00:00 postgres: pg_auto_failover monitor: logger   \npostgres 24475 24426  0 00:01 ?        00:00:00 postgres: pg_auto_failover monitor: checkpointer   \npostgres 24476 24426  0 00:01 ?        00:00:00 postgres: pg_auto_failover monitor: background writer  \npostgres 24477 24426  0 00:01 ?        00:00:00 postgres: pg_auto_failover monitor: walwriter   \npostgres 24478 24426  0 00:01 ?        00:00:00 postgres: pg_auto_failover monitor: autovacuum launcher  \npostgres 24479 24426  0 00:01 ?        00:00:00 postgres: pg_auto_failover monitor: stats collector  \npostgres 24480 24426  0 00:01 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor  \npostgres 24481 24426  0 00:01 ?        00:00:00 postgres: pg_auto_failover monitor: logical replication launcher  \npostgres 24482 24426  0 00:01 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor worker  \npostgres 24483 24426  2 00:01 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor worker  \npostgres 24496 24426  0 00:01 ?        00:00:00 postgres: pg_auto_failover monitor: autoctl_node pg_auto_failover [local] idle\njomoon   24637 22737  0 00:01 pts/0    00:00:00 /bin/sh -c sudo -H -S  -p \"[sudo via ansible, key=tyqwhnvtpnyewcuxgjwmysebdeypnaag] password:\" -u postgres /bin/sh -c 'echo BECOME-SUCCESS-tyqwhnvtpnyewcuxgjwmysebdeypnaag ; /usr/bin/python /var/tmp/ansible-tmp-1638975696.664169-68825-51495089146498/AnsiballZ_command.py' && sleep 0\nroot     24659 24637  0 00:01 pts/0    00:00:00 sudo -H -S -p [sudo via ansible, key=tyqwhnvtpnyewcuxgjwmysebdeypnaag] password: -u postgres /bin/sh -c echo BECOME-SUCCESS-tyqwhnvtpnyewcuxgjwmysebdeypnaag ; /usr/bin/python /var/tmp/ansible-tmp-1638975696.664169-68825-51495089146498/AnsiballZ_command.py\npostgres 24660 24659  0 00:01 pts/0    00:00:00 /bin/sh -c echo BECOME-SUCCESS-tyqwhnvtpnyewcuxgjwmysebdeypnaag ; /usr/bin/python /var/tmp/ansible-tmp-1638975696.664169-68825-51495089146498/AnsiballZ_command.py\npostgres 24661 24660  0 00:01 pts/0    00:00:00 /usr/bin/python /var/tmp/ansible-tmp-1638975696.664169-68825-51495089146498/AnsiballZ_command.py\npostgres 24662 24661  0 00:01 pts/0    00:00:00 /bin/sh -c ( ps -ef | grep postgres )\npostgres 24663 24662  0 00:01 pts/0    00:00:00 /bin/sh -c ( ps -ef | grep postgres )\npostgres 24664 24663  0 00:01 pts/0    00:00:00 ps -ef\npostgres 24665 24663  0 00:01 pts/0    00:00:00 grep postgres",
        "stdout_lines": [
            "postgres 24400     1  0 00:01 ?        00:00:00 /usr/bin/pg_autoctl run",
            "postgres 24403 24400  0 00:01 ?        00:00:00 pg_autoctl: start/stop postgres",
            "postgres 24404 24400  0 00:01 ?        00:00:00 pg_autoctl: monitor listener",
            "postgres 24426 24403  3 00:01 ?        00:00:00 /bin/postgres -D /var/lib/pgsql/monitor -p 5432 -h *",
            "postgres 24445 24426  0 00:01 ?        00:00:00 postgres: pg_auto_failover monitor: logger   ",
            "postgres 24475 24426  0 00:01 ?        00:00:00 postgres: pg_auto_failover monitor: checkpointer   ",
            "postgres 24476 24426  0 00:01 ?        00:00:00 postgres: pg_auto_failover monitor: background writer  ",
            "postgres 24477 24426  0 00:01 ?        00:00:00 postgres: pg_auto_failover monitor: walwriter   ",
            "postgres 24478 24426  0 00:01 ?        00:00:00 postgres: pg_auto_failover monitor: autovacuum launcher  ",
            "postgres 24479 24426  0 00:01 ?        00:00:00 postgres: pg_auto_failover monitor: stats collector  ",
            "postgres 24480 24426  0 00:01 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor  ",
            "postgres 24481 24426  0 00:01 ?        00:00:00 postgres: pg_auto_failover monitor: logical replication launcher  ",
            "postgres 24482 24426  0 00:01 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor worker  ",
            "postgres 24483 24426  2 00:01 ?        00:00:00 postgres: pg_auto_failover monitor: pg_auto_failover monitor worker  ",
            "postgres 24496 24426  0 00:01 ?        00:00:00 postgres: pg_auto_failover monitor: autoctl_node pg_auto_failover [local] idle",
            "jomoon   24637 22737  0 00:01 pts/0    00:00:00 /bin/sh -c sudo -H -S  -p \"[sudo via ansible, key=tyqwhnvtpnyewcuxgjwmysebdeypnaag] password:\" -u postgres /bin/sh -c 'echo BECOME-SUCCESS-tyqwhnvtpnyewcuxgjwmysebdeypnaag ; /usr/bin/python /var/tmp/ansible-tmp-1638975696.664169-68825-51495089146498/AnsiballZ_command.py' && sleep 0",
            "root     24659 24637  0 00:01 pts/0    00:00:00 sudo -H -S -p [sudo via ansible, key=tyqwhnvtpnyewcuxgjwmysebdeypnaag] password: -u postgres /bin/sh -c echo BECOME-SUCCESS-tyqwhnvtpnyewcuxgjwmysebdeypnaag ; /usr/bin/python /var/tmp/ansible-tmp-1638975696.664169-68825-51495089146498/AnsiballZ_command.py",
            "postgres 24660 24659  0 00:01 pts/0    00:00:00 /bin/sh -c echo BECOME-SUCCESS-tyqwhnvtpnyewcuxgjwmysebdeypnaag ; /usr/bin/python /var/tmp/ansible-tmp-1638975696.664169-68825-51495089146498/AnsiballZ_command.py",
            "postgres 24661 24660  0 00:01 pts/0    00:00:00 /usr/bin/python /var/tmp/ansible-tmp-1638975696.664169-68825-51495089146498/AnsiballZ_command.py",
            "postgres 24662 24661  0 00:01 pts/0    00:00:00 /bin/sh -c ( ps -ef | grep postgres )",
            "postgres 24663 24662  0 00:01 pts/0    00:00:00 /bin/sh -c ( ps -ef | grep postgres )",
            "postgres 24664 24663  0 00:01 pts/0    00:00:00 ps -ef",
            "postgres 24665 24663  0 00:01 pts/0    00:00:00 grep postgres"
        ]
    }
}
2021-12-09 00:01:37,624 p=67427 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 00:01:37,638 p=67427 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 00:01:37,652 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify the current state of monitor] ***************************************************
2021-12-09 00:01:37,725 p=67427 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 00:01:37,726 p=67427 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 00:01:37,742 p=67427 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 00:01:38,524 p=67427 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-09 00:01:38,548 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************************************************
2021-12-09 00:01:38,622 p=67427 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 00:01:38,653 p=67427 u=pivotal n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": true,
        "cmd": "( psql -c \"\\l\" )",
        "delta": "0:00:00.010442",
        "end": "2021-12-09 00:01:38.329656",
        "failed": false,
        "rc": 0,
        "start": "2021-12-09 00:01:38.319214",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "                                 List of databases\n       Name       |  Owner   | Encoding  | Collate | Ctype |   Access privileges   \n------------------+----------+-----------+---------+-------+-----------------------\n pg_auto_failover | autoctl  | SQL_ASCII | C       | C     | \n postgres         | postgres | SQL_ASCII | C       | C     | \n template0        | postgres | SQL_ASCII | C       | C     | =c/postgres          +\n                  |          |           |         |       | postgres=CTc/postgres\n template1        | postgres | SQL_ASCII | C       | C     | =c/postgres          +\n                  |          |           |         |       | postgres=CTc/postgres\n(4 rows)",
        "stdout_lines": [
            "                                 List of databases",
            "       Name       |  Owner   | Encoding  | Collate | Ctype |   Access privileges   ",
            "------------------+----------+-----------+---------+-------+-----------------------",
            " pg_auto_failover | autoctl  | SQL_ASCII | C       | C     | ",
            " postgres         | postgres | SQL_ASCII | C       | C     | ",
            " template0        | postgres | SQL_ASCII | C       | C     | =c/postgres          +",
            "                  |          |           |         |       | postgres=CTc/postgres",
            " template1        | postgres | SQL_ASCII | C       | C     | =c/postgres          +",
            "                  |          |           |         |       | postgres=CTc/postgres",
            "(4 rows)"
        ]
    }
}
2021-12-09 00:01:38,655 p=67427 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 00:01:38,668 p=67427 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 00:01:38,682 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Create primiary instance. It will automatically be set by the monitor as the primary node with read-write capability (PGDATA = /var/lib/pgpsql/ha)] ***
2021-12-09 00:01:38,712 p=67427 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-09 00:01:38,755 p=67427 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 00:01:38,772 p=67427 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 00:01:45,312 p=67427 u=pivotal n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "351717431726.19868", "changed": true, "cmd": "( cd /var/lib/pgsql ;  pg_autoctl create postgres --pgdata \"ha\" --auth trust --ssl-self-signed --username ha-admin --dbname \"appdb\" --hostname \"postgres-ha01\" --pgctl /bin/pg_ctl --monitor 'postgres://autoctl_node@postgres-haproxy01/pg_auto_failover?sslmode=require' )", "delta": "0:00:00.138939", "end": "2021-12-09 00:01:38.994710", "finished": 1, "msg": "non-zero return code", "rc": 1, "start": "2021-12-09 00:01:38.855771", "stderr": "00:01:38 19877 ERROR Failed to create state directory \"/tmp/pg_autoctl\": Permission denied\n00:01:38 19877 ERROR Failed to build pg_autoctl pid file pathname, see above.\n00:01:38 19877 FATAL Failed to set pid filename from PGDATA \"ha\", see above for details.", "stderr_lines": ["00:01:38 19877 ERROR Failed to create state directory \"/tmp/pg_autoctl\": Permission denied", "00:01:38 19877 ERROR Failed to build pg_autoctl pid file pathname, see above.", "00:01:38 19877 FATAL Failed to set pid filename from PGDATA \"ha\", see above for details."], "stdout": "", "stdout_lines": []}
2021-12-09 00:01:45,323 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************************************************
2021-12-09 00:01:45,352 p=67427 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-09 00:01:45,374 p=67427 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 00:01:45,387 p=67427 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 00:01:45,399 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Create systemd service file of pirmary instance] ***************************************
2021-12-09 00:01:45,426 p=67427 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-09 00:01:45,448 p=67427 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 00:01:45,461 p=67427 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 00:01:45,474 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************************************************
2021-12-09 00:01:45,501 p=67427 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-09 00:01:45,522 p=67427 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 00:01:45,535 p=67427 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 00:01:45,549 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Copy primary systemd service file of primary instance] *********************************
2021-12-09 00:01:45,576 p=67427 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-09 00:01:45,599 p=67427 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 00:01:45,614 p=67427 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 00:01:45,630 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Reload and start primary systemd service of primary instance] **************************
2021-12-09 00:01:45,658 p=67427 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-09 00:01:45,684 p=67427 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 00:01:45,700 p=67427 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 00:01:45,710 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Replace database directory] ************************************************************
2021-12-09 00:01:45,740 p=67427 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-09 00:01:45,763 p=67427 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 00:01:45,777 p=67427 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 00:01:45,790 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify the state of primary instance] **************************************************
2021-12-09 00:01:45,818 p=67427 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-09 00:01:45,840 p=67427 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 00:01:45,854 p=67427 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 00:01:45,867 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************************************************
2021-12-09 00:01:45,912 p=67427 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-09 00:01:45,914 p=67427 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 00:01:45,927 p=67427 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 00:01:45,942 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Create secondary instance. It will automatically be set by the monitor as the secondary  node with read-write capability (PGDATA = /var/lib/pgpsql/ha)] ***
2021-12-09 00:01:45,970 p=67427 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-09 00:01:53,320 p=67427 u=pivotal n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "580358323502.20201", "changed": true, "cmd": "( cd /var/lib/pgsql ;  pg_autoctl create postgres --pgdata \"ha\" --auth trust --ssl-self-signed --username ha-admin --dbname \"appdb\" --hostname \"postgres-ha02\" --pgctl /bin/pg_ctl --monitor 'postgres://autoctl_node@postgres-haproxy01/pg_auto_failover?sslmode=require' )", "delta": "0:00:01.045769", "end": "2021-12-09 00:01:47.209258", "finished": 1, "msg": "non-zero return code", "rc": 1, "start": "2021-12-09 00:01:46.163489", "stderr": "00:01:47 20210 ERROR Failed to create state directory \"/tmp/pg_autoctl\": Permission denied\n00:01:47 20210 ERROR Failed to build pg_autoctl pid file pathname, see above.\n00:01:47 20210 FATAL Failed to set pid filename from PGDATA \"ha\", see above for details.", "stderr_lines": ["00:01:47 20210 ERROR Failed to create state directory \"/tmp/pg_autoctl\": Permission denied", "00:01:47 20210 ERROR Failed to build pg_autoctl pid file pathname, see above.", "00:01:47 20210 FATAL Failed to set pid filename from PGDATA \"ha\", see above for details."], "stdout": "", "stdout_lines": []}
2021-12-09 00:01:53,368 p=67427 u=pivotal n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "801323927885.19837", "changed": true, "cmd": "( cd /var/lib/pgsql ;  pg_autoctl create postgres --pgdata \"ha\" --auth trust --ssl-self-signed --username ha-admin --dbname \"appdb\" --hostname \"postgres-ha03\" --pgctl /bin/pg_ctl --monitor 'postgres://autoctl_node@postgres-haproxy01/pg_auto_failover?sslmode=require' )", "delta": "0:00:01.102390", "end": "2021-12-09 00:01:47.795612", "finished": 1, "msg": "non-zero return code", "rc": 1, "start": "2021-12-09 00:01:46.693222", "stderr": "00:01:47 19846 ERROR Failed to create state directory \"/tmp/pg_autoctl\": Permission denied\n00:01:47 19846 ERROR Failed to build pg_autoctl pid file pathname, see above.\n00:01:47 19846 FATAL Failed to set pid filename from PGDATA \"ha\", see above for details.", "stderr_lines": ["00:01:47 19846 ERROR Failed to create state directory \"/tmp/pg_autoctl\": Permission denied", "00:01:47 19846 ERROR Failed to build pg_autoctl pid file pathname, see above.", "00:01:47 19846 FATAL Failed to set pid filename from PGDATA \"ha\", see above for details."], "stdout": "", "stdout_lines": []}
2021-12-09 00:01:53,384 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************************************************
2021-12-09 00:01:53,408 p=67427 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-09 00:01:53,422 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Create systemd service file of secondary instance] *************************************
2021-12-09 00:01:53,447 p=67427 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-09 00:01:53,460 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************************************************
2021-12-09 00:01:53,483 p=67427 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-09 00:01:53,497 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Copy secondary systemd service file of secondary instance] *****************************
2021-12-09 00:01:53,521 p=67427 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-09 00:01:53,535 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Reload and start secondary systemd service of secondary instance] **********************
2021-12-09 00:01:53,558 p=67427 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-09 00:01:53,572 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Replace database directory] ************************************************************
2021-12-09 00:01:53,595 p=67427 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-09 00:01:53,608 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify the state of secondary instance] ************************************************
2021-12-09 00:01:53,631 p=67427 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-09 00:01:53,645 p=67427 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************************************************
2021-12-09 00:01:53,675 p=67427 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-09 00:01:53,709 p=67427 u=pivotal n=ansible | PLAY RECAP *********************************************************************************************************
2021-12-09 00:01:53,709 p=67427 u=pivotal n=ansible | postgres-ha01              : ok=11   changed=2    unreachable=0    failed=1    skipped=16   rescued=0    ignored=0   
2021-12-09 00:01:53,709 p=67427 u=pivotal n=ansible | postgres-ha02              : ok=11   changed=2    unreachable=0    failed=1    skipped=25   rescued=0    ignored=0   
2021-12-09 00:01:53,709 p=67427 u=pivotal n=ansible | postgres-ha03              : ok=11   changed=2    unreachable=0    failed=1    skipped=25   rescued=0    ignored=0   
2021-12-09 00:01:53,709 p=67427 u=pivotal n=ansible | postgres-haproxy01         : ok=27   changed=9    unreachable=0    failed=0    skipped=18   rescued=0    ignored=0   
2021-12-09 00:03:16,967 p=69079 u=pivotal n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be
 removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2021-12-09 00:03:17,355 p=69079 u=pivotal n=ansible | [WARNING]: While constructing a mapping from /Users/pivotal/postgres-cluster/roles/pgfailover-
postgres/tasks/pgfailover-postgres-install.yml, line 285, column 3, found a duplicate dict key (when). Using last
defined value only.

2021-12-09 00:03:17,416 p=69079 u=pivotal n=ansible | [WARNING]: file /Users/pivotal/postgres-cluster/roles/pgfailover-postgres/tasks/pgfailover-postgres-upgrade.yml is
empty and had no tasks to include

2021-12-09 00:03:17,427 p=69079 u=pivotal n=ansible | PLAY [all] *********************************************************************************************************
2021-12-09 00:03:17,467 p=69079 u=pivotal n=ansible | TASK [Gathering Facts] *********************************************************************************************
2021-12-09 00:03:19,767 p=69079 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-09 00:03:19,786 p=69079 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-09 00:03:19,807 p=69079 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-09 00:03:19,809 p=69079 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-09 00:03:19,833 p=69079 u=pivotal n=ansible | TASK [pgfailover-postgres : Disable port from public zone] *********************************************************
2021-12-09 00:03:21,288 p=69079 u=pivotal n=ansible | changed: [postgres-ha02] => (item=5432)
2021-12-09 00:03:21,294 p=69079 u=pivotal n=ansible | changed: [postgres-ha01] => (item=5432)
2021-12-09 00:03:21,308 p=69079 u=pivotal n=ansible | changed: [postgres-ha03] => (item=5432)
2021-12-09 00:03:21,309 p=69079 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=5432)
2021-12-09 00:03:21,329 p=69079 u=pivotal n=ansible | TASK [pgfailover-postgres : Disable IP Addresses in whitelist] *****************************************************
2021-12-09 00:03:22,280 p=69079 u=pivotal n=ansible | changed: [postgres-ha01] => (item=postgres-haproxy01)
2021-12-09 00:03:22,287 p=69079 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=postgres-haproxy01)
2021-12-09 00:03:22,321 p=69079 u=pivotal n=ansible | changed: [postgres-ha02] => (item=postgres-haproxy01)
2021-12-09 00:03:22,327 p=69079 u=pivotal n=ansible | changed: [postgres-ha03] => (item=postgres-haproxy01)
2021-12-09 00:03:22,980 p=69079 u=pivotal n=ansible | changed: [postgres-ha01] => (item=postgres-ha01)
2021-12-09 00:03:22,990 p=69079 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=postgres-ha01)
2021-12-09 00:03:23,025 p=69079 u=pivotal n=ansible | changed: [postgres-ha03] => (item=postgres-ha01)
2021-12-09 00:03:23,596 p=69079 u=pivotal n=ansible | changed: [postgres-ha01] => (item=postgres-ha02)
2021-12-09 00:03:23,626 p=69079 u=pivotal n=ansible | changed: [postgres-ha03] => (item=postgres-ha02)
2021-12-09 00:03:24,046 p=69079 u=pivotal n=ansible | changed: [postgres-ha02] => (item=postgres-ha01)
2021-12-09 00:03:24,246 p=69079 u=pivotal n=ansible | changed: [postgres-ha01] => (item=postgres-ha03)
2021-12-09 00:03:24,272 p=69079 u=pivotal n=ansible | changed: [postgres-ha03] => (item=postgres-ha03)
2021-12-09 00:03:24,388 p=69079 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=postgres-ha02)
2021-12-09 00:03:24,691 p=69079 u=pivotal n=ansible | changed: [postgres-ha02] => (item=postgres-ha02)
2021-12-09 00:03:24,994 p=69079 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=postgres-ha03)
2021-12-09 00:03:25,274 p=69079 u=pivotal n=ansible | changed: [postgres-ha02] => (item=postgres-ha03)
2021-12-09 00:03:25,290 p=69079 u=pivotal n=ansible | TASK [pgfailover-postgres : Bounce firewalld] **********************************************************************
2021-12-09 00:03:27,552 p=69079 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-09 00:03:27,566 p=69079 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-09 00:03:27,570 p=69079 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-09 00:03:28,446 p=69079 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-09 00:03:28,460 p=69079 u=pivotal n=ansible | TASK [pgfailover-postgres : Stop and disable firewalld.] ***********************************************************
2021-12-09 00:03:29,186 p=69079 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-09 00:03:30,136 p=69079 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-09 00:03:30,148 p=69079 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-09 00:03:30,176 p=69079 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-09 00:03:30,190 p=69079 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify that pg_auto_failover/postgres was installed properly] **************************
2021-12-09 00:03:30,255 p=69079 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 00:03:30,285 p=69079 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 00:03:30,306 p=69079 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 00:03:30,999 p=69079 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-09 00:03:31,013 p=69079 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify that pg_auto_failover/postgres was installed properly] **************************
2021-12-09 00:03:31,074 p=69079 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 00:03:31,101 p=69079 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 00:03:31,118 p=69079 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 00:03:32,208 p=69079 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-09 00:03:32,228 p=69079 u=pivotal n=ansible | TASK [pgfailover-postgres : Getting process IDs of the pg_autoctl process] *****************************************
2021-12-09 00:03:33,047 p=69079 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-09 00:03:33,053 p=69079 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-09 00:03:33,057 p=69079 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-09 00:03:34,622 p=69079 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-09 00:03:34,634 p=69079 u=pivotal n=ansible | TASK [pgfailover-postgres : Stop pgautofailover service of systemd] ************************************************
2021-12-09 00:03:34,725 p=69079 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 00:03:34,752 p=69079 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 00:03:34,777 p=69079 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 00:03:37,946 p=69079 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-09 00:03:37,959 p=69079 u=pivotal n=ansible | TASK [pgfailover-postgres : Delete line in a .bash_profile] ********************************************************
2021-12-09 00:03:37,987 p=69079 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-09 00:03:38,014 p=69079 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 00:03:38,801 p=69079 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-09 00:03:38,802 p=69079 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-09 00:03:38,816 p=69079 u=pivotal n=ansible | TASK [pgfailover-postgres : Reload and start secondary systemd service of secondary instance] **********************
2021-12-09 00:03:38,846 p=69079 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-09 00:03:38,870 p=69079 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 00:03:39,580 p=69079 u=pivotal n=ansible | fatal: [postgres-ha03]: FAILED! => {"changed": false, "msg": "Could not find the requested service pgautofailover: host"}
2021-12-09 00:03:39,582 p=69079 u=pivotal n=ansible | fatal: [postgres-ha02]: FAILED! => {"changed": false, "msg": "Could not find the requested service pgautofailover: host"}
2021-12-09 00:03:39,593 p=69079 u=pivotal n=ansible | TASK [pgfailover-postgres : Delete secondary systemd service file of secondary instance] ***************************
2021-12-09 00:03:39,629 p=69079 u=pivotal n=ansible | skipping: [postgres-haproxy01] => (item=/etc/systemd/system/pgautofailover.service) 
2021-12-09 00:03:39,631 p=69079 u=pivotal n=ansible | skipping: [postgres-haproxy01] => (item=/var/lib/pgsql/pgautofailover.service) 
2021-12-09 00:03:39,651 p=69079 u=pivotal n=ansible | skipping: [postgres-ha01] => (item=/etc/systemd/system/pgautofailover.service) 
2021-12-09 00:03:39,651 p=69079 u=pivotal n=ansible | skipping: [postgres-ha01] => (item=/var/lib/pgsql/pgautofailover.service) 
2021-12-09 00:03:39,667 p=69079 u=pivotal n=ansible | TASK [pgfailover-postgres : Delete line in a .bash_profile] ********************************************************
2021-12-09 00:03:39,694 p=69079 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-09 00:03:40,358 p=69079 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-09 00:03:40,371 p=69079 u=pivotal n=ansible | TASK [pgfailover-postgres : Reload and start primary systemd service of primary instance] **************************
2021-12-09 00:03:40,400 p=69079 u=pivotal n=ansible | skipping: [postgres-haproxy01]
2021-12-09 00:03:41,168 p=69079 u=pivotal n=ansible | fatal: [postgres-ha01]: FAILED! => {"changed": false, "msg": "Could not find the requested service pgautofailover: host"}
2021-12-09 00:03:41,180 p=69079 u=pivotal n=ansible | TASK [pgfailover-postgres : Delete primary systemd service file of secondary instance] *****************************
2021-12-09 00:03:41,207 p=69079 u=pivotal n=ansible | skipping: [postgres-haproxy01] => (item=/etc/systemd/system/pgautofailover.service) 
2021-12-09 00:03:41,208 p=69079 u=pivotal n=ansible | skipping: [postgres-haproxy01] => (item=/var/lib/pgsql/pgautofailover.service) 
2021-12-09 00:03:41,220 p=69079 u=pivotal n=ansible | TASK [pgfailover-postgres : Delete line in a .bash_profile] ********************************************************
2021-12-09 00:03:41,855 p=69079 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-09 00:03:41,867 p=69079 u=pivotal n=ansible | TASK [pgfailover-postgres : Reload and start systemd service of monitor instance] **********************************
2021-12-09 00:03:42,645 p=69079 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-09 00:03:42,659 p=69079 u=pivotal n=ansible | TASK [pgfailover-postgres : Delete primary systemd service file of secondary instance] *****************************
2021-12-09 00:03:43,427 p=69079 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=/etc/systemd/system/pgautofailover.service)
2021-12-09 00:03:43,999 p=69079 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=/var/lib/pgsql/pgautofailover.service)
2021-12-09 00:03:44,023 p=69079 u=pivotal n=ansible | TASK [pgfailover-postgres : Uninstall VMware Postgres on all hosts as root] ****************************************
2021-12-09 00:03:57,603 p=69079 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-09 00:03:57,618 p=69079 u=pivotal n=ansible | TASK [pgfailover-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] ****************************
2021-12-09 00:03:58,129 p=69079 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-09 00:03:58,158 p=69079 u=pivotal n=ansible | PLAY RECAP *********************************************************************************************************
2021-12-09 00:03:58,158 p=69079 u=pivotal n=ansible | postgres-ha01              : ok=7    changed=5    unreachable=0    failed=1    skipped=6    rescued=0    ignored=0   
2021-12-09 00:03:58,158 p=69079 u=pivotal n=ansible | postgres-ha02              : ok=7    changed=5    unreachable=0    failed=1    skipped=3    rescued=0    ignored=0   
2021-12-09 00:03:58,158 p=69079 u=pivotal n=ansible | postgres-ha03              : ok=7    changed=5    unreachable=0    failed=1    skipped=3    rescued=0    ignored=0   
2021-12-09 00:03:58,158 p=69079 u=pivotal n=ansible | postgres-haproxy01         : ok=14   changed=12   unreachable=0    failed=0    skipped=6    rescued=0    ignored=0   
2021-12-09 10:26:50,261 p=89454 u=pivotal n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is
 being removed. This feature will be removed from ansible-core in version 2.14.
 Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2021-12-09 10:26:50,635 p=89454 u=pivotal n=ansible | [WARNING]: While constructing a mapping from /Users/pivotal/postgres-
cluster/roles/pgfailover-postgres/tasks/pgfailover-postgres-install.yml, line
285, column 3, found a duplicate dict key (when). Using last defined value
only.

2021-12-09 10:26:50,700 p=89454 u=pivotal n=ansible | [WARNING]: file /Users/pivotal/postgres-cluster/roles/pgfailover-
postgres/tasks/pgfailover-postgres-upgrade.yml is empty and had no tasks to
include

2021-12-09 10:26:50,710 p=89454 u=pivotal n=ansible | PLAY [all] *********************************************************************
2021-12-09 10:26:50,744 p=89454 u=pivotal n=ansible | TASK [Gathering Facts] *********************************************************
2021-12-09 10:27:01,303 p=89454 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-09 10:27:03,164 p=89454 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-09 10:27:09,396 p=89454 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-09 10:27:09,481 p=89454 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-09 10:27:09,506 p=89454 u=pivotal n=ansible | TASK [pgfailover-postgres : Disable port from public zone] *********************
2021-12-09 10:27:14,401 p=89454 u=pivotal n=ansible | failed: [postgres-haproxy01] (item=5432) => {"ansible_loop_var": "item", "changed": false, "item": "5432", "msg": "firewall is not currently running, unable to perform immediate actions without a running firewall daemon"}
2021-12-09 10:27:14,410 p=89454 u=pivotal n=ansible | failed: [postgres-ha02] (item=5432) => {"ansible_loop_var": "item", "changed": false, "item": "5432", "msg": "firewall is not currently running, unable to perform immediate actions without a running firewall daemon"}
2021-12-09 10:27:14,624 p=89454 u=pivotal n=ansible | failed: [postgres-ha01] (item=5432) => {"ansible_loop_var": "item", "changed": false, "item": "5432", "msg": "firewall is not currently running, unable to perform immediate actions without a running firewall daemon"}
2021-12-09 10:27:14,794 p=89454 u=pivotal n=ansible | failed: [postgres-ha03] (item=5432) => {"ansible_loop_var": "item", "changed": false, "item": "5432", "msg": "firewall is not currently running, unable to perform immediate actions without a running firewall daemon"}
2021-12-09 10:27:14,801 p=89454 u=pivotal n=ansible | PLAY RECAP *********************************************************************
2021-12-09 10:27:14,801 p=89454 u=pivotal n=ansible | postgres-ha01              : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-09 10:27:14,801 p=89454 u=pivotal n=ansible | postgres-ha02              : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-09 10:27:14,801 p=89454 u=pivotal n=ansible | postgres-ha03              : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-09 10:27:14,802 p=89454 u=pivotal n=ansible | postgres-haproxy01         : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-09 10:45:06,577 p=90184 u=pivotal n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is
 being removed. This feature will be removed from ansible-core in version 2.14.
 Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2021-12-09 10:45:07,015 p=90184 u=pivotal n=ansible | [WARNING]: While constructing a mapping from /Users/pivotal/postgres-
cluster/roles/pgfailover-postgres/tasks/pgfailover-postgres-install.yml, line
285, column 3, found a duplicate dict key (when). Using last defined value
only.

2021-12-09 10:45:07,075 p=90184 u=pivotal n=ansible | [WARNING]: file /Users/pivotal/postgres-cluster/roles/pgfailover-
postgres/tasks/pgfailover-postgres-upgrade.yml is empty and had no tasks to
include

2021-12-09 10:45:07,087 p=90184 u=pivotal n=ansible | PLAY [all] *********************************************************************
2021-12-09 10:45:07,125 p=90184 u=pivotal n=ansible | TASK [Gathering Facts] *********************************************************
2021-12-09 10:45:09,149 p=90184 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-09 10:45:09,163 p=90184 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-09 10:45:09,189 p=90184 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-09 10:45:09,195 p=90184 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-09 10:45:09,218 p=90184 u=pivotal n=ansible | TASK [pgfailover-postgres : Start and enable firewalld.] ***********************
2021-12-09 10:45:12,092 p=90184 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-09 10:45:12,495 p=90184 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-09 10:45:12,886 p=90184 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-09 10:45:14,526 p=90184 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-09 10:45:14,536 p=90184 u=pivotal n=ansible | TASK [pgfailover-postgres : Open Firewall] *************************************
2021-12-09 10:45:15,629 p=90184 u=pivotal n=ansible | changed: [postgres-ha01] => (item=5432)
2021-12-09 10:45:15,775 p=90184 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=5432)
2021-12-09 10:45:16,087 p=90184 u=pivotal n=ansible | changed: [postgres-ha02] => (item=5432)
2021-12-09 10:45:16,541 p=90184 u=pivotal n=ansible | changed: [postgres-ha03] => (item=5432)
2021-12-09 10:45:16,556 p=90184 u=pivotal n=ansible | TASK [pgfailover-postgres : Whitelist of Ip addresses] *************************
2021-12-09 10:45:17,356 p=90184 u=pivotal n=ansible | changed: [postgres-ha01] => (item=postgres-haproxy01)
2021-12-09 10:45:17,365 p=90184 u=pivotal n=ansible | changed: [postgres-ha02] => (item=postgres-haproxy01)
2021-12-09 10:45:17,366 p=90184 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=postgres-haproxy01)
2021-12-09 10:45:17,403 p=90184 u=pivotal n=ansible | changed: [postgres-ha03] => (item=postgres-haproxy01)
2021-12-09 10:45:18,035 p=90184 u=pivotal n=ansible | changed: [postgres-ha01] => (item=postgres-ha01)
2021-12-09 10:45:18,055 p=90184 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=postgres-ha01)
2021-12-09 10:45:18,061 p=90184 u=pivotal n=ansible | changed: [postgres-ha03] => (item=postgres-ha01)
2021-12-09 10:45:18,068 p=90184 u=pivotal n=ansible | changed: [postgres-ha02] => (item=postgres-ha01)
2021-12-09 10:45:18,818 p=90184 u=pivotal n=ansible | changed: [postgres-ha03] => (item=postgres-ha02)
2021-12-09 10:45:18,850 p=90184 u=pivotal n=ansible | changed: [postgres-ha02] => (item=postgres-ha02)
2021-12-09 10:45:18,879 p=90184 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=postgres-ha02)
2021-12-09 10:45:18,880 p=90184 u=pivotal n=ansible | changed: [postgres-ha01] => (item=postgres-ha02)
2021-12-09 10:45:19,487 p=90184 u=pivotal n=ansible | changed: [postgres-ha02] => (item=postgres-ha03)
2021-12-09 10:45:19,513 p=90184 u=pivotal n=ansible | changed: [postgres-haproxy01] => (item=postgres-ha03)
2021-12-09 10:45:19,536 p=90184 u=pivotal n=ansible | changed: [postgres-ha03] => (item=postgres-ha03)
2021-12-09 10:45:19,596 p=90184 u=pivotal n=ansible | changed: [postgres-ha01] => (item=postgres-ha03)
2021-12-09 10:45:19,608 p=90184 u=pivotal n=ansible | TASK [pgfailover-postgres : Bounce firewalld] **********************************
2021-12-09 10:45:21,391 p=90184 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-09 10:45:21,454 p=90184 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-09 10:45:21,490 p=90184 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-09 10:45:21,524 p=90184 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-09 10:45:21,537 p=90184 u=pivotal n=ansible | TASK [pgfailover-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] ***
2021-12-09 10:45:21,777 p=90184 u=pivotal n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: If you are using a module and expect the file to exist on the remote, see the remote_src option
2021-12-09 10:45:21,778 p=90184 u=pivotal n=ansible | fatal: [postgres-haproxy01]: FAILED! => {"changed": false, "msg": "Could not find or access 'vmware-postgres-10.19-0.el7.x86_64.rpm'\nSearched in:\n\t/Users/pivotal/postgres-cluster/roles/pgfailover-postgres/files/vmware-postgres-10.19-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/roles/pgfailover-postgres/vmware-postgres-10.19-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/roles/pgfailover-postgres/tasks/files/vmware-postgres-10.19-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/roles/pgfailover-postgres/tasks/vmware-postgres-10.19-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/files/vmware-postgres-10.19-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/vmware-postgres-10.19-0.el7.x86_64.rpm on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2021-12-09 10:45:21,778 p=90184 u=pivotal n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: If you are using a module and expect the file to exist on the remote, see the remote_src option
2021-12-09 10:45:21,779 p=90184 u=pivotal n=ansible | fatal: [postgres-ha02]: FAILED! => {"changed": false, "msg": "Could not find or access 'vmware-postgres-10.19-0.el7.x86_64.rpm'\nSearched in:\n\t/Users/pivotal/postgres-cluster/roles/pgfailover-postgres/files/vmware-postgres-10.19-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/roles/pgfailover-postgres/vmware-postgres-10.19-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/roles/pgfailover-postgres/tasks/files/vmware-postgres-10.19-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/roles/pgfailover-postgres/tasks/vmware-postgres-10.19-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/files/vmware-postgres-10.19-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/vmware-postgres-10.19-0.el7.x86_64.rpm on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2021-12-09 10:45:21,780 p=90184 u=pivotal n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: If you are using a module and expect the file to exist on the remote, see the remote_src option
2021-12-09 10:45:21,781 p=90184 u=pivotal n=ansible | fatal: [postgres-ha01]: FAILED! => {"changed": false, "msg": "Could not find or access 'vmware-postgres-10.19-0.el7.x86_64.rpm'\nSearched in:\n\t/Users/pivotal/postgres-cluster/roles/pgfailover-postgres/files/vmware-postgres-10.19-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/roles/pgfailover-postgres/vmware-postgres-10.19-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/roles/pgfailover-postgres/tasks/files/vmware-postgres-10.19-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/roles/pgfailover-postgres/tasks/vmware-postgres-10.19-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/files/vmware-postgres-10.19-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/vmware-postgres-10.19-0.el7.x86_64.rpm on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2021-12-09 10:45:21,800 p=90184 u=pivotal n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: If you are using a module and expect the file to exist on the remote, see the remote_src option
2021-12-09 10:45:21,800 p=90184 u=pivotal n=ansible | fatal: [postgres-ha03]: FAILED! => {"changed": false, "msg": "Could not find or access 'vmware-postgres-10.19-0.el7.x86_64.rpm'\nSearched in:\n\t/Users/pivotal/postgres-cluster/roles/pgfailover-postgres/files/vmware-postgres-10.19-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/roles/pgfailover-postgres/vmware-postgres-10.19-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/roles/pgfailover-postgres/tasks/files/vmware-postgres-10.19-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/roles/pgfailover-postgres/tasks/vmware-postgres-10.19-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/files/vmware-postgres-10.19-0.el7.x86_64.rpm\n\t/Users/pivotal/postgres-cluster/vmware-postgres-10.19-0.el7.x86_64.rpm on the Ansible Controller.\nIf you are using a module and expect the file to exist on the remote, see the remote_src option"}
2021-12-09 10:45:21,804 p=90184 u=pivotal n=ansible | PLAY RECAP *********************************************************************
2021-12-09 10:45:21,804 p=90184 u=pivotal n=ansible | postgres-ha01              : ok=5    changed=4    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-09 10:45:21,804 p=90184 u=pivotal n=ansible | postgres-ha02              : ok=5    changed=4    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-09 10:45:21,804 p=90184 u=pivotal n=ansible | postgres-ha03              : ok=5    changed=4    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-09 10:45:21,804 p=90184 u=pivotal n=ansible | postgres-haproxy01         : ok=5    changed=4    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-09 10:52:41,472 p=90913 u=pivotal n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is
 being removed. This feature will be removed from ansible-core in version 2.14.
 Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2021-12-09 10:52:41,800 p=90913 u=pivotal n=ansible | [WARNING]: While constructing a mapping from /Users/pivotal/postgres-
cluster/roles/pgfailover-postgres/tasks/pgfailover-postgres-install.yml, line
285, column 3, found a duplicate dict key (when). Using last defined value
only.

2021-12-09 10:52:41,851 p=90913 u=pivotal n=ansible | [WARNING]: file /Users/pivotal/postgres-cluster/roles/pgfailover-
postgres/tasks/pgfailover-postgres-upgrade.yml is empty and had no tasks to
include

2021-12-09 10:52:41,863 p=90913 u=pivotal n=ansible | PLAY [all] *********************************************************************
2021-12-09 10:52:41,895 p=90913 u=pivotal n=ansible | TASK [Gathering Facts] *********************************************************
2021-12-09 10:52:43,772 p=90913 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-09 10:52:43,821 p=90913 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-09 10:52:43,828 p=90913 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-09 10:52:43,842 p=90913 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-09 10:52:43,867 p=90913 u=pivotal n=ansible | TASK [pgfailover-postgres : Start and enable firewalld.] ***********************
2021-12-09 10:52:45,170 p=90913 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-09 10:52:45,172 p=90913 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-09 10:52:45,174 p=90913 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-09 10:52:45,376 p=90913 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-09 10:52:45,386 p=90913 u=pivotal n=ansible | TASK [pgfailover-postgres : Open Firewall] *************************************
2021-12-09 10:52:46,321 p=90913 u=pivotal n=ansible | ok: [postgres-ha02] => (item=5432)
2021-12-09 10:52:46,323 p=90913 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=5432)
2021-12-09 10:52:46,332 p=90913 u=pivotal n=ansible | ok: [postgres-ha01] => (item=5432)
2021-12-09 10:52:46,332 p=90913 u=pivotal n=ansible | ok: [postgres-ha03] => (item=5432)
2021-12-09 10:52:46,345 p=90913 u=pivotal n=ansible | TASK [pgfailover-postgres : Whitelist of Ip addresses] *************************
2021-12-09 10:52:47,505 p=90913 u=pivotal n=ansible | ok: [postgres-ha01] => (item=postgres-haproxy01)
2021-12-09 10:52:47,506 p=90913 u=pivotal n=ansible | ok: [postgres-ha02] => (item=postgres-haproxy01)
2021-12-09 10:52:47,507 p=90913 u=pivotal n=ansible | ok: [postgres-ha03] => (item=postgres-haproxy01)
2021-12-09 10:52:47,519 p=90913 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=postgres-haproxy01)
2021-12-09 10:52:48,116 p=90913 u=pivotal n=ansible | ok: [postgres-ha01] => (item=postgres-ha01)
2021-12-09 10:52:48,130 p=90913 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=postgres-ha01)
2021-12-09 10:52:48,131 p=90913 u=pivotal n=ansible | ok: [postgres-ha03] => (item=postgres-ha01)
2021-12-09 10:52:48,132 p=90913 u=pivotal n=ansible | ok: [postgres-ha02] => (item=postgres-ha01)
2021-12-09 10:52:49,203 p=90913 u=pivotal n=ansible | ok: [postgres-ha02] => (item=postgres-ha02)
2021-12-09 10:52:49,204 p=90913 u=pivotal n=ansible | ok: [postgres-ha01] => (item=postgres-ha02)
2021-12-09 10:52:49,206 p=90913 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=postgres-ha02)
2021-12-09 10:52:49,213 p=90913 u=pivotal n=ansible | ok: [postgres-ha03] => (item=postgres-ha02)
2021-12-09 10:52:50,026 p=90913 u=pivotal n=ansible | ok: [postgres-ha02] => (item=postgres-ha03)
2021-12-09 10:52:50,032 p=90913 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=postgres-ha03)
2021-12-09 10:52:50,043 p=90913 u=pivotal n=ansible | ok: [postgres-ha01] => (item=postgres-ha03)
2021-12-09 10:52:50,044 p=90913 u=pivotal n=ansible | ok: [postgres-ha03] => (item=postgres-ha03)
2021-12-09 10:52:50,058 p=90913 u=pivotal n=ansible | TASK [pgfailover-postgres : Bounce firewalld] **********************************
2021-12-09 10:52:51,925 p=90913 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-09 10:52:52,074 p=90913 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-09 10:52:52,082 p=90913 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-09 10:52:52,110 p=90913 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-09 10:52:52,128 p=90913 u=pivotal n=ansible | TASK [pgfailover-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] ***
2021-12-09 10:52:53,730 p=90913 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-09 10:52:53,746 p=90913 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-09 10:52:53,760 p=90913 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-09 10:52:53,790 p=90913 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-09 10:52:53,805 p=90913 u=pivotal n=ansible | TASK [pgfailover-postgres : Install dependency rpm package for pgautofailover] ***
2021-12-09 10:53:11,490 p=90913 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-09 10:53:11,505 p=90913 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-09 10:53:11,554 p=90913 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-09 10:53:11,637 p=90913 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-09 10:53:11,649 p=90913 u=pivotal n=ansible | TASK [pgfailover-postgres : Install VMware Postgres on all hosts as root] ******
2021-12-09 10:53:17,992 p=90913 u=pivotal n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "77268973446.5916", "changed": false, "finished": 1, "msg": "No RPM file matching '/home/jomoon/vmware-postgres10-10.19-1.el7.x86_64.rpm' found on system", "rc": 127, "results": ["No RPM file matching '/home/jomoon/vmware-postgres10-10.19-1.el7.x86_64.rpm' found on system"]}
2021-12-09 10:53:18,001 p=90913 u=pivotal n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "736082347528.5894", "changed": false, "finished": 1, "msg": "No RPM file matching '/home/jomoon/vmware-postgres10-10.19-1.el7.x86_64.rpm' found on system", "rc": 127, "results": ["No RPM file matching '/home/jomoon/vmware-postgres10-10.19-1.el7.x86_64.rpm' found on system"]}
2021-12-09 10:53:18,002 p=90913 u=pivotal n=ansible | fatal: [postgres-haproxy01]: FAILED! => {"ansible_job_id": "669613324390.5831", "changed": false, "finished": 1, "msg": "No RPM file matching '/home/jomoon/vmware-postgres10-10.19-1.el7.x86_64.rpm' found on system", "rc": 127, "results": ["No RPM file matching '/home/jomoon/vmware-postgres10-10.19-1.el7.x86_64.rpm' found on system"]}
2021-12-09 10:53:18,004 p=90913 u=pivotal n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "106830325394.6225", "changed": false, "finished": 1, "msg": "No RPM file matching '/home/jomoon/vmware-postgres10-10.19-1.el7.x86_64.rpm' found on system", "rc": 127, "results": ["No RPM file matching '/home/jomoon/vmware-postgres10-10.19-1.el7.x86_64.rpm' found on system"]}
2021-12-09 10:53:18,007 p=90913 u=pivotal n=ansible | PLAY RECAP *********************************************************************
2021-12-09 10:53:18,008 p=90913 u=pivotal n=ansible | postgres-ha01              : ok=7    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-09 10:53:18,008 p=90913 u=pivotal n=ansible | postgres-ha02              : ok=7    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-09 10:53:18,008 p=90913 u=pivotal n=ansible | postgres-ha03              : ok=7    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-09 10:53:18,008 p=90913 u=pivotal n=ansible | postgres-haproxy01         : ok=7    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-09 10:55:34,611 p=91953 u=pivotal n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is
 being removed. This feature will be removed from ansible-core in version 2.14.
 Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2021-12-09 10:55:34,995 p=91953 u=pivotal n=ansible | [WARNING]: While constructing a mapping from /Users/pivotal/postgres-
cluster/roles/pgfailover-postgres/tasks/pgfailover-postgres-install.yml, line
285, column 3, found a duplicate dict key (when). Using last defined value
only.

2021-12-09 10:55:35,048 p=91953 u=pivotal n=ansible | [WARNING]: file /Users/pivotal/postgres-cluster/roles/pgfailover-
postgres/tasks/pgfailover-postgres-upgrade.yml is empty and had no tasks to
include

2021-12-09 10:55:35,060 p=91953 u=pivotal n=ansible | PLAY [all] *********************************************************************
2021-12-09 10:55:35,093 p=91953 u=pivotal n=ansible | TASK [Gathering Facts] *********************************************************
2021-12-09 10:55:37,024 p=91953 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-09 10:55:37,047 p=91953 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-09 10:55:37,055 p=91953 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-09 10:55:37,061 p=91953 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-09 10:55:37,088 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Start and enable firewalld.] ***********************
2021-12-09 10:55:38,448 p=91953 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-09 10:55:38,454 p=91953 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-09 10:55:38,457 p=91953 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-09 10:55:38,464 p=91953 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-09 10:55:38,476 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Open Firewall] *************************************
2021-12-09 10:55:39,859 p=91953 u=pivotal n=ansible | ok: [postgres-ha03] => (item=5432)
2021-12-09 10:55:39,861 p=91953 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=5432)
2021-12-09 10:55:39,884 p=91953 u=pivotal n=ansible | ok: [postgres-ha02] => (item=5432)
2021-12-09 10:55:39,889 p=91953 u=pivotal n=ansible | ok: [postgres-ha01] => (item=5432)
2021-12-09 10:55:39,902 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Whitelist of Ip addresses] *************************
2021-12-09 10:55:40,810 p=91953 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=postgres-haproxy01)
2021-12-09 10:55:40,825 p=91953 u=pivotal n=ansible | ok: [postgres-ha03] => (item=postgres-haproxy01)
2021-12-09 10:55:40,845 p=91953 u=pivotal n=ansible | ok: [postgres-ha02] => (item=postgres-haproxy01)
2021-12-09 10:55:40,849 p=91953 u=pivotal n=ansible | ok: [postgres-ha01] => (item=postgres-haproxy01)
2021-12-09 10:55:41,468 p=91953 u=pivotal n=ansible | ok: [postgres-ha03] => (item=postgres-ha01)
2021-12-09 10:55:41,473 p=91953 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=postgres-ha01)
2021-12-09 10:55:41,520 p=91953 u=pivotal n=ansible | ok: [postgres-ha02] => (item=postgres-ha01)
2021-12-09 10:55:41,541 p=91953 u=pivotal n=ansible | ok: [postgres-ha01] => (item=postgres-ha01)
2021-12-09 10:55:42,172 p=91953 u=pivotal n=ansible | ok: [postgres-ha03] => (item=postgres-ha02)
2021-12-09 10:55:42,176 p=91953 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=postgres-ha02)
2021-12-09 10:55:42,178 p=91953 u=pivotal n=ansible | ok: [postgres-ha02] => (item=postgres-ha02)
2021-12-09 10:55:42,208 p=91953 u=pivotal n=ansible | ok: [postgres-ha01] => (item=postgres-ha02)
2021-12-09 10:55:42,830 p=91953 u=pivotal n=ansible | ok: [postgres-ha01] => (item=postgres-ha03)
2021-12-09 10:55:42,838 p=91953 u=pivotal n=ansible | ok: [postgres-ha02] => (item=postgres-ha03)
2021-12-09 10:55:42,840 p=91953 u=pivotal n=ansible | ok: [postgres-ha03] => (item=postgres-ha03)
2021-12-09 10:55:42,840 p=91953 u=pivotal n=ansible | ok: [postgres-haproxy01] => (item=postgres-ha03)
2021-12-09 10:55:42,853 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Bounce firewalld] **********************************
2021-12-09 10:55:44,668 p=91953 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-09 10:55:44,693 p=91953 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-09 10:55:44,694 p=91953 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-09 10:55:44,702 p=91953 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-09 10:55:44,721 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] ***
2021-12-09 10:55:46,403 p=91953 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-09 10:55:46,406 p=91953 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-09 10:55:46,410 p=91953 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-09 10:55:47,175 p=91953 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-09 10:55:47,194 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Install dependency rpm package for pgautofailover] ***
2021-12-09 10:55:54,655 p=91953 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-09 10:55:54,657 p=91953 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-09 10:55:54,659 p=91953 u=pivotal n=ansible | ok: [postgres-haproxy01]
2021-12-09 10:55:54,665 p=91953 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-09 10:55:54,679 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Install VMware Postgres on all hosts as root] ******
2021-12-09 10:56:38,528 p=91953 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-09 10:56:51,742 p=91953 u=pivotal n=ansible | changed: [postgres-haproxy01]
2021-12-09 10:56:55,203 p=91953 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-09 10:57:07,074 p=91953 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-09 10:57:07,091 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify that pg_auto_failover/postgres was installed properly] ***
2021-12-09 10:57:07,143 p=91953 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 10:57:07,167 p=91953 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 10:57:07,180 p=91953 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 10:57:09,159 p=91953 u=pivotal n=ansible | fatal: [postgres-haproxy01]: FAILED! => {"changed": true, "cmd": "( pg_autoctl version )", "delta": "0:00:00.003064", "end": "2021-12-09 10:57:08.637838", "msg": "non-zero return code", "rc": 127, "start": "2021-12-09 10:57:08.634774", "stderr": "/bin/sh: pg_autoctl: command not found", "stderr_lines": ["/bin/sh: pg_autoctl: command not found"], "stdout": "", "stdout_lines": []}
2021-12-09 10:57:09,177 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************
2021-12-09 10:57:09,207 p=91953 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 10:57:09,233 p=91953 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 10:57:09,249 p=91953 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 10:57:09,263 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify that pg_auto_failover/postgres was installed properly] ***
2021-12-09 10:57:09,291 p=91953 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 10:57:09,313 p=91953 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 10:57:09,328 p=91953 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 10:57:09,342 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************
2021-12-09 10:57:09,368 p=91953 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 10:57:09,387 p=91953 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 10:57:09,400 p=91953 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 10:57:09,413 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Getting process IDs of the pg_autoctl process] *****
2021-12-09 10:57:11,060 p=91953 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-09 10:57:11,319 p=91953 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-09 10:57:11,517 p=91953 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-09 10:57:11,530 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Printing the process IDs obtained] *****************
2021-12-09 10:57:11,593 p=91953 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": "PIDS of pg_autoctl:"
}
2021-12-09 10:57:11,597 p=91953 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": "PIDS of pg_autoctl:"
}
2021-12-09 10:57:11,619 p=91953 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": "PIDS of pg_autoctl:"
}
2021-12-09 10:57:11,633 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Stop pgautofailover service of systemd] ************
2021-12-09 10:57:11,679 p=91953 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 10:57:11,732 p=91953 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 10:57:11,759 p=91953 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 10:57:11,774 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************
2021-12-09 10:57:11,901 p=91953 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-09 10:57:11,912 p=91953 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-09 10:57:11,935 p=91953 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-09 10:57:11,949 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Create the monitor node] ***************************
2021-12-09 10:57:11,997 p=91953 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 10:57:11,998 p=91953 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 10:57:12,011 p=91953 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 10:57:12,025 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************
2021-12-09 10:57:12,051 p=91953 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 10:57:12,075 p=91953 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 10:57:12,088 p=91953 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 10:57:12,100 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Create systemd service file of monitor instance] ***
2021-12-09 10:57:12,125 p=91953 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 10:57:12,149 p=91953 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 10:57:12,164 p=91953 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 10:57:12,177 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Copy systemd service file of monitor instance] *****
2021-12-09 10:57:12,223 p=91953 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 10:57:12,224 p=91953 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 10:57:12,236 p=91953 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 10:57:12,282 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Reload and start systemd service of monitor instance] ***
2021-12-09 10:57:12,332 p=91953 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 10:57:12,333 p=91953 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 10:57:12,349 p=91953 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 10:57:12,363 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************
2021-12-09 10:57:12,388 p=91953 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 10:57:12,409 p=91953 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 10:57:12,428 p=91953 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 10:57:12,444 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Replace database directory] ************************
2021-12-09 10:57:12,471 p=91953 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 10:57:12,491 p=91953 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 10:57:12,504 p=91953 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 10:57:12,517 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify the current state of monitor instance] ******
2021-12-09 10:57:12,542 p=91953 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 10:57:12,562 p=91953 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 10:57:12,577 p=91953 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 10:57:12,589 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************
2021-12-09 10:57:12,618 p=91953 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 10:57:12,639 p=91953 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 10:57:12,652 p=91953 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 10:57:12,664 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify the current state of monitor] ***************
2021-12-09 10:57:12,688 p=91953 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 10:57:12,709 p=91953 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 10:57:12,721 p=91953 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 10:57:12,734 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************
2021-12-09 10:57:12,759 p=91953 u=pivotal n=ansible | skipping: [postgres-ha01]
2021-12-09 10:57:12,778 p=91953 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 10:57:12,792 p=91953 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 10:57:12,806 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Create primiary instance. It will automatically be set by the monitor as the primary node with read-write capability (PGDATA = /var/lib/pgpsql/ha)] ***
2021-12-09 10:57:12,848 p=91953 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 10:57:12,862 p=91953 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 10:57:19,988 p=91953 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-09 10:57:19,999 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************
2021-12-09 10:57:20,042 p=91953 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 10:57:20,048 p=91953 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "193771855937.9815",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ;  pg_autoctl create postgres --pgdata \"ha\" --auth trust --ssl-self-signed --username ha-admin --dbname \"appdb\" --hostname \"postgres-ha01\" --pgctl /bin/pg_ctl --monitor 'postgres://autoctl_node@postgres-haproxy01/pg_auto_failover?sslmode=require' )",
        "delta": "0:00:00.748117",
        "end": "2021-12-09 10:57:15.795513",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-09 10:57:15.047396",
        "stderr": "10:57:15 9824 INFO  Using default --ssl-mode \"require\"\n10:57:15 9824 INFO  Using --ssl-self-signed: pg_autoctl will create self-signed certificates, allowing for encrypted network traffic\n10:57:15 9824 WARN  Self-signed certificates provide protection against eavesdropping; this setup does NOT protect against Man-In-The-Middle attacks nor Impersonation attacks.\n10:57:15 9824 WARN  See https://www.postgresql.org/docs/current/libpq-ssl.html for details\n10:57:15 9824 INFO  Started pg_autoctl postgres service with pid 9829\n10:57:15 9829 INFO   /usr/bin/pg_autoctl do service postgres --pgdata ha -v\n10:57:15 9824 INFO  Started pg_autoctl node-init service with pid 9830\n10:57:15 9830 FATAL The state file \"/var/lib/pgsql/.local/share/pg_autoctl/var/lib/pgsql/ha/pg_autoctl.state\" exists and there's no init in progress\n10:57:15 9830 INFO  HINT: use `pg_autoctl run` to start the service.\n10:57:15 9824 WARN  pg_autoctl service node-init exited with exit status 0\n10:57:15 9829 INFO  Postgres controller service received signal SIGTERM, terminating\n10:57:15 9824 INFO  Stop pg_autoctl",
        "stderr_lines": [
            "10:57:15 9824 INFO  Using default --ssl-mode \"require\"",
            "10:57:15 9824 INFO  Using --ssl-self-signed: pg_autoctl will create self-signed certificates, allowing for encrypted network traffic",
            "10:57:15 9824 WARN  Self-signed certificates provide protection against eavesdropping; this setup does NOT protect against Man-In-The-Middle attacks nor Impersonation attacks.",
            "10:57:15 9824 WARN  See https://www.postgresql.org/docs/current/libpq-ssl.html for details",
            "10:57:15 9824 INFO  Started pg_autoctl postgres service with pid 9829",
            "10:57:15 9829 INFO   /usr/bin/pg_autoctl do service postgres --pgdata ha -v",
            "10:57:15 9824 INFO  Started pg_autoctl node-init service with pid 9830",
            "10:57:15 9830 FATAL The state file \"/var/lib/pgsql/.local/share/pg_autoctl/var/lib/pgsql/ha/pg_autoctl.state\" exists and there's no init in progress",
            "10:57:15 9830 INFO  HINT: use `pg_autoctl run` to start the service.",
            "10:57:15 9824 WARN  pg_autoctl service node-init exited with exit status 0",
            "10:57:15 9829 INFO  Postgres controller service received signal SIGTERM, terminating",
            "10:57:15 9824 INFO  Stop pg_autoctl"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2021-12-09 10:57:20,056 p=91953 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 10:57:20,069 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Create systemd service file of pirmary instance] ***
2021-12-09 10:57:20,108 p=91953 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 10:57:20,121 p=91953 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 10:57:26,724 p=91953 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-09 10:57:26,739 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************
2021-12-09 10:57:26,797 p=91953 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 10:57:26,802 p=91953 u=pivotal n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "3021486806.10155",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; pg_autoctl -q show systemd --pgdata ~postgres/ha > pgautofailover.service )",
        "delta": "0:00:00.006682",
        "end": "2021-12-09 10:57:20.830849",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-09 10:57:20.824167",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "",
        "stdout_lines": []
    }
}
2021-12-09 10:57:26,815 p=91953 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 10:57:26,831 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Copy primary systemd service file of primary instance] ***
2021-12-09 10:57:26,885 p=91953 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 10:57:26,905 p=91953 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 10:57:27,595 p=91953 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-09 10:57:27,612 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Reload and start primary systemd service of primary instance] ***
2021-12-09 10:57:27,670 p=91953 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 10:57:27,692 p=91953 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 10:57:29,315 p=91953 u=pivotal n=ansible | changed: [postgres-ha01]
2021-12-09 10:57:29,345 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Replace database directory] ************************
2021-12-09 10:57:29,459 p=91953 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 10:57:29,478 p=91953 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 10:57:30,285 p=91953 u=pivotal n=ansible | ok: [postgres-ha01]
2021-12-09 10:57:30,298 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify the state of primary instance] **************
2021-12-09 10:57:30,364 p=91953 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 10:57:30,384 p=91953 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 10:57:32,013 p=91953 u=pivotal n=ansible | fatal: [postgres-ha01]: FAILED! => {"changed": true, "cmd": "( source ~/.bash_profile ; pg_autoctl show state )", "delta": "0:00:00.916870", "end": "2021-12-09 10:57:31.803497", "msg": "non-zero return code", "rc": 1, "start": "2021-12-09 10:57:30.886627", "stderr": "10:57:31 10940 ERROR Failed to get value for environment variable 'PGDATA', which is unset\n10:57:31 10940 FATAL Failed to set PGDATA either from the environment or from --pgdata", "stderr_lines": ["10:57:31 10940 ERROR Failed to get value for environment variable 'PGDATA', which is unset", "10:57:31 10940 FATAL Failed to set PGDATA either from the environment or from --pgdata"], "stdout": "", "stdout_lines": []}
2021-12-09 10:57:32,036 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************
2021-12-09 10:57:32,072 p=91953 u=pivotal n=ansible | skipping: [postgres-ha02]
2021-12-09 10:57:32,092 p=91953 u=pivotal n=ansible | skipping: [postgres-ha03]
2021-12-09 10:57:32,109 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Create secondary instance. It will automatically be set by the monitor as the secondary  node with read-write capability (PGDATA = /var/lib/pgpsql/ha)] ***
2021-12-09 10:57:40,370 p=91953 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-09 10:57:40,371 p=91953 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-09 10:57:40,412 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************
2021-12-09 10:57:40,524 p=91953 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "663752257165.9113",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ;  pg_autoctl create postgres --pgdata \"ha\" --auth trust --ssl-self-signed --username ha-admin --dbname \"appdb\" --hostname \"postgres-ha02\" --pgctl /bin/pg_ctl --monitor 'postgres://autoctl_node@postgres-haproxy01/pg_auto_failover?sslmode=require' )",
        "delta": "0:00:00.724767",
        "end": "2021-12-09 10:57:34.497963",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-09 10:57:33.773196",
        "stderr": "10:57:34 9122 INFO  Using default --ssl-mode \"require\"\n10:57:34 9122 INFO  Using --ssl-self-signed: pg_autoctl will create self-signed certificates, allowing for encrypted network traffic\n10:57:34 9122 WARN  Self-signed certificates provide protection against eavesdropping; this setup does NOT protect against Man-In-The-Middle attacks nor Impersonation attacks.\n10:57:34 9122 WARN  See https://www.postgresql.org/docs/current/libpq-ssl.html for details\n10:57:34 9122 INFO  Started pg_autoctl postgres service with pid 9127\n10:57:34 9127 INFO   /usr/bin/pg_autoctl do service postgres --pgdata ha -v\n10:57:34 9122 INFO  Started pg_autoctl node-init service with pid 9128\n10:57:34 9128 FATAL The state file \"/var/lib/pgsql/.local/share/pg_autoctl/var/lib/pgsql/ha/pg_autoctl.state\" exists and there's no init in progress\n10:57:34 9128 INFO  HINT: use `pg_autoctl run` to start the service.\n10:57:34 9122 WARN  pg_autoctl service node-init exited with exit status 0\n10:57:34 9127 INFO  Postgres controller service received signal SIGTERM, terminating\n10:57:34 9122 INFO  Stop pg_autoctl",
        "stderr_lines": [
            "10:57:34 9122 INFO  Using default --ssl-mode \"require\"",
            "10:57:34 9122 INFO  Using --ssl-self-signed: pg_autoctl will create self-signed certificates, allowing for encrypted network traffic",
            "10:57:34 9122 WARN  Self-signed certificates provide protection against eavesdropping; this setup does NOT protect against Man-In-The-Middle attacks nor Impersonation attacks.",
            "10:57:34 9122 WARN  See https://www.postgresql.org/docs/current/libpq-ssl.html for details",
            "10:57:34 9122 INFO  Started pg_autoctl postgres service with pid 9127",
            "10:57:34 9127 INFO   /usr/bin/pg_autoctl do service postgres --pgdata ha -v",
            "10:57:34 9122 INFO  Started pg_autoctl node-init service with pid 9128",
            "10:57:34 9128 FATAL The state file \"/var/lib/pgsql/.local/share/pg_autoctl/var/lib/pgsql/ha/pg_autoctl.state\" exists and there's no init in progress",
            "10:57:34 9128 INFO  HINT: use `pg_autoctl run` to start the service.",
            "10:57:34 9122 WARN  pg_autoctl service node-init exited with exit status 0",
            "10:57:34 9127 INFO  Postgres controller service received signal SIGTERM, terminating",
            "10:57:34 9122 INFO  Stop pg_autoctl"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2021-12-09 10:57:40,541 p=91953 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "413526593136.8909",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ;  pg_autoctl create postgres --pgdata \"ha\" --auth trust --ssl-self-signed --username ha-admin --dbname \"appdb\" --hostname \"postgres-ha03\" --pgctl /bin/pg_ctl --monitor 'postgres://autoctl_node@postgres-haproxy01/pg_auto_failover?sslmode=require' )",
        "delta": "0:00:00.531783",
        "end": "2021-12-09 10:57:34.569396",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-09 10:57:34.037613",
        "stderr": "10:57:34 8918 INFO  Using default --ssl-mode \"require\"\n10:57:34 8918 INFO  Using --ssl-self-signed: pg_autoctl will create self-signed certificates, allowing for encrypted network traffic\n10:57:34 8918 WARN  Self-signed certificates provide protection against eavesdropping; this setup does NOT protect against Man-In-The-Middle attacks nor Impersonation attacks.\n10:57:34 8918 WARN  See https://www.postgresql.org/docs/current/libpq-ssl.html for details\n10:57:34 8918 INFO  Started pg_autoctl postgres service with pid 8923\n10:57:34 8923 INFO   /usr/bin/pg_autoctl do service postgres --pgdata ha -v\n10:57:34 8918 INFO  Started pg_autoctl node-init service with pid 8924\n10:57:34 8924 FATAL The state file \"/var/lib/pgsql/.local/share/pg_autoctl/var/lib/pgsql/ha/pg_autoctl.state\" exists and there's no init in progress\n10:57:34 8924 INFO  HINT: use `pg_autoctl run` to start the service.\n10:57:34 8918 WARN  pg_autoctl service node-init exited with exit status 0\n10:57:34 8923 INFO  Postgres controller service received signal SIGTERM, terminating\n10:57:34 8918 INFO  Stop pg_autoctl",
        "stderr_lines": [
            "10:57:34 8918 INFO  Using default --ssl-mode \"require\"",
            "10:57:34 8918 INFO  Using --ssl-self-signed: pg_autoctl will create self-signed certificates, allowing for encrypted network traffic",
            "10:57:34 8918 WARN  Self-signed certificates provide protection against eavesdropping; this setup does NOT protect against Man-In-The-Middle attacks nor Impersonation attacks.",
            "10:57:34 8918 WARN  See https://www.postgresql.org/docs/current/libpq-ssl.html for details",
            "10:57:34 8918 INFO  Started pg_autoctl postgres service with pid 8923",
            "10:57:34 8923 INFO   /usr/bin/pg_autoctl do service postgres --pgdata ha -v",
            "10:57:34 8918 INFO  Started pg_autoctl node-init service with pid 8924",
            "10:57:34 8924 FATAL The state file \"/var/lib/pgsql/.local/share/pg_autoctl/var/lib/pgsql/ha/pg_autoctl.state\" exists and there's no init in progress",
            "10:57:34 8924 INFO  HINT: use `pg_autoctl run` to start the service.",
            "10:57:34 8918 WARN  pg_autoctl service node-init exited with exit status 0",
            "10:57:34 8923 INFO  Postgres controller service received signal SIGTERM, terminating",
            "10:57:34 8918 INFO  Stop pg_autoctl"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2021-12-09 10:57:40,563 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Create systemd service file of secondary instance] ***
2021-12-09 10:57:47,393 p=91953 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-09 10:57:48,006 p=91953 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-09 10:57:48,020 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : debug] *********************************************
2021-12-09 10:57:48,078 p=91953 u=pivotal n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "571274837564.9423",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; pg_autoctl -q show systemd --pgdata ~postgres/ha > pgautofailover.service )",
        "delta": "0:00:00.008028",
        "end": "2021-12-09 10:57:40.810391",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-09 10:57:40.802363",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "",
        "stdout_lines": []
    }
}
2021-12-09 10:57:48,096 p=91953 u=pivotal n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "467737656933.9219",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; pg_autoctl -q show systemd --pgdata ~postgres/ha > pgautofailover.service )",
        "delta": "0:00:00.007777",
        "end": "2021-12-09 10:57:41.090335",
        "failed": false,
        "finished": 1,
        "rc": 0,
        "start": "2021-12-09 10:57:41.082558",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "",
        "stdout_lines": []
    }
}
2021-12-09 10:57:48,112 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Copy secondary systemd service file of secondary instance] ***
2021-12-09 10:57:48,698 p=91953 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-09 10:57:48,699 p=91953 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-09 10:57:48,712 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Reload and start secondary systemd service of secondary instance] ***
2021-12-09 10:57:49,860 p=91953 u=pivotal n=ansible | changed: [postgres-ha03]
2021-12-09 10:57:49,881 p=91953 u=pivotal n=ansible | changed: [postgres-ha02]
2021-12-09 10:57:49,895 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Replace database directory] ************************
2021-12-09 10:57:51,309 p=91953 u=pivotal n=ansible | ok: [postgres-ha03]
2021-12-09 10:57:51,412 p=91953 u=pivotal n=ansible | ok: [postgres-ha02]
2021-12-09 10:57:51,426 p=91953 u=pivotal n=ansible | TASK [pgfailover-postgres : Verify the state of secondary instance] ************
2021-12-09 10:57:52,719 p=91953 u=pivotal n=ansible | fatal: [postgres-ha03]: FAILED! => {"changed": true, "cmd": "( source ~/.bash_profile ; pg_autoctl show state )", "delta": "0:00:00.460988", "end": "2021-12-09 10:57:52.222201", "msg": "non-zero return code", "rc": 1, "start": "2021-12-09 10:57:51.761213", "stderr": "10:57:52 9938 ERROR Failed to get value for environment variable 'PGDATA', which is unset\n10:57:52 9938 FATAL Failed to set PGDATA either from the environment or from --pgdata", "stderr_lines": ["10:57:52 9938 ERROR Failed to get value for environment variable 'PGDATA', which is unset", "10:57:52 9938 FATAL Failed to set PGDATA either from the environment or from --pgdata"], "stdout": "", "stdout_lines": []}
2021-12-09 10:57:52,720 p=91953 u=pivotal n=ansible | fatal: [postgres-ha02]: FAILED! => {"changed": true, "cmd": "( source ~/.bash_profile ; pg_autoctl show state )", "delta": "0:00:00.455231", "end": "2021-12-09 10:57:51.937204", "msg": "non-zero return code", "rc": 1, "start": "2021-12-09 10:57:51.481973", "stderr": "10:57:51 10142 ERROR Failed to get value for environment variable 'PGDATA', which is unset\n10:57:51 10142 FATAL Failed to set PGDATA either from the environment or from --pgdata", "stderr_lines": ["10:57:51 10142 ERROR Failed to get value for environment variable 'PGDATA', which is unset", "10:57:51 10142 FATAL Failed to set PGDATA either from the environment or from --pgdata"], "stdout": "", "stdout_lines": []}
2021-12-09 10:57:52,722 p=91953 u=pivotal n=ansible | PLAY RECAP *********************************************************************
2021-12-09 10:57:52,723 p=91953 u=pivotal n=ansible | postgres-ha01              : ok=18   changed=7    unreachable=0    failed=1    skipped=16   rescued=0    ignored=0   
2021-12-09 10:57:52,723 p=91953 u=pivotal n=ansible | postgres-ha02              : ok=18   changed=7    unreachable=0    failed=1    skipped=25   rescued=0    ignored=0   
2021-12-09 10:57:52,723 p=91953 u=pivotal n=ansible | postgres-ha03              : ok=18   changed=7    unreachable=0    failed=1    skipped=25   rescued=0    ignored=0   
2021-12-09 10:57:52,723 p=91953 u=pivotal n=ansible | postgres-haproxy01         : ok=8    changed=3    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-26 12:03:36,040 p=47835 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be removed from ansible-core in version
 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2021-12-26 12:03:36,265 p=47835 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed in version 2.16. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2021-12-26 12:03:36,270 p=47835 u=moonja n=ansible | [WARNING]: While constructing a mapping from /Users/moonja/postgres-cluster/roles/pgfailover-postgres/tasks/pgfailover-postgres-install.yml, line 285,
column 3, found a duplicate dict key (when). Using last defined value only.

2021-12-26 12:03:36,315 p=47835 u=moonja n=ansible | [WARNING]: file /Users/moonja/postgres-cluster/roles/pgfailover-postgres/tasks/pgfailover-postgres-upgrade.yml is empty and had no tasks to include

2021-12-26 12:03:36,328 p=47835 u=moonja n=ansible | PLAY [all] **********************************************************************************************************************************************
2021-12-26 12:03:36,353 p=47835 u=moonja n=ansible | TASK [Gathering Facts] **********************************************************************************************************************************
2021-12-26 12:03:38,179 p=47835 u=moonja n=ansible | ok: [postgres-ha02]
2021-12-26 12:03:38,358 p=47835 u=moonja n=ansible | ok: [postgres-ha03]
2021-12-26 12:03:38,772 p=47835 u=moonja n=ansible | ok: [postgres-ha01]
2021-12-26 12:03:41,757 p=47835 u=moonja n=ansible | ok: [postgres-haproxy01]
2021-12-26 12:03:41,776 p=47835 u=moonja n=ansible | TASK [pgfailover-postgres : Disable port from public zone] **********************************************************************************************
2021-12-26 12:03:42,714 p=47835 u=moonja n=ansible | changed: [postgres-ha03] => (item=5432)
2021-12-26 12:03:42,754 p=47835 u=moonja n=ansible | changed: [postgres-ha01] => (item=5432)
2021-12-26 12:03:42,755 p=47835 u=moonja n=ansible | changed: [postgres-ha02] => (item=5432)
2021-12-26 12:03:43,423 p=47835 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=5432)
2021-12-26 12:03:43,438 p=47835 u=moonja n=ansible | TASK [pgfailover-postgres : Disable IP Addresses in whitelist] ******************************************************************************************
2021-12-26 12:03:44,198 p=47835 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=postgres-haproxy01)
2021-12-26 12:03:44,201 p=47835 u=moonja n=ansible | changed: [postgres-ha03] => (item=postgres-haproxy01)
2021-12-26 12:03:44,210 p=47835 u=moonja n=ansible | changed: [postgres-ha01] => (item=postgres-haproxy01)
2021-12-26 12:03:44,236 p=47835 u=moonja n=ansible | changed: [postgres-ha02] => (item=postgres-haproxy01)
2021-12-26 12:03:44,819 p=47835 u=moonja n=ansible | changed: [postgres-ha01] => (item=postgres-ha01)
2021-12-26 12:03:44,838 p=47835 u=moonja n=ansible | changed: [postgres-ha02] => (item=postgres-ha01)
2021-12-26 12:03:44,850 p=47835 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=postgres-ha01)
2021-12-26 12:03:44,855 p=47835 u=moonja n=ansible | changed: [postgres-ha03] => (item=postgres-ha01)
2021-12-26 12:03:45,468 p=47835 u=moonja n=ansible | changed: [postgres-ha01] => (item=postgres-ha02)
2021-12-26 12:03:45,469 p=47835 u=moonja n=ansible | changed: [postgres-ha02] => (item=postgres-ha02)
2021-12-26 12:03:45,479 p=47835 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=postgres-ha02)
2021-12-26 12:03:45,493 p=47835 u=moonja n=ansible | changed: [postgres-ha03] => (item=postgres-ha02)
2021-12-26 12:03:46,133 p=47835 u=moonja n=ansible | changed: [postgres-ha02] => (item=postgres-ha03)
2021-12-26 12:03:46,141 p=47835 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=postgres-ha03)
2021-12-26 12:03:46,142 p=47835 u=moonja n=ansible | changed: [postgres-ha01] => (item=postgres-ha03)
2021-12-26 12:03:46,147 p=47835 u=moonja n=ansible | changed: [postgres-ha03] => (item=postgres-ha03)
2021-12-26 12:03:46,160 p=47835 u=moonja n=ansible | TASK [pgfailover-postgres : Bounce firewalld] ***********************************************************************************************************
2021-12-26 12:03:48,472 p=47835 u=moonja n=ansible | changed: [postgres-ha02]
2021-12-26 12:03:48,476 p=47835 u=moonja n=ansible | changed: [postgres-ha01]
2021-12-26 12:03:48,613 p=47835 u=moonja n=ansible | changed: [postgres-ha03]
2021-12-26 12:03:48,683 p=47835 u=moonja n=ansible | changed: [postgres-haproxy01]
2021-12-26 12:03:48,697 p=47835 u=moonja n=ansible | TASK [pgfailover-postgres : Stop and disable firewalld.] ************************************************************************************************
2021-12-26 12:03:50,458 p=47835 u=moonja n=ansible | changed: [postgres-ha03]
2021-12-26 12:03:50,459 p=47835 u=moonja n=ansible | changed: [postgres-haproxy01]
2021-12-26 12:03:50,483 p=47835 u=moonja n=ansible | changed: [postgres-ha02]
2021-12-26 12:03:50,503 p=47835 u=moonja n=ansible | changed: [postgres-ha01]
2021-12-26 12:03:50,514 p=47835 u=moonja n=ansible | TASK [pgfailover-postgres : Verify that pg_auto_failover/postgres was installed properly] ***************************************************************
2021-12-26 12:03:50,547 p=47835 u=moonja n=ansible | skipping: [postgres-ha01]
2021-12-26 12:03:50,561 p=47835 u=moonja n=ansible | skipping: [postgres-ha02]
2021-12-26 12:03:50,572 p=47835 u=moonja n=ansible | skipping: [postgres-ha03]
2021-12-26 12:03:51,571 p=47835 u=moonja n=ansible | fatal: [postgres-haproxy01]: FAILED! => {"changed": true, "cmd": "( pg_autoctl version )", "delta": "0:00:00.003102", "end": "2021-12-26 12:03:51.671021", "msg": "non-zero return code", "rc": 127, "start": "2021-12-26 12:03:51.667919", "stderr": "/bin/sh: pg_autoctl: command not found", "stderr_lines": ["/bin/sh: pg_autoctl: command not found"], "stdout": "", "stdout_lines": []}
2021-12-26 12:03:51,582 p=47835 u=moonja n=ansible | TASK [pgfailover-postgres : Verify that pg_auto_failover/postgres was installed properly] ***************************************************************
2021-12-26 12:03:51,604 p=47835 u=moonja n=ansible | skipping: [postgres-ha01]
2021-12-26 12:03:51,620 p=47835 u=moonja n=ansible | skipping: [postgres-ha02]
2021-12-26 12:03:51,629 p=47835 u=moonja n=ansible | skipping: [postgres-ha03]
2021-12-26 12:03:51,641 p=47835 u=moonja n=ansible | TASK [pgfailover-postgres : Getting process IDs of the pg_autoctl process] ******************************************************************************
2021-12-26 12:03:52,288 p=47835 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"changed": false, "msg": "Failed to import the required Python library (psutil) on postgres-ha03.jtest.pivotal.io's Python /usr/bin/python. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2021-12-26 12:03:52,310 p=47835 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"changed": false, "msg": "Failed to import the required Python library (psutil) on postgres-ha02.jtest.pivotal.io's Python /usr/bin/python. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2021-12-26 12:03:52,315 p=47835 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"changed": false, "msg": "Failed to import the required Python library (psutil) on postgres-ha01.jtest.pivotal.io's Python /usr/bin/python. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2021-12-26 12:03:52,318 p=47835 u=moonja n=ansible | PLAY RECAP **********************************************************************************************************************************************
2021-12-26 12:03:52,318 p=47835 u=moonja n=ansible | postgres-ha01              : ok=5    changed=4    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2021-12-26 12:03:52,318 p=47835 u=moonja n=ansible | postgres-ha02              : ok=5    changed=4    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2021-12-26 12:03:52,318 p=47835 u=moonja n=ansible | postgres-ha03              : ok=5    changed=4    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2021-12-26 12:03:52,318 p=47835 u=moonja n=ansible | postgres-haproxy01         : ok=5    changed=4    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2021-12-26 12:03:56,423 p=48411 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be removed from ansible-core in version
 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2021-12-26 12:03:56,664 p=48411 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed in version 2.16. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2021-12-26 12:03:56,668 p=48411 u=moonja n=ansible | [WARNING]: While constructing a mapping from /Users/moonja/postgres-cluster/roles/pgfailover-postgres/tasks/pgfailover-postgres-install.yml, line 285,
column 3, found a duplicate dict key (when). Using last defined value only.

2021-12-26 12:03:56,714 p=48411 u=moonja n=ansible | [WARNING]: file /Users/moonja/postgres-cluster/roles/pgfailover-postgres/tasks/pgfailover-postgres-upgrade.yml is empty and had no tasks to include

2021-12-26 12:03:56,727 p=48411 u=moonja n=ansible | PLAY [all] **********************************************************************************************************************************************
2021-12-26 12:03:56,753 p=48411 u=moonja n=ansible | TASK [Gathering Facts] **********************************************************************************************************************************
2021-12-26 12:03:58,520 p=48411 u=moonja n=ansible | ok: [postgres-haproxy01]
2021-12-26 12:03:58,534 p=48411 u=moonja n=ansible | ok: [postgres-ha02]
2021-12-26 12:03:58,543 p=48411 u=moonja n=ansible | ok: [postgres-ha03]
2021-12-26 12:03:58,544 p=48411 u=moonja n=ansible | ok: [postgres-ha01]
2021-12-26 12:03:58,563 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Start and enable firewalld.] ************************************************************************************************
2021-12-26 12:04:00,260 p=48411 u=moonja n=ansible | changed: [postgres-haproxy01]
2021-12-26 12:04:00,279 p=48411 u=moonja n=ansible | changed: [postgres-ha01]
2021-12-26 12:04:00,290 p=48411 u=moonja n=ansible | changed: [postgres-ha03]
2021-12-26 12:04:00,306 p=48411 u=moonja n=ansible | changed: [postgres-ha02]
2021-12-26 12:04:00,319 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Open Firewall] **************************************************************************************************************
2021-12-26 12:04:01,532 p=48411 u=moonja n=ansible | changed: [postgres-ha03] => (item=5432)
2021-12-26 12:04:01,536 p=48411 u=moonja n=ansible | changed: [postgres-ha01] => (item=5432)
2021-12-26 12:04:01,556 p=48411 u=moonja n=ansible | changed: [postgres-ha02] => (item=5432)
2021-12-26 12:04:01,569 p=48411 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=5432)
2021-12-26 12:04:01,580 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Whitelist of Ip addresses] **************************************************************************************************
2021-12-26 12:04:02,558 p=48411 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=postgres-haproxy01)
2021-12-26 12:04:02,561 p=48411 u=moonja n=ansible | changed: [postgres-ha02] => (item=postgres-haproxy01)
2021-12-26 12:04:02,575 p=48411 u=moonja n=ansible | changed: [postgres-ha03] => (item=postgres-haproxy01)
2021-12-26 12:04:02,579 p=48411 u=moonja n=ansible | changed: [postgres-ha01] => (item=postgres-haproxy01)
2021-12-26 12:04:03,192 p=48411 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=postgres-ha01)
2021-12-26 12:04:03,193 p=48411 u=moonja n=ansible | changed: [postgres-ha02] => (item=postgres-ha01)
2021-12-26 12:04:03,203 p=48411 u=moonja n=ansible | changed: [postgres-ha03] => (item=postgres-ha01)
2021-12-26 12:04:03,224 p=48411 u=moonja n=ansible | changed: [postgres-ha01] => (item=postgres-ha01)
2021-12-26 12:04:03,817 p=48411 u=moonja n=ansible | changed: [postgres-ha02] => (item=postgres-ha02)
2021-12-26 12:04:03,818 p=48411 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=postgres-ha02)
2021-12-26 12:04:03,833 p=48411 u=moonja n=ansible | changed: [postgres-ha03] => (item=postgres-ha02)
2021-12-26 12:04:03,852 p=48411 u=moonja n=ansible | changed: [postgres-ha01] => (item=postgres-ha02)
2021-12-26 12:04:04,463 p=48411 u=moonja n=ansible | changed: [postgres-ha02] => (item=postgres-ha03)
2021-12-26 12:04:04,466 p=48411 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=postgres-ha03)
2021-12-26 12:04:04,477 p=48411 u=moonja n=ansible | changed: [postgres-ha03] => (item=postgres-ha03)
2021-12-26 12:04:04,518 p=48411 u=moonja n=ansible | changed: [postgres-ha01] => (item=postgres-ha03)
2021-12-26 12:04:04,532 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Bounce firewalld] ***********************************************************************************************************
2021-12-26 12:04:06,519 p=48411 u=moonja n=ansible | changed: [postgres-haproxy01]
2021-12-26 12:04:06,525 p=48411 u=moonja n=ansible | changed: [postgres-ha01]
2021-12-26 12:04:06,543 p=48411 u=moonja n=ansible | changed: [postgres-ha02]
2021-12-26 12:04:06,575 p=48411 u=moonja n=ansible | changed: [postgres-ha03]
2021-12-26 12:04:06,586 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] *****************************************************************
2021-12-26 12:04:08,608 p=48411 u=moonja n=ansible | ok: [postgres-ha03]
2021-12-26 12:04:08,614 p=48411 u=moonja n=ansible | ok: [postgres-ha02]
2021-12-26 12:04:08,616 p=48411 u=moonja n=ansible | ok: [postgres-ha01]
2021-12-26 12:04:08,846 p=48411 u=moonja n=ansible | ok: [postgres-haproxy01]
2021-12-26 12:04:08,857 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Install dependency rpm package for pgautofailover] **************************************************************************
2021-12-26 12:04:18,218 p=48411 u=moonja n=ansible | ok: [postgres-haproxy01]
2021-12-26 12:04:27,032 p=48411 u=moonja n=ansible | changed: [postgres-ha03]
2021-12-26 12:04:27,034 p=48411 u=moonja n=ansible | changed: [postgres-ha02]
2021-12-26 12:04:27,251 p=48411 u=moonja n=ansible | changed: [postgres-ha01]
2021-12-26 12:04:27,260 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Install VMware Postgres on all hosts as root] *******************************************************************************
2021-12-26 12:04:33,665 p=48411 u=moonja n=ansible | ok: [postgres-ha03]
2021-12-26 12:04:33,672 p=48411 u=moonja n=ansible | ok: [postgres-ha01]
2021-12-26 12:04:40,315 p=48411 u=moonja n=ansible | ok: [postgres-haproxy01]
2021-12-26 12:04:45,825 p=48411 u=moonja n=ansible | changed: [postgres-ha02]
2021-12-26 12:04:45,835 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Verify that pg_auto_failover/postgres was installed properly] ***************************************************************
2021-12-26 12:04:45,883 p=48411 u=moonja n=ansible | skipping: [postgres-ha01]
2021-12-26 12:04:45,885 p=48411 u=moonja n=ansible | skipping: [postgres-ha02]
2021-12-26 12:04:45,895 p=48411 u=moonja n=ansible | skipping: [postgres-ha03]
2021-12-26 12:04:46,621 p=48411 u=moonja n=ansible | fatal: [postgres-haproxy01]: FAILED! => {"changed": true, "cmd": "( pg_autoctl version )", "delta": "0:00:00.003166", "end": "2021-12-26 12:04:46.725924", "msg": "non-zero return code", "rc": 127, "start": "2021-12-26 12:04:46.722758", "stderr": "/bin/sh: pg_autoctl: command not found", "stderr_lines": ["/bin/sh: pg_autoctl: command not found"], "stdout": "", "stdout_lines": []}
2021-12-26 12:04:46,632 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : debug] **********************************************************************************************************************
2021-12-26 12:04:46,669 p=48411 u=moonja n=ansible | skipping: [postgres-ha01]
2021-12-26 12:04:46,669 p=48411 u=moonja n=ansible | skipping: [postgres-ha02]
2021-12-26 12:04:46,679 p=48411 u=moonja n=ansible | skipping: [postgres-ha03]
2021-12-26 12:04:46,690 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Verify that pg_auto_failover/postgres was installed properly] ***************************************************************
2021-12-26 12:04:46,723 p=48411 u=moonja n=ansible | skipping: [postgres-ha01]
2021-12-26 12:04:46,725 p=48411 u=moonja n=ansible | skipping: [postgres-ha02]
2021-12-26 12:04:46,734 p=48411 u=moonja n=ansible | skipping: [postgres-ha03]
2021-12-26 12:04:46,745 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : debug] **********************************************************************************************************************
2021-12-26 12:04:46,779 p=48411 u=moonja n=ansible | skipping: [postgres-ha01]
2021-12-26 12:04:46,780 p=48411 u=moonja n=ansible | skipping: [postgres-ha02]
2021-12-26 12:04:46,791 p=48411 u=moonja n=ansible | skipping: [postgres-ha03]
2021-12-26 12:04:46,801 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Getting process IDs of the pg_autoctl process] ******************************************************************************
2021-12-26 12:04:47,559 p=48411 u=moonja n=ansible | ok: [postgres-ha03]
2021-12-26 12:04:47,560 p=48411 u=moonja n=ansible | ok: [postgres-ha02]
2021-12-26 12:04:47,564 p=48411 u=moonja n=ansible | ok: [postgres-ha01]
2021-12-26 12:04:47,576 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Printing the process IDs obtained] ******************************************************************************************
2021-12-26 12:04:47,613 p=48411 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": "PIDS of pg_autoctl:"
}
2021-12-26 12:04:47,625 p=48411 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": "PIDS of pg_autoctl:773,798,799"
}
2021-12-26 12:04:47,642 p=48411 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": "PIDS of pg_autoctl:768,798,799"
}
2021-12-26 12:04:47,653 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Stop pgautofailover service of systemd] *************************************************************************************
2021-12-26 12:04:47,688 p=48411 u=moonja n=ansible | skipping: [postgres-ha01]
2021-12-26 12:04:48,958 p=48411 u=moonja n=ansible | changed: [postgres-ha03]
2021-12-26 12:04:49,006 p=48411 u=moonja n=ansible | changed: [postgres-ha02]
2021-12-26 12:04:49,020 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : debug] **********************************************************************************************************************
2021-12-26 12:04:49,054 p=48411 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2021-12-26 12:04:49,059 p=48411 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "failed": false,
        "name": "pgautofailover",
        "state": "stopped",
        "status": {
            "ActiveEnterTimestamp": "Sun 2021-12-26 10:51:33 KST",
            "ActiveEnterTimestampMonotonic": "3798089",
            "ActiveExitTimestampMonotonic": "0",
            "ActiveState": "active",
            "After": "system.slice systemd-journald.socket basic.target -.mount",
            "AllowIsolate": "no",
            "AmbientCapabilities": "0",
            "AssertResult": "yes",
            "AssertTimestamp": "Sun 2021-12-26 10:51:33 KST",
            "AssertTimestampMonotonic": "3797158",
            "Before": "shutdown.target multi-user.target",
            "BlockIOAccounting": "no",
            "BlockIOWeight": "18446744073709551615",
            "CPUAccounting": "no",
            "CPUQuotaPerSecUSec": "infinity",
            "CPUSchedulingPolicy": "0",
            "CPUSchedulingPriority": "0",
            "CPUSchedulingResetOnFork": "no",
            "CPUShares": "18446744073709551615",
            "CanIsolate": "no",
            "CanReload": "no",
            "CanStart": "yes",
            "CanStop": "yes",
            "CapabilityBoundingSet": "18446744073709551615",
            "CollectMode": "inactive",
            "ConditionResult": "yes",
            "ConditionTimestamp": "Sun 2021-12-26 10:51:33 KST",
            "ConditionTimestampMonotonic": "3797158",
            "Conflicts": "shutdown.target",
            "ControlGroup": "/system.slice/pgautofailover.service",
            "ControlPID": "0",
            "DefaultDependencies": "yes",
            "Delegate": "no",
            "Description": "pg_auto_failover",
            "DevicePolicy": "auto",
            "Environment": "PGDATA=/var/lib/pgsql/ha",
            "ExecMainCode": "0",
            "ExecMainExitTimestampMonotonic": "0",
            "ExecMainPID": "773",
            "ExecMainStartTimestamp": "Sun 2021-12-26 10:51:33 KST",
            "ExecMainStartTimestampMonotonic": "3797958",
            "ExecMainStatus": "0",
            "ExecStart": "{ path=/usr/bin/pg_autoctl ; argv[]=/usr/bin/pg_autoctl run ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
            "FailureAction": "none",
            "FileDescriptorStoreMax": "0",
            "FragmentPath": "/etc/systemd/system/pgautofailover.service",
            "GuessMainPID": "yes",
            "IOScheduling": "0",
            "Id": "pgautofailover.service",
            "IgnoreOnIsolate": "no",
            "IgnoreOnSnapshot": "no",
            "IgnoreSIGPIPE": "yes",
            "InactiveEnterTimestampMonotonic": "0",
            "InactiveExitTimestamp": "Sun 2021-12-26 10:51:33 KST",
            "InactiveExitTimestampMonotonic": "3798089",
            "JobTimeoutAction": "none",
            "JobTimeoutUSec": "0",
            "KillMode": "control-group",
            "KillSignal": "15",
            "LimitAS": "18446744073709551615",
            "LimitCORE": "18446744073709551615",
            "LimitCPU": "18446744073709551615",
            "LimitDATA": "18446744073709551615",
            "LimitFSIZE": "18446744073709551615",
            "LimitLOCKS": "18446744073709551615",
            "LimitMEMLOCK": "65536",
            "LimitMSGQUEUE": "819200",
            "LimitNICE": "0",
            "LimitNOFILE": "4096",
            "LimitNPROC": "63444",
            "LimitRSS": "18446744073709551615",
            "LimitRTPRIO": "0",
            "LimitRTTIME": "18446744073709551615",
            "LimitSIGPENDING": "63444",
            "LimitSTACK": "18446744073709551615",
            "LoadState": "loaded",
            "MainPID": "773",
            "MemoryAccounting": "no",
            "MemoryCurrent": "18446744073709551615",
            "MemoryLimit": "18446744073709551615",
            "MountFlags": "0",
            "Names": "pgautofailover.service",
            "NeedDaemonReload": "no",
            "Nice": "0",
            "NoNewPrivileges": "no",
            "NonBlocking": "no",
            "NotifyAccess": "none",
            "OOMScoreAdjust": "0",
            "OnFailureJobMode": "replace",
            "PermissionsStartOnly": "no",
            "PrivateDevices": "no",
            "PrivateNetwork": "no",
            "PrivateTmp": "no",
            "ProtectHome": "no",
            "ProtectSystem": "no",
            "RefuseManualStart": "no",
            "RefuseManualStop": "no",
            "RemainAfterExit": "no",
            "Requires": "system.slice basic.target -.mount",
            "RequiresMountsFor": "/var/lib/pgsql",
            "Restart": "always",
            "RestartUSec": "100ms",
            "Result": "success",
            "RootDirectoryStartOnly": "no",
            "RuntimeDirectoryMode": "0755",
            "SameProcessGroup": "no",
            "SecureBits": "0",
            "SendSIGHUP": "no",
            "SendSIGKILL": "yes",
            "Slice": "system.slice",
            "StandardError": "inherit",
            "StandardInput": "null",
            "StandardOutput": "journal",
            "StartLimitAction": "none",
            "StartLimitBurst": "0",
            "StartLimitInterval": "10000000",
            "StartupBlockIOWeight": "18446744073709551615",
            "StartupCPUShares": "18446744073709551615",
            "StatusErrno": "0",
            "StopWhenUnneeded": "no",
            "SubState": "running",
            "SyslogLevelPrefix": "yes",
            "SyslogPriority": "30",
            "SystemCallErrorNumber": "0",
            "TTYReset": "no",
            "TTYVHangup": "no",
            "TTYVTDisallocate": "no",
            "TasksAccounting": "no",
            "TasksCurrent": "3",
            "TasksMax": "18446744073709551615",
            "TimeoutStartUSec": "1min 30s",
            "TimeoutStopUSec": "1min 30s",
            "TimerSlackNSec": "50000",
            "Transient": "no",
            "Type": "simple",
            "UMask": "0022",
            "UnitFilePreset": "disabled",
            "UnitFileState": "enabled",
            "User": "postgres",
            "WantedBy": "multi-user.target",
            "WatchdogTimestamp": "Sun 2021-12-26 10:51:33 KST",
            "WatchdogTimestampMonotonic": "3798046",
            "WatchdogUSec": "0",
            "WorkingDirectory": "/var/lib/pgsql"
        }
    }
}
2021-12-26 12:04:49,073 p=48411 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "failed": false,
        "name": "pgautofailover",
        "state": "stopped",
        "status": {
            "ActiveEnterTimestamp": "Sun 2021-12-26 10:51:35 KST",
            "ActiveEnterTimestampMonotonic": "5287168",
            "ActiveExitTimestampMonotonic": "0",
            "ActiveState": "active",
            "After": "-.mount systemd-journald.socket basic.target system.slice",
            "AllowIsolate": "no",
            "AmbientCapabilities": "0",
            "AssertResult": "yes",
            "AssertTimestamp": "Sun 2021-12-26 10:51:35 KST",
            "AssertTimestampMonotonic": "5286583",
            "Before": "multi-user.target shutdown.target",
            "BlockIOAccounting": "no",
            "BlockIOWeight": "18446744073709551615",
            "CPUAccounting": "no",
            "CPUQuotaPerSecUSec": "infinity",
            "CPUSchedulingPolicy": "0",
            "CPUSchedulingPriority": "0",
            "CPUSchedulingResetOnFork": "no",
            "CPUShares": "18446744073709551615",
            "CanIsolate": "no",
            "CanReload": "no",
            "CanStart": "yes",
            "CanStop": "yes",
            "CapabilityBoundingSet": "18446744073709551615",
            "CollectMode": "inactive",
            "ConditionResult": "yes",
            "ConditionTimestamp": "Sun 2021-12-26 10:51:35 KST",
            "ConditionTimestampMonotonic": "5286583",
            "Conflicts": "shutdown.target",
            "ControlGroup": "/system.slice/pgautofailover.service",
            "ControlPID": "0",
            "DefaultDependencies": "yes",
            "Delegate": "no",
            "Description": "pg_auto_failover",
            "DevicePolicy": "auto",
            "Environment": "PGDATA=/var/lib/pgsql/ha",
            "ExecMainCode": "0",
            "ExecMainExitTimestampMonotonic": "0",
            "ExecMainPID": "768",
            "ExecMainStartTimestamp": "Sun 2021-12-26 10:51:35 KST",
            "ExecMainStartTimestampMonotonic": "5287111",
            "ExecMainStatus": "0",
            "ExecStart": "{ path=/usr/bin/pg_autoctl ; argv[]=/usr/bin/pg_autoctl run ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }",
            "FailureAction": "none",
            "FileDescriptorStoreMax": "0",
            "FragmentPath": "/etc/systemd/system/pgautofailover.service",
            "GuessMainPID": "yes",
            "IOScheduling": "0",
            "Id": "pgautofailover.service",
            "IgnoreOnIsolate": "no",
            "IgnoreOnSnapshot": "no",
            "IgnoreSIGPIPE": "yes",
            "InactiveEnterTimestampMonotonic": "0",
            "InactiveExitTimestamp": "Sun 2021-12-26 10:51:35 KST",
            "InactiveExitTimestampMonotonic": "5287168",
            "JobTimeoutAction": "none",
            "JobTimeoutUSec": "0",
            "KillMode": "control-group",
            "KillSignal": "15",
            "LimitAS": "18446744073709551615",
            "LimitCORE": "18446744073709551615",
            "LimitCPU": "18446744073709551615",
            "LimitDATA": "18446744073709551615",
            "LimitFSIZE": "18446744073709551615",
            "LimitLOCKS": "18446744073709551615",
            "LimitMEMLOCK": "65536",
            "LimitMSGQUEUE": "819200",
            "LimitNICE": "0",
            "LimitNOFILE": "4096",
            "LimitNPROC": "63444",
            "LimitRSS": "18446744073709551615",
            "LimitRTPRIO": "0",
            "LimitRTTIME": "18446744073709551615",
            "LimitSIGPENDING": "63444",
            "LimitSTACK": "18446744073709551615",
            "LoadState": "loaded",
            "MainPID": "768",
            "MemoryAccounting": "no",
            "MemoryCurrent": "18446744073709551615",
            "MemoryLimit": "18446744073709551615",
            "MountFlags": "0",
            "Names": "pgautofailover.service",
            "NeedDaemonReload": "no",
            "Nice": "0",
            "NoNewPrivileges": "no",
            "NonBlocking": "no",
            "NotifyAccess": "none",
            "OOMScoreAdjust": "0",
            "OnFailureJobMode": "replace",
            "PermissionsStartOnly": "no",
            "PrivateDevices": "no",
            "PrivateNetwork": "no",
            "PrivateTmp": "no",
            "ProtectHome": "no",
            "ProtectSystem": "no",
            "RefuseManualStart": "no",
            "RefuseManualStop": "no",
            "RemainAfterExit": "no",
            "Requires": "-.mount basic.target system.slice",
            "RequiresMountsFor": "/var/lib/pgsql",
            "Restart": "always",
            "RestartUSec": "100ms",
            "Result": "success",
            "RootDirectoryStartOnly": "no",
            "RuntimeDirectoryMode": "0755",
            "SameProcessGroup": "no",
            "SecureBits": "0",
            "SendSIGHUP": "no",
            "SendSIGKILL": "yes",
            "Slice": "system.slice",
            "StandardError": "inherit",
            "StandardInput": "null",
            "StandardOutput": "journal",
            "StartLimitAction": "none",
            "StartLimitBurst": "0",
            "StartLimitInterval": "10000000",
            "StartupBlockIOWeight": "18446744073709551615",
            "StartupCPUShares": "18446744073709551615",
            "StatusErrno": "0",
            "StopWhenUnneeded": "no",
            "SubState": "running",
            "SyslogLevelPrefix": "yes",
            "SyslogPriority": "30",
            "SystemCallErrorNumber": "0",
            "TTYReset": "no",
            "TTYVHangup": "no",
            "TTYVTDisallocate": "no",
            "TasksAccounting": "no",
            "TasksCurrent": "3",
            "TasksMax": "18446744073709551615",
            "TimeoutStartUSec": "1min 30s",
            "TimeoutStopUSec": "1min 30s",
            "TimerSlackNSec": "50000",
            "Transient": "no",
            "Type": "simple",
            "UMask": "0022",
            "UnitFilePreset": "disabled",
            "UnitFileState": "enabled",
            "User": "postgres",
            "WantedBy": "multi-user.target",
            "WatchdogTimestamp": "Sun 2021-12-26 10:51:35 KST",
            "WatchdogTimestampMonotonic": "5287149",
            "WatchdogUSec": "0",
            "WorkingDirectory": "/var/lib/pgsql"
        }
    }
}
2021-12-26 12:04:49,084 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Create the monitor node] ****************************************************************************************************
2021-12-26 12:04:49,136 p=48411 u=moonja n=ansible | skipping: [postgres-ha01]
2021-12-26 12:04:49,136 p=48411 u=moonja n=ansible | skipping: [postgres-ha02]
2021-12-26 12:04:49,148 p=48411 u=moonja n=ansible | skipping: [postgres-ha03]
2021-12-26 12:04:49,158 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : debug] **********************************************************************************************************************
2021-12-26 12:04:49,191 p=48411 u=moonja n=ansible | skipping: [postgres-ha01]
2021-12-26 12:04:49,193 p=48411 u=moonja n=ansible | skipping: [postgres-ha02]
2021-12-26 12:04:49,203 p=48411 u=moonja n=ansible | skipping: [postgres-ha03]
2021-12-26 12:04:49,214 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Create systemd service file of monitor instance] ****************************************************************************
2021-12-26 12:04:49,232 p=48411 u=moonja n=ansible | skipping: [postgres-ha01]
2021-12-26 12:04:49,251 p=48411 u=moonja n=ansible | skipping: [postgres-ha02]
2021-12-26 12:04:49,261 p=48411 u=moonja n=ansible | skipping: [postgres-ha03]
2021-12-26 12:04:49,272 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Copy systemd service file of monitor instance] ******************************************************************************
2021-12-26 12:04:49,306 p=48411 u=moonja n=ansible | skipping: [postgres-ha01]
2021-12-26 12:04:49,308 p=48411 u=moonja n=ansible | skipping: [postgres-ha02]
2021-12-26 12:04:49,318 p=48411 u=moonja n=ansible | skipping: [postgres-ha03]
2021-12-26 12:04:49,329 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Reload and start systemd service of monitor instance] ***********************************************************************
2021-12-26 12:04:49,349 p=48411 u=moonja n=ansible | skipping: [postgres-ha01]
2021-12-26 12:04:49,366 p=48411 u=moonja n=ansible | skipping: [postgres-ha02]
2021-12-26 12:04:49,378 p=48411 u=moonja n=ansible | skipping: [postgres-ha03]
2021-12-26 12:04:49,389 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : debug] **********************************************************************************************************************
2021-12-26 12:04:49,409 p=48411 u=moonja n=ansible | skipping: [postgres-ha01]
2021-12-26 12:04:49,426 p=48411 u=moonja n=ansible | skipping: [postgres-ha02]
2021-12-26 12:04:49,439 p=48411 u=moonja n=ansible | skipping: [postgres-ha03]
2021-12-26 12:04:49,449 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Replace database directory] *************************************************************************************************
2021-12-26 12:04:49,468 p=48411 u=moonja n=ansible | skipping: [postgres-ha01]
2021-12-26 12:04:49,485 p=48411 u=moonja n=ansible | skipping: [postgres-ha02]
2021-12-26 12:04:49,497 p=48411 u=moonja n=ansible | skipping: [postgres-ha03]
2021-12-26 12:04:49,507 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Verify the current state of monitor instance] *******************************************************************************
2021-12-26 12:04:49,529 p=48411 u=moonja n=ansible | skipping: [postgres-ha01]
2021-12-26 12:04:49,545 p=48411 u=moonja n=ansible | skipping: [postgres-ha02]
2021-12-26 12:04:49,558 p=48411 u=moonja n=ansible | skipping: [postgres-ha03]
2021-12-26 12:04:49,568 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : debug] **********************************************************************************************************************
2021-12-26 12:04:49,603 p=48411 u=moonja n=ansible | skipping: [postgres-ha01]
2021-12-26 12:04:49,605 p=48411 u=moonja n=ansible | skipping: [postgres-ha02]
2021-12-26 12:04:49,613 p=48411 u=moonja n=ansible | skipping: [postgres-ha03]
2021-12-26 12:04:49,625 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Verify the current state of monitor] ****************************************************************************************
2021-12-26 12:04:49,644 p=48411 u=moonja n=ansible | skipping: [postgres-ha01]
2021-12-26 12:04:49,662 p=48411 u=moonja n=ansible | skipping: [postgres-ha02]
2021-12-26 12:04:49,672 p=48411 u=moonja n=ansible | skipping: [postgres-ha03]
2021-12-26 12:04:49,684 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : debug] **********************************************************************************************************************
2021-12-26 12:04:49,704 p=48411 u=moonja n=ansible | skipping: [postgres-ha01]
2021-12-26 12:04:49,721 p=48411 u=moonja n=ansible | skipping: [postgres-ha02]
2021-12-26 12:04:49,731 p=48411 u=moonja n=ansible | skipping: [postgres-ha03]
2021-12-26 12:04:49,742 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Create primiary instance. It will automatically be set by the monitor as the primary node with read-write capability (PGDATA = /var/lib/pgpsql/ha)] ***
2021-12-26 12:04:49,774 p=48411 u=moonja n=ansible | skipping: [postgres-ha02]
2021-12-26 12:04:49,786 p=48411 u=moonja n=ansible | skipping: [postgres-ha03]
2021-12-26 12:04:57,426 p=48411 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "149222678567.20095", "changed": true, "cmd": "( cd /var/lib/pgsql ;  pg_autoctl create postgres --pgdata \"ha\" --auth trust --ssl-self-signed --username ha-admin --dbname \"appdb\" --hostname \"postgres-ha01\" --pgctl /bin/pg_ctl --monitor 'postgres://autoctl_node@postgres-haproxy01/pg_auto_failover?sslmode=require' )", "delta": "0:00:00.003599", "end": "2021-12-26 12:04:51.185879", "finished": 1, "msg": "non-zero return code", "rc": 127, "results_file": "/var/lib/pgsql/.ansible_async/149222678567.20095", "start": "2021-12-26 12:04:51.182280", "started": 1, "stderr": "/bin/sh: pg_autoctl: command not found", "stderr_lines": ["/bin/sh: pg_autoctl: command not found"], "stdout": "", "stdout_lines": []}
2021-12-26 12:04:57,436 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : debug] **********************************************************************************************************************
2021-12-26 12:04:57,459 p=48411 u=moonja n=ansible | skipping: [postgres-ha02]
2021-12-26 12:04:57,471 p=48411 u=moonja n=ansible | skipping: [postgres-ha03]
2021-12-26 12:04:57,482 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Create systemd service file of pirmary instance] ****************************************************************************
2021-12-26 12:04:57,502 p=48411 u=moonja n=ansible | skipping: [postgres-ha02]
2021-12-26 12:04:57,515 p=48411 u=moonja n=ansible | skipping: [postgres-ha03]
2021-12-26 12:04:57,524 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : debug] **********************************************************************************************************************
2021-12-26 12:04:57,545 p=48411 u=moonja n=ansible | skipping: [postgres-ha02]
2021-12-26 12:04:57,558 p=48411 u=moonja n=ansible | skipping: [postgres-ha03]
2021-12-26 12:04:57,568 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Copy primary systemd service file of primary instance] **********************************************************************
2021-12-26 12:04:57,588 p=48411 u=moonja n=ansible | skipping: [postgres-ha02]
2021-12-26 12:04:57,598 p=48411 u=moonja n=ansible | skipping: [postgres-ha03]
2021-12-26 12:04:57,609 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Reload and start primary systemd service of primary instance] ***************************************************************
2021-12-26 12:04:57,629 p=48411 u=moonja n=ansible | skipping: [postgres-ha02]
2021-12-26 12:04:57,642 p=48411 u=moonja n=ansible | skipping: [postgres-ha03]
2021-12-26 12:04:57,652 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Replace database directory] *************************************************************************************************
2021-12-26 12:04:57,672 p=48411 u=moonja n=ansible | skipping: [postgres-ha02]
2021-12-26 12:04:57,686 p=48411 u=moonja n=ansible | skipping: [postgres-ha03]
2021-12-26 12:04:57,696 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Verify the state of primary instance] ***************************************************************************************
2021-12-26 12:04:57,716 p=48411 u=moonja n=ansible | skipping: [postgres-ha02]
2021-12-26 12:04:57,726 p=48411 u=moonja n=ansible | skipping: [postgres-ha03]
2021-12-26 12:04:57,738 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : debug] **********************************************************************************************************************
2021-12-26 12:04:57,758 p=48411 u=moonja n=ansible | skipping: [postgres-ha02]
2021-12-26 12:04:57,775 p=48411 u=moonja n=ansible | skipping: [postgres-ha03]
2021-12-26 12:04:57,785 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Create secondary instance. It will automatically be set by the monitor as the secondary  node with read-write capability (PGDATA = /var/lib/pgpsql/ha)] ***
2021-12-26 12:05:05,514 p=48411 u=moonja n=ansible | changed: [postgres-ha02]
2021-12-26 12:05:05,689 p=48411 u=moonja n=ansible | changed: [postgres-ha03]
2021-12-26 12:05:05,699 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : debug] **********************************************************************************************************************
2021-12-26 12:05:05,725 p=48411 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "197893044538.16310",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ;  pg_autoctl create postgres --pgdata \"ha\" --auth trust --ssl-self-signed --username ha-admin --dbname \"appdb\" --hostname \"postgres-ha02\" --pgctl /bin/pg_ctl --monitor 'postgres://autoctl_node@postgres-haproxy01/pg_auto_failover?sslmode=require' )",
        "delta": "0:00:00.220239",
        "end": "2021-12-26 12:04:59.002819",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/197893044538.16310",
        "start": "2021-12-26 12:04:58.782580",
        "started": 1,
        "stderr": "12:04:58 16320 INFO  Using default --ssl-mode \"require\"\n12:04:58 16320 INFO  Using --ssl-self-signed: pg_autoctl will create self-signed certificates, allowing for encrypted network traffic\n12:04:58 16320 WARN  Self-signed certificates provide protection against eavesdropping; this setup does NOT protect against Man-In-The-Middle attacks nor Impersonation attacks.\n12:04:58 16320 WARN  See https://www.postgresql.org/docs/current/libpq-ssl.html for details\n12:04:58 16320 INFO  Started pg_autoctl postgres service with pid 16325\n12:04:58 16325 INFO   /usr/bin/pg_autoctl do service postgres --pgdata ha -v\n12:04:58 16320 INFO  Started pg_autoctl node-init service with pid 16326\n12:04:58 16326 FATAL The state file \"/var/lib/pgsql/.local/share/pg_autoctl/var/lib/pgsql/ha/pg_autoctl.state\" exists and there's no init in progress\n12:04:58 16326 INFO  HINT: use `pg_autoctl run` to start the service.\n12:04:58 16320 WARN  pg_autoctl service node-init exited with exit status 0\n12:04:58 16325 INFO  Postgres controller service received signal SIGTERM, terminating\n12:04:58 16320 INFO  Stop pg_autoctl",
        "stderr_lines": [
            "12:04:58 16320 INFO  Using default --ssl-mode \"require\"",
            "12:04:58 16320 INFO  Using --ssl-self-signed: pg_autoctl will create self-signed certificates, allowing for encrypted network traffic",
            "12:04:58 16320 WARN  Self-signed certificates provide protection against eavesdropping; this setup does NOT protect against Man-In-The-Middle attacks nor Impersonation attacks.",
            "12:04:58 16320 WARN  See https://www.postgresql.org/docs/current/libpq-ssl.html for details",
            "12:04:58 16320 INFO  Started pg_autoctl postgres service with pid 16325",
            "12:04:58 16325 INFO   /usr/bin/pg_autoctl do service postgres --pgdata ha -v",
            "12:04:58 16320 INFO  Started pg_autoctl node-init service with pid 16326",
            "12:04:58 16326 FATAL The state file \"/var/lib/pgsql/.local/share/pg_autoctl/var/lib/pgsql/ha/pg_autoctl.state\" exists and there's no init in progress",
            "12:04:58 16326 INFO  HINT: use `pg_autoctl run` to start the service.",
            "12:04:58 16320 WARN  pg_autoctl service node-init exited with exit status 0",
            "12:04:58 16325 INFO  Postgres controller service received signal SIGTERM, terminating",
            "12:04:58 16320 INFO  Stop pg_autoctl"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2021-12-26 12:05:05,739 p=48411 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "238662692522.16162",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ;  pg_autoctl create postgres --pgdata \"ha\" --auth trust --ssl-self-signed --username ha-admin --dbname \"appdb\" --hostname \"postgres-ha03\" --pgctl /bin/pg_ctl --monitor 'postgres://autoctl_node@postgres-haproxy01/pg_auto_failover?sslmode=require' )",
        "delta": "0:00:00.216834",
        "end": "2021-12-26 12:04:59.822672",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/238662692522.16162",
        "start": "2021-12-26 12:04:59.605838",
        "started": 1,
        "stderr": "12:04:59 16172 INFO  Using default --ssl-mode \"require\"\n12:04:59 16172 INFO  Using --ssl-self-signed: pg_autoctl will create self-signed certificates, allowing for encrypted network traffic\n12:04:59 16172 WARN  Self-signed certificates provide protection against eavesdropping; this setup does NOT protect against Man-In-The-Middle attacks nor Impersonation attacks.\n12:04:59 16172 WARN  See https://www.postgresql.org/docs/current/libpq-ssl.html for details\n12:04:59 16172 INFO  Started pg_autoctl postgres service with pid 16177\n12:04:59 16177 INFO   /usr/bin/pg_autoctl do service postgres --pgdata ha -v\n12:04:59 16172 INFO  Started pg_autoctl node-init service with pid 16178\n12:04:59 16178 FATAL The state file \"/var/lib/pgsql/.local/share/pg_autoctl/var/lib/pgsql/ha/pg_autoctl.state\" exists and there's no init in progress\n12:04:59 16178 INFO  HINT: use `pg_autoctl run` to start the service.\n12:04:59 16172 WARN  pg_autoctl service node-init exited with exit status 0\n12:04:59 16177 INFO  Postgres controller service received signal SIGTERM, terminating\n12:04:59 16172 INFO  Stop pg_autoctl",
        "stderr_lines": [
            "12:04:59 16172 INFO  Using default --ssl-mode \"require\"",
            "12:04:59 16172 INFO  Using --ssl-self-signed: pg_autoctl will create self-signed certificates, allowing for encrypted network traffic",
            "12:04:59 16172 WARN  Self-signed certificates provide protection against eavesdropping; this setup does NOT protect against Man-In-The-Middle attacks nor Impersonation attacks.",
            "12:04:59 16172 WARN  See https://www.postgresql.org/docs/current/libpq-ssl.html for details",
            "12:04:59 16172 INFO  Started pg_autoctl postgres service with pid 16177",
            "12:04:59 16177 INFO   /usr/bin/pg_autoctl do service postgres --pgdata ha -v",
            "12:04:59 16172 INFO  Started pg_autoctl node-init service with pid 16178",
            "12:04:59 16178 FATAL The state file \"/var/lib/pgsql/.local/share/pg_autoctl/var/lib/pgsql/ha/pg_autoctl.state\" exists and there's no init in progress",
            "12:04:59 16178 INFO  HINT: use `pg_autoctl run` to start the service.",
            "12:04:59 16172 WARN  pg_autoctl service node-init exited with exit status 0",
            "12:04:59 16177 INFO  Postgres controller service received signal SIGTERM, terminating",
            "12:04:59 16172 INFO  Stop pg_autoctl"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2021-12-26 12:05:05,750 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Create systemd service file of secondary instance] **************************************************************************
2021-12-26 12:05:12,264 p=48411 u=moonja n=ansible | changed: [postgres-ha02]
2021-12-26 12:05:12,265 p=48411 u=moonja n=ansible | changed: [postgres-ha03]
2021-12-26 12:05:12,273 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : debug] **********************************************************************************************************************
2021-12-26 12:05:12,295 p=48411 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "689755762990.16657",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; pg_autoctl -q show systemd --pgdata ~postgres/ha > pgautofailover.service )",
        "delta": "0:00:00.007867",
        "end": "2021-12-26 12:05:05.288708",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/689755762990.16657",
        "start": "2021-12-26 12:05:05.280841",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "",
        "stdout_lines": []
    }
}
2021-12-26 12:05:12,312 p=48411 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "124496021539.16509",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; pg_autoctl -q show systemd --pgdata ~postgres/ha > pgautofailover.service )",
        "delta": "0:00:00.007750",
        "end": "2021-12-26 12:05:06.154838",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/124496021539.16509",
        "start": "2021-12-26 12:05:06.147088",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "",
        "stdout_lines": []
    }
}
2021-12-26 12:05:12,322 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Copy secondary systemd service file of secondary instance] ******************************************************************
2021-12-26 12:05:13,019 p=48411 u=moonja n=ansible | ok: [postgres-ha02]
2021-12-26 12:05:13,025 p=48411 u=moonja n=ansible | ok: [postgres-ha03]
2021-12-26 12:05:13,037 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Reload and start secondary systemd service of secondary instance] ***********************************************************
2021-12-26 12:05:13,683 p=48411 u=moonja n=ansible | changed: [postgres-ha03]
2021-12-26 12:05:13,684 p=48411 u=moonja n=ansible | changed: [postgres-ha02]
2021-12-26 12:05:13,695 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Replace database directory] *************************************************************************************************
2021-12-26 12:05:14,420 p=48411 u=moonja n=ansible | ok: [postgres-ha03]
2021-12-26 12:05:14,673 p=48411 u=moonja n=ansible | changed: [postgres-ha02]
2021-12-26 12:05:14,687 p=48411 u=moonja n=ansible | TASK [pgfailover-postgres : Verify the state of secondary instance] *************************************************************************************
2021-12-26 12:05:15,637 p=48411 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"changed": true, "cmd": "( source ~/.bash_profile ; pg_autoctl show state )", "delta": "0:00:00.334752", "end": "2021-12-26 12:05:15.197656", "msg": "non-zero return code", "rc": 1, "start": "2021-12-26 12:05:14.862904", "stderr": "12:05:15 17249 ERROR Failed to get value for environment variable 'PGDATA', which is unset\n12:05:15 17249 FATAL Failed to set PGDATA either from the environment or from --pgdata", "stderr_lines": ["12:05:15 17249 ERROR Failed to get value for environment variable 'PGDATA', which is unset", "12:05:15 17249 FATAL Failed to set PGDATA either from the environment or from --pgdata"], "stdout": "", "stdout_lines": []}
2021-12-26 12:05:17,524 p=48411 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"changed": true, "cmd": "( source ~/.bash_profile ; pg_autoctl show state )", "delta": "0:00:02.297147", "end": "2021-12-26 12:05:16.293568", "msg": "non-zero return code", "rc": 6, "start": "2021-12-26 12:05:13.996421", "stderr": "12:05:14 17399 WARN  Failed to connect to \"postgres://autoctl_node@postgres-haproxy01/pg_auto_failover?sslmode=require\", retrying until the server is ready\n12:05:16 17399 ERROR Connection to database failed: could not connect to server: Connection refused\n12:05:16 17399 ERROR \tIs the server running on host \"postgres-haproxy01\" (192.168.0.79) and accepting\n12:05:16 17399 ERROR \tTCP/IP connections on port 5432?\n12:05:16 17399 ERROR Failed to connect to \"postgres://autoctl_node@postgres-haproxy01/pg_auto_failover?sslmode=require\" after 19 attempts in 2 seconds, pg_autoctl stops retrying now\n12:05:16 17399 ERROR Failed to retrieve current state from the monitor", "stderr_lines": ["12:05:14 17399 WARN  Failed to connect to \"postgres://autoctl_node@postgres-haproxy01/pg_auto_failover?sslmode=require\", retrying until the server is ready", "12:05:16 17399 ERROR Connection to database failed: could not connect to server: Connection refused", "12:05:16 17399 ERROR \tIs the server running on host \"postgres-haproxy01\" (192.168.0.79) and accepting", "12:05:16 17399 ERROR \tTCP/IP connections on port 5432?", "12:05:16 17399 ERROR Failed to connect to \"postgres://autoctl_node@postgres-haproxy01/pg_auto_failover?sslmode=require\" after 19 attempts in 2 seconds, pg_autoctl stops retrying now", "12:05:16 17399 ERROR Failed to retrieve current state from the monitor"], "stdout": "", "stdout_lines": []}
2021-12-26 12:05:17,528 p=48411 u=moonja n=ansible | PLAY RECAP **********************************************************************************************************************************************
2021-12-26 12:05:17,528 p=48411 u=moonja n=ansible | postgres-ha01              : ok=11   changed=5    unreachable=0    failed=1    skipped=16   rescued=0    ignored=0   
2021-12-26 12:05:17,528 p=48411 u=moonja n=ansible | postgres-ha02              : ok=19   changed=11   unreachable=0    failed=1    skipped=24   rescued=0    ignored=0   
2021-12-26 12:05:17,528 p=48411 u=moonja n=ansible | postgres-ha03              : ok=19   changed=9    unreachable=0    failed=1    skipped=24   rescued=0    ignored=0   
2021-12-26 12:05:17,528 p=48411 u=moonja n=ansible | postgres-haproxy01         : ok=8    changed=4    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2022-01-10 15:11:12,192 p=42199 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2022-01-10 15:11:12,477 p=42199 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2022-01-10 15:11:12,482 p=42199 u=moonja n=ansible | [WARNING]: While constructing a mapping from /Users/moonja/postgres-cluster/roles/pgfailover-postgres/tasks/pgfailover-postgres-install.yml, line 285, column 3, found a duplicate dict key (when). Using last
defined value only.

2022-01-10 15:11:12,536 p=42199 u=moonja n=ansible | [WARNING]: file /Users/moonja/postgres-cluster/roles/pgfailover-postgres/tasks/pgfailover-postgres-upgrade.yml is empty and had no tasks to include

2022-01-10 15:11:12,551 p=42199 u=moonja n=ansible | PLAY [all] ***********************************************************************************************************************************************************************************************************
2022-01-10 15:11:12,580 p=42199 u=moonja n=ansible | TASK [Gathering Facts] ***********************************************************************************************************************************************************************************************
2022-01-10 15:11:22,623 p=42199 u=moonja n=ansible | fatal: [postgres-haproxy01]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 192.168.0.79 port 22: Operation timed out", "unreachable": true}
2022-01-10 15:11:22,624 p=42199 u=moonja n=ansible | fatal: [postgres-ha01]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 192.168.0.81 port 22: Operation timed out", "unreachable": true}
2022-01-10 15:11:22,633 p=42199 u=moonja n=ansible | fatal: [postgres-ha02]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 192.168.0.82 port 22: Operation timed out", "unreachable": true}
2022-01-10 15:11:22,641 p=42199 u=moonja n=ansible | fatal: [postgres-ha03]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 192.168.0.83 port 22: Operation timed out", "unreachable": true}
2022-01-10 15:11:22,644 p=42199 u=moonja n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************************************************
2022-01-10 15:11:22,644 p=42199 u=moonja n=ansible | postgres-ha01              : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2022-01-10 15:11:22,644 p=42199 u=moonja n=ansible | postgres-ha02              : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2022-01-10 15:11:22,644 p=42199 u=moonja n=ansible | postgres-ha03              : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2022-01-10 15:11:22,644 p=42199 u=moonja n=ansible | postgres-haproxy01         : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2022-01-10 15:12:19,347 p=42247 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2022-01-10 15:12:19,563 p=42247 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2022-01-10 15:12:19,567 p=42247 u=moonja n=ansible | [WARNING]: While constructing a mapping from /Users/moonja/postgres-cluster/roles/pgfailover-postgres/tasks/pgfailover-postgres-install.yml, line 285, column 3, found a duplicate dict key (when). Using last
defined value only.

2022-01-10 15:12:19,611 p=42247 u=moonja n=ansible | [WARNING]: file /Users/moonja/postgres-cluster/roles/pgfailover-postgres/tasks/pgfailover-postgres-upgrade.yml is empty and had no tasks to include

2022-01-10 15:12:19,624 p=42247 u=moonja n=ansible | PLAY [all] ***********************************************************************************************************************************************************************************************************
2022-01-10 15:12:19,650 p=42247 u=moonja n=ansible | TASK [Gathering Facts] ***********************************************************************************************************************************************************************************************
2022-01-10 15:12:21,710 p=42247 u=moonja n=ansible | fatal: [postgres-ha02]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 192.168.0.82 port 22: Connection refused", "unreachable": true}
2022-01-10 15:12:29,696 p=42247 u=moonja n=ansible | fatal: [postgres-ha01]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 192.168.0.81 port 22: Operation timed out", "unreachable": true}
2022-01-10 15:12:29,710 p=42247 u=moonja n=ansible | fatal: [postgres-ha03]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 192.168.0.83 port 22: Operation timed out", "unreachable": true}
2022-01-10 15:12:39,367 p=42247 u=moonja n=ansible |  [ERROR]: User interrupted execution

2022-01-10 15:13:25,673 p=42314 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2022-01-10 15:13:25,946 p=42314 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2022-01-10 15:13:25,950 p=42314 u=moonja n=ansible | [WARNING]: While constructing a mapping from /Users/moonja/postgres-cluster/roles/pgfailover-postgres/tasks/pgfailover-postgres-install.yml, line 285, column 3, found a duplicate dict key (when). Using last
defined value only.

2022-01-10 15:13:25,996 p=42314 u=moonja n=ansible | [WARNING]: file /Users/moonja/postgres-cluster/roles/pgfailover-postgres/tasks/pgfailover-postgres-upgrade.yml is empty and had no tasks to include

2022-01-10 15:13:26,011 p=42314 u=moonja n=ansible | PLAY [all] ***********************************************************************************************************************************************************************************************************
2022-01-10 15:13:26,041 p=42314 u=moonja n=ansible | TASK [Gathering Facts] ***********************************************************************************************************************************************************************************************
2022-01-10 15:13:37,658 p=42314 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-10 15:13:38,976 p=42314 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-10 15:13:39,561 p=42314 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-10 15:13:39,869 p=42314 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-10 15:13:39,890 p=42314 u=moonja n=ansible | TASK [pgfailover-postgres : Disable port from public zone] ***********************************************************************************************************************************************************
2022-01-10 15:13:41,417 p=42314 u=moonja n=ansible | changed: [postgres-ha03] => (item=5432)
2022-01-10 15:13:41,471 p=42314 u=moonja n=ansible | changed: [postgres-ha02] => (item=5432)
2022-01-10 15:13:41,488 p=42314 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=5432)
2022-01-10 15:13:41,544 p=42314 u=moonja n=ansible | changed: [postgres-ha01] => (item=5432)
2022-01-10 15:13:41,558 p=42314 u=moonja n=ansible | TASK [pgfailover-postgres : Disable IP Addresses in whitelist] *******************************************************************************************************************************************************
2022-01-10 15:13:42,295 p=42314 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=postgres-haproxy01)
2022-01-10 15:13:42,296 p=42314 u=moonja n=ansible | changed: [postgres-ha02] => (item=postgres-haproxy01)
2022-01-10 15:13:42,299 p=42314 u=moonja n=ansible | changed: [postgres-ha01] => (item=postgres-haproxy01)
2022-01-10 15:13:42,300 p=42314 u=moonja n=ansible | changed: [postgres-ha03] => (item=postgres-haproxy01)
2022-01-10 15:13:43,030 p=42314 u=moonja n=ansible | changed: [postgres-ha02] => (item=postgres-ha01)
2022-01-10 15:13:43,039 p=42314 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=postgres-ha01)
2022-01-10 15:13:43,040 p=42314 u=moonja n=ansible | changed: [postgres-ha03] => (item=postgres-ha01)
2022-01-10 15:13:43,048 p=42314 u=moonja n=ansible | changed: [postgres-ha01] => (item=postgres-ha01)
2022-01-10 15:13:43,675 p=42314 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=postgres-ha02)
2022-01-10 15:13:43,677 p=42314 u=moonja n=ansible | changed: [postgres-ha02] => (item=postgres-ha02)
2022-01-10 15:13:43,678 p=42314 u=moonja n=ansible | changed: [postgres-ha03] => (item=postgres-ha02)
2022-01-10 15:13:43,682 p=42314 u=moonja n=ansible | changed: [postgres-ha01] => (item=postgres-ha02)
2022-01-10 15:13:44,354 p=42314 u=moonja n=ansible | changed: [postgres-ha03] => (item=postgres-ha03)
2022-01-10 15:13:44,357 p=42314 u=moonja n=ansible | changed: [postgres-ha02] => (item=postgres-ha03)
2022-01-10 15:13:44,388 p=42314 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=postgres-ha03)
2022-01-10 15:13:44,391 p=42314 u=moonja n=ansible | changed: [postgres-ha01] => (item=postgres-ha03)
2022-01-10 15:13:44,406 p=42314 u=moonja n=ansible | TASK [pgfailover-postgres : Bounce firewalld] ************************************************************************************************************************************************************************
2022-01-10 15:13:46,916 p=42314 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-10 15:13:47,101 p=42314 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-10 15:13:47,321 p=42314 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:13:47,649 p=42314 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:13:47,663 p=42314 u=moonja n=ansible | TASK [pgfailover-postgres : Stop and disable firewalld.] *************************************************************************************************************************************************************
2022-01-10 15:13:49,592 p=42314 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-10 15:13:49,730 p=42314 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-10 15:13:50,036 p=42314 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:13:50,617 p=42314 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:13:50,631 p=42314 u=moonja n=ansible | TASK [pgfailover-postgres : Verify that pg_auto_failover/postgres was installed properly] ****************************************************************************************************************************
2022-01-10 15:13:50,679 p=42314 u=moonja n=ansible | skipping: [postgres-ha01]
2022-01-10 15:13:50,689 p=42314 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-10 15:13:50,689 p=42314 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-10 15:13:53,110 p=42314 u=moonja n=ansible | fatal: [postgres-haproxy01]: FAILED! => {"changed": true, "cmd": "( pg_autoctl version )", "delta": "0:00:00.003623", "end": "2022-01-10 15:13:52.016561", "msg": "non-zero return code", "rc": 127, "start": "2022-01-10 15:13:52.012938", "stderr": "/bin/sh: pg_autoctl: command not found", "stderr_lines": ["/bin/sh: pg_autoctl: command not found"], "stdout": "", "stdout_lines": []}
2022-01-10 15:13:53,121 p=42314 u=moonja n=ansible | TASK [pgfailover-postgres : Verify that pg_auto_failover/postgres was installed properly] ****************************************************************************************************************************
2022-01-10 15:13:53,143 p=42314 u=moonja n=ansible | skipping: [postgres-ha01]
2022-01-10 15:13:53,161 p=42314 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-10 15:13:53,175 p=42314 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-10 15:13:53,185 p=42314 u=moonja n=ansible | TASK [pgfailover-postgres : Getting process IDs of the pg_autoctl process] *******************************************************************************************************************************************
2022-01-10 15:13:55,991 p=42314 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-10 15:13:55,993 p=42314 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-10 15:13:57,245 p=42314 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-10 15:13:57,259 p=42314 u=moonja n=ansible | TASK [pgfailover-postgres : Stop pgautofailover service of systemd] **************************************************************************************************************************************************
2022-01-10 15:13:57,305 p=42314 u=moonja n=ansible | skipping: [postgres-ha01]
2022-01-10 15:14:00,254 p=42314 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-10 15:14:00,342 p=42314 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:14:00,359 p=42314 u=moonja n=ansible | TASK [pgfailover-postgres : Delete line in a .bash_profile] **********************************************************************************************************************************************************
2022-01-10 15:14:00,399 p=42314 u=moonja n=ansible | skipping: [postgres-ha01]
2022-01-10 15:14:01,601 p=42314 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:14:01,849 p=42314 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-10 15:14:01,860 p=42314 u=moonja n=ansible | TASK [pgfailover-postgres : Reload and start secondary systemd service of secondary instance] ************************************************************************************************************************
2022-01-10 15:14:01,881 p=42314 u=moonja n=ansible | skipping: [postgres-ha01]
2022-01-10 15:14:02,556 p=42314 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-10 15:14:02,557 p=42314 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:14:02,566 p=42314 u=moonja n=ansible | TASK [pgfailover-postgres : Delete secondary systemd service file of secondary instance] *****************************************************************************************************************************
2022-01-10 15:14:02,590 p=42314 u=moonja n=ansible | skipping: [postgres-ha01] => (item=/etc/systemd/system/pgautofailover.service) 
2022-01-10 15:14:02,590 p=42314 u=moonja n=ansible | skipping: [postgres-ha01] => (item=/var/lib/pgsql/pgautofailover.service) 
2022-01-10 15:14:03,332 p=42314 u=moonja n=ansible | changed: [postgres-ha02] => (item=/etc/systemd/system/pgautofailover.service)
2022-01-10 15:14:03,334 p=42314 u=moonja n=ansible | changed: [postgres-ha03] => (item=/etc/systemd/system/pgautofailover.service)
2022-01-10 15:14:03,759 p=42314 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/pgautofailover.service)
2022-01-10 15:14:03,760 p=42314 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/pgautofailover.service)
2022-01-10 15:14:03,773 p=42314 u=moonja n=ansible | TASK [pgfailover-postgres : Delete line in a .bash_profile] **********************************************************************************************************************************************************
2022-01-10 15:14:03,811 p=42314 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-10 15:14:03,827 p=42314 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-10 15:14:04,902 p=42314 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:14:04,915 p=42314 u=moonja n=ansible | TASK [pgfailover-postgres : Reload and start primary systemd service of primary instance] ****************************************************************************************************************************
2022-01-10 15:14:04,954 p=42314 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-10 15:14:04,967 p=42314 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-10 15:14:06,356 p=42314 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:14:06,369 p=42314 u=moonja n=ansible | TASK [pgfailover-postgres : Delete primary systemd service file of secondary instance] *******************************************************************************************************************************
2022-01-10 15:14:06,414 p=42314 u=moonja n=ansible | skipping: [postgres-ha02] => (item=/etc/systemd/system/pgautofailover.service) 
2022-01-10 15:14:06,415 p=42314 u=moonja n=ansible | skipping: [postgres-ha02] => (item=/var/lib/pgsql/pgautofailover.service) 
2022-01-10 15:14:06,427 p=42314 u=moonja n=ansible | skipping: [postgres-ha03] => (item=/etc/systemd/system/pgautofailover.service) 
2022-01-10 15:14:06,428 p=42314 u=moonja n=ansible | skipping: [postgres-ha03] => (item=/var/lib/pgsql/pgautofailover.service) 
2022-01-10 15:14:07,141 p=42314 u=moonja n=ansible | changed: [postgres-ha01] => (item=/etc/systemd/system/pgautofailover.service)
2022-01-10 15:14:07,807 p=42314 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/pgautofailover.service)
2022-01-10 15:14:07,822 p=42314 u=moonja n=ansible | TASK [pgfailover-postgres : Delete line in a .bash_profile] **********************************************************************************************************************************************************
2022-01-10 15:14:07,847 p=42314 u=moonja n=ansible | skipping: [postgres-ha01]
2022-01-10 15:14:07,867 p=42314 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-10 15:14:07,877 p=42314 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-10 15:14:07,889 p=42314 u=moonja n=ansible | TASK [pgfailover-postgres : Reload and start systemd service of monitor instance] ************************************************************************************************************************************
2022-01-10 15:14:07,910 p=42314 u=moonja n=ansible | skipping: [postgres-ha01]
2022-01-10 15:14:07,928 p=42314 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-10 15:14:07,942 p=42314 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-10 15:14:07,952 p=42314 u=moonja n=ansible | TASK [pgfailover-postgres : Delete primary systemd service file of secondary instance] *******************************************************************************************************************************
2022-01-10 15:14:07,977 p=42314 u=moonja n=ansible | skipping: [postgres-ha01] => (item=/etc/systemd/system/pgautofailover.service) 
2022-01-10 15:14:07,977 p=42314 u=moonja n=ansible | skipping: [postgres-ha01] => (item=/var/lib/pgsql/pgautofailover.service) 
2022-01-10 15:14:07,996 p=42314 u=moonja n=ansible | skipping: [postgres-ha02] => (item=/etc/systemd/system/pgautofailover.service) 
2022-01-10 15:14:07,997 p=42314 u=moonja n=ansible | skipping: [postgres-ha02] => (item=/var/lib/pgsql/pgautofailover.service) 
2022-01-10 15:14:08,012 p=42314 u=moonja n=ansible | skipping: [postgres-ha03] => (item=/etc/systemd/system/pgautofailover.service) 
2022-01-10 15:14:08,013 p=42314 u=moonja n=ansible | skipping: [postgres-ha03] => (item=/var/lib/pgsql/pgautofailover.service) 
2022-01-10 15:14:08,026 p=42314 u=moonja n=ansible | TASK [pgfailover-postgres : Uninstall VMware Postgres on all hosts as root] ******************************************************************************************************************************************
2022-01-10 15:14:37,233 p=42314 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-10 15:14:37,855 p=42314 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-10 15:14:38,193 p=42314 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-10 15:14:38,204 p=42314 u=moonja n=ansible | TASK [pgfailover-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] ******************************************************************************************************************************
2022-01-10 15:14:38,776 p=42314 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:14:38,776 p=42314 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-10 15:14:39,017 p=42314 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:14:39,067 p=42314 u=moonja n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************************************************
2022-01-10 15:14:39,067 p=42314 u=moonja n=ansible | postgres-ha01              : ok=11   changed=8    unreachable=0    failed=0    skipped=9    rescued=0    ignored=0   
2022-01-10 15:14:39,067 p=42314 u=moonja n=ansible | postgres-ha02              : ok=12   changed=9    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0   
2022-01-10 15:14:39,068 p=42314 u=moonja n=ansible | postgres-ha03              : ok=12   changed=8    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0   
2022-01-10 15:14:39,068 p=42314 u=moonja n=ansible | postgres-haproxy01         : ok=5    changed=4    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2022-01-10 15:16:42,477 p=43418 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2022-01-10 15:16:42,488 p=43418 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-10 15:16:42,726 p=43418 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2022-01-10 15:16:42,785 p=43418 u=moonja n=ansible | PLAY [all] ***********************************************************************************************************************************************************************************************************
2022-01-10 15:16:42,816 p=43418 u=moonja n=ansible | TASK [Gathering Facts] ***********************************************************************************************************************************************************************************************
2022-01-10 15:16:45,313 p=43418 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-10 15:16:45,317 p=43418 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-10 15:16:45,324 p=43418 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-10 15:16:45,344 p=43418 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-10 15:16:47,361 p=43418 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-10 15:16:47,382 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] *****************************************************************************************************************************************************************
2022-01-10 15:16:48,304 p=43418 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-10 15:16:48,306 p=43418 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-10 15:16:48,308 p=43418 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-10 15:16:48,310 p=43418 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-10 15:16:50,353 p=43418 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-10 15:16:50,369 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ***********************************************************************************************************************************************************************
2022-01-10 15:16:51,164 p=43418 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-10 15:16:51,179 p=43418 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-10 15:16:51,181 p=43418 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:16:51,189 p=43418 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:16:51,203 p=43418 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-10 15:16:51,214 p=43418 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] ************************************************************************************************************************************************************************
2022-01-10 15:16:51,806 p=43418 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-10 15:16:51,838 p=43418 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-10 15:16:51,840 p=43418 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:16:51,859 p=43418 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-10 15:16:51,875 p=43418 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:16:51,888 p=43418 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************************************************
2022-01-10 15:16:51,924 p=43418 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-10 15:16:51,943 p=43418 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-10 15:16:51,959 p=43418 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-10 15:16:51,961 p=43418 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-10 15:16:51,972 p=43418 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-10 15:16:51,984 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] *********************************************************************************************************************************
2022-01-10 15:16:54,913 p=43418 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:16:54,919 p=43418 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:16:54,971 p=43418 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-10 15:16:54,995 p=43418 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-10 15:16:55,428 p=43418 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-10 15:16:55,450 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] ***********************************************************************************************************************************************
2022-01-10 15:17:58,169 p=43418 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-10 15:18:08,817 p=43418 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:18:10,141 p=43418 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:18:25,327 p=43418 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-10 15:18:30,253 p=43418 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-10 15:18:30,269 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] ******************************************************************************************************************************
2022-01-10 15:18:36,759 p=43418 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3)
2022-01-10 15:18:37,168 p=43418 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3)
2022-01-10 15:18:37,538 p=43418 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3)
2022-01-10 15:18:42,782 p=43418 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3)
2022-01-10 15:18:42,813 p=43418 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3)
2022-01-10 15:18:43,213 p=43418 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-devel)
2022-01-10 15:18:43,389 p=43418 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-devel)
2022-01-10 15:18:45,645 p=43418 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-devel)
2022-01-10 15:18:48,959 p=43418 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-devel)
2022-01-10 15:18:48,995 p=43418 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-devel)
2022-01-10 15:18:49,891 p=43418 u=moonja n=ansible | ok: [postgres-ha02] => (item=gcc)
2022-01-10 15:18:50,036 p=43418 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=gcc)
2022-01-10 15:18:52,731 p=43418 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=gcc)
2022-01-10 15:18:55,429 p=43418 u=moonja n=ansible | ok: [postgres-ha01] => (item=gcc)
2022-01-10 15:18:56,233 p=43418 u=moonja n=ansible | ok: [postgres-ha02] => (item=etcd)
2022-01-10 15:18:57,467 p=43418 u=moonja n=ansible | ok: [postgres-ha03] => (item=gcc)
2022-01-10 15:18:59,203 p=43418 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=etcd)
2022-01-10 15:18:59,737 p=43418 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=etcd)
2022-01-10 15:19:02,048 p=43418 u=moonja n=ansible | ok: [postgres-ha01] => (item=etcd)
2022-01-10 15:19:04,132 p=43418 u=moonja n=ansible | ok: [postgres-ha03] => (item=etcd)
2022-01-10 15:19:48,581 p=43418 u=moonja n=ansible | changed: [postgres-haproxy02] => (item=python-psycopg2)
2022-01-10 15:19:55,162 p=43418 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=python-psycopg2)
2022-01-10 15:19:55,492 p=43418 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-pip)
2022-01-10 15:19:58,803 p=43418 u=moonja n=ansible | changed: [postgres-ha01] => (item=python-psycopg2)
2022-01-10 15:19:59,218 p=43418 u=moonja n=ansible | changed: [postgres-ha03] => (item=python-psycopg2)
2022-01-10 15:20:01,321 p=43418 u=moonja n=ansible | changed: [postgres-ha02] => (item=python-psycopg2)
2022-01-10 15:20:02,125 p=43418 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-pip)
2022-01-10 15:20:02,217 p=43418 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python34-setuptools)
2022-01-10 15:20:05,123 p=43418 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-pip)
2022-01-10 15:20:05,404 p=43418 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-pip)
2022-01-10 15:20:07,790 p=43418 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-pip)
2022-01-10 15:20:08,656 p=43418 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python34-setuptools)
2022-01-10 15:20:08,740 p=43418 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python27-python-setuptools)
2022-01-10 15:20:11,584 p=43418 u=moonja n=ansible | ok: [postgres-ha01] => (item=python34-setuptools)
2022-01-10 15:20:11,603 p=43418 u=moonja n=ansible | ok: [postgres-ha03] => (item=python34-setuptools)
2022-01-10 15:20:14,236 p=43418 u=moonja n=ansible | ok: [postgres-ha02] => (item=python34-setuptools)
2022-01-10 15:20:15,793 p=43418 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python27-python-setuptools)
2022-01-10 15:20:15,806 p=43418 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=yamllint)
2022-01-10 15:20:18,421 p=43418 u=moonja n=ansible | ok: [postgres-ha01] => (item=python27-python-setuptools)
2022-01-10 15:20:18,431 p=43418 u=moonja n=ansible | ok: [postgres-ha03] => (item=python27-python-setuptools)
2022-01-10 15:20:21,867 p=43418 u=moonja n=ansible | ok: [postgres-ha02] => (item=python27-python-setuptools)
2022-01-10 15:20:22,418 p=43418 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=daemonize)
2022-01-10 15:20:22,428 p=43418 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=yamllint)
2022-01-10 15:20:24,902 p=43418 u=moonja n=ansible | ok: [postgres-ha01] => (item=yamllint)
2022-01-10 15:20:25,800 p=43418 u=moonja n=ansible | ok: [postgres-ha03] => (item=yamllint)
2022-01-10 15:20:28,210 p=43418 u=moonja n=ansible | ok: [postgres-ha02] => (item=yamllint)
2022-01-10 15:20:28,756 p=43418 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=daemonize)
2022-01-10 15:20:31,660 p=43418 u=moonja n=ansible | ok: [postgres-ha01] => (item=daemonize)
2022-01-10 15:20:32,284 p=43418 u=moonja n=ansible | ok: [postgres-ha03] => (item=daemonize)
2022-01-10 15:20:34,814 p=43418 u=moonja n=ansible | ok: [postgres-ha02] => (item=daemonize)
2022-01-10 15:20:34,832 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Install the dependencies of etcd  on all three nodes] ***************************************************************************************************************************************
2022-01-10 15:20:34,887 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-10 15:20:34,908 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-10 15:20:35,778 p=43418 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-10 15:20:35,780 p=43418 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:20:35,780 p=43418 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:20:35,792 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Install setuptools rust on all three nodes] *************************************************************************************************************************************************
2022-01-10 15:20:35,832 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-10 15:20:35,847 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-10 15:21:08,992 p=43418 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-10 15:21:09,903 p=43418 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:21:09,997 p=43418 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:21:10,008 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Install typing pip module on all three nodes] ***********************************************************************************************************************************************
2022-01-10 15:21:10,049 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-10 15:21:10,064 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-10 15:21:21,940 p=43418 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:21:22,485 p=43418 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-10 15:21:23,640 p=43418 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:21:23,653 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Upgrade pip3 version] ***********************************************************************************************************************************************************************
2022-01-10 15:21:23,676 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-10 15:21:23,695 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-10 15:21:30,184 p=43418 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:21:30,197 p=43418 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:21:30,445 p=43418 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-10 15:21:30,458 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Install wheel module on all three nodes] ****************************************************************************************************************************************************
2022-01-10 15:21:30,481 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-10 15:21:30,500 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-10 15:21:36,755 p=43418 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:21:36,793 p=43418 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:21:37,802 p=43418 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-10 15:21:37,814 p=43418 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************************************************
2022-01-10 15:21:37,854 p=43418 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-10 15:21:37,873 p=43418 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-10 15:21:37,893 p=43418 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "757713601173.14880",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:02.063659",
        "end": "2022-01-10 15:21:32.714808",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/757713601173.14880",
        "start": "2022-01-10 15:21:30.651149",
        "started": 1,
        "stderr": "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Downloading wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Downloading wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-10 15:21:37,894 p=43418 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "569157508592.12937",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:02.063696",
        "end": "2022-01-10 15:21:33.354093",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/569157508592.12937",
        "start": "2022-01-10 15:21:31.290397",
        "started": 1,
        "stderr": "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Downloading wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Downloading wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-10 15:21:37,905 p=43418 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "90783982353.12736",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:02.058128",
        "end": "2022-01-10 15:21:32.413574",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/90783982353.12736",
        "start": "2022-01-10 15:21:30.355446",
        "started": 1,
        "stderr": "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Downloading wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Downloading wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-10 15:21:37,917 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Install pip modules of Patroni prerequisites on all three nodes] ****************************************************************************************************************************
2022-01-10 15:21:37,938 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-10 15:21:37,971 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-10 15:21:44,279 p=43418 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:21:44,290 p=43418 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:21:45,236 p=43418 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-10 15:21:45,249 p=43418 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************************************************
2022-01-10 15:21:45,289 p=43418 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-10 15:21:45,307 p=43418 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-10 15:21:45,327 p=43418 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "310072288663.15258",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.749814",
        "end": "2022-01-10 15:21:38.877894",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/310072288663.15258",
        "start": "2022-01-10 15:21:38.128080",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-10 15:21:45,329 p=43418 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "488773699950.13281",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.735845",
        "end": "2022-01-10 15:21:39.500776",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/488773699950.13281",
        "start": "2022-01-10 15:21:38.764931",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-10 15:21:45,342 p=43418 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "259126865619.13080",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.729835",
        "end": "2022-01-10 15:21:38.549943",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/259126865619.13080",
        "start": "2022-01-10 15:21:37.820108",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-10 15:21:45,357 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Iinstall wheel module on all three nodes] ***************************************************************************************************************************************************
2022-01-10 15:21:45,380 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-10 15:21:45,468 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-10 15:21:51,755 p=43418 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:21:52,421 p=43418 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-10 15:21:52,434 p=43418 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:21:52,446 p=43418 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************************************************
2022-01-10 15:21:52,487 p=43418 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-10 15:21:52,507 p=43418 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-10 15:21:52,525 p=43418 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "539839085522.15636",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:02.150783",
        "end": "2022-01-10 15:21:47.822273",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/539839085522.15636",
        "start": "2022-01-10 15:21:45.671490",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Downloading wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Collecting wheel",
            "  Downloading wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-10 15:21:52,526 p=43418 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "443678649344.13625",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:03.927412",
        "end": "2022-01-10 15:21:50.241787",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/443678649344.13625",
        "start": "2022-01-10 15:21:46.314375",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Downloading wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Collecting wheel",
            "  Downloading wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-10 15:21:52,537 p=43418 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "728471369006.13424",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:02.119473",
        "end": "2022-01-10 15:21:47.461323",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/728471369006.13424",
        "start": "2022-01-10 15:21:45.341850",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Downloading wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Collecting wheel",
            "  Downloading wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-10 15:21:52,549 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Install psycopg2-binary module on all three nodes] ******************************************************************************************************************************************
2022-01-10 15:21:52,586 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-10 15:21:52,601 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-10 15:21:58,995 p=43418 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:21:59,795 p=43418 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:22:00,433 p=43418 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-10 15:22:00,446 p=43418 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************************************************
2022-01-10 15:22:00,489 p=43418 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-10 15:22:00,509 p=43418 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-10 15:22:00,528 p=43418 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "865977382596.16022",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:02.989278",
        "end": "2022-01-10 15:21:55.817846",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/865977382596.16022",
        "start": "2022-01-10 15:21:52.828568",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Downloading psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.3",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Downloading psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.3"
        ]
    }
}
2022-01-10 15:22:00,529 p=43418 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "540594395287.13977",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:03.274258",
        "end": "2022-01-10 15:21:56.739760",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/540594395287.13977",
        "start": "2022-01-10 15:21:53.465502",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Downloading psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.3",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Downloading psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.3"
        ]
    }
}
2022-01-10 15:22:00,540 p=43418 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "189229653217.13768",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:02.835115",
        "end": "2022-01-10 15:21:55.342434",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/189229653217.13768",
        "start": "2022-01-10 15:21:52.507319",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Downloading psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.3",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Downloading psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.3"
        ]
    }
}
2022-01-10 15:22:00,552 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Install patroni modules on all three nodes for vmware-postgres 13.x version] ****************************************************************************************************************
2022-01-10 15:22:00,590 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-10 15:22:00,604 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-10 15:22:07,829 p=43418 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:22:07,928 p=43418 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-10 15:22:08,333 p=43418 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:22:08,343 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ***********************************************************************************************************************************************
2022-01-10 15:22:08,384 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-10 15:22:08,401 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-10 15:22:09,071 p=43418 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-10 15:22:09,072 p=43418 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:22:09,072 p=43418 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:22:09,086 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Create the etcd.yml configuration file for all nodes] ***************************************************************************************************************************************
2022-01-10 15:22:09,129 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-10 15:22:09,144 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-10 15:22:10,134 p=43418 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:22:10,139 p=43418 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:22:10,140 p=43418 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-10 15:22:10,155 p=43418 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************************************************
2022-01-10 15:22:10,197 p=43418 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-10 15:22:10,215 p=43418 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-10 15:22:10,233 p=43418 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "9ae4719bb01c1f3fe9f70a6e2c0044c7c41a95fe",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "c58c15d1af07ce06cb21d7da9f41a53d",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641795729.257935-49101-243244148076177/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-10 15:22:10,236 p=43418 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "15047e7ccbff3a953a4abe4edc1ee87eccf0c835",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "90cfbd68000432263a3d9f571742a601",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641795729.260468-49102-242921044422761/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-10 15:22:10,247 p=43418 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "a89b395b153fde540c5b5250ee19c5a9b4a69b60",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "50ed3a33db1def8c3d70f9d8154ad6fa",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641795729.263835-49106-207120844345027/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-10 15:22:10,259 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of etcd into /etc/systemd/system] ********************************************************************************************************************************
2022-01-10 15:22:10,296 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-10 15:22:10,310 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-10 15:22:11,687 p=43418 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-10 15:22:11,689 p=43418 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-10 15:22:11,733 p=43418 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-10 15:22:11,748 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Reload and start etcd through systemd] ******************************************************************************************************************************************************
2022-01-10 15:22:11,790 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-10 15:22:11,804 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-10 15:22:20,347 p=43418 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-10 15:22:20,348 p=43418 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:22:20,349 p=43418 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:22:20,362 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Lists the members and identifies the current Leader.] ***************************************************************************************************************************************
2022-01-10 15:22:20,404 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-10 15:22:20,421 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-10 15:22:22,499 p=43418 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:22:22,604 p=43418 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-10 15:22:22,645 p=43418 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:22:22,660 p=43418 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************************************************
2022-01-10 15:22:22,702 p=43418 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-10 15:22:22,720 p=43418 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-10 15:22:22,738 p=43418 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:01.592363",
        "end": "2022-01-10 15:22:22.081445",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-10 15:22:20.489082",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-10 15:22:22,739 p=43418 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:01.735260",
        "end": "2022-01-10 15:22:22.865058",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-10 15:22:21.129798",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-10 15:22:22,750 p=43418 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:01.655425",
        "end": "2022-01-10 15:22:21.828839",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-10 15:22:20.173414",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-10 15:22:22,762 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Set data directory for patroni cluster] *****************************************************************************************************************************************************
2022-01-10 15:22:23,269 p=43418 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:22:23,272 p=43418 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:22:23,275 p=43418 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-10 15:22:23,654 p=43418 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-10 15:22:23,654 p=43418 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-10 15:22:23,669 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Create the patroni.yml configuration file for all nodes] ************************************************************************************************************************************
2022-01-10 15:22:23,693 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-10 15:22:23,710 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-10 15:22:25,000 p=43418 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-10 15:22:25,001 p=43418 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:22:25,322 p=43418 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:22:25,338 p=43418 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************************************************
2022-01-10 15:22:25,385 p=43418 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-10 15:22:25,403 p=43418 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-10 15:22:25,422 p=43418 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "53fcae96fcdf6e2a1c84624de4f5017d7b51c286",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "539392a07ba96f292d5c586de863ffce",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1365,
        "src": "/var/tmp/ansible-tmp-1641795743.8390038-49438-237272588724941/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-10 15:22:25,424 p=43418 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "ae64f4618ad3aba5efa6a7d42032c6df520c2e1b",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "1cfe9ecb757c5bfe60630defc9159455",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1365,
        "src": "/var/tmp/ansible-tmp-1641795743.8410912-49439-68019319582398/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-10 15:22:25,437 p=43418 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "00c83e14268b31456464e038e22bb0220b6443ef",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "5b1928e0f4d875925be57c1ed2c006fb",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1365,
        "src": "/var/tmp/ansible-tmp-1641795743.844269-49443-3479314283541/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-10 15:22:25,448 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of patroni into /etc/systemd/system] *****************************************************************************************************************************
2022-01-10 15:22:25,486 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-10 15:22:25,502 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-10 15:22:26,423 p=43418 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:22:26,424 p=43418 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-10 15:22:26,424 p=43418 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:22:26,436 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Reload and start systemd service of patroni] ************************************************************************************************************************************************
2022-01-10 15:22:26,459 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-10 15:22:26,477 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-10 15:22:27,256 p=43418 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:22:27,258 p=43418 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-10 15:22:27,261 p=43418 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:22:27,282 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ***************************************************************************************************************
2022-01-10 15:22:27,300 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-10 15:22:27,310 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Remove clsuter on master] *******************************************************************************************************************************************************************
2022-01-10 15:22:27,347 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-10 15:22:27,362 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-10 15:22:27,379 p=43418 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-10 15:22:27,391 p=43418 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-10 15:22:34,131 p=43418 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:22:34,140 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ***************************************************************************************************************
2022-01-10 15:22:34,158 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-10 15:22:34,202 p=43418 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************************************************
2022-01-10 15:22:34,246 p=43418 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-10 15:22:34,263 p=43418 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-10 15:22:34,283 p=43418 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "592921978449.18437",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n",
        "delta": "0:00:04.056528",
        "end": "2022-01-10 15:22:31.724050",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/592921978449.18437",
        "start": "2022-01-10 15:22:27.667522",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+--------+------+------+-------+----+-----------+\n| Member | Host | Role | State | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (703660954692972+\n+--------+------+------+-------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": ",
        "stdout_lines": [
            "+--------+------+------+-------+----+-----------+",
            "| Member | Host | Role | State | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (703660954692972+",
            "+--------+------+------+-------+----+-----------+",
            "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": "
        ]
    }
}
2022-01-10 15:22:34,284 p=43418 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-10 15:22:34,295 p=43418 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-10 15:22:34,307 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Reinitialize patroni clsuter on all node] ***************************************************************************************************************************************************
2022-01-10 15:22:34,344 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-10 15:22:34,359 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-10 15:22:40,679 p=43418 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:22:40,746 p=43418 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:22:41,155 p=43418 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-10 15:22:41,165 p=43418 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************************************************
2022-01-10 15:22:41,207 p=43418 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-10 15:22:41,226 p=43418 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-10 15:22:41,246 p=43418 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "826870335241.18818",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.297512",
        "end": "2022-01-10 15:22:34.863436",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/826870335241.18818",
        "start": "2022-01-10 15:22:34.565924",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha02, postgres-ha03, postgres-ha01]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha02, postgres-ha03, postgres-ha01]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-10 15:22:41,248 p=43418 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "633951946151.16185",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:02.742578",
        "end": "2022-01-10 15:22:37.955311",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/633951946151.16185",
        "start": "2022-01-10 15:22:35.212733",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha02, postgres-ha03, postgres-ha01]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Failed: reinitialize for member postgres-ha02, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha02, postgres-ha03, postgres-ha01]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Failed: reinitialize for member postgres-ha02, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-10 15:22:41,260 p=43418 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "156738646662.15985",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:02.744724",
        "end": "2022-01-10 15:22:37.008083",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/156738646662.15985",
        "start": "2022-01-10 15:22:34.263359",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha02, postgres-ha03, postgres-ha01]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Failed: reinitialize for member postgres-ha03, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha02, postgres-ha03, postgres-ha01]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Failed: reinitialize for member postgres-ha03, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-10 15:22:41,272 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ***************************************************************************************************************
2022-01-10 15:22:41,291 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-10 15:22:41,300 p=43418 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************************************************
2022-01-10 15:22:41,338 p=43418 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-10 15:22:41,356 p=43418 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-10 15:22:41,375 p=43418 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "826870335241.18818",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.297512",
        "end": "2022-01-10 15:22:34.863436",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/826870335241.18818",
        "start": "2022-01-10 15:22:34.565924",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha02, postgres-ha03, postgres-ha01]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha02, postgres-ha03, postgres-ha01]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-10 15:22:41,376 p=43418 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "633951946151.16185",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:02.742578",
        "end": "2022-01-10 15:22:37.955311",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/633951946151.16185",
        "start": "2022-01-10 15:22:35.212733",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha02, postgres-ha03, postgres-ha01]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Failed: reinitialize for member postgres-ha02, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha02, postgres-ha03, postgres-ha01]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Failed: reinitialize for member postgres-ha02, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-10 15:22:41,389 p=43418 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "156738646662.15985",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:02.744724",
        "end": "2022-01-10 15:22:37.008083",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/156738646662.15985",
        "start": "2022-01-10 15:22:34.263359",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha02, postgres-ha03, postgres-ha01]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Failed: reinitialize for member postgres-ha03, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha02, postgres-ha03, postgres-ha01]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Failed: reinitialize for member postgres-ha03, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-10 15:22:41,401 p=43418 u=moonja n=ansible | TASK [patroni-postgres : Run the patronictl command-line utility to view the cluster state with Patroni started on all three nodes,] *********************************************************************************
2022-01-10 15:22:41,439 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-10 15:22:41,454 p=43418 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-10 15:22:42,190 p=43418 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-10 15:22:42,191 p=43418 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-10 15:22:42,191 p=43418 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-10 15:22:42,203 p=43418 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************************************************
2022-01-10 15:22:42,263 p=43418 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-10 15:22:42,284 p=43418 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-10 15:22:42,304 p=43418 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.313335",
        "end": "2022-01-10 15:22:41.765758",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-10 15:22:41.452423",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-10 15:22:42,305 p=43418 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.316655",
        "end": "2022-01-10 15:22:42.405690",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-10 15:22:42.089035",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-10 15:22:42,318 p=43418 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.308947",
        "end": "2022-01-10 15:22:41.454290",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-10 15:22:41.145343",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-10 15:22:42,374 p=43418 u=moonja n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************************************************
2022-01-10 15:22:42,375 p=43418 u=moonja n=ansible | postgres-ha01              : ok=40   changed=25   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2022-01-10 15:22:42,375 p=43418 u=moonja n=ansible | postgres-ha02              : ok=39   changed=24   unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2022-01-10 15:22:42,375 p=43418 u=moonja n=ansible | postgres-ha03              : ok=39   changed=24   unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2022-01-10 15:22:42,375 p=43418 u=moonja n=ansible | postgres-haproxy01         : ok=20   changed=6    unreachable=0    failed=0    skipped=23   rescued=0    ignored=0   
2022-01-10 15:22:42,375 p=43418 u=moonja n=ansible | postgres-haproxy02         : ok=20   changed=7    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
2022-01-11 12:11:29,538 p=24114 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-11 12:11:29,550 p=24114 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-11 12:11:29,802 p=24114 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-11 12:11:29,860 p=24114 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-11 12:11:29,894 p=24114 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-11 12:11:48,122 p=24114 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-11 12:11:48,541 p=24114 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 12:11:48,589 p=24114 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-11 12:11:49,019 p=24114 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 12:11:50,431 p=24114 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 12:11:50,450 p=24114 u=moonja n=ansible | TASK [patroni-postgres : Stop services for patroni and etcd] **********************************************************
2022-01-11 12:11:50,474 p=24114 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=patroni) 
2022-01-11 12:11:50,475 p=24114 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=etcd) 
2022-01-11 12:11:50,490 p=24114 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=patroni) 
2022-01-11 12:11:50,491 p=24114 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=etcd) 
2022-01-11 12:11:52,606 p=24114 u=moonja n=ansible | changed: [postgres-ha01] => (item=patroni)
2022-01-11 12:11:52,620 p=24114 u=moonja n=ansible | changed: [postgres-ha02] => (item=patroni)
2022-01-11 12:11:52,664 p=24114 u=moonja n=ansible | changed: [postgres-ha03] => (item=patroni)
2022-01-11 12:11:53,156 p=24114 u=moonja n=ansible | changed: [postgres-ha02] => (item=etcd)
2022-01-11 12:11:53,164 p=24114 u=moonja n=ansible | changed: [postgres-ha01] => (item=etcd)
2022-01-11 12:11:53,187 p=24114 u=moonja n=ansible | changed: [postgres-ha03] => (item=etcd)
2022-01-11 12:11:53,203 p=24114 u=moonja n=ansible | TASK [patroni-postgres : Kill etcd process] ***************************************************************************
2022-01-11 12:11:53,240 p=24114 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:11:53,254 p=24114 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:12:01,538 p=24114 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:12:01,568 p=24114 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:12:02,919 p=24114 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:12:02,931 p=24114 u=moonja n=ansible | TASK [patroni-postgres : Delete configuration file for patroni and systemd] *******************************************
2022-01-11 12:12:03,830 p=24114 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/patroni.yml)
2022-01-11 12:12:03,890 p=24114 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-11 12:12:03,946 p=24114 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-11 12:12:04,044 p=24114 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-11 12:12:04,264 p=24114 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-11 12:12:04,273 p=24114 u=moonja n=ansible | changed: [postgres-ha03] => (item=/etc/systemd/system/patroni.service)
2022-01-11 12:12:04,335 p=24114 u=moonja n=ansible | changed: [postgres-ha01] => (item=/etc/systemd/system/patroni.service)
2022-01-11 12:12:04,373 p=24114 u=moonja n=ansible | changed: [postgres-ha02] => (item=/etc/systemd/system/patroni.service)
2022-01-11 12:12:04,486 p=24114 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/etc/systemd/system/patroni.service)
2022-01-11 12:12:04,704 p=24114 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-11 12:12:04,711 p=24114 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/etc/systemd/system/patroni.service)
2022-01-11 12:12:04,773 p=24114 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-11 12:12:04,810 p=24114 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-11 12:12:04,929 p=24114 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-11 12:12:05,137 p=24114 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-11 12:12:05,148 p=24114 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-11 12:12:05,211 p=24114 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-11 12:12:05,251 p=24114 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-11 12:12:05,358 p=24114 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-11 12:12:05,572 p=24114 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/etcd.yml)
2022-01-11 12:12:05,583 p=24114 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-11 12:12:05,639 p=24114 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-11 12:12:05,696 p=24114 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-11 12:12:05,797 p=24114 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-11 12:12:05,996 p=24114 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-11 12:12:06,015 p=24114 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-11 12:12:06,073 p=24114 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-11 12:12:06,116 p=24114 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-11 12:12:06,200 p=24114 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-11 12:12:06,394 p=24114 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-11 12:12:06,408 p=24114 u=moonja n=ansible | TASK [patroni-postgres : Delete data directory for patroni cluster] ***************************************************
2022-01-11 12:12:06,995 p=24114 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:12:06,996 p=24114 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:12:11,814 p=24114 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:12:12,364 p=24114 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:12:13,256 p=24114 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:12:13,267 p=24114 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-11 12:12:13,290 p=24114 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:12:13,309 p=24114 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:12:13,744 p=24114 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:12:13,745 p=24114 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:12:13,747 p=24114 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:12:13,757 p=24114 u=moonja n=ansible | TASK [patroni-postgres : Uninstall pip modules of Patroni prerequisites on all three nodes] ***************************
2022-01-11 12:12:13,802 p=24114 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:12:13,817 p=24114 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:12:36,681 p=24114 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "438853161346.3603", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:18.007523", "end": "2022-01-11 12:12:33.920210", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/438853161346.3603", "start": "2022-01-11 12:12:15.912687", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-11 12:12:36,681 p=24114 u=moonja n=ansible | ...ignoring
2022-01-11 12:12:36,694 p=24114 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "319266112775.3620", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:16.837148", "end": "2022-01-11 12:12:33.488524", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/319266112775.3620", "start": "2022-01-11 12:12:16.651376", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-11 12:12:36,694 p=24114 u=moonja n=ansible | ...ignoring
2022-01-11 12:12:36,695 p=24114 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "818586327487.3780", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:17.386194", "end": "2022-01-11 12:12:33.772132", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/818586327487.3780", "start": "2022-01-11 12:12:16.385938", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-11 12:12:36,695 p=24114 u=moonja n=ansible | ...ignoring
2022-01-11 12:12:36,705 p=24114 u=moonja n=ansible | TASK [patroni-postgres : Install wheel pip module on all three nodes] *************************************************
2022-01-11 12:12:36,728 p=24114 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:12:36,746 p=24114 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:12:43,043 p=24114 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:12:43,758 p=24114 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:12:43,780 p=24114 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:12:43,792 p=24114 u=moonja n=ansible | TASK [patroni-postgres : Uninstall typing pip module on all three nodes] **********************************************
2022-01-11 12:12:43,832 p=24114 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:12:43,849 p=24114 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:12:50,216 p=24114 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:12:50,725 p=24114 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:12:50,740 p=24114 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:12:50,751 p=24114 u=moonja n=ansible | TASK [patroni-postgres : Uninstall setuptools rust on all three nodes] ************************************************
2022-01-11 12:12:50,774 p=24114 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:12:50,809 p=24114 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:12:57,148 p=24114 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:12:57,200 p=24114 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:12:57,200 p=24114 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:12:57,212 p=24114 u=moonja n=ansible | TASK [patroni-postgres : Uninstall patroni module on all three nodes] *************************************************
2022-01-11 12:12:57,259 p=24114 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:12:57,275 p=24114 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:13:04,065 p=24114 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:13:04,090 p=24114 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:13:04,091 p=24114 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:13:04,103 p=24114 u=moonja n=ansible | TASK [patroni-postgres : Uninstall wheel module on all three nodes] ***************************************************
2022-01-11 12:13:04,128 p=24114 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:13:04,147 p=24114 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:13:10,446 p=24114 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:13:11,393 p=24114 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:13:11,394 p=24114 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:13:11,406 p=24114 u=moonja n=ansible | TASK [patroni-postgres : Uninstall psycopg2-binary module on all three nodes] *****************************************
2022-01-11 12:13:11,447 p=24114 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:13:11,465 p=24114 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:13:17,777 p=24114 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:13:17,778 p=24114 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:13:17,778 p=24114 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:13:17,789 p=24114 u=moonja n=ansible | TASK [patroni-postgres : Delete the dependencies file of etcd  on all three nodes] ************************************
2022-01-11 12:13:17,813 p=24114 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:13:17,832 p=24114 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:13:18,351 p=24114 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:13:18,353 p=24114 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:13:18,354 p=24114 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:13:18,368 p=24114 u=moonja n=ansible | TASK [patroni-postgres : Uninstall VMware Postgres RPM package on all hosts as root] **********************************
2022-01-11 12:14:35,830 p=24114 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:14:37,318 p=24114 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:14:40,240 p=24114 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:14:44,597 p=24114 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:14:46,028 p=24114 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:14:46,046 p=24114 u=moonja n=ansible | TASK [patroni-postgres : Delete the vmwawre-postgres rpm file to all hosts in cluster] ********************************
2022-01-11 12:14:46,512 p=24114 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:14:46,529 p=24114 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:14:46,538 p=24114 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:14:46,558 p=24114 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:14:48,591 p=24114 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:14:48,605 p=24114 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-11 12:14:49,122 p=24114 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:14:49,129 p=24114 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:14:49,132 p=24114 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:14:49,136 p=24114 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:14:49,141 p=24114 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:14:49,154 p=24114 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-11 12:14:49,743 p=24114 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:14:49,765 p=24114 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:14:49,766 p=24114 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:14:49,783 p=24114 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:14:49,790 p=24114 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:14:49,804 p=24114 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-11 12:14:51,190 p=24114 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 12:14:51,219 p=24114 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 12:14:51,505 p=24114 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-11 12:14:51,508 p=24114 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 12:14:51,510 p=24114 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-11 12:14:51,574 p=24114 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-11 12:14:51,574 p=24114 u=moonja n=ansible | postgres-ha01              : ok=19   changed=17   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-11 12:14:51,574 p=24114 u=moonja n=ansible | postgres-ha02              : ok=19   changed=17   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-11 12:14:51,574 p=24114 u=moonja n=ansible | postgres-ha03              : ok=19   changed=17   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-11 12:14:51,574 p=24114 u=moonja n=ansible | postgres-haproxy01         : ok=8    changed=5    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-11 12:14:51,574 p=24114 u=moonja n=ansible | postgres-haproxy02         : ok=8    changed=5    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-11 12:16:58,339 p=27124 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-11 12:16:58,350 p=27124 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-11 12:16:58,606 p=27124 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-11 12:16:58,664 p=27124 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-11 12:16:58,692 p=27124 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-11 12:17:00,961 p=27124 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-11 12:17:00,965 p=27124 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 12:17:00,968 p=27124 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-11 12:17:00,969 p=27124 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 12:17:00,975 p=27124 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 12:17:00,994 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-11 12:17:02,231 p=27124 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-11 12:17:02,231 p=27124 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 12:17:02,251 p=27124 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 12:17:02,251 p=27124 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-11 12:17:02,252 p=27124 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 12:17:02,266 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-11 12:17:03,204 p=27124 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:17:03,210 p=27124 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:17:03,210 p=27124 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:17:03,228 p=27124 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:17:03,228 p=27124 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:17:03,241 p=27124 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-11 12:17:03,889 p=27124 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:17:03,890 p=27124 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:17:03,918 p=27124 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:17:04,947 p=27124 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:17:05,331 p=27124 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:17:05,347 p=27124 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:17:05,391 p=27124 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-11 12:17:05,409 p=27124 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-11 12:17:05,427 p=27124 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-11 12:17:05,428 p=27124 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-11 12:17:05,442 p=27124 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-11 12:17:05,477 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] **********************************
2022-01-11 12:17:07,189 p=27124 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:17:07,200 p=27124 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:17:07,201 p=27124 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:17:07,361 p=27124 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:17:07,370 p=27124 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:17:07,386 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] ************************************************
2022-01-11 12:17:25,555 p=27124 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:17:25,602 p=27124 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:17:26,188 p=27124 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:17:26,203 p=27124 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:17:26,246 p=27124 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:17:26,259 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] *******************************
2022-01-11 12:17:32,607 p=27124 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3)
2022-01-11 12:17:32,668 p=27124 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3)
2022-01-11 12:17:32,694 p=27124 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3)
2022-01-11 12:17:32,694 p=27124 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3)
2022-01-11 12:17:32,695 p=27124 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3)
2022-01-11 12:17:40,005 p=27124 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-devel)
2022-01-11 12:17:40,044 p=27124 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-devel)
2022-01-11 12:17:40,061 p=27124 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-devel)
2022-01-11 12:17:40,061 p=27124 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-devel)
2022-01-11 12:17:40,502 p=27124 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-devel)
2022-01-11 12:17:47,374 p=27124 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=gcc)
2022-01-11 12:17:47,469 p=27124 u=moonja n=ansible | ok: [postgres-ha01] => (item=gcc)
2022-01-11 12:17:47,578 p=27124 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=gcc)
2022-01-11 12:17:47,885 p=27124 u=moonja n=ansible | ok: [postgres-ha02] => (item=gcc)
2022-01-11 12:17:47,933 p=27124 u=moonja n=ansible | ok: [postgres-ha03] => (item=gcc)
2022-01-11 12:17:53,875 p=27124 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=etcd)
2022-01-11 12:17:54,432 p=27124 u=moonja n=ansible | ok: [postgres-ha02] => (item=etcd)
2022-01-11 12:17:55,203 p=27124 u=moonja n=ansible | ok: [postgres-ha03] => (item=etcd)
2022-01-11 12:17:55,648 p=27124 u=moonja n=ansible | ok: [postgres-ha01] => (item=etcd)
2022-01-11 12:17:56,348 p=27124 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=etcd)
2022-01-11 12:18:02,187 p=27124 u=moonja n=ansible | ok: [postgres-ha01] => (item=python-psycopg2)
2022-01-11 12:18:08,655 p=27124 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-pip)
2022-01-11 12:18:17,893 p=27124 u=moonja n=ansible | ok: [postgres-ha01] => (item=python34-setuptools)
2022-01-11 12:18:25,285 p=27124 u=moonja n=ansible | ok: [postgres-ha01] => (item=python27-python-setuptools)
2022-01-11 12:18:32,118 p=27124 u=moonja n=ansible | ok: [postgres-ha01] => (item=yamllint)
2022-01-11 12:18:38,758 p=27124 u=moonja n=ansible | ok: [postgres-ha01] => (item=daemonize)
2022-01-11 12:18:56,946 p=27124 u=moonja n=ansible | changed: [postgres-haproxy02] => (item=python-psycopg2)
2022-01-11 12:18:59,455 p=27124 u=moonja n=ansible | changed: [postgres-ha02] => (item=python-psycopg2)
2022-01-11 12:19:00,633 p=27124 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=python-psycopg2)
2022-01-11 12:19:01,118 p=27124 u=moonja n=ansible | changed: [postgres-ha03] => (item=python-psycopg2)
2022-01-11 12:19:04,247 p=27124 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-pip)
2022-01-11 12:19:06,075 p=27124 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-pip)
2022-01-11 12:19:07,580 p=27124 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-pip)
2022-01-11 12:19:07,600 p=27124 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-pip)
2022-01-11 12:19:10,909 p=27124 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python34-setuptools)
2022-01-11 12:19:12,441 p=27124 u=moonja n=ansible | ok: [postgres-ha02] => (item=python34-setuptools)
2022-01-11 12:19:14,373 p=27124 u=moonja n=ansible | ok: [postgres-ha03] => (item=python34-setuptools)
2022-01-11 12:19:14,531 p=27124 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python34-setuptools)
2022-01-11 12:19:17,384 p=27124 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python27-python-setuptools)
2022-01-11 12:19:19,245 p=27124 u=moonja n=ansible | ok: [postgres-ha02] => (item=python27-python-setuptools)
2022-01-11 12:19:21,026 p=27124 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python27-python-setuptools)
2022-01-11 12:19:21,061 p=27124 u=moonja n=ansible | ok: [postgres-ha03] => (item=python27-python-setuptools)
2022-01-11 12:19:24,054 p=27124 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=yamllint)
2022-01-11 12:19:26,473 p=27124 u=moonja n=ansible | ok: [postgres-ha02] => (item=yamllint)
2022-01-11 12:19:27,767 p=27124 u=moonja n=ansible | ok: [postgres-ha03] => (item=yamllint)
2022-01-11 12:19:28,635 p=27124 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=yamllint)
2022-01-11 12:19:30,817 p=27124 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=daemonize)
2022-01-11 12:19:32,960 p=27124 u=moonja n=ansible | ok: [postgres-ha02] => (item=daemonize)
2022-01-11 12:19:34,519 p=27124 u=moonja n=ansible | ok: [postgres-ha03] => (item=daemonize)
2022-01-11 12:19:35,302 p=27124 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=daemonize)
2022-01-11 12:19:35,322 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Install the dependencies of etcd  on all three nodes] ****************************************
2022-01-11 12:19:35,346 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:19:35,364 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:19:36,271 p=27124 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:19:36,272 p=27124 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:19:36,272 p=27124 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:19:36,285 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Install setuptools rust on all three nodes] **************************************************
2022-01-11 12:19:36,325 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:19:36,341 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:19:42,773 p=27124 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:19:42,795 p=27124 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:19:42,795 p=27124 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:19:42,805 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Install typing pip module on all three nodes] ************************************************
2022-01-11 12:19:42,830 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:19:42,849 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:19:54,426 p=27124 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:19:54,507 p=27124 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:19:54,529 p=27124 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:19:54,542 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Upgrade pip3 version] ************************************************************************
2022-01-11 12:19:54,566 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:19:54,600 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:20:01,043 p=27124 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:20:01,069 p=27124 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:20:01,069 p=27124 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:20:01,080 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Install wheel module on all three nodes] *****************************************************
2022-01-11 12:20:01,122 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:20:01,137 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:20:07,577 p=27124 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:20:07,620 p=27124 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:20:07,630 p=27124 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:20:07,643 p=27124 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:20:07,686 p=27124 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:20:07,705 p=27124 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:20:07,726 p=27124 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "329478596812.15710",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.902771",
        "end": "2022-01-11 12:20:05.148580",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/329478596812.15710",
        "start": "2022-01-11 12:20:03.245809",
        "started": 1,
        "stderr": "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-11 12:20:07,727 p=27124 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "777471697572.15201",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.915909",
        "end": "2022-01-11 12:20:04.701975",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/777471697572.15201",
        "start": "2022-01-11 12:20:02.786066",
        "started": 1,
        "stderr": "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-11 12:20:07,739 p=27124 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "653688428107.15305",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.907866",
        "end": "2022-01-11 12:20:05.450033",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/653688428107.15305",
        "start": "2022-01-11 12:20:03.542167",
        "started": 1,
        "stderr": "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-11 12:20:07,752 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Install pip modules of Patroni prerequisites on all three nodes] *****************************
2022-01-11 12:20:07,792 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:20:07,807 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:20:14,180 p=27124 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:20:14,206 p=27124 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:20:14,206 p=27124 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:20:14,218 p=27124 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:20:14,259 p=27124 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:20:14,278 p=27124 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:20:14,298 p=27124 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "656568023921.16096",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.738643",
        "end": "2022-01-11 12:20:10.629841",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/656568023921.16096",
        "start": "2022-01-11 12:20:09.891198",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-11 12:20:14,301 p=27124 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "290784170221.15553",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.753473",
        "end": "2022-01-11 12:20:10.194312",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/290784170221.15553",
        "start": "2022-01-11 12:20:09.440839",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-11 12:20:14,314 p=27124 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "938173647094.15649",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.751214",
        "end": "2022-01-11 12:20:10.944310",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/938173647094.15649",
        "start": "2022-01-11 12:20:10.193096",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-11 12:20:14,326 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Iinstall wheel module on all three nodes] ****************************************************
2022-01-11 12:20:14,365 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:20:14,381 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:20:21,377 p=27124 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:20:21,422 p=27124 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:20:21,444 p=27124 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:20:21,455 p=27124 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:20:21,480 p=27124 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:20:21,516 p=27124 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:20:21,536 p=27124 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "62822861981.16474",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:03.117396",
        "end": "2022-01-11 12:20:19.512465",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/62822861981.16474",
        "start": "2022-01-11 12:20:16.395069",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-11 12:20:21,537 p=27124 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "92065035048.15897",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:03.081513",
        "end": "2022-01-11 12:20:19.027233",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/92065035048.15897",
        "start": "2022-01-11 12:20:15.945720",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-11 12:20:21,550 p=27124 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "49713800837.15993",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:03.095255",
        "end": "2022-01-11 12:20:19.799211",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/49713800837.15993",
        "start": "2022-01-11 12:20:16.703956",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-11 12:20:21,562 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Install psycopg2-binary module on all three nodes] *******************************************
2022-01-11 12:20:21,601 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:20:21,616 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:20:28,014 p=27124 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:20:28,016 p=27124 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:20:28,016 p=27124 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:20:28,027 p=27124 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:20:28,069 p=27124 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:20:28,090 p=27124 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:20:28,111 p=27124 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "638075738655.16852",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:01.695707",
        "end": "2022-01-11 12:20:25.362744",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/638075738655.16852",
        "start": "2022-01-11 12:20:23.667037",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.3",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.3"
        ]
    }
}
2022-01-11 12:20:28,112 p=27124 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "385006746730.16241",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:01.673042",
        "end": "2022-01-11 12:20:24.889381",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/385006746730.16241",
        "start": "2022-01-11 12:20:23.216339",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.3",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.3"
        ]
    }
}
2022-01-11 12:20:28,124 p=27124 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "835643073608.16345",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:01.730772",
        "end": "2022-01-11 12:20:25.695365",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/835643073608.16345",
        "start": "2022-01-11 12:20:23.964593",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.3",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.3"
        ]
    }
}
2022-01-11 12:20:28,139 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Install patroni modules on all three nodes for vmware-postgres 13.x version] *****************
2022-01-11 12:20:28,182 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:20:28,197 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:20:35,285 p=27124 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:20:35,384 p=27124 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:20:35,779 p=27124 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:20:35,791 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-11 12:20:35,832 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:20:35,849 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:20:36,607 p=27124 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 12:20:36,619 p=27124 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 12:20:36,624 p=27124 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 12:20:36,638 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Create the etcd.yml configuration file for all nodes] ****************************************
2022-01-11 12:20:36,662 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:20:36,696 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:20:37,693 p=27124 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:20:37,706 p=27124 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:20:37,706 p=27124 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:20:37,723 p=27124 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:20:37,763 p=27124 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:20:37,783 p=27124 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:20:37,800 p=27124 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "9ae4719bb01c1f3fe9f70a6e2c0044c7c41a95fe",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "c58c15d1af07ce06cb21d7da9f41a53d",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641871236.8045719-32133-227289561189595/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-11 12:20:37,802 p=27124 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "15047e7ccbff3a953a4abe4edc1ee87eccf0c835",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "90cfbd68000432263a3d9f571742a601",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641871236.8064451-32134-249895668182229/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-11 12:20:37,814 p=27124 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "a89b395b153fde540c5b5250ee19c5a9b4a69b60",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "50ed3a33db1def8c3d70f9d8154ad6fa",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641871236.810493-32138-143242907056616/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-11 12:20:37,826 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of etcd into /etc/systemd/system] *********************************
2022-01-11 12:20:37,865 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:20:37,880 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:20:40,463 p=27124 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 12:20:40,464 p=27124 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 12:20:40,513 p=27124 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 12:20:40,525 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Reload and start etcd through systemd] *******************************************************
2022-01-11 12:20:40,549 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:20:40,567 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:20:45,866 p=27124 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:20:45,867 p=27124 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:20:45,868 p=27124 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:20:45,879 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Lists the members and identifies the current Leader.] ****************************************
2022-01-11 12:20:45,925 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:20:45,940 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:20:48,194 p=27124 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:20:48,319 p=27124 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:20:48,420 p=27124 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:20:48,437 p=27124 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:20:48,480 p=27124 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:20:48,499 p=27124 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:20:48,518 p=27124 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:01.843322",
        "end": "2022-01-11 12:20:49.727647",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-11 12:20:47.884325",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-11 12:20:48,519 p=27124 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:01.709446",
        "end": "2022-01-11 12:20:49.162131",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-11 12:20:47.452685",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-11 12:20:48,532 p=27124 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:01.952169",
        "end": "2022-01-11 12:20:50.153328",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-11 12:20:48.201159",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-11 12:20:48,544 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Set data directory for patroni cluster] ******************************************************
2022-01-11 12:20:49,051 p=27124 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:20:49,054 p=27124 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:20:49,062 p=27124 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:20:49,356 p=27124 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:20:49,356 p=27124 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:20:49,373 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Create the patroni.yml configuration file for all nodes] *************************************
2022-01-11 12:20:49,400 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:20:49,420 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:20:50,749 p=27124 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:20:50,750 p=27124 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:20:50,752 p=27124 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:20:50,765 p=27124 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:20:50,806 p=27124 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:20:50,825 p=27124 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:20:50,843 p=27124 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "53fcae96fcdf6e2a1c84624de4f5017d7b51c286",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "539392a07ba96f292d5c586de863ffce",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1365,
        "src": "/var/tmp/ansible-tmp-1641871249.5369742-32472-177074834971264/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-11 12:20:50,845 p=27124 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "ae64f4618ad3aba5efa6a7d42032c6df520c2e1b",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "1cfe9ecb757c5bfe60630defc9159455",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1365,
        "src": "/var/tmp/ansible-tmp-1641871249.540056-32473-79356990718911/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-11 12:20:50,856 p=27124 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "00c83e14268b31456464e038e22bb0220b6443ef",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "5b1928e0f4d875925be57c1ed2c006fb",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1365,
        "src": "/var/tmp/ansible-tmp-1641871249.542148-32477-51007441420460/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-11 12:20:50,868 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of patroni into /etc/systemd/system] ******************************
2022-01-11 12:20:50,890 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:20:50,922 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:20:51,881 p=27124 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:20:51,882 p=27124 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:20:51,883 p=27124 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:20:51,898 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Reload and start systemd service of patroni] *************************************************
2022-01-11 12:20:51,923 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:20:51,942 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:20:52,701 p=27124 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:20:52,703 p=27124 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:20:52,707 p=27124 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:20:52,723 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-11 12:20:52,743 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:20:52,752 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Remove clsuter on master] ********************************************************************
2022-01-11 12:20:52,775 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:20:52,807 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:20:52,826 p=27124 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-11 12:20:52,836 p=27124 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-11 12:20:59,806 p=27124 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:20:59,816 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-11 12:20:59,837 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:20:59,848 p=27124 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:20:59,889 p=27124 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:20:59,908 p=27124 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:20:59,927 p=27124 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "733877233528.19270",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n",
        "delta": "0:00:04.766419",
        "end": "2022-01-11 12:20:59.867464",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/733877233528.19270",
        "start": "2022-01-11 12:20:55.101045",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7051459103648669661) --+-----------+\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": ",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7051459103648669661) --+-----------+",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": "
        ]
    }
}
2022-01-11 12:20:59,928 p=27124 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:20:59,942 p=27124 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:20:59,952 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Reinitialize patroni clsuter on all node] ****************************************************
2022-01-11 12:20:59,990 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:21:00,005 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:21:06,410 p=27124 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "913790030331.18448", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n", "delta": "0:00:01.973224", "end": "2022-01-11 12:21:03.662227", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/913790030331.18448", "start": "2022-01-11 12:21:01.689003", "started": 1, "stderr": "Error: postgres-ha02 is not a member of cluster", "stderr_lines": ["Error: postgres-ha02 is not a member of cluster"], "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01]? []: ", "stdout_lines": ["+---------------+--------------+---------+---------+----+-----------+", "| Member        | Host         | Role    | State   | TL | Lag in MB |", "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+", "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |", "+---------------+--------------+---------+---------+----+-----------+", "Which member do you want to reinitialize [postgres-ha01]? []: "]}
2022-01-11 12:21:06,410 p=27124 u=moonja n=ansible | ...ignoring
2022-01-11 12:21:06,494 p=27124 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "659936589294.18551", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n", "delta": "0:00:01.939276", "end": "2022-01-11 12:21:04.373309", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/659936589294.18551", "start": "2022-01-11 12:21:02.434033", "started": 1, "stderr": "Error: postgres-ha03 is not a member of cluster", "stderr_lines": ["Error: postgres-ha03 is not a member of cluster"], "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01]? []: ", "stdout_lines": ["+---------------+--------------+---------+---------+----+-----------+", "| Member        | Host         | Role    | State   | TL | Lag in MB |", "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+", "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |", "+---------------+--------------+---------+---------+----+-----------+", "Which member do you want to reinitialize [postgres-ha01]? []: "]}
2022-01-11 12:21:06,494 p=27124 u=moonja n=ansible | ...ignoring
2022-01-11 12:21:06,494 p=27124 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:21:06,508 p=27124 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:21:06,551 p=27124 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:21:06,570 p=27124 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:21:06,590 p=27124 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "660295778185.19651",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.278602",
        "end": "2022-01-11 12:21:02.397099",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/660295778185.19651",
        "start": "2022-01-11 12:21:02.118497",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-11 12:21:06,591 p=27124 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "913790030331.18448",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:01.973224",
        "end": "2022-01-11 12:21:03.662227",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/913790030331.18448",
        "start": "2022-01-11 12:21:01.689003",
        "started": 1,
        "stderr": "Error: postgres-ha02 is not a member of cluster",
        "stderr_lines": [
            "Error: postgres-ha02 is not a member of cluster"
        ],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01]? []: ",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01]? []: "
        ]
    }
}
2022-01-11 12:21:06,604 p=27124 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "659936589294.18551",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:01.939276",
        "end": "2022-01-11 12:21:04.373309",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/659936589294.18551",
        "start": "2022-01-11 12:21:02.434033",
        "started": 1,
        "stderr": "Error: postgres-ha03 is not a member of cluster",
        "stderr_lines": [
            "Error: postgres-ha03 is not a member of cluster"
        ],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01]? []: ",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01]? []: "
        ]
    }
}
2022-01-11 12:21:06,615 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-11 12:21:06,633 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:21:06,643 p=27124 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:21:06,695 p=27124 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:21:06,713 p=27124 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:21:06,736 p=27124 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "660295778185.19651",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.278602",
        "end": "2022-01-11 12:21:02.397099",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/660295778185.19651",
        "start": "2022-01-11 12:21:02.118497",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-11 12:21:06,738 p=27124 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "913790030331.18448",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:01.973224",
        "end": "2022-01-11 12:21:03.662227",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/913790030331.18448",
        "start": "2022-01-11 12:21:01.689003",
        "started": 1,
        "stderr": "Error: postgres-ha02 is not a member of cluster",
        "stderr_lines": [
            "Error: postgres-ha02 is not a member of cluster"
        ],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01]? []: ",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01]? []: "
        ]
    }
}
2022-01-11 12:21:06,752 p=27124 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "659936589294.18551",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:01.939276",
        "end": "2022-01-11 12:21:04.373309",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/659936589294.18551",
        "start": "2022-01-11 12:21:02.434033",
        "started": 1,
        "stderr": "Error: postgres-ha03 is not a member of cluster",
        "stderr_lines": [
            "Error: postgres-ha03 is not a member of cluster"
        ],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01]? []: ",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01]? []: "
        ]
    }
}
2022-01-11 12:21:06,763 p=27124 u=moonja n=ansible | TASK [patroni-postgres : Run the patronictl command-line utility to view the cluster state with Patroni started on all three nodes,] ***
2022-01-11 12:21:06,784 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:21:06,803 p=27124 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:21:07,607 p=27124 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:21:07,608 p=27124 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:21:07,609 p=27124 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:21:07,622 p=27124 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:21:07,666 p=27124 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:21:07,685 p=27124 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:21:07,706 p=27124 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.306184",
        "end": "2022-01-11 12:21:09.056601",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-11 12:21:08.750417",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-11 12:21:07,707 p=27124 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.308438",
        "end": "2022-01-11 12:21:08.611452",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-11 12:21:08.303014",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-11 12:21:07,719 p=27124 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.306209",
        "end": "2022-01-11 12:21:09.359834",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-11 12:21:09.053625",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-11 12:21:07,777 p=27124 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-11 12:21:07,777 p=27124 u=moonja n=ansible | postgres-ha01              : ok=40   changed=23   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2022-01-11 12:21:07,777 p=27124 u=moonja n=ansible | postgres-ha02              : ok=39   changed=23   unreachable=0    failed=0    skipped=1    rescued=0    ignored=1   
2022-01-11 12:21:07,777 p=27124 u=moonja n=ansible | postgres-ha03              : ok=39   changed=23   unreachable=0    failed=0    skipped=1    rescued=0    ignored=1   
2022-01-11 12:21:07,777 p=27124 u=moonja n=ansible | postgres-haproxy01         : ok=20   changed=6    unreachable=0    failed=0    skipped=23   rescued=0    ignored=0   
2022-01-11 12:21:07,777 p=27124 u=moonja n=ansible | postgres-haproxy02         : ok=20   changed=6    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
2022-01-11 12:28:34,667 p=34656 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-11 12:28:34,679 p=34656 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-11 12:28:34,978 p=34656 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-11 12:28:35,038 p=34656 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-11 12:28:35,071 p=34656 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-11 12:28:37,239 p=34656 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-11 12:28:37,240 p=34656 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 12:28:37,243 p=34656 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 12:28:37,254 p=34656 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 12:28:37,256 p=34656 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-11 12:28:37,275 p=34656 u=moonja n=ansible | TASK [patroni-postgres : Stop services for patroni and etcd] **********************************************************
2022-01-11 12:28:37,299 p=34656 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=patroni) 
2022-01-11 12:28:37,300 p=34656 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=etcd) 
2022-01-11 12:28:37,315 p=34656 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=patroni) 
2022-01-11 12:28:37,315 p=34656 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=etcd) 
2022-01-11 12:28:39,054 p=34656 u=moonja n=ansible | changed: [postgres-ha03] => (item=patroni)
2022-01-11 12:28:39,951 p=34656 u=moonja n=ansible | changed: [postgres-ha03] => (item=etcd)
2022-01-11 12:28:40,324 p=34656 u=moonja n=ansible | changed: [postgres-ha01] => (item=patroni)
2022-01-11 12:28:41,009 p=34656 u=moonja n=ansible | changed: [postgres-ha01] => (item=etcd)
2022-01-11 12:28:41,232 p=34656 u=moonja n=ansible | changed: [postgres-ha02] => (item=patroni)
2022-01-11 12:28:41,996 p=34656 u=moonja n=ansible | changed: [postgres-ha02] => (item=etcd)
2022-01-11 12:28:42,011 p=34656 u=moonja n=ansible | TASK [patroni-postgres : Kill etcd process] ***************************************************************************
2022-01-11 12:28:42,050 p=34656 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:28:42,066 p=34656 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:28:49,269 p=34656 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:28:49,301 p=34656 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:28:49,315 p=34656 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:28:49,327 p=34656 u=moonja n=ansible | TASK [patroni-postgres : Delete configuration file for patroni and systemd] *******************************************
2022-01-11 12:28:50,283 p=34656 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-11 12:28:50,285 p=34656 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-11 12:28:50,290 p=34656 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-11 12:28:50,298 p=34656 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/patroni.yml)
2022-01-11 12:28:50,301 p=34656 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-11 12:28:51,061 p=34656 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/etc/systemd/system/patroni.service)
2022-01-11 12:28:51,069 p=34656 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/etc/systemd/system/patroni.service)
2022-01-11 12:28:51,070 p=34656 u=moonja n=ansible | changed: [postgres-ha02] => (item=/etc/systemd/system/patroni.service)
2022-01-11 12:28:51,070 p=34656 u=moonja n=ansible | changed: [postgres-ha03] => (item=/etc/systemd/system/patroni.service)
2022-01-11 12:28:51,074 p=34656 u=moonja n=ansible | changed: [postgres-ha01] => (item=/etc/systemd/system/patroni.service)
2022-01-11 12:28:51,612 p=34656 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-11 12:28:51,613 p=34656 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-11 12:28:51,613 p=34656 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-11 12:28:51,617 p=34656 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-11 12:28:51,624 p=34656 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-11 12:28:52,048 p=34656 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-11 12:28:52,058 p=34656 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-11 12:28:52,061 p=34656 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-11 12:28:52,072 p=34656 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-11 12:28:52,074 p=34656 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-11 12:28:52,460 p=34656 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-11 12:28:52,471 p=34656 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-11 12:28:52,487 p=34656 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-11 12:28:52,501 p=34656 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-11 12:28:52,512 p=34656 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/etcd.yml)
2022-01-11 12:28:52,872 p=34656 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-11 12:28:52,881 p=34656 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-11 12:28:52,904 p=34656 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-11 12:28:52,905 p=34656 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-11 12:28:52,917 p=34656 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-11 12:28:52,930 p=34656 u=moonja n=ansible | TASK [patroni-postgres : Delete data directory for patroni cluster] ***************************************************
2022-01-11 12:28:53,631 p=34656 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:28:53,654 p=34656 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:28:53,810 p=34656 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:28:53,820 p=34656 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:28:53,888 p=34656 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:28:53,899 p=34656 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-11 12:28:53,922 p=34656 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:28:53,940 p=34656 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:28:54,457 p=34656 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 12:28:54,458 p=34656 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 12:28:54,460 p=34656 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 12:28:54,472 p=34656 u=moonja n=ansible | TASK [patroni-postgres : Uninstall pip modules of Patroni prerequisites on all three nodes] ***************************
2022-01-11 12:28:54,495 p=34656 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:28:54,512 p=34656 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:29:01,355 p=34656 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "33004381604.22466", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.440929", "end": "2022-01-11 12:28:57.216362", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/33004381604.22466", "start": "2022-01-11 12:28:56.775433", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-11 12:29:01,366 p=34656 u=moonja n=ansible | ...ignoring
2022-01-11 12:29:01,368 p=34656 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "740903426468.20849", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.431690", "end": "2022-01-11 12:28:56.758150", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/740903426468.20849", "start": "2022-01-11 12:28:56.326460", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-11 12:29:01,368 p=34656 u=moonja n=ansible | ...ignoring
2022-01-11 12:29:02,710 p=34656 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "233301145040.20987", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.361069", "end": "2022-01-11 12:28:59.098787", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/233301145040.20987", "start": "2022-01-11 12:28:58.737718", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-11 12:29:02,710 p=34656 u=moonja n=ansible | ...ignoring
2022-01-11 12:29:02,721 p=34656 u=moonja n=ansible | TASK [patroni-postgres : Install wheel pip module on all three nodes] *************************************************
2022-01-11 12:29:02,744 p=34656 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:29:02,761 p=34656 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:29:08,948 p=34656 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:29:09,247 p=34656 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:29:09,248 p=34656 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:29:09,259 p=34656 u=moonja n=ansible | TASK [patroni-postgres : Uninstall typing pip module on all three nodes] **********************************************
2022-01-11 12:29:09,283 p=34656 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:29:09,301 p=34656 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:29:15,587 p=34656 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:29:15,600 p=34656 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:29:15,851 p=34656 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:29:15,862 p=34656 u=moonja n=ansible | TASK [patroni-postgres : Uninstall setuptools rust on all three nodes] ************************************************
2022-01-11 12:29:15,905 p=34656 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:29:15,925 p=34656 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:29:22,144 p=34656 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:29:22,200 p=34656 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:29:22,200 p=34656 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:29:22,213 p=34656 u=moonja n=ansible | TASK [patroni-postgres : Uninstall patroni module on all three nodes] *************************************************
2022-01-11 12:29:22,238 p=34656 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:29:22,257 p=34656 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:29:28,539 p=34656 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:29:29,458 p=34656 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:29:29,673 p=34656 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:29:29,685 p=34656 u=moonja n=ansible | TASK [patroni-postgres : Uninstall wheel module on all three nodes] ***************************************************
2022-01-11 12:29:29,712 p=34656 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:29:29,732 p=34656 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:29:35,962 p=34656 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:29:36,016 p=34656 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:29:36,016 p=34656 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:29:36,028 p=34656 u=moonja n=ansible | TASK [patroni-postgres : Uninstall psycopg2-binary module on all three nodes] *****************************************
2022-01-11 12:29:36,053 p=34656 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:29:36,071 p=34656 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:29:42,443 p=34656 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:29:42,444 p=34656 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:29:42,474 p=34656 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:29:42,485 p=34656 u=moonja n=ansible | TASK [patroni-postgres : Delete the dependencies file of etcd  on all three nodes] ************************************
2022-01-11 12:29:42,511 p=34656 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:29:42,531 p=34656 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:29:43,016 p=34656 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:29:43,016 p=34656 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:29:43,024 p=34656 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:29:43,036 p=34656 u=moonja n=ansible | TASK [patroni-postgres : Uninstall VMware Postgres RPM package on all hosts as root] **********************************
2022-01-11 12:30:08,385 p=34656 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:30:10,847 p=34656 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:30:11,223 p=34656 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:30:11,233 p=34656 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:30:11,301 p=34656 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:30:11,314 p=34656 u=moonja n=ansible | TASK [patroni-postgres : Delete the vmwawre-postgres rpm file to all hosts in cluster] ********************************
2022-01-11 12:30:11,827 p=34656 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:30:11,833 p=34656 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:30:11,862 p=34656 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:30:11,862 p=34656 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:30:12,406 p=34656 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:30:12,419 p=34656 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-11 12:30:12,966 p=34656 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:30:12,967 p=34656 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:30:12,976 p=34656 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:30:12,977 p=34656 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:30:12,982 p=34656 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:30:12,996 p=34656 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-11 12:30:13,595 p=34656 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:30:13,597 p=34656 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:30:13,616 p=34656 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:30:13,631 p=34656 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:30:13,631 p=34656 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:30:13,647 p=34656 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-11 12:30:14,786 p=34656 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-11 12:30:14,789 p=34656 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 12:30:14,794 p=34656 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 12:30:14,794 p=34656 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-11 12:30:14,799 p=34656 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 12:30:14,860 p=34656 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-11 12:30:14,861 p=34656 u=moonja n=ansible | postgres-ha01              : ok=19   changed=16   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-11 12:30:14,861 p=34656 u=moonja n=ansible | postgres-ha02              : ok=19   changed=16   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-11 12:30:14,861 p=34656 u=moonja n=ansible | postgres-ha03              : ok=19   changed=16   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-11 12:30:14,861 p=34656 u=moonja n=ansible | postgres-haproxy01         : ok=8    changed=5    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-11 12:30:14,861 p=34656 u=moonja n=ansible | postgres-haproxy02         : ok=8    changed=5    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-11 12:34:13,255 p=37235 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-11 12:34:13,267 p=37235 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-11 12:34:13,517 p=37235 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-11 12:34:13,573 p=37235 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-11 12:34:13,602 p=37235 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-11 12:34:15,942 p=37235 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 12:34:15,953 p=37235 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 12:34:15,954 p=37235 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-11 12:34:15,957 p=37235 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 12:34:16,539 p=37235 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-11 12:34:16,560 p=37235 u=moonja n=ansible | TASK [patroni-postgres : Stop services for patroni and etcd] **********************************************************
2022-01-11 12:34:16,584 p=37235 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=patroni) 
2022-01-11 12:34:16,585 p=37235 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=etcd) 
2022-01-11 12:34:16,600 p=37235 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=patroni) 
2022-01-11 12:34:16,601 p=37235 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=etcd) 
2022-01-11 12:34:17,580 p=37235 u=moonja n=ansible | failed: [postgres-ha03] (item=patroni) => {"ansible_loop_var": "item", "changed": false, "item": "patroni", "msg": "Could not find the requested service patroni: host"}
2022-01-11 12:34:17,581 p=37235 u=moonja n=ansible | failed: [postgres-ha02] (item=patroni) => {"ansible_loop_var": "item", "changed": false, "item": "patroni", "msg": "Could not find the requested service patroni: host"}
2022-01-11 12:34:17,581 p=37235 u=moonja n=ansible | failed: [postgres-ha01] (item=patroni) => {"ansible_loop_var": "item", "changed": false, "item": "patroni", "msg": "Could not find the requested service patroni: host"}
2022-01-11 12:34:18,506 p=37235 u=moonja n=ansible | failed: [postgres-ha02] (item=etcd) => {"ansible_loop_var": "item", "changed": false, "item": "etcd", "msg": "Could not find the requested service patroni: host"}
2022-01-11 12:34:18,507 p=37235 u=moonja n=ansible | failed: [postgres-ha03] (item=etcd) => {"ansible_loop_var": "item", "changed": false, "item": "etcd", "msg": "Could not find the requested service patroni: host"}
2022-01-11 12:34:18,509 p=37235 u=moonja n=ansible | ...ignoring
2022-01-11 12:34:18,509 p=37235 u=moonja n=ansible | ...ignoring
2022-01-11 12:34:18,511 p=37235 u=moonja n=ansible | failed: [postgres-ha01] (item=etcd) => {"ansible_loop_var": "item", "changed": false, "item": "etcd", "msg": "Could not find the requested service patroni: host"}
2022-01-11 12:34:18,511 p=37235 u=moonja n=ansible | ...ignoring
2022-01-11 12:34:18,526 p=37235 u=moonja n=ansible | TASK [patroni-postgres : Kill etcd process] ***************************************************************************
2022-01-11 12:34:18,564 p=37235 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:34:18,578 p=37235 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:34:26,262 p=37235 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "569667903692.27141", "changed": true, "cmd": "( killall etcd )", "delta": "0:00:00.019181", "end": "2022-01-11 12:34:21.397514", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/569667903692.27141", "start": "2022-01-11 12:34:21.378333", "started": 1, "stderr": "etcd: no process found", "stderr_lines": ["etcd: no process found"], "stdout": "", "stdout_lines": []}
2022-01-11 12:34:26,262 p=37235 u=moonja n=ansible | ...ignoring
2022-01-11 12:34:26,263 p=37235 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "320703461346.25028", "changed": true, "cmd": "( killall etcd )", "delta": "0:00:00.021265", "end": "2022-01-11 12:34:21.714917", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/320703461346.25028", "start": "2022-01-11 12:34:21.693652", "started": 1, "stderr": "etcd: no process found", "stderr_lines": ["etcd: no process found"], "stdout": "", "stdout_lines": []}
2022-01-11 12:34:26,263 p=37235 u=moonja n=ansible | ...ignoring
2022-01-11 12:34:26,263 p=37235 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "851458066059.25037", "changed": true, "cmd": "( killall etcd )", "delta": "0:00:00.019346", "end": "2022-01-11 12:34:20.964218", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/851458066059.25037", "start": "2022-01-11 12:34:20.944872", "started": 1, "stderr": "etcd: no process found", "stderr_lines": ["etcd: no process found"], "stdout": "", "stdout_lines": []}
2022-01-11 12:34:26,263 p=37235 u=moonja n=ansible | ...ignoring
2022-01-11 12:34:26,272 p=37235 u=moonja n=ansible | TASK [patroni-postgres : Delete configuration file for patroni and systemd] *******************************************
2022-01-11 12:34:27,366 p=37235 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-11 12:34:27,367 p=37235 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/patroni.yml)
2022-01-11 12:34:27,368 p=37235 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-11 12:34:27,376 p=37235 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-11 12:34:27,382 p=37235 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-11 12:34:27,796 p=37235 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/etc/systemd/system/patroni.service)
2022-01-11 12:34:27,799 p=37235 u=moonja n=ansible | ok: [postgres-ha02] => (item=/etc/systemd/system/patroni.service)
2022-01-11 12:34:27,808 p=37235 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/etc/systemd/system/patroni.service)
2022-01-11 12:34:27,809 p=37235 u=moonja n=ansible | ok: [postgres-ha03] => (item=/etc/systemd/system/patroni.service)
2022-01-11 12:34:27,829 p=37235 u=moonja n=ansible | ok: [postgres-ha01] => (item=/etc/systemd/system/patroni.service)
2022-01-11 12:34:28,219 p=37235 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-11 12:34:28,224 p=37235 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-11 12:34:28,232 p=37235 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-11 12:34:28,238 p=37235 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-11 12:34:28,255 p=37235 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-11 12:34:28,648 p=37235 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-11 12:34:28,648 p=37235 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-11 12:34:28,649 p=37235 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-11 12:34:28,656 p=37235 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-11 12:34:28,669 p=37235 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-11 12:34:29,258 p=37235 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-11 12:34:29,261 p=37235 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/etcd.yml)
2022-01-11 12:34:29,267 p=37235 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-11 12:34:29,272 p=37235 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-11 12:34:29,276 p=37235 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-11 12:34:29,692 p=37235 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-11 12:34:29,692 p=37235 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-11 12:34:29,701 p=37235 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-11 12:34:29,703 p=37235 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-11 12:34:29,705 p=37235 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-11 12:34:29,717 p=37235 u=moonja n=ansible | TASK [patroni-postgres : Delete data directory for patroni cluster] ***************************************************
2022-01-11 12:34:30,436 p=37235 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-11 12:34:30,449 p=37235 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-11 12:34:30,451 p=37235 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 12:34:30,459 p=37235 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 12:34:30,466 p=37235 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 12:34:30,477 p=37235 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-11 12:34:30,498 p=37235 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:34:30,530 p=37235 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:34:31,305 p=37235 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 12:34:31,314 p=37235 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 12:34:31,317 p=37235 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 12:34:31,330 p=37235 u=moonja n=ansible | TASK [patroni-postgres : Uninstall pip modules of Patroni prerequisites on all three nodes] ***************************
2022-01-11 12:34:31,351 p=37235 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:34:31,382 p=37235 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:34:37,655 p=37235 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "953295833819.26326", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.390475", "end": "2022-01-11 12:34:34.248962", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/953295833819.26326", "start": "2022-01-11 12:34:33.858487", "started": 1, "stderr": "ERROR: Could not open requirements file: [Errno 2] No such file or directory: '/var/lib/pgsql/requirements.txt'", "stderr_lines": ["ERROR: Could not open requirements file: [Errno 2] No such file or directory: '/var/lib/pgsql/requirements.txt'"], "stdout": "", "stdout_lines": []}
2022-01-11 12:34:37,655 p=37235 u=moonja n=ansible | ...ignoring
2022-01-11 12:34:37,704 p=37235 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "850774651640.26327", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.380550", "end": "2022-01-11 12:34:33.461264", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/850774651640.26327", "start": "2022-01-11 12:34:33.080714", "started": 1, "stderr": "ERROR: Could not open requirements file: [Errno 2] No such file or directory: '/var/lib/pgsql/requirements.txt'", "stderr_lines": ["ERROR: Could not open requirements file: [Errno 2] No such file or directory: '/var/lib/pgsql/requirements.txt'"], "stdout": "", "stdout_lines": []}
2022-01-11 12:34:37,704 p=37235 u=moonja n=ansible | ...ignoring
2022-01-11 12:34:37,745 p=37235 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "581682258535.28561", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.382635", "end": "2022-01-11 12:34:33.939810", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/581682258535.28561", "start": "2022-01-11 12:34:33.557175", "started": 1, "stderr": "ERROR: Could not open requirements file: [Errno 2] No such file or directory: '/var/lib/pgsql/requirements.txt'", "stderr_lines": ["ERROR: Could not open requirements file: [Errno 2] No such file or directory: '/var/lib/pgsql/requirements.txt'"], "stdout": "", "stdout_lines": []}
2022-01-11 12:34:37,745 p=37235 u=moonja n=ansible | ...ignoring
2022-01-11 12:34:37,754 p=37235 u=moonja n=ansible | TASK [patroni-postgres : Install wheel pip module on all three nodes] *************************************************
2022-01-11 12:34:37,776 p=37235 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:34:37,793 p=37235 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:34:44,383 p=37235 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:34:44,430 p=37235 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:34:44,430 p=37235 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:34:44,442 p=37235 u=moonja n=ansible | TASK [patroni-postgres : Uninstall typing pip module on all three nodes] **********************************************
2022-01-11 12:34:44,464 p=37235 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:34:44,482 p=37235 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:34:51,600 p=37235 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:34:51,601 p=37235 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:34:51,876 p=37235 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:34:51,887 p=37235 u=moonja n=ansible | TASK [patroni-postgres : Uninstall setuptools rust on all three nodes] ************************************************
2022-01-11 12:34:51,910 p=37235 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:34:51,928 p=37235 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:34:59,693 p=37235 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:34:59,829 p=37235 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:34:59,928 p=37235 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:34:59,939 p=37235 u=moonja n=ansible | TASK [patroni-postgres : Uninstall patroni module on all three nodes] *************************************************
2022-01-11 12:34:59,978 p=37235 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:34:59,994 p=37235 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:35:07,262 p=37235 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:35:07,262 p=37235 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:35:07,533 p=37235 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:35:07,542 p=37235 u=moonja n=ansible | TASK [patroni-postgres : Uninstall wheel module on all three nodes] ***************************************************
2022-01-11 12:35:07,582 p=37235 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:35:07,598 p=37235 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:35:13,947 p=37235 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:35:13,948 p=37235 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:35:13,959 p=37235 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:35:13,971 p=37235 u=moonja n=ansible | TASK [patroni-postgres : Uninstall psycopg2-binary module on all three nodes] *****************************************
2022-01-11 12:35:13,997 p=37235 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:35:14,031 p=37235 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:35:21,042 p=37235 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:35:21,043 p=37235 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:35:21,043 p=37235 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:35:21,052 p=37235 u=moonja n=ansible | TASK [patroni-postgres : Delete the dependencies file of etcd  on all three nodes] ************************************
2022-01-11 12:35:21,075 p=37235 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:35:21,093 p=37235 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:35:21,702 p=37235 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 12:35:21,703 p=37235 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 12:35:21,703 p=37235 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 12:35:21,718 p=37235 u=moonja n=ansible | TASK [patroni-postgres : Uninstall VMware Postgres RPM package on all hosts as root] **********************************
2022-01-11 12:35:28,911 p=37235 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 12:35:29,019 p=37235 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 12:35:29,019 p=37235 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-11 12:35:29,778 p=37235 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-11 12:35:30,676 p=37235 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 12:35:30,688 p=37235 u=moonja n=ansible | TASK [patroni-postgres : Delete the vmwawre-postgres rpm file to all hosts in cluster] ********************************
2022-01-11 12:35:31,154 p=37235 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-11 12:35:31,174 p=37235 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 12:35:31,177 p=37235 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-11 12:35:31,186 p=37235 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 12:35:31,186 p=37235 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 12:35:31,198 p=37235 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-11 12:35:31,760 p=37235 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:35:31,761 p=37235 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:35:31,789 p=37235 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:35:31,794 p=37235 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:35:31,795 p=37235 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:35:31,810 p=37235 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-11 12:35:32,476 p=37235 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:35:32,486 p=37235 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:35:32,501 p=37235 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:35:32,501 p=37235 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:35:32,528 p=37235 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:35:32,542 p=37235 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-11 12:35:33,881 p=37235 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-11 12:35:33,887 p=37235 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-11 12:35:33,887 p=37235 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 12:35:33,894 p=37235 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 12:35:33,896 p=37235 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 12:35:33,955 p=37235 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-11 12:35:33,955 p=37235 u=moonja n=ansible | postgres-ha01              : ok=19   changed=10   unreachable=0    failed=0    skipped=0    rescued=0    ignored=3   
2022-01-11 12:35:33,956 p=37235 u=moonja n=ansible | postgres-ha02              : ok=19   changed=10   unreachable=0    failed=0    skipped=0    rescued=0    ignored=3   
2022-01-11 12:35:33,956 p=37235 u=moonja n=ansible | postgres-ha03              : ok=19   changed=10   unreachable=0    failed=0    skipped=0    rescued=0    ignored=3   
2022-01-11 12:35:33,956 p=37235 u=moonja n=ansible | postgres-haproxy01         : ok=8    changed=2    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-11 12:35:33,956 p=37235 u=moonja n=ansible | postgres-haproxy02         : ok=8    changed=2    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-11 12:36:15,290 p=39516 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-11 12:36:15,300 p=39516 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-11 12:36:15,507 p=39516 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-11 12:36:15,559 p=39516 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-11 12:36:15,587 p=39516 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-11 12:36:17,371 p=39516 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 12:36:17,380 p=39516 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-11 12:36:17,384 p=39516 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-11 12:36:17,397 p=39516 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 12:36:17,398 p=39516 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 12:36:17,416 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-11 12:36:18,553 p=39516 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 12:36:18,555 p=39516 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 12:36:18,556 p=39516 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-11 12:36:18,561 p=39516 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-11 12:36:18,563 p=39516 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 12:36:18,575 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-11 12:36:19,554 p=39516 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:36:19,554 p=39516 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:36:19,556 p=39516 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:36:19,559 p=39516 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:36:19,559 p=39516 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:36:19,572 p=39516 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-11 12:36:20,243 p=39516 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:36:20,257 p=39516 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:36:20,257 p=39516 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:36:20,272 p=39516 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:36:20,287 p=39516 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:36:20,299 p=39516 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:36:20,337 p=39516 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-11 12:36:20,355 p=39516 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-11 12:36:20,371 p=39516 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-11 12:36:20,373 p=39516 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-11 12:36:20,383 p=39516 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-11 12:36:20,396 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] **********************************
2022-01-11 12:36:22,513 p=39516 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:36:22,516 p=39516 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:36:22,522 p=39516 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:36:22,524 p=39516 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:36:22,525 p=39516 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:36:22,537 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] ************************************************
2022-01-11 12:36:53,027 p=39516 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:36:56,660 p=39516 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:36:57,528 p=39516 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:36:58,775 p=39516 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:36:58,792 p=39516 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:36:58,802 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] *******************************
2022-01-11 12:37:05,670 p=39516 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3)
2022-01-11 12:37:05,829 p=39516 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3)
2022-01-11 12:37:08,025 p=39516 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3)
2022-01-11 12:37:08,896 p=39516 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3)
2022-01-11 12:37:09,096 p=39516 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3)
2022-01-11 12:37:12,370 p=39516 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-devel)
2022-01-11 12:37:12,380 p=39516 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-devel)
2022-01-11 12:37:15,028 p=39516 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-devel)
2022-01-11 12:37:15,474 p=39516 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-devel)
2022-01-11 12:37:15,530 p=39516 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-devel)
2022-01-11 12:37:19,437 p=39516 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=gcc)
2022-01-11 12:37:19,484 p=39516 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=gcc)
2022-01-11 12:37:21,642 p=39516 u=moonja n=ansible | ok: [postgres-ha02] => (item=gcc)
2022-01-11 12:37:22,049 p=39516 u=moonja n=ansible | ok: [postgres-ha03] => (item=gcc)
2022-01-11 12:37:22,058 p=39516 u=moonja n=ansible | ok: [postgres-ha01] => (item=gcc)
2022-01-11 12:37:25,791 p=39516 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=etcd)
2022-01-11 12:37:25,792 p=39516 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=etcd)
2022-01-11 12:37:28,091 p=39516 u=moonja n=ansible | ok: [postgres-ha02] => (item=etcd)
2022-01-11 12:37:28,209 p=39516 u=moonja n=ansible | ok: [postgres-ha03] => (item=etcd)
2022-01-11 12:37:28,259 p=39516 u=moonja n=ansible | ok: [postgres-ha01] => (item=etcd)
2022-01-11 12:37:35,294 p=39516 u=moonja n=ansible | ok: [postgres-ha01] => (item=python-psycopg2)
2022-01-11 12:37:38,060 p=39516 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=python-psycopg2)
2022-01-11 12:37:39,633 p=39516 u=moonja n=ansible | changed: [postgres-ha02] => (item=python-psycopg2)
2022-01-11 12:37:39,743 p=39516 u=moonja n=ansible | changed: [postgres-ha03] => (item=python-psycopg2)
2022-01-11 12:37:41,933 p=39516 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-pip)
2022-01-11 12:37:43,977 p=39516 u=moonja n=ansible | changed: [postgres-haproxy02] => (item=python-psycopg2)
2022-01-11 12:37:44,429 p=39516 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-pip)
2022-01-11 12:37:46,024 p=39516 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-pip)
2022-01-11 12:37:46,803 p=39516 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-pip)
2022-01-11 12:37:48,643 p=39516 u=moonja n=ansible | ok: [postgres-ha01] => (item=python34-setuptools)
2022-01-11 12:37:50,241 p=39516 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-pip)
2022-01-11 12:37:50,806 p=39516 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python34-setuptools)
2022-01-11 12:37:52,652 p=39516 u=moonja n=ansible | ok: [postgres-ha03] => (item=python34-setuptools)
2022-01-11 12:37:53,179 p=39516 u=moonja n=ansible | ok: [postgres-ha02] => (item=python34-setuptools)
2022-01-11 12:37:55,860 p=39516 u=moonja n=ansible | ok: [postgres-ha01] => (item=python27-python-setuptools)
2022-01-11 12:37:56,594 p=39516 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python34-setuptools)
2022-01-11 12:37:58,278 p=39516 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python27-python-setuptools)
2022-01-11 12:37:58,934 p=39516 u=moonja n=ansible | ok: [postgres-ha03] => (item=python27-python-setuptools)
2022-01-11 12:37:59,397 p=39516 u=moonja n=ansible | ok: [postgres-ha02] => (item=python27-python-setuptools)
2022-01-11 12:38:02,416 p=39516 u=moonja n=ansible | ok: [postgres-ha01] => (item=yamllint)
2022-01-11 12:38:02,858 p=39516 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python27-python-setuptools)
2022-01-11 12:38:04,783 p=39516 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=yamllint)
2022-01-11 12:38:05,125 p=39516 u=moonja n=ansible | ok: [postgres-ha03] => (item=yamllint)
2022-01-11 12:38:05,649 p=39516 u=moonja n=ansible | ok: [postgres-ha02] => (item=yamllint)
2022-01-11 12:38:08,843 p=39516 u=moonja n=ansible | ok: [postgres-ha01] => (item=daemonize)
2022-01-11 12:38:09,308 p=39516 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=yamllint)
2022-01-11 12:38:11,332 p=39516 u=moonja n=ansible | ok: [postgres-ha03] => (item=daemonize)
2022-01-11 12:38:12,130 p=39516 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=daemonize)
2022-01-11 12:38:12,154 p=39516 u=moonja n=ansible | ok: [postgres-ha02] => (item=daemonize)
2022-01-11 12:38:16,836 p=39516 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=daemonize)
2022-01-11 12:38:16,852 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Install the dependencies of etcd  on all three nodes] ****************************************
2022-01-11 12:38:16,877 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:38:16,896 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:38:17,717 p=39516 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:38:17,718 p=39516 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:38:17,718 p=39516 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:38:17,728 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Install setuptools rust on all three nodes] **************************************************
2022-01-11 12:38:17,750 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:38:17,781 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:38:29,370 p=39516 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:38:29,629 p=39516 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:38:29,886 p=39516 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:38:29,896 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Install typing pip module on all three nodes] ************************************************
2022-01-11 12:38:29,919 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:38:29,953 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:38:36,321 p=39516 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:38:36,361 p=39516 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:38:36,372 p=39516 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:38:36,384 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Upgrade pip3 version] ************************************************************************
2022-01-11 12:38:36,407 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:38:36,425 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:38:42,775 p=39516 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:38:42,789 p=39516 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:38:43,561 p=39516 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:38:43,572 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Install wheel module on all three nodes] *****************************************************
2022-01-11 12:38:43,613 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:38:43,629 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:38:51,900 p=39516 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:38:51,911 p=39516 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:38:51,912 p=39516 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:38:51,924 p=39516 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:38:51,948 p=39516 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:38:51,982 p=39516 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:38:52,002 p=39516 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "760752978308.6745",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.607236",
        "end": "2022-01-11 12:38:47.291002",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/760752978308.6745",
        "start": "2022-01-11 12:38:45.683766",
        "started": 1,
        "stderr": "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-11 12:38:52,003 p=39516 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "542183109996.3736",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.872831",
        "end": "2022-01-11 12:38:47.102115",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/542183109996.3736",
        "start": "2022-01-11 12:38:45.229284",
        "started": 1,
        "stderr": "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-11 12:38:52,016 p=39516 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "532666028306.3715",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.703247",
        "end": "2022-01-11 12:38:47.693613",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/532666028306.3715",
        "start": "2022-01-11 12:38:45.990366",
        "started": 1,
        "stderr": "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-11 12:38:52,027 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Install pip modules of Patroni prerequisites on all three nodes] *****************************
2022-01-11 12:38:52,048 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:38:52,065 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:38:59,285 p=39516 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:38:59,298 p=39516 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:38:59,587 p=39516 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:38:59,600 p=39516 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:38:59,642 p=39516 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:38:59,661 p=39516 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:38:59,706 p=39516 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "891960826337.7123",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.739594",
        "end": "2022-01-11 12:38:52.912151",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/891960826337.7123",
        "start": "2022-01-11 12:38:52.172557",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-11 12:38:59,710 p=39516 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "476021673067.4080",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.737513",
        "end": "2022-01-11 12:38:52.454196",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/476021673067.4080",
        "start": "2022-01-11 12:38:51.716683",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-11 12:38:59,713 p=39516 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "753578788143.4059",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.721670",
        "end": "2022-01-11 12:38:53.196380",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/753578788143.4059",
        "start": "2022-01-11 12:38:52.474710",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-11 12:38:59,722 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Iinstall wheel module on all three nodes] ****************************************************
2022-01-11 12:38:59,760 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:38:59,775 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:39:06,024 p=39516 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:39:06,076 p=39516 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:39:06,090 p=39516 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:39:06,101 p=39516 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:39:06,143 p=39516 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:39:06,162 p=39516 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:39:06,207 p=39516 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "729860449588.7501",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.504732",
        "end": "2022-01-11 12:39:01.353420",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/729860449588.7501",
        "start": "2022-01-11 12:38:59.848688",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-11 12:39:06,210 p=39516 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "279988170569.4424",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.484592",
        "end": "2022-01-11 12:39:00.885515",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/279988170569.4424",
        "start": "2022-01-11 12:38:59.400923",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-11 12:39:06,211 p=39516 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "486520319933.4403",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.436074",
        "end": "2022-01-11 12:39:01.580009",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/486520319933.4403",
        "start": "2022-01-11 12:39:00.143935",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-11 12:39:06,223 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Install psycopg2-binary module on all three nodes] *******************************************
2022-01-11 12:39:06,261 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:39:06,277 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:39:12,625 p=39516 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:39:12,638 p=39516 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:39:12,638 p=39516 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:39:12,651 p=39516 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:39:12,692 p=39516 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:39:12,712 p=39516 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:39:12,759 p=39516 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "906885159266.7879",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:02.730754",
        "end": "2022-01-11 12:39:09.114505",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/906885159266.7879",
        "start": "2022-01-11 12:39:06.383751",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.3",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.3"
        ]
    }
}
2022-01-11 12:39:12,761 p=39516 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "708439643931.4768",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:02.752591",
        "end": "2022-01-11 12:39:08.680490",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/708439643931.4768",
        "start": "2022-01-11 12:39:05.927899",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.3",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.3"
        ]
    }
}
2022-01-11 12:39:12,762 p=39516 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "313966112428.4747",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:02.515658",
        "end": "2022-01-11 12:39:09.202056",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/313966112428.4747",
        "start": "2022-01-11 12:39:06.686398",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.3",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.3"
        ]
    }
}
2022-01-11 12:39:12,772 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Install patroni modules on all three nodes for vmware-postgres 13.x version] *****************
2022-01-11 12:39:12,812 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:39:12,827 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:39:19,066 p=39516 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:39:19,638 p=39516 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:39:19,646 p=39516 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:39:19,655 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-11 12:39:19,692 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:39:19,706 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:39:20,377 p=39516 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 12:39:20,405 p=39516 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 12:39:20,405 p=39516 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 12:39:20,417 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Create the etcd.yml configuration file for all nodes] ****************************************
2022-01-11 12:39:20,454 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:39:20,470 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:39:21,318 p=39516 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:39:21,354 p=39516 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:39:21,354 p=39516 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:39:21,367 p=39516 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:39:21,411 p=39516 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:39:21,433 p=39516 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:39:21,461 p=39516 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "9ae4719bb01c1f3fe9f70a6e2c0044c7c41a95fe",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "c58c15d1af07ce06cb21d7da9f41a53d",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641872360.533719-44284-128824672703899/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-11 12:39:21,462 p=39516 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "15047e7ccbff3a953a4abe4edc1ee87eccf0c835",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "90cfbd68000432263a3d9f571742a601",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641872360.5372858-44285-68041098312086/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-11 12:39:21,469 p=39516 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "a89b395b153fde540c5b5250ee19c5a9b4a69b60",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "50ed3a33db1def8c3d70f9d8154ad6fa",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641872360.582463-44292-128267295941163/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-11 12:39:21,483 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of etcd into /etc/systemd/system] *********************************
2022-01-11 12:39:21,507 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:39:21,541 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:39:22,496 p=39516 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 12:39:22,496 p=39516 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 12:39:22,503 p=39516 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 12:39:22,514 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Reload and start etcd through systemd] *******************************************************
2022-01-11 12:39:22,537 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:39:22,559 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:39:26,578 p=39516 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:39:26,579 p=39516 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:39:26,587 p=39516 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:39:26,597 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Lists the members and identifies the current Leader.] ****************************************
2022-01-11 12:39:26,620 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:39:26,639 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:39:27,187 p=39516 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:39:27,189 p=39516 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:39:28,067 p=39516 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:39:28,083 p=39516 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:39:28,124 p=39516 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:39:28,143 p=39516 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:39:28,162 p=39516 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.022889",
        "end": "2022-01-11 12:39:26.645745",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-11 12:39:26.622856",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-11 12:39:28,163 p=39516 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.865647",
        "end": "2022-01-11 12:39:27.038842",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-11 12:39:26.173195",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-11 12:39:28,175 p=39516 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.025728",
        "end": "2022-01-11 12:39:26.955233",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-11 12:39:26.929505",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-11 12:39:28,186 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Set data directory for patroni cluster] ******************************************************
2022-01-11 12:39:28,700 p=39516 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:39:28,701 p=39516 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:39:28,708 p=39516 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:39:28,953 p=39516 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:39:28,955 p=39516 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:39:28,967 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Create the patroni.yml configuration file for all nodes] *************************************
2022-01-11 12:39:29,005 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:39:29,020 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:39:29,992 p=39516 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:39:30,004 p=39516 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:39:30,011 p=39516 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:39:30,024 p=39516 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:39:30,052 p=39516 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:39:30,088 p=39516 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:39:30,116 p=39516 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "b3e67f5e5cb8c318042e75145ea48ce0d74d40b8",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "c7226da3fad57699336e39147f64261b",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1475,
        "src": "/var/tmp/ansible-tmp-1641872369.129914-44620-17142153569046/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-11 12:39:30,118 p=39516 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "5ffb2b2a183500f3dadba128a5855ee6c6a3a1fe",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "e44f08750d5b49de9fb5c7e0f69897bb",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1475,
        "src": "/var/tmp/ansible-tmp-1641872369.131407-44621-254684562753736/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-11 12:39:30,130 p=39516 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "ff36c12a6ce2373aa95a17a6a3313cbc0a2319a6",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "d0e07f683ba6247c65377c7a29b790e9",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1475,
        "src": "/var/tmp/ansible-tmp-1641872369.135215-44625-244704988455385/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-11 12:39:30,142 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of patroni into /etc/systemd/system] ******************************
2022-01-11 12:39:30,181 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:39:30,205 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:39:31,042 p=39516 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:39:31,043 p=39516 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:39:31,048 p=39516 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:39:31,060 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Reload and start systemd service of patroni] *************************************************
2022-01-11 12:39:31,099 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:39:31,114 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:39:31,820 p=39516 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:39:31,820 p=39516 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:39:31,822 p=39516 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:39:31,834 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-11 12:39:31,854 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:39:31,863 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Remove clsuter on master] ********************************************************************
2022-01-11 12:39:31,885 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:39:31,902 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:39:31,934 p=39516 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-11 12:39:31,946 p=39516 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-11 12:39:38,580 p=39516 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:39:38,590 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-11 12:39:38,611 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:39:38,622 p=39516 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:39:38,661 p=39516 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:39:38,679 p=39516 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:39:38,714 p=39516 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "405163574707.10311",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n",
        "delta": "0:00:00.341335",
        "end": "2022-01-11 12:39:32.327775",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/405163574707.10311",
        "start": "2022-01-11 12:39:31.986440",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7051783400558860591) --+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": ",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7051783400558860591) --+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": "
        ]
    }
}
2022-01-11 12:39:38,716 p=39516 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:39:38,716 p=39516 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:39:38,727 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Reinitialize patroni clsuter on all node] ****************************************************
2022-01-11 12:39:38,748 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:39:38,767 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:39:45,211 p=39516 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "250086080926.6986", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n", "delta": "0:00:00.302626", "end": "2022-01-11 12:39:38.727431", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/250086080926.6986", "start": "2022-01-11 12:39:38.424805", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-11 12:39:45,211 p=39516 u=moonja n=ansible | ...ignoring
2022-01-11 12:39:45,214 p=39516 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "333302172697.6963", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n", "delta": "0:00:00.313587", "end": "2022-01-11 12:39:39.496779", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/333302172697.6963", "start": "2022-01-11 12:39:39.183192", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-11 12:39:45,214 p=39516 u=moonja n=ansible | ...ignoring
2022-01-11 12:39:45,513 p=39516 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "218566760995.10687", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n", "delta": "0:00:00.305143", "end": "2022-01-11 12:39:39.184195", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/218566760995.10687", "start": "2022-01-11 12:39:38.879052", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-11 12:39:45,514 p=39516 u=moonja n=ansible | ...ignoring
2022-01-11 12:39:45,523 p=39516 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:39:45,565 p=39516 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:39:45,583 p=39516 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:39:45,614 p=39516 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "218566760995.10687",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.305143",
        "end": "2022-01-11 12:39:39.184195",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/218566760995.10687",
        "start": "2022-01-11 12:39:38.879052",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-11 12:39:45,616 p=39516 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "250086080926.6986",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.302626",
        "end": "2022-01-11 12:39:38.727431",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/250086080926.6986",
        "start": "2022-01-11 12:39:38.424805",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-11 12:39:45,617 p=39516 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "333302172697.6963",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.313587",
        "end": "2022-01-11 12:39:39.496779",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/333302172697.6963",
        "start": "2022-01-11 12:39:39.183192",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-11 12:39:45,627 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-11 12:39:45,645 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:39:45,654 p=39516 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:39:45,693 p=39516 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:39:45,710 p=39516 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:39:45,728 p=39516 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "218566760995.10687",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.305143",
        "end": "2022-01-11 12:39:39.184195",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/218566760995.10687",
        "start": "2022-01-11 12:39:38.879052",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-11 12:39:45,764 p=39516 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "250086080926.6986",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.302626",
        "end": "2022-01-11 12:39:38.727431",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/250086080926.6986",
        "start": "2022-01-11 12:39:38.424805",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-11 12:39:45,765 p=39516 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "333302172697.6963",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.313587",
        "end": "2022-01-11 12:39:39.496779",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/333302172697.6963",
        "start": "2022-01-11 12:39:39.183192",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-11 12:39:45,778 p=39516 u=moonja n=ansible | TASK [patroni-postgres : Run the patronictl command-line utility to view the cluster state with Patroni started on all three nodes,] ***
2022-01-11 12:39:45,799 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:39:45,818 p=39516 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:39:46,595 p=39516 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:39:46,597 p=39516 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:39:46,603 p=39516 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:39:46,615 p=39516 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:39:46,654 p=39516 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:39:46,672 p=39516 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:39:46,715 p=39516 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.312407",
        "end": "2022-01-11 12:39:46.068621",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-11 12:39:45.756214",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-11 12:39:46,718 p=39516 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.305306",
        "end": "2022-01-11 12:39:45.611047",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-11 12:39:45.305741",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-11 12:39:46,719 p=39516 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.307231",
        "end": "2022-01-11 12:39:46.366046",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-11 12:39:46.058815",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-11 12:39:46,778 p=39516 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-11 12:39:46,778 p=39516 u=moonja n=ansible | postgres-ha01              : ok=40   changed=23   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-11 12:39:46,778 p=39516 u=moonja n=ansible | postgres-ha02              : ok=39   changed=23   unreachable=0    failed=0    skipped=1    rescued=0    ignored=1   
2022-01-11 12:39:46,778 p=39516 u=moonja n=ansible | postgres-ha03              : ok=39   changed=23   unreachable=0    failed=0    skipped=1    rescued=0    ignored=1   
2022-01-11 12:39:46,778 p=39516 u=moonja n=ansible | postgres-haproxy01         : ok=20   changed=6    unreachable=0    failed=0    skipped=23   rescued=0    ignored=0   
2022-01-11 12:39:46,778 p=39516 u=moonja n=ansible | postgres-haproxy02         : ok=20   changed=6    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
2022-01-11 12:53:12,805 p=46222 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-11 12:53:12,817 p=46222 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-11 12:53:13,067 p=46222 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-11 12:53:13,121 p=46222 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-11 12:53:13,152 p=46222 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-11 12:53:15,486 p=46222 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 12:53:15,499 p=46222 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 12:53:15,501 p=46222 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-11 12:53:15,504 p=46222 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 12:53:16,583 p=46222 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-11 12:53:16,603 p=46222 u=moonja n=ansible | TASK [patroni-postgres : Stop services for patroni and etcd] **********************************************************
2022-01-11 12:53:16,628 p=46222 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=patroni) 
2022-01-11 12:53:16,629 p=46222 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=etcd) 
2022-01-11 12:53:16,645 p=46222 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=patroni) 
2022-01-11 12:53:16,647 p=46222 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=etcd) 
2022-01-11 12:53:18,305 p=46222 u=moonja n=ansible | changed: [postgres-ha03] => (item=patroni)
2022-01-11 12:53:18,483 p=46222 u=moonja n=ansible | changed: [postgres-ha02] => (item=patroni)
2022-01-11 12:53:18,923 p=46222 u=moonja n=ansible | changed: [postgres-ha03] => (item=etcd)
2022-01-11 12:53:18,974 p=46222 u=moonja n=ansible | changed: [postgres-ha01] => (item=patroni)
2022-01-11 12:53:19,090 p=46222 u=moonja n=ansible | changed: [postgres-ha02] => (item=etcd)
2022-01-11 12:53:19,570 p=46222 u=moonja n=ansible | changed: [postgres-ha01] => (item=etcd)
2022-01-11 12:53:19,585 p=46222 u=moonja n=ansible | TASK [patroni-postgres : Kill etcd process] ***************************************************************************
2022-01-11 12:53:19,606 p=46222 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:53:19,623 p=46222 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:53:26,699 p=46222 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:53:26,700 p=46222 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:53:26,891 p=46222 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:53:26,902 p=46222 u=moonja n=ansible | TASK [patroni-postgres : Delete configuration file for patroni and systemd] *******************************************
2022-01-11 12:53:27,794 p=46222 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-11 12:53:27,801 p=46222 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-11 12:53:27,804 p=46222 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-11 12:53:27,810 p=46222 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/patroni.yml)
2022-01-11 12:53:27,815 p=46222 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-11 12:53:28,236 p=46222 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/etc/systemd/system/patroni.service)
2022-01-11 12:53:28,237 p=46222 u=moonja n=ansible | changed: [postgres-ha01] => (item=/etc/systemd/system/patroni.service)
2022-01-11 12:53:28,237 p=46222 u=moonja n=ansible | changed: [postgres-ha03] => (item=/etc/systemd/system/patroni.service)
2022-01-11 12:53:28,246 p=46222 u=moonja n=ansible | changed: [postgres-ha02] => (item=/etc/systemd/system/patroni.service)
2022-01-11 12:53:28,248 p=46222 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/etc/systemd/system/patroni.service)
2022-01-11 12:53:28,705 p=46222 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-11 12:53:28,709 p=46222 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-11 12:53:28,716 p=46222 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-11 12:53:28,720 p=46222 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-11 12:53:28,724 p=46222 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-11 12:53:29,243 p=46222 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-11 12:53:29,244 p=46222 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-11 12:53:29,245 p=46222 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-11 12:53:29,254 p=46222 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-11 12:53:29,259 p=46222 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-11 12:53:29,667 p=46222 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-11 12:53:29,668 p=46222 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-11 12:53:29,672 p=46222 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/etcd.yml)
2022-01-11 12:53:29,673 p=46222 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-11 12:53:29,681 p=46222 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-11 12:53:30,091 p=46222 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-11 12:53:30,095 p=46222 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-11 12:53:30,101 p=46222 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-11 12:53:30,128 p=46222 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-11 12:53:30,132 p=46222 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-11 12:53:30,145 p=46222 u=moonja n=ansible | TASK [patroni-postgres : Delete data directory for patroni cluster] ***************************************************
2022-01-11 12:53:30,807 p=46222 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:53:30,820 p=46222 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:53:30,864 p=46222 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:53:30,890 p=46222 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:53:30,891 p=46222 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:53:30,905 p=46222 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-11 12:53:30,927 p=46222 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:53:30,944 p=46222 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:53:31,923 p=46222 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 12:53:31,927 p=46222 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 12:53:31,928 p=46222 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 12:53:31,942 p=46222 u=moonja n=ansible | TASK [patroni-postgres : Uninstall pip modules of Patroni prerequisites on all three nodes] ***************************
2022-01-11 12:53:31,964 p=46222 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:53:31,983 p=46222 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:53:38,686 p=46222 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "203590122386.9691", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.418221", "end": "2022-01-11 12:53:33.124581", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/203590122386.9691", "start": "2022-01-11 12:53:32.706360", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-11 12:53:38,686 p=46222 u=moonja n=ansible | ...ignoring
2022-01-11 12:53:39,811 p=46222 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "220409153586.13574", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.434162", "end": "2022-01-11 12:53:32.842128", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/220409153586.13574", "start": "2022-01-11 12:53:32.407966", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-11 12:53:39,811 p=46222 u=moonja n=ansible | ...ignoring
2022-01-11 12:53:39,844 p=46222 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "983166186617.9689", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.436981", "end": "2022-01-11 12:53:32.403767", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/983166186617.9689", "start": "2022-01-11 12:53:31.966786", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-11 12:53:39,844 p=46222 u=moonja n=ansible | ...ignoring
2022-01-11 12:53:39,855 p=46222 u=moonja n=ansible | TASK [patroni-postgres : Install wheel pip module on all three nodes] *************************************************
2022-01-11 12:53:39,878 p=46222 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:53:39,911 p=46222 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:53:46,491 p=46222 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:53:46,735 p=46222 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:53:46,747 p=46222 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:53:46,756 p=46222 u=moonja n=ansible | TASK [patroni-postgres : Uninstall typing pip module on all three nodes] **********************************************
2022-01-11 12:53:46,797 p=46222 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:53:46,815 p=46222 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:53:53,017 p=46222 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:53:53,055 p=46222 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:53:53,462 p=46222 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:53:53,472 p=46222 u=moonja n=ansible | TASK [patroni-postgres : Uninstall setuptools rust on all three nodes] ************************************************
2022-01-11 12:53:53,497 p=46222 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:53:53,516 p=46222 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:53:59,866 p=46222 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:53:59,887 p=46222 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:53:59,887 p=46222 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:53:59,898 p=46222 u=moonja n=ansible | TASK [patroni-postgres : Uninstall patroni module on all three nodes] *************************************************
2022-01-11 12:53:59,922 p=46222 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:53:59,940 p=46222 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:54:06,404 p=46222 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:54:07,232 p=46222 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:54:07,403 p=46222 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:54:07,413 p=46222 u=moonja n=ansible | TASK [patroni-postgres : Uninstall wheel module on all three nodes] ***************************************************
2022-01-11 12:54:07,455 p=46222 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:54:07,472 p=46222 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:54:13,906 p=46222 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:54:13,919 p=46222 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:54:13,919 p=46222 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:54:13,931 p=46222 u=moonja n=ansible | TASK [patroni-postgres : Uninstall psycopg2-binary module on all three nodes] *****************************************
2022-01-11 12:54:13,956 p=46222 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:54:13,975 p=46222 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:54:20,296 p=46222 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:54:21,449 p=46222 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:54:21,454 p=46222 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:54:21,465 p=46222 u=moonja n=ansible | TASK [patroni-postgres : Delete the dependencies file of etcd  on all three nodes] ************************************
2022-01-11 12:54:21,490 p=46222 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:54:21,511 p=46222 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:54:21,934 p=46222 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:54:21,945 p=46222 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:54:21,954 p=46222 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:54:21,967 p=46222 u=moonja n=ansible | TASK [patroni-postgres : Uninstall VMware Postgres RPM package on all hosts as root] **********************************
2022-01-11 12:54:45,143 p=46222 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:54:49,512 p=46222 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:54:50,321 p=46222 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:54:50,349 p=46222 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:54:50,349 p=46222 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:54:50,362 p=46222 u=moonja n=ansible | TASK [patroni-postgres : Delete the vmwawre-postgres rpm file to all hosts in cluster] ********************************
2022-01-11 12:54:50,887 p=46222 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:54:50,889 p=46222 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:54:50,895 p=46222 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:54:50,902 p=46222 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:54:50,911 p=46222 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:54:50,923 p=46222 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-11 12:54:51,544 p=46222 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:54:51,550 p=46222 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:54:51,551 p=46222 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:54:51,557 p=46222 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:54:51,560 p=46222 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:54:51,571 p=46222 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-11 12:54:52,235 p=46222 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:54:52,236 p=46222 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:54:52,236 p=46222 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:54:52,243 p=46222 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:54:52,274 p=46222 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:54:52,287 p=46222 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-11 12:54:53,515 p=46222 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 12:54:53,517 p=46222 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-11 12:54:53,522 p=46222 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 12:54:53,536 p=46222 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 12:54:53,538 p=46222 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-11 12:54:53,596 p=46222 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-11 12:54:53,596 p=46222 u=moonja n=ansible | postgres-ha01              : ok=19   changed=16   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-11 12:54:53,596 p=46222 u=moonja n=ansible | postgres-ha02              : ok=19   changed=16   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-11 12:54:53,596 p=46222 u=moonja n=ansible | postgres-ha03              : ok=19   changed=16   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-11 12:54:53,596 p=46222 u=moonja n=ansible | postgres-haproxy01         : ok=8    changed=5    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-11 12:54:53,596 p=46222 u=moonja n=ansible | postgres-haproxy02         : ok=8    changed=5    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-11 12:56:27,574 p=48678 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-11 12:56:27,584 p=48678 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-11 12:56:27,808 p=48678 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-11 12:56:27,862 p=48678 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-11 12:56:27,890 p=48678 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-11 12:56:30,261 p=48678 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-11 12:56:30,273 p=48678 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 12:56:30,276 p=48678 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 12:56:30,279 p=48678 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 12:56:30,959 p=48678 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-11 12:56:30,979 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-11 12:56:31,922 p=48678 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-11 12:56:31,923 p=48678 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 12:56:31,925 p=48678 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-11 12:56:31,925 p=48678 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 12:56:31,927 p=48678 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 12:56:31,941 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-11 12:56:32,899 p=48678 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:56:32,913 p=48678 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:56:32,927 p=48678 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:56:32,929 p=48678 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:56:32,930 p=48678 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:56:32,942 p=48678 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-11 12:56:33,597 p=48678 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:56:33,603 p=48678 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:56:33,617 p=48678 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:56:33,618 p=48678 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:56:33,627 p=48678 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:56:33,639 p=48678 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:56:33,677 p=48678 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-11 12:56:33,695 p=48678 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-11 12:56:33,712 p=48678 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-11 12:56:33,714 p=48678 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-11 12:56:33,724 p=48678 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-11 12:56:33,737 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] **********************************
2022-01-11 12:56:35,780 p=48678 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:56:35,800 p=48678 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:56:35,811 p=48678 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:56:35,817 p=48678 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:56:35,819 p=48678 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:56:35,832 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] ************************************************
2022-01-11 12:57:04,741 p=48678 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:57:04,844 p=48678 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:57:04,844 p=48678 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:57:04,844 p=48678 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:57:04,844 p=48678 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:57:04,856 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] *******************************
2022-01-11 12:57:12,314 p=48678 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3)
2022-01-11 12:57:12,778 p=48678 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3)
2022-01-11 12:57:13,679 p=48678 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3)
2022-01-11 12:57:13,679 p=48678 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3)
2022-01-11 12:57:14,052 p=48678 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3)
2022-01-11 12:57:18,906 p=48678 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-devel)
2022-01-11 12:57:19,012 p=48678 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-devel)
2022-01-11 12:57:20,260 p=48678 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-devel)
2022-01-11 12:57:20,394 p=48678 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-devel)
2022-01-11 12:57:20,421 p=48678 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-devel)
2022-01-11 12:57:25,276 p=48678 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=gcc)
2022-01-11 12:57:25,679 p=48678 u=moonja n=ansible | ok: [postgres-ha03] => (item=gcc)
2022-01-11 12:57:26,638 p=48678 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=gcc)
2022-01-11 12:57:26,695 p=48678 u=moonja n=ansible | ok: [postgres-ha01] => (item=gcc)
2022-01-11 12:57:26,923 p=48678 u=moonja n=ansible | ok: [postgres-ha02] => (item=gcc)
2022-01-11 12:57:31,649 p=48678 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=etcd)
2022-01-11 12:57:31,958 p=48678 u=moonja n=ansible | ok: [postgres-ha03] => (item=etcd)
2022-01-11 12:57:32,874 p=48678 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=etcd)
2022-01-11 12:57:33,018 p=48678 u=moonja n=ansible | ok: [postgres-ha01] => (item=etcd)
2022-01-11 12:57:33,144 p=48678 u=moonja n=ansible | ok: [postgres-ha02] => (item=etcd)
2022-01-11 12:57:39,272 p=48678 u=moonja n=ansible | ok: [postgres-ha01] => (item=python-psycopg2)
2022-01-11 12:57:43,545 p=48678 u=moonja n=ansible | changed: [postgres-haproxy02] => (item=python-psycopg2)
2022-01-11 12:57:44,095 p=48678 u=moonja n=ansible | changed: [postgres-ha03] => (item=python-psycopg2)
2022-01-11 12:57:44,512 p=48678 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=python-psycopg2)
2022-01-11 12:57:44,614 p=48678 u=moonja n=ansible | changed: [postgres-ha02] => (item=python-psycopg2)
2022-01-11 12:57:45,622 p=48678 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-pip)
2022-01-11 12:57:50,031 p=48678 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-pip)
2022-01-11 12:57:50,307 p=48678 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-pip)
2022-01-11 12:57:50,661 p=48678 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-pip)
2022-01-11 12:57:50,818 p=48678 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-pip)
2022-01-11 12:57:52,160 p=48678 u=moonja n=ansible | ok: [postgres-ha01] => (item=python34-setuptools)
2022-01-11 12:57:56,333 p=48678 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python34-setuptools)
2022-01-11 12:57:56,545 p=48678 u=moonja n=ansible | ok: [postgres-ha03] => (item=python34-setuptools)
2022-01-11 12:57:56,806 p=48678 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python34-setuptools)
2022-01-11 12:57:56,946 p=48678 u=moonja n=ansible | ok: [postgres-ha02] => (item=python34-setuptools)
2022-01-11 12:57:58,797 p=48678 u=moonja n=ansible | ok: [postgres-ha01] => (item=python27-python-setuptools)
2022-01-11 12:58:03,308 p=48678 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python27-python-setuptools)
2022-01-11 12:58:03,384 p=48678 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python27-python-setuptools)
2022-01-11 12:58:03,488 p=48678 u=moonja n=ansible | ok: [postgres-ha02] => (item=python27-python-setuptools)
2022-01-11 12:58:03,710 p=48678 u=moonja n=ansible | ok: [postgres-ha03] => (item=python27-python-setuptools)
2022-01-11 12:58:06,127 p=48678 u=moonja n=ansible | ok: [postgres-ha01] => (item=yamllint)
2022-01-11 12:58:09,555 p=48678 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=yamllint)
2022-01-11 12:58:09,711 p=48678 u=moonja n=ansible | ok: [postgres-ha02] => (item=yamllint)
2022-01-11 12:58:09,893 p=48678 u=moonja n=ansible | ok: [postgres-ha03] => (item=yamllint)
2022-01-11 12:58:10,696 p=48678 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=yamllint)
2022-01-11 12:58:12,821 p=48678 u=moonja n=ansible | ok: [postgres-ha01] => (item=daemonize)
2022-01-11 12:58:15,772 p=48678 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=daemonize)
2022-01-11 12:58:15,900 p=48678 u=moonja n=ansible | ok: [postgres-ha02] => (item=daemonize)
2022-01-11 12:58:16,064 p=48678 u=moonja n=ansible | ok: [postgres-ha03] => (item=daemonize)
2022-01-11 12:58:20,190 p=48678 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=daemonize)
2022-01-11 12:58:20,204 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Install the dependencies of etcd  on all three nodes] ****************************************
2022-01-11 12:58:20,228 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:58:20,262 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:58:21,145 p=48678 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:58:21,146 p=48678 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:58:21,151 p=48678 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:58:21,162 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Install setuptools rust on all three nodes] **************************************************
2022-01-11 12:58:21,203 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:58:21,218 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:58:32,897 p=48678 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:58:33,039 p=48678 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:58:38,193 p=48678 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:58:38,204 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Install typing pip module on all three nodes] ************************************************
2022-01-11 12:58:38,227 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:58:38,245 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:58:44,969 p=48678 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:58:45,250 p=48678 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:58:45,411 p=48678 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:58:45,420 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Upgrade pip3 version] ************************************************************************
2022-01-11 12:58:45,446 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:58:45,467 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:58:52,182 p=48678 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:58:52,183 p=48678 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:58:52,293 p=48678 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:58:52,303 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Install wheel module on all three nodes] *****************************************************
2022-01-11 12:58:52,346 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:58:52,364 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:58:58,699 p=48678 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:58:58,722 p=48678 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:58:58,722 p=48678 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:58:58,733 p=48678 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:58:58,761 p=48678 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:58:58,781 p=48678 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:58:58,820 p=48678 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "907572401695.24385",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.092729",
        "end": "2022-01-11 12:58:53.592629",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/907572401695.24385",
        "start": "2022-01-11 12:58:52.499900",
        "started": 1,
        "stderr": "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-11 12:58:58,821 p=48678 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "544346666278.19758",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.110904",
        "end": "2022-01-11 12:58:53.153393",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/544346666278.19758",
        "start": "2022-01-11 12:58:52.042489",
        "started": 1,
        "stderr": "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-11 12:58:58,832 p=48678 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "100090790307.19610",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.111027",
        "end": "2022-01-11 12:58:53.898291",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/100090790307.19610",
        "start": "2022-01-11 12:58:52.787264",
        "started": 1,
        "stderr": "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-11 12:58:58,845 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Install pip modules of Patroni prerequisites on all three nodes] *****************************
2022-01-11 12:58:58,868 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:58:58,887 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:59:05,418 p=48678 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:59:05,475 p=48678 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:59:05,476 p=48678 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:59:05,489 p=48678 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:59:05,533 p=48678 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:59:05,551 p=48678 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:59:05,573 p=48678 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "148875083098.24764",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.752876",
        "end": "2022-01-11 12:58:59.764236",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/148875083098.24764",
        "start": "2022-01-11 12:58:59.011360",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-11 12:59:05,575 p=48678 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "867806836447.20102",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.723143",
        "end": "2022-01-11 12:58:59.282648",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/867806836447.20102",
        "start": "2022-01-11 12:58:58.559505",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-11 12:59:05,587 p=48678 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "541452826204.19954",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.748151",
        "end": "2022-01-11 12:59:00.067250",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/541452826204.19954",
        "start": "2022-01-11 12:58:59.319099",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-11 12:59:05,599 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Iinstall wheel module on all three nodes] ****************************************************
2022-01-11 12:59:05,639 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:59:05,654 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:59:12,100 p=48678 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:59:12,101 p=48678 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:59:12,142 p=48678 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:59:12,152 p=48678 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:59:12,196 p=48678 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:59:12,216 p=48678 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:59:12,237 p=48678 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "944432575828.25142",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.585598",
        "end": "2022-01-11 12:59:07.344666",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/944432575828.25142",
        "start": "2022-01-11 12:59:05.759068",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-11 12:59:12,238 p=48678 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "480949254087.20446",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.535914",
        "end": "2022-01-11 12:59:06.865167",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/480949254087.20446",
        "start": "2022-01-11 12:59:05.329253",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-11 12:59:12,249 p=48678 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "653600718717.20298",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.527925",
        "end": "2022-01-11 12:59:07.603099",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/653600718717.20298",
        "start": "2022-01-11 12:59:06.075174",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-11 12:59:12,263 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Install psycopg2-binary module on all three nodes] *******************************************
2022-01-11 12:59:12,305 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:59:12,321 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:59:18,725 p=48678 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:59:18,725 p=48678 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:59:19,243 p=48678 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:59:19,252 p=48678 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:59:19,278 p=48678 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:59:19,297 p=48678 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:59:19,318 p=48678 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "152521828858.25528",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:01.752000",
        "end": "2022-01-11 12:59:14.187685",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/152521828858.25528",
        "start": "2022-01-11 12:59:12.435685",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.3",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.3"
        ]
    }
}
2022-01-11 12:59:19,337 p=48678 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "764574097021.20798",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:01.689682",
        "end": "2022-01-11 12:59:13.674998",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/764574097021.20798",
        "start": "2022-01-11 12:59:11.985316",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.3",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.3"
        ]
    }
}
2022-01-11 12:59:19,350 p=48678 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "824897722815.20642",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:01.710569",
        "end": "2022-01-11 12:59:14.458446",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/824897722815.20642",
        "start": "2022-01-11 12:59:12.747877",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.3",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.3"
        ]
    }
}
2022-01-11 12:59:19,363 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Install patroni modules on all three nodes for vmware-postgres 13.x version] *****************
2022-01-11 12:59:19,387 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:59:19,407 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:59:25,713 p=48678 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:59:25,740 p=48678 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:59:25,740 p=48678 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:59:25,753 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-11 12:59:25,777 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:59:25,796 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:59:26,692 p=48678 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 12:59:26,693 p=48678 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 12:59:26,693 p=48678 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 12:59:26,704 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Create the etcd.yml configuration file for all nodes] ****************************************
2022-01-11 12:59:26,729 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:59:26,792 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:59:27,768 p=48678 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:59:27,778 p=48678 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:59:27,789 p=48678 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:59:27,801 p=48678 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:59:27,844 p=48678 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:59:27,864 p=48678 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:59:27,883 p=48678 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "9ae4719bb01c1f3fe9f70a6e2c0044c7c41a95fe",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "c58c15d1af07ce06cb21d7da9f41a53d",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641873566.9237812-53384-189947435924883/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-11 12:59:27,885 p=48678 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "15047e7ccbff3a953a4abe4edc1ee87eccf0c835",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "90cfbd68000432263a3d9f571742a601",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641873566.925588-53391-167354495266621/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-11 12:59:27,897 p=48678 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "a89b395b153fde540c5b5250ee19c5a9b4a69b60",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "50ed3a33db1def8c3d70f9d8154ad6fa",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641873566.928233-53408-73729588985468/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-11 12:59:27,910 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of etcd into /etc/systemd/system] *********************************
2022-01-11 12:59:27,932 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:59:27,951 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:59:28,965 p=48678 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 12:59:28,966 p=48678 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 12:59:28,971 p=48678 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 12:59:28,982 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Reload and start etcd through systemd] *******************************************************
2022-01-11 12:59:29,006 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:59:29,024 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:59:36,110 p=48678 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:59:36,112 p=48678 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:59:36,113 p=48678 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:59:36,127 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Lists the members and identifies the current Leader.] ****************************************
2022-01-11 12:59:36,149 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:59:36,186 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:59:36,673 p=48678 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:59:36,675 p=48678 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:59:36,675 p=48678 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:59:36,685 p=48678 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:59:36,727 p=48678 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:59:36,747 p=48678 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:59:36,771 p=48678 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.022277",
        "end": "2022-01-11 12:59:36.207905",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-11 12:59:36.185628",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-11 12:59:36,772 p=48678 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.023825",
        "end": "2022-01-11 12:59:35.758616",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-11 12:59:35.734791",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-11 12:59:36,780 p=48678 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.022225",
        "end": "2022-01-11 12:59:36.509711",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-11 12:59:36.487486",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-11 12:59:36,792 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Set data directory for patroni cluster] ******************************************************
2022-01-11 12:59:37,301 p=48678 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:59:37,303 p=48678 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:59:37,311 p=48678 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:59:37,594 p=48678 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 12:59:37,597 p=48678 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 12:59:37,608 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Create the patroni.yml configuration file for all nodes] *************************************
2022-01-11 12:59:37,633 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:59:37,652 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:59:38,666 p=48678 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:59:38,670 p=48678 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:59:38,671 p=48678 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:59:38,685 p=48678 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:59:38,727 p=48678 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:59:38,746 p=48678 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:59:38,771 p=48678 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "498fd9af243f67685b8104734455aa6ded3c4656",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "724f1bd0fab4c3711abce04c89e9f238",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1479,
        "src": "/var/tmp/ansible-tmp-1641873577.794683-55423-113582370145473/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-11 12:59:38,772 p=48678 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "200ea3b2887577365a0ac3e98ed2876fb8ae41a4",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "621a2f9742ec1a0af23e5162576042ff",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1479,
        "src": "/var/tmp/ansible-tmp-1641873577.797503-55432-179851345964143/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-11 12:59:38,780 p=48678 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "466cae07d5c4da20a4b6f952be9221e3ff8ab3b7",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "186be0602191f84bf0fc69623f6ff223",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1479,
        "src": "/var/tmp/ansible-tmp-1641873577.8084621-55436-245228949645313/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-11 12:59:38,792 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of patroni into /etc/systemd/system] ******************************
2022-01-11 12:59:38,831 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:59:38,848 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:59:39,695 p=48678 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:59:39,710 p=48678 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:59:39,720 p=48678 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:59:39,733 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Reload and start systemd service of patroni] *************************************************
2022-01-11 12:59:39,774 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:59:39,790 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:59:40,433 p=48678 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:59:40,446 p=48678 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:59:40,462 p=48678 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:59:40,475 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-11 12:59:40,494 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:59:40,504 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Remove clsuter on master] ********************************************************************
2022-01-11 12:59:40,527 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:59:40,545 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:59:40,578 p=48678 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-11 12:59:40,590 p=48678 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-11 12:59:47,217 p=48678 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:59:47,226 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-11 12:59:47,245 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:59:47,256 p=48678 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:59:47,297 p=48678 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:59:47,317 p=48678 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:59:47,371 p=48678 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "727649569036.27947",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n",
        "delta": "0:00:00.350312",
        "end": "2022-01-11 12:59:41.092003",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/727649569036.27947",
        "start": "2022-01-11 12:59:40.741691",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7051788193175067144) --+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": ",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7051788193175067144) --+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": "
        ]
    }
}
2022-01-11 12:59:47,372 p=48678 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:59:47,373 p=48678 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:59:47,382 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Reinitialize patroni clsuter on all node] ****************************************************
2022-01-11 12:59:47,405 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:59:47,423 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:59:53,760 p=48678 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "521778898655.23009", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n", "delta": "0:00:00.289768", "end": "2022-01-11 12:59:47.377006", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/521778898655.23009", "start": "2022-01-11 12:59:47.087238", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-11 12:59:53,761 p=48678 u=moonja n=ansible | ...ignoring
2022-01-11 12:59:53,774 p=48678 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "769431515653.22859", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n", "delta": "0:00:00.295674", "end": "2022-01-11 12:59:48.143279", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/769431515653.22859", "start": "2022-01-11 12:59:47.847605", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-11 12:59:53,775 p=48678 u=moonja n=ansible | ...ignoring
2022-01-11 12:59:53,775 p=48678 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "725025363774.28323", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n", "delta": "0:00:00.611027", "end": "2022-01-11 12:59:48.153021", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/725025363774.28323", "start": "2022-01-11 12:59:47.541994", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-11 12:59:53,775 p=48678 u=moonja n=ansible | ...ignoring
2022-01-11 12:59:53,788 p=48678 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:59:53,833 p=48678 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:59:53,851 p=48678 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:59:53,873 p=48678 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "725025363774.28323",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.611027",
        "end": "2022-01-11 12:59:48.153021",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/725025363774.28323",
        "start": "2022-01-11 12:59:47.541994",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-11 12:59:53,875 p=48678 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "521778898655.23009",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.289768",
        "end": "2022-01-11 12:59:47.377006",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/521778898655.23009",
        "start": "2022-01-11 12:59:47.087238",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-11 12:59:53,921 p=48678 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "769431515653.22859",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.295674",
        "end": "2022-01-11 12:59:48.143279",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/769431515653.22859",
        "start": "2022-01-11 12:59:47.847605",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-11 12:59:53,934 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-11 12:59:53,955 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:59:53,966 p=48678 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:59:54,007 p=48678 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:59:54,026 p=48678 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:59:54,072 p=48678 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "725025363774.28323",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.611027",
        "end": "2022-01-11 12:59:48.153021",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/725025363774.28323",
        "start": "2022-01-11 12:59:47.541994",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-11 12:59:54,075 p=48678 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "521778898655.23009",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.289768",
        "end": "2022-01-11 12:59:47.377006",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/521778898655.23009",
        "start": "2022-01-11 12:59:47.087238",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-11 12:59:54,076 p=48678 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "769431515653.22859",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.295674",
        "end": "2022-01-11 12:59:48.143279",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/769431515653.22859",
        "start": "2022-01-11 12:59:47.847605",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-11 12:59:54,089 p=48678 u=moonja n=ansible | TASK [patroni-postgres : Run the patronictl command-line utility to view the cluster state with Patroni started on all three nodes,] ***
2022-01-11 12:59:54,111 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 12:59:54,130 p=48678 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 12:59:54,932 p=48678 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 12:59:54,933 p=48678 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 12:59:54,938 p=48678 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 12:59:54,951 p=48678 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 12:59:54,994 p=48678 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:59:55,014 p=48678 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 12:59:55,072 p=48678 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.312891",
        "end": "2022-01-11 12:59:54.470698",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-11 12:59:54.157807",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-11 12:59:55,075 p=48678 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.308274",
        "end": "2022-01-11 12:59:54.013488",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-11 12:59:53.705214",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-11 12:59:55,076 p=48678 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.309108",
        "end": "2022-01-11 12:59:54.772349",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-11 12:59:54.463241",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-11 12:59:55,135 p=48678 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-11 12:59:55,135 p=48678 u=moonja n=ansible | postgres-ha01              : ok=40   changed=23   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-11 12:59:55,135 p=48678 u=moonja n=ansible | postgres-ha02              : ok=39   changed=23   unreachable=0    failed=0    skipped=1    rescued=0    ignored=1   
2022-01-11 12:59:55,135 p=48678 u=moonja n=ansible | postgres-ha03              : ok=39   changed=23   unreachable=0    failed=0    skipped=1    rescued=0    ignored=1   
2022-01-11 12:59:55,135 p=48678 u=moonja n=ansible | postgres-haproxy01         : ok=20   changed=6    unreachable=0    failed=0    skipped=23   rescued=0    ignored=0   
2022-01-11 12:59:55,135 p=48678 u=moonja n=ansible | postgres-haproxy02         : ok=20   changed=6    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
2022-01-11 13:16:12,611 p=58748 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-11 13:16:12,623 p=58748 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-11 13:16:12,866 p=58748 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-11 13:16:12,924 p=58748 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-11 13:16:12,955 p=58748 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-11 13:16:15,453 p=58748 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 13:16:15,454 p=58748 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-11 13:16:15,457 p=58748 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 13:16:15,770 p=58748 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 13:16:16,022 p=58748 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-11 13:16:16,039 p=58748 u=moonja n=ansible | TASK [patroni-postgres : Stop services for patroni and etcd] **********************************************************
2022-01-11 13:16:16,064 p=58748 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=patroni) 
2022-01-11 13:16:16,064 p=58748 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=etcd) 
2022-01-11 13:16:16,080 p=58748 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=patroni) 
2022-01-11 13:16:16,080 p=58748 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=etcd) 
2022-01-11 13:16:18,355 p=58748 u=moonja n=ansible | changed: [postgres-ha03] => (item=patroni)
2022-01-11 13:16:18,544 p=58748 u=moonja n=ansible | changed: [postgres-ha01] => (item=patroni)
2022-01-11 13:16:18,838 p=58748 u=moonja n=ansible | changed: [postgres-ha02] => (item=patroni)
2022-01-11 13:16:18,900 p=58748 u=moonja n=ansible | changed: [postgres-ha03] => (item=etcd)
2022-01-11 13:16:19,070 p=58748 u=moonja n=ansible | changed: [postgres-ha01] => (item=etcd)
2022-01-11 13:16:19,323 p=58748 u=moonja n=ansible | changed: [postgres-ha02] => (item=etcd)
2022-01-11 13:16:19,335 p=58748 u=moonja n=ansible | TASK [patroni-postgres : Kill etcd process] ***************************************************************************
2022-01-11 13:16:19,356 p=58748 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:16:19,373 p=58748 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:16:26,346 p=58748 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:16:26,362 p=58748 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:16:26,362 p=58748 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:16:26,373 p=58748 u=moonja n=ansible | TASK [patroni-postgres : Delete configuration file for patroni and systemd] *******************************************
2022-01-11 13:16:27,240 p=58748 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-11 13:16:27,248 p=58748 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/patroni.yml)
2022-01-11 13:16:27,249 p=58748 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-11 13:16:27,255 p=58748 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-11 13:16:27,256 p=58748 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-11 13:16:27,667 p=58748 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/etc/systemd/system/patroni.service)
2022-01-11 13:16:27,684 p=58748 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/etc/systemd/system/patroni.service)
2022-01-11 13:16:27,684 p=58748 u=moonja n=ansible | changed: [postgres-ha02] => (item=/etc/systemd/system/patroni.service)
2022-01-11 13:16:27,685 p=58748 u=moonja n=ansible | changed: [postgres-ha03] => (item=/etc/systemd/system/patroni.service)
2022-01-11 13:16:27,688 p=58748 u=moonja n=ansible | changed: [postgres-ha01] => (item=/etc/systemd/system/patroni.service)
2022-01-11 13:16:28,080 p=58748 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-11 13:16:28,095 p=58748 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-11 13:16:28,115 p=58748 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-11 13:16:28,116 p=58748 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-11 13:16:28,124 p=58748 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-11 13:16:28,494 p=58748 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-11 13:16:28,523 p=58748 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-11 13:16:28,540 p=58748 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-11 13:16:28,549 p=58748 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-11 13:16:28,558 p=58748 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-11 13:16:28,937 p=58748 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-11 13:16:28,947 p=58748 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-11 13:16:28,960 p=58748 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-11 13:16:28,992 p=58748 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-11 13:16:29,028 p=58748 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/etcd.yml)
2022-01-11 13:16:29,372 p=58748 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-11 13:16:29,414 p=58748 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-11 13:16:29,428 p=58748 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-11 13:16:29,469 p=58748 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-11 13:16:29,470 p=58748 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-11 13:16:29,483 p=58748 u=moonja n=ansible | TASK [patroni-postgres : Delete data directory for patroni cluster] ***************************************************
2022-01-11 13:16:30,169 p=58748 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 13:16:30,178 p=58748 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 13:16:30,248 p=58748 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:16:30,253 p=58748 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:16:30,254 p=58748 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:16:30,266 p=58748 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-11 13:16:30,289 p=58748 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:16:30,309 p=58748 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:16:30,800 p=58748 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 13:16:30,802 p=58748 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 13:16:30,807 p=58748 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 13:16:30,819 p=58748 u=moonja n=ansible | TASK [patroni-postgres : Uninstall pip modules of Patroni prerequisites on all three nodes] ***************************
2022-01-11 13:16:30,857 p=58748 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:16:30,873 p=58748 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:16:38,036 p=58748 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "585411627093.25428", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.433995", "end": "2022-01-11 13:16:31.907707", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/585411627093.25428", "start": "2022-01-11 13:16:31.473712", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-11 13:16:38,037 p=58748 u=moonja n=ansible | ...ignoring
2022-01-11 13:16:38,394 p=58748 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "514645512990.31532", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.437257", "end": "2022-01-11 13:16:31.615325", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/514645512990.31532", "start": "2022-01-11 13:16:31.178068", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-11 13:16:38,394 p=58748 u=moonja n=ansible | ...ignoring
2022-01-11 13:16:38,404 p=58748 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "561458071998.27045", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.433599", "end": "2022-01-11 13:16:31.154980", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/561458071998.27045", "start": "2022-01-11 13:16:30.721381", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-11 13:16:38,404 p=58748 u=moonja n=ansible | ...ignoring
2022-01-11 13:16:38,413 p=58748 u=moonja n=ansible | TASK [patroni-postgres : Install wheel pip module on all three nodes] *************************************************
2022-01-11 13:16:38,436 p=58748 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:16:38,468 p=58748 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:16:44,767 p=58748 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:16:44,767 p=58748 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:16:45,814 p=58748 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:16:45,823 p=58748 u=moonja n=ansible | TASK [patroni-postgres : Uninstall typing pip module on all three nodes] **********************************************
2022-01-11 13:16:45,847 p=58748 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:16:45,865 p=58748 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:16:52,814 p=58748 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:16:52,857 p=58748 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:16:53,089 p=58748 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:16:53,099 p=58748 u=moonja n=ansible | TASK [patroni-postgres : Uninstall setuptools rust on all three nodes] ************************************************
2022-01-11 13:16:53,123 p=58748 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:16:53,143 p=58748 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:16:59,397 p=58748 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:16:59,418 p=58748 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:16:59,418 p=58748 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:16:59,430 p=58748 u=moonja n=ansible | TASK [patroni-postgres : Uninstall patroni module on all three nodes] *************************************************
2022-01-11 13:16:59,475 p=58748 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:16:59,491 p=58748 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:17:06,753 p=58748 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:17:06,899 p=58748 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:17:07,272 p=58748 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:17:07,281 p=58748 u=moonja n=ansible | TASK [patroni-postgres : Uninstall wheel module on all three nodes] ***************************************************
2022-01-11 13:17:07,306 p=58748 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:17:07,326 p=58748 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:17:13,694 p=58748 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:17:13,707 p=58748 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:17:13,707 p=58748 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:17:13,718 p=58748 u=moonja n=ansible | TASK [patroni-postgres : Uninstall psycopg2-binary module on all three nodes] *****************************************
2022-01-11 13:17:13,744 p=58748 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:17:13,763 p=58748 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:17:20,153 p=58748 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:17:20,153 p=58748 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:17:20,390 p=58748 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:17:20,403 p=58748 u=moonja n=ansible | TASK [patroni-postgres : Delete the dependencies file of etcd  on all three nodes] ************************************
2022-01-11 13:17:20,446 p=58748 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:17:20,468 p=58748 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:17:20,905 p=58748 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:17:20,908 p=58748 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:17:20,917 p=58748 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:17:20,930 p=58748 u=moonja n=ansible | TASK [patroni-postgres : Uninstall VMware Postgres RPM package on all hosts as root] **********************************
2022-01-11 13:17:33,208 p=58748 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 13:17:33,214 p=58748 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:17:33,734 p=58748 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:17:33,831 p=58748 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 13:17:34,066 p=58748 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:17:34,078 p=58748 u=moonja n=ansible | TASK [patroni-postgres : Delete the vmwawre-postgres rpm file to all hosts in cluster] ********************************
2022-01-11 13:17:34,602 p=58748 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 13:17:34,606 p=58748 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:17:34,616 p=58748 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 13:17:34,619 p=58748 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:17:34,631 p=58748 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:17:34,643 p=58748 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-11 13:17:35,306 p=58748 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 13:17:35,310 p=58748 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 13:17:35,336 p=58748 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:17:35,344 p=58748 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:17:35,344 p=58748 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:17:35,358 p=58748 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-11 13:17:35,986 p=58748 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 13:17:35,995 p=58748 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 13:17:36,021 p=58748 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:17:36,030 p=58748 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:17:36,032 p=58748 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:17:36,045 p=58748 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-11 13:17:37,332 p=58748 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-11 13:17:37,333 p=58748 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 13:17:37,340 p=58748 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 13:17:37,352 p=58748 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 13:17:37,352 p=58748 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-11 13:17:37,411 p=58748 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-11 13:17:37,411 p=58748 u=moonja n=ansible | postgres-ha01              : ok=19   changed=16   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-11 13:17:37,411 p=58748 u=moonja n=ansible | postgres-ha02              : ok=19   changed=16   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-11 13:17:37,411 p=58748 u=moonja n=ansible | postgres-ha03              : ok=19   changed=16   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-11 13:17:37,411 p=58748 u=moonja n=ansible | postgres-haproxy01         : ok=8    changed=5    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-11 13:17:37,411 p=58748 u=moonja n=ansible | postgres-haproxy02         : ok=8    changed=5    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-11 13:18:19,756 p=61083 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-11 13:18:19,767 p=61083 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-11 13:18:20,002 p=61083 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-11 13:18:20,064 p=61083 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-11 13:18:20,095 p=61083 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-11 13:18:22,139 p=61083 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-11 13:18:22,143 p=61083 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-11 13:18:22,144 p=61083 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 13:18:22,152 p=61083 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 13:18:22,977 p=61083 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 13:18:22,995 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-11 13:18:23,905 p=61083 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-11 13:18:23,906 p=61083 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 13:18:23,942 p=61083 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-11 13:18:23,942 p=61083 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 13:18:27,435 p=61083 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 13:18:27,447 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-11 13:18:28,196 p=61083 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 13:18:28,208 p=61083 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:18:28,222 p=61083 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:18:28,224 p=61083 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 13:18:28,233 p=61083 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:18:28,249 p=61083 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-11 13:18:28,878 p=61083 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 13:18:28,879 p=61083 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 13:18:28,916 p=61083 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:18:28,941 p=61083 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:18:28,957 p=61083 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:18:28,972 p=61083 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 13:18:29,003 p=61083 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-11 13:18:29,023 p=61083 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-11 13:18:29,042 p=61083 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-11 13:18:29,075 p=61083 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-11 13:18:29,093 p=61083 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-11 13:18:29,116 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] **********************************
2022-01-11 13:18:31,170 p=61083 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:18:31,171 p=61083 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 13:18:31,181 p=61083 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:18:31,183 p=61083 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 13:18:31,216 p=61083 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:18:31,227 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] ************************************************
2022-01-11 13:18:54,923 p=61083 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:19:00,331 p=61083 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 13:19:00,344 p=61083 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 13:19:00,344 p=61083 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:19:01,491 p=61083 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:19:01,501 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] *******************************
2022-01-11 13:19:07,877 p=61083 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3)
2022-01-11 13:19:07,878 p=61083 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3)
2022-01-11 13:19:08,057 p=61083 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3)
2022-01-11 13:19:08,057 p=61083 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3)
2022-01-11 13:19:08,058 p=61083 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3)
2022-01-11 13:19:14,323 p=61083 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-devel)
2022-01-11 13:19:14,362 p=61083 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-devel)
2022-01-11 13:19:14,447 p=61083 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-devel)
2022-01-11 13:19:17,165 p=61083 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-devel)
2022-01-11 13:19:17,183 p=61083 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-devel)
2022-01-11 13:19:20,654 p=61083 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=gcc)
2022-01-11 13:19:20,801 p=61083 u=moonja n=ansible | ok: [postgres-ha01] => (item=gcc)
2022-01-11 13:19:21,157 p=61083 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=gcc)
2022-01-11 13:19:23,783 p=61083 u=moonja n=ansible | ok: [postgres-ha03] => (item=gcc)
2022-01-11 13:19:24,488 p=61083 u=moonja n=ansible | ok: [postgres-ha02] => (item=gcc)
2022-01-11 13:19:26,901 p=61083 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=etcd)
2022-01-11 13:19:27,064 p=61083 u=moonja n=ansible | ok: [postgres-ha01] => (item=etcd)
2022-01-11 13:19:28,153 p=61083 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=etcd)
2022-01-11 13:19:30,350 p=61083 u=moonja n=ansible | ok: [postgres-ha03] => (item=etcd)
2022-01-11 13:19:31,675 p=61083 u=moonja n=ansible | ok: [postgres-ha02] => (item=etcd)
2022-01-11 13:19:33,307 p=61083 u=moonja n=ansible | ok: [postgres-ha01] => (item=python-psycopg2)
2022-01-11 13:19:39,430 p=61083 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=python-psycopg2)
2022-01-11 13:19:39,612 p=61083 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-pip)
2022-01-11 13:19:39,799 p=61083 u=moonja n=ansible | changed: [postgres-haproxy02] => (item=python-psycopg2)
2022-01-11 13:19:41,988 p=61083 u=moonja n=ansible | changed: [postgres-ha03] => (item=python-psycopg2)
2022-01-11 13:19:44,570 p=61083 u=moonja n=ansible | changed: [postgres-ha02] => (item=python-psycopg2)
2022-01-11 13:19:45,629 p=61083 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-pip)
2022-01-11 13:19:45,824 p=61083 u=moonja n=ansible | ok: [postgres-ha01] => (item=python34-setuptools)
2022-01-11 13:19:45,976 p=61083 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-pip)
2022-01-11 13:19:48,470 p=61083 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-pip)
2022-01-11 13:19:51,123 p=61083 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-pip)
2022-01-11 13:19:52,087 p=61083 u=moonja n=ansible | ok: [postgres-ha01] => (item=python27-python-setuptools)
2022-01-11 13:19:52,103 p=61083 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python34-setuptools)
2022-01-11 13:19:52,103 p=61083 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python34-setuptools)
2022-01-11 13:19:55,004 p=61083 u=moonja n=ansible | ok: [postgres-ha03] => (item=python34-setuptools)
2022-01-11 13:19:57,649 p=61083 u=moonja n=ansible | ok: [postgres-ha02] => (item=python34-setuptools)
2022-01-11 13:19:58,637 p=61083 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python27-python-setuptools)
2022-01-11 13:19:58,646 p=61083 u=moonja n=ansible | ok: [postgres-ha01] => (item=yamllint)
2022-01-11 13:19:58,694 p=61083 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python27-python-setuptools)
2022-01-11 13:20:01,740 p=61083 u=moonja n=ansible | ok: [postgres-ha03] => (item=python27-python-setuptools)
2022-01-11 13:20:04,271 p=61083 u=moonja n=ansible | ok: [postgres-ha02] => (item=python27-python-setuptools)
2022-01-11 13:20:04,849 p=61083 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=yamllint)
2022-01-11 13:20:04,896 p=61083 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=yamllint)
2022-01-11 13:20:04,930 p=61083 u=moonja n=ansible | ok: [postgres-ha01] => (item=daemonize)
2022-01-11 13:20:08,394 p=61083 u=moonja n=ansible | ok: [postgres-ha03] => (item=yamllint)
2022-01-11 13:20:10,735 p=61083 u=moonja n=ansible | ok: [postgres-ha02] => (item=yamllint)
2022-01-11 13:20:11,068 p=61083 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=daemonize)
2022-01-11 13:20:11,118 p=61083 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=daemonize)
2022-01-11 13:20:14,935 p=61083 u=moonja n=ansible | ok: [postgres-ha03] => (item=daemonize)
2022-01-11 13:20:17,995 p=61083 u=moonja n=ansible | ok: [postgres-ha02] => (item=daemonize)
2022-01-11 13:20:18,010 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Install the dependencies of etcd  on all three nodes] ****************************************
2022-01-11 13:20:18,049 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:20:18,064 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:20:19,204 p=61083 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:20:19,205 p=61083 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:20:19,209 p=61083 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:20:19,220 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Install setuptools rust on all three nodes] **************************************************
2022-01-11 13:20:19,243 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:20:19,263 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:20:25,638 p=61083 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:20:25,762 p=61083 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:20:25,895 p=61083 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:20:25,905 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Install typing pip module on all three nodes] ************************************************
2022-01-11 13:20:25,927 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:20:25,945 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:20:32,814 p=61083 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:20:32,815 p=61083 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:20:32,824 p=61083 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:20:32,834 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Upgrade pip3 version] ************************************************************************
2022-01-11 13:20:32,857 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:20:32,875 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:20:39,205 p=61083 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:20:39,227 p=61083 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:20:39,227 p=61083 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:20:39,238 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Install wheel module on all three nodes] *****************************************************
2022-01-11 13:20:39,263 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:20:39,283 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:20:46,410 p=61083 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:20:46,452 p=61083 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:20:46,554 p=61083 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:20:46,564 p=61083 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 13:20:46,608 p=61083 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 13:20:46,626 p=61083 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 13:20:46,682 p=61083 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "982609518449.9701",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:02.147473",
        "end": "2022-01-11 13:20:41.986965",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/982609518449.9701",
        "start": "2022-01-11 13:20:39.839492",
        "started": 1,
        "stderr": "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-11 13:20:46,684 p=61083 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "1697290072.4361",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:02.204005",
        "end": "2022-01-11 13:20:41.594839",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/1697290072.4361",
        "start": "2022-01-11 13:20:39.390834",
        "started": 1,
        "stderr": "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-11 13:20:46,684 p=61083 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "258959216064.2689",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:02.157524",
        "end": "2022-01-11 13:20:42.271240",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/258959216064.2689",
        "start": "2022-01-11 13:20:40.113716",
        "started": 1,
        "stderr": "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-11 13:20:46,695 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Install pip modules of Patroni prerequisites on all three nodes] *****************************
2022-01-11 13:20:46,733 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:20:46,749 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:20:53,302 p=61083 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:20:53,716 p=61083 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:20:53,799 p=61083 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:20:53,808 p=61083 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 13:20:53,834 p=61083 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 13:20:53,870 p=61083 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 13:20:53,891 p=61083 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "837713933023.10079",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.745108",
        "end": "2022-01-11 13:20:47.882384",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/837713933023.10079",
        "start": "2022-01-11 13:20:47.137276",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-11 13:20:53,932 p=61083 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "575573468344.4705",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.732531",
        "end": "2022-01-11 13:20:47.418350",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/575573468344.4705",
        "start": "2022-01-11 13:20:46.685819",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-11 13:20:53,934 p=61083 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "143539847149.3033",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.730419",
        "end": "2022-01-11 13:20:48.154203",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/143539847149.3033",
        "start": "2022-01-11 13:20:47.423784",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-11 13:20:53,946 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Iinstall wheel module on all three nodes] ****************************************************
2022-01-11 13:20:54,010 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:20:54,028 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:21:00,342 p=61083 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:21:00,687 p=61083 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:21:00,804 p=61083 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:21:00,814 p=61083 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 13:21:00,841 p=61083 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 13:21:00,861 p=61083 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 13:21:00,881 p=61083 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "440636277563.10459",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.880929",
        "end": "2022-01-11 13:20:56.104968",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/440636277563.10459",
        "start": "2022-01-11 13:20:54.224039",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-11 13:21:00,931 p=61083 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "202245953301.5049",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.749556",
        "end": "2022-01-11 13:20:54.525899",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/202245953301.5049",
        "start": "2022-01-11 13:20:53.776343",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-11 13:21:00,933 p=61083 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "915503686131.3377",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.839256",
        "end": "2022-01-11 13:20:56.387448",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/915503686131.3377",
        "start": "2022-01-11 13:20:54.548192",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-11 13:21:00,943 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Install psycopg2-binary module on all three nodes] *******************************************
2022-01-11 13:21:00,983 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:21:00,999 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:21:07,446 p=61083 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:21:07,469 p=61083 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:21:07,469 p=61083 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:21:07,479 p=61083 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 13:21:07,504 p=61083 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 13:21:07,523 p=61083 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 13:21:07,581 p=61083 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "287151213687.10837",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:02.750142",
        "end": "2022-01-11 13:21:04.005027",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/287151213687.10837",
        "start": "2022-01-11 13:21:01.254885",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.3",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.3"
        ]
    }
}
2022-01-11 13:21:07,583 p=61083 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "240932605746.5393",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:02.721654",
        "end": "2022-01-11 13:21:03.526171",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/240932605746.5393",
        "start": "2022-01-11 13:21:00.804517",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.3",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.3"
        ]
    }
}
2022-01-11 13:21:07,583 p=61083 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "711960309669.3721",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:02.743511",
        "end": "2022-01-11 13:21:04.304044",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/711960309669.3721",
        "start": "2022-01-11 13:21:01.560533",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.3",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.3"
        ]
    }
}
2022-01-11 13:21:07,593 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Install patroni modules on all three nodes for vmware-postgres 13.x version] *****************
2022-01-11 13:21:07,633 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:21:07,649 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:21:14,144 p=61083 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:21:14,204 p=61083 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:21:14,204 p=61083 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:21:14,215 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-11 13:21:14,241 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:21:14,263 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:21:15,044 p=61083 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 13:21:15,045 p=61083 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 13:21:15,050 p=61083 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 13:21:15,062 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Create the etcd.yml configuration file for all nodes] ****************************************
2022-01-11 13:21:15,086 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:21:15,120 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:21:16,269 p=61083 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:21:16,273 p=61083 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:21:16,278 p=61083 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:21:16,294 p=61083 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 13:21:16,337 p=61083 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 13:21:16,358 p=61083 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 13:21:16,380 p=61083 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "9ae4719bb01c1f3fe9f70a6e2c0044c7c41a95fe",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "c58c15d1af07ce06cb21d7da9f41a53d",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641874875.238487-66773-152226825141370/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-11 13:21:16,380 p=61083 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "15047e7ccbff3a953a4abe4edc1ee87eccf0c835",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "90cfbd68000432263a3d9f571742a601",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641874875.243202-66774-226605541257135/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-11 13:21:16,392 p=61083 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "a89b395b153fde540c5b5250ee19c5a9b4a69b60",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "50ed3a33db1def8c3d70f9d8154ad6fa",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641874875.2460842-66778-146258265783387/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-11 13:21:16,406 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of etcd into /etc/systemd/system] *********************************
2022-01-11 13:21:16,428 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:21:16,449 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:21:17,789 p=61083 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-11 13:21:17,791 p=61083 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-11 13:21:17,792 p=61083 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-11 13:21:17,805 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Reload and start etcd through systemd] *******************************************************
2022-01-11 13:21:17,828 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:21:17,849 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:21:22,828 p=61083 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:21:22,830 p=61083 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:21:23,299 p=61083 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:21:23,313 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Lists the members and identifies the current Leader.] ****************************************
2022-01-11 13:21:23,340 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:21:23,359 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:21:24,118 p=61083 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:21:24,119 p=61083 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:21:24,121 p=61083 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:21:24,133 p=61083 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 13:21:24,174 p=61083 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 13:21:24,195 p=61083 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 13:21:24,222 p=61083 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.022306",
        "end": "2022-01-11 13:21:23.761892",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-11 13:21:23.739586",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-11 13:21:24,223 p=61083 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.028648",
        "end": "2022-01-11 13:21:23.319933",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-11 13:21:23.291285",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-11 13:21:24,238 p=61083 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.027411",
        "end": "2022-01-11 13:21:24.068626",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-11 13:21:24.041215",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-11 13:21:24,249 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Set data directory for patroni cluster] ******************************************************
2022-01-11 13:21:24,765 p=61083 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:21:24,770 p=61083 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:21:24,776 p=61083 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:21:25,031 p=61083 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-11 13:21:25,032 p=61083 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-11 13:21:25,043 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Create the patroni.yml configuration file for all nodes] *************************************
2022-01-11 13:21:25,082 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:21:25,097 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:21:25,960 p=61083 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:21:25,962 p=61083 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:21:25,970 p=61083 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:21:25,982 p=61083 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 13:21:26,023 p=61083 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 13:21:26,041 p=61083 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 13:21:26,062 p=61083 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "95b7c666428d56d90adbd72fd370da0ff4a88c76",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "37538cafd440f09623310b11c8990753",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1437,
        "src": "/var/tmp/ansible-tmp-1641874885.146688-67112-106153732793942/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-11 13:21:26,062 p=61083 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "35b1cf6114460fcd7ea7421b933b9ce4562bfbf6",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "fc07ebe49a9a7572abfb0e76db702f5f",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1437,
        "src": "/var/tmp/ansible-tmp-1641874885.162244-67113-241141535648303/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-11 13:21:26,074 p=61083 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "8b61050369e42d6d239a6f35430c7b4b5b68770b",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "9008be900e8788f7e31e624e41c7b866",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1437,
        "src": "/var/tmp/ansible-tmp-1641874885.180531-67117-195325925705144/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-11 13:21:26,086 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of patroni into /etc/systemd/system] ******************************
2022-01-11 13:21:26,124 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:21:26,139 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:21:27,032 p=61083 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:21:27,144 p=61083 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:21:27,144 p=61083 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:21:27,162 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Reload and start systemd service of patroni] *************************************************
2022-01-11 13:21:27,206 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:21:27,222 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:21:28,049 p=61083 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:21:28,057 p=61083 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:21:28,066 p=61083 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:21:28,079 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-11 13:21:28,098 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:21:28,108 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Remove clsuter on master] ********************************************************************
2022-01-11 13:21:28,130 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:21:28,148 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:21:28,181 p=61083 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-11 13:21:28,192 p=61083 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-11 13:21:34,895 p=61083 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:21:34,903 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-11 13:21:34,923 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:21:34,934 p=61083 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 13:21:34,976 p=61083 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 13:21:34,996 p=61083 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 13:21:35,018 p=61083 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "963428908472.13267",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n",
        "delta": "0:00:00.811885",
        "end": "2022-01-11 13:21:29.310475",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/963428908472.13267",
        "start": "2022-01-11 13:21:28.498590",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7051793386266053047) --+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": ",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7051793386266053047) --+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": "
        ]
    }
}
2022-01-11 13:21:35,018 p=61083 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 13:21:35,032 p=61083 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 13:21:35,043 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Reinitialize patroni clsuter on all node] ****************************************************
2022-01-11 13:21:35,065 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:21:35,083 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:21:42,209 p=61083 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "653159635065.7612", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n", "delta": "0:00:00.312478", "end": "2022-01-11 13:21:35.395909", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/653159635065.7612", "start": "2022-01-11 13:21:35.083431", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-11 13:21:42,210 p=61083 u=moonja n=ansible | ...ignoring
2022-01-11 13:21:42,273 p=61083 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "492858807143.13643", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n", "delta": "0:00:00.310677", "end": "2022-01-11 13:21:35.847367", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/492858807143.13643", "start": "2022-01-11 13:21:35.536690", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-11 13:21:42,273 p=61083 u=moonja n=ansible | ...ignoring
2022-01-11 13:21:42,301 p=61083 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "923467956897.5937", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n", "delta": "0:00:00.310704", "end": "2022-01-11 13:21:36.145412", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/923467956897.5937", "start": "2022-01-11 13:21:35.834708", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-11 13:21:42,301 p=61083 u=moonja n=ansible | ...ignoring
2022-01-11 13:21:42,311 p=61083 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 13:21:42,335 p=61083 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 13:21:42,355 p=61083 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 13:21:42,374 p=61083 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "492858807143.13643",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.310677",
        "end": "2022-01-11 13:21:35.847367",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/492858807143.13643",
        "start": "2022-01-11 13:21:35.536690",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-11 13:21:42,393 p=61083 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "653159635065.7612",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.312478",
        "end": "2022-01-11 13:21:35.395909",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/653159635065.7612",
        "start": "2022-01-11 13:21:35.083431",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-11 13:21:42,407 p=61083 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "923467956897.5937",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.310704",
        "end": "2022-01-11 13:21:36.145412",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/923467956897.5937",
        "start": "2022-01-11 13:21:35.834708",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-11 13:21:42,418 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-11 13:21:42,437 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:21:42,447 p=61083 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 13:21:42,489 p=61083 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 13:21:42,509 p=61083 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 13:21:42,529 p=61083 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "492858807143.13643",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.310677",
        "end": "2022-01-11 13:21:35.847367",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/492858807143.13643",
        "start": "2022-01-11 13:21:35.536690",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-11 13:21:42,530 p=61083 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "653159635065.7612",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.312478",
        "end": "2022-01-11 13:21:35.395909",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/653159635065.7612",
        "start": "2022-01-11 13:21:35.083431",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-11 13:21:42,544 p=61083 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "923467956897.5937",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.310704",
        "end": "2022-01-11 13:21:36.145412",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/923467956897.5937",
        "start": "2022-01-11 13:21:35.834708",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-11 13:21:42,554 p=61083 u=moonja n=ansible | TASK [patroni-postgres : Run the patronictl command-line utility to view the cluster state with Patroni started on all three nodes,] ***
2022-01-11 13:21:42,594 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-11 13:21:42,609 p=61083 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-11 13:21:43,758 p=61083 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-11 13:21:43,769 p=61083 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-11 13:21:43,775 p=61083 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-11 13:21:43,788 p=61083 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-11 13:21:43,831 p=61083 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 13:21:43,852 p=61083 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-11 13:21:43,873 p=61083 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.318573",
        "end": "2022-01-11 13:21:43.421319",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-11 13:21:43.102746",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-11 13:21:43,874 p=61083 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.309081",
        "end": "2022-01-11 13:21:42.962033",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-11 13:21:42.652952",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-11 13:21:43,885 p=61083 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.341153",
        "end": "2022-01-11 13:21:43.733491",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-11 13:21:43.392338",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-11 13:21:43,943 p=61083 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-11 13:21:43,943 p=61083 u=moonja n=ansible | postgres-ha01              : ok=40   changed=23   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-11 13:21:43,943 p=61083 u=moonja n=ansible | postgres-ha02              : ok=39   changed=23   unreachable=0    failed=0    skipped=1    rescued=0    ignored=1   
2022-01-11 13:21:43,943 p=61083 u=moonja n=ansible | postgres-ha03              : ok=39   changed=23   unreachable=0    failed=0    skipped=1    rescued=0    ignored=1   
2022-01-11 13:21:43,943 p=61083 u=moonja n=ansible | postgres-haproxy01         : ok=20   changed=6    unreachable=0    failed=0    skipped=23   rescued=0    ignored=0   
2022-01-11 13:21:43,943 p=61083 u=moonja n=ansible | postgres-haproxy02         : ok=20   changed=6    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
2022-01-12 03:12:59,749 p=10630 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 03:12:59,761 p=10630 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 03:13:00,034 p=10630 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 03:13:00,089 p=10630 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 03:13:00,123 p=10630 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 03:13:14,848 p=10630 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 03:13:15,810 p=10630 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 03:13:16,810 p=10630 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 03:13:16,816 p=10630 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 03:13:18,120 p=10630 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 03:13:18,139 p=10630 u=moonja n=ansible | TASK [patroni-postgres : Stop services for patroni and etcd] **********************************************************
2022-01-12 03:13:18,163 p=10630 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=patroni) 
2022-01-12 03:13:18,164 p=10630 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=etcd) 
2022-01-12 03:13:18,180 p=10630 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=patroni) 
2022-01-12 03:13:18,180 p=10630 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=etcd) 
2022-01-12 03:13:20,522 p=10630 u=moonja n=ansible | changed: [postgres-ha01] => (item=patroni)
2022-01-12 03:13:20,533 p=10630 u=moonja n=ansible | changed: [postgres-ha02] => (item=patroni)
2022-01-12 03:13:20,565 p=10630 u=moonja n=ansible | changed: [postgres-ha03] => (item=patroni)
2022-01-12 03:13:21,043 p=10630 u=moonja n=ansible | changed: [postgres-ha02] => (item=etcd)
2022-01-12 03:13:21,072 p=10630 u=moonja n=ansible | changed: [postgres-ha01] => (item=etcd)
2022-01-12 03:13:21,102 p=10630 u=moonja n=ansible | changed: [postgres-ha03] => (item=etcd)
2022-01-12 03:13:21,116 p=10630 u=moonja n=ansible | TASK [patroni-postgres : Kill etcd process] ***************************************************************************
2022-01-12 03:13:21,151 p=10630 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:13:21,165 p=10630 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:13:29,419 p=10630 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:13:29,480 p=10630 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:13:29,551 p=10630 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:13:29,562 p=10630 u=moonja n=ansible | TASK [patroni-postgres : Delete configuration file for patroni and systemd] *******************************************
2022-01-12 03:13:30,332 p=10630 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 03:13:30,334 p=10630 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 03:13:30,362 p=10630 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 03:13:30,714 p=10630 u=moonja n=ansible | changed: [postgres-ha03] => (item=/etc/systemd/system/patroni.service)
2022-01-12 03:13:30,723 p=10630 u=moonja n=ansible | changed: [postgres-ha01] => (item=/etc/systemd/system/patroni.service)
2022-01-12 03:13:30,744 p=10630 u=moonja n=ansible | changed: [postgres-ha02] => (item=/etc/systemd/system/patroni.service)
2022-01-12 03:13:30,856 p=10630 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 03:13:30,934 p=10630 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 03:13:31,122 p=10630 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 03:13:31,174 p=10630 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 03:13:31,182 p=10630 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 03:13:31,274 p=10630 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/etc/systemd/system/patroni.service)
2022-01-12 03:13:31,339 p=10630 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/etc/systemd/system/patroni.service)
2022-01-12 03:13:31,552 p=10630 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 03:13:31,607 p=10630 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 03:13:31,615 p=10630 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 03:13:31,703 p=10630 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 03:13:31,773 p=10630 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 03:13:31,979 p=10630 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 03:13:32,035 p=10630 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 03:13:32,051 p=10630 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 03:13:32,134 p=10630 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 03:13:32,190 p=10630 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 03:13:32,405 p=10630 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 03:13:32,461 p=10630 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 03:13:32,483 p=10630 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 03:13:32,556 p=10630 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 03:13:32,588 p=10630 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 03:13:32,928 p=10630 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 03:13:32,960 p=10630 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 03:13:32,974 p=10630 u=moonja n=ansible | TASK [patroni-postgres : Delete data directory for patroni cluster] ***************************************************
2022-01-12 03:13:33,599 p=10630 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 03:13:35,022 p=10630 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 03:13:38,476 p=10630 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:13:39,640 p=10630 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:13:39,960 p=10630 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:13:39,974 p=10630 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 03:13:40,015 p=10630 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:13:40,031 p=10630 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:13:40,667 p=10630 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:13:40,668 p=10630 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:13:40,668 p=10630 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:13:40,681 p=10630 u=moonja n=ansible | TASK [patroni-postgres : Uninstall pip modules of Patroni prerequisites on all three nodes] ***************************
2022-01-12 03:13:40,703 p=10630 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:13:40,733 p=10630 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:14:03,997 p=10630 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "176650438921.3667", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:17.188273", "end": "2022-01-12 03:13:59.349837", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/176650438921.3667", "start": "2022-01-12 03:13:42.161564", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 03:14:03,997 p=10630 u=moonja n=ansible | ...ignoring
2022-01-12 03:14:04,705 p=10630 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "244139200197.3865", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:16.484225", "end": "2022-01-12 03:13:58.213775", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/244139200197.3865", "start": "2022-01-12 03:13:41.729550", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 03:14:04,705 p=10630 u=moonja n=ansible | ...ignoring
2022-01-12 03:14:05,005 p=10630 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "57346269763.3661", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:17.349507", "end": "2022-01-12 03:13:58.446256", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/57346269763.3661", "start": "2022-01-12 03:13:41.096749", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 03:14:05,005 p=10630 u=moonja n=ansible | ...ignoring
2022-01-12 03:14:05,016 p=10630 u=moonja n=ansible | TASK [patroni-postgres : Install wheel pip module on all three nodes] *************************************************
2022-01-12 03:14:05,052 p=10630 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:14:05,066 p=10630 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:14:12,419 p=10630 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:14:12,420 p=10630 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:14:12,746 p=10630 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:14:12,757 p=10630 u=moonja n=ansible | TASK [patroni-postgres : Uninstall typing pip module on all three nodes] **********************************************
2022-01-12 03:14:12,778 p=10630 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:14:12,810 p=10630 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:14:19,179 p=10630 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:14:19,180 p=10630 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:14:19,180 p=10630 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:14:19,191 p=10630 u=moonja n=ansible | TASK [patroni-postgres : Uninstall setuptools rust on all three nodes] ************************************************
2022-01-12 03:14:19,228 p=10630 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:14:19,243 p=10630 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:14:26,324 p=10630 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:14:26,336 p=10630 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:14:26,337 p=10630 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:14:26,350 p=10630 u=moonja n=ansible | TASK [patroni-postgres : Uninstall patroni module on all three nodes] *************************************************
2022-01-12 03:14:26,391 p=10630 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:14:26,409 p=10630 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:14:32,741 p=10630 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:14:32,763 p=10630 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:14:32,763 p=10630 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:14:32,775 p=10630 u=moonja n=ansible | TASK [patroni-postgres : Uninstall wheel module on all three nodes] ***************************************************
2022-01-12 03:14:32,799 p=10630 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:14:32,833 p=10630 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:14:39,379 p=10630 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:14:39,421 p=10630 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:14:39,457 p=10630 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:14:39,467 p=10630 u=moonja n=ansible | TASK [patroni-postgres : Uninstall psycopg2-binary module on all three nodes] *****************************************
2022-01-12 03:14:39,506 p=10630 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:14:39,522 p=10630 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:14:46,030 p=10630 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:14:46,031 p=10630 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:14:47,058 p=10630 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:14:47,069 p=10630 u=moonja n=ansible | TASK [patroni-postgres : Delete the dependencies file of etcd  on all three nodes] ************************************
2022-01-12 03:14:47,092 p=10630 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:14:47,127 p=10630 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:14:47,537 p=10630 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:14:47,539 p=10630 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:14:47,547 p=10630 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:14:47,563 p=10630 u=moonja n=ansible | TASK [patroni-postgres : Uninstall VMware Postgres RPM package on all hosts as root] **********************************
2022-01-12 03:16:03,661 p=10630 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:16:08,800 p=10630 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:16:13,985 p=10630 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 03:16:15,917 p=10630 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 03:16:21,213 p=10630 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:16:21,226 p=10630 u=moonja n=ansible | TASK [patroni-postgres : Delete the vmwawre-postgres rpm file to all hosts in cluster] ********************************
2022-01-12 03:16:21,681 p=10630 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 03:16:21,689 p=10630 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 03:16:21,708 p=10630 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:16:21,729 p=10630 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:16:21,735 p=10630 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:16:21,747 p=10630 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 03:16:22,419 p=10630 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 03:16:22,435 p=10630 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 03:16:22,454 p=10630 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:16:22,456 p=10630 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:16:22,457 p=10630 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:16:22,469 p=10630 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 03:16:23,207 p=10630 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:16:23,213 p=10630 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 03:16:23,216 p=10630 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 03:16:23,217 p=10630 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:16:23,225 p=10630 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:16:23,238 p=10630 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 03:16:24,389 p=10630 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 03:16:24,423 p=10630 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 03:16:24,432 p=10630 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 03:16:24,484 p=10630 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 03:16:25,537 p=10630 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 03:16:25,600 p=10630 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-12 03:16:25,600 p=10630 u=moonja n=ansible | postgres-ha01              : ok=19   changed=17   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-12 03:16:25,600 p=10630 u=moonja n=ansible | postgres-ha02              : ok=19   changed=17   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-12 03:16:25,600 p=10630 u=moonja n=ansible | postgres-ha03              : ok=19   changed=17   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-12 03:16:25,601 p=10630 u=moonja n=ansible | postgres-haproxy01         : ok=8    changed=5    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-12 03:16:25,601 p=10630 u=moonja n=ansible | postgres-haproxy02         : ok=8    changed=5    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-12 03:16:44,237 p=13689 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 03:16:44,248 p=13689 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 03:16:44,481 p=13689 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 03:16:44,537 p=13689 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 03:16:44,569 p=13689 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 03:16:46,376 p=13689 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 03:16:46,379 p=13689 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 03:16:46,384 p=13689 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 03:16:46,385 p=13689 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 03:16:46,391 p=13689 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 03:16:46,410 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 03:16:47,548 p=13689 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 03:16:47,555 p=13689 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 03:16:47,555 p=13689 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 03:16:47,572 p=13689 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 03:16:47,573 p=13689 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 03:16:47,585 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 03:16:48,492 p=13689 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 03:16:48,495 p=13689 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:16:48,497 p=13689 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:16:48,499 p=13689 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 03:16:48,502 p=13689 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:16:48,513 p=13689 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 03:16:49,179 p=13689 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 03:16:49,180 p=13689 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 03:16:49,212 p=13689 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:16:49,217 p=13689 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:16:49,220 p=13689 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:16:49,232 p=13689 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 03:16:49,270 p=13689 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 03:16:49,288 p=13689 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 03:16:49,305 p=13689 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 03:16:49,306 p=13689 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 03:16:49,317 p=13689 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 03:16:49,329 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] **********************************
2022-01-12 03:16:51,408 p=13689 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 03:16:51,409 p=13689 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 03:16:51,582 p=13689 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:16:51,612 p=13689 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:16:51,624 p=13689 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:16:51,638 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] ************************************************
2022-01-12 03:17:21,369 p=13689 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 03:17:26,009 p=13689 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:17:26,070 p=13689 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:17:26,690 p=13689 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 03:17:26,889 p=13689 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:17:26,900 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] *******************************
2022-01-12 03:17:33,426 p=13689 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3)
2022-01-12 03:17:33,495 p=13689 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3)
2022-01-12 03:17:33,496 p=13689 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3)
2022-01-12 03:17:33,505 p=13689 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3)
2022-01-12 03:17:34,558 p=13689 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3)
2022-01-12 03:17:40,884 p=13689 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-devel)
2022-01-12 03:17:41,081 p=13689 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-devel)
2022-01-12 03:17:41,348 p=13689 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-devel)
2022-01-12 03:17:41,568 p=13689 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-devel)
2022-01-12 03:17:41,615 p=13689 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-devel)
2022-01-12 03:17:47,039 p=13689 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=gcc)
2022-01-12 03:17:47,255 p=13689 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=gcc)
2022-01-12 03:17:47,950 p=13689 u=moonja n=ansible | ok: [postgres-ha03] => (item=gcc)
2022-01-12 03:17:47,975 p=13689 u=moonja n=ansible | ok: [postgres-ha01] => (item=gcc)
2022-01-12 03:17:48,011 p=13689 u=moonja n=ansible | ok: [postgres-ha02] => (item=gcc)
2022-01-12 03:17:53,569 p=13689 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=etcd)
2022-01-12 03:17:54,888 p=13689 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=etcd)
2022-01-12 03:17:55,372 p=13689 u=moonja n=ansible | ok: [postgres-ha02] => (item=etcd)
2022-01-12 03:17:55,687 p=13689 u=moonja n=ansible | ok: [postgres-ha03] => (item=etcd)
2022-01-12 03:17:56,028 p=13689 u=moonja n=ansible | ok: [postgres-ha01] => (item=etcd)
2022-01-12 03:18:02,513 p=13689 u=moonja n=ansible | ok: [postgres-ha01] => (item=python-psycopg2)
2022-01-12 03:18:09,392 p=13689 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-pip)
2022-01-12 03:18:16,669 p=13689 u=moonja n=ansible | ok: [postgres-ha01] => (item=python34-setuptools)
2022-01-12 03:18:23,253 p=13689 u=moonja n=ansible | ok: [postgres-ha01] => (item=python27-python-setuptools)
2022-01-12 03:18:29,803 p=13689 u=moonja n=ansible | ok: [postgres-ha01] => (item=yamllint)
2022-01-12 03:18:36,357 p=13689 u=moonja n=ansible | ok: [postgres-ha01] => (item=daemonize)
2022-01-12 03:18:40,480 p=13689 u=moonja n=ansible | changed: [postgres-haproxy02] => (item=python-psycopg2)
2022-01-12 03:18:43,878 p=13689 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=python-psycopg2)
2022-01-12 03:18:45,063 p=13689 u=moonja n=ansible | changed: [postgres-ha02] => (item=python-psycopg2)
2022-01-12 03:18:45,329 p=13689 u=moonja n=ansible | changed: [postgres-ha03] => (item=python-psycopg2)
2022-01-12 03:18:47,406 p=13689 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-pip)
2022-01-12 03:18:50,502 p=13689 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-pip)
2022-01-12 03:18:52,271 p=13689 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-pip)
2022-01-12 03:18:52,629 p=13689 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-pip)
2022-01-12 03:18:53,858 p=13689 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python34-setuptools)
2022-01-12 03:18:57,149 p=13689 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python34-setuptools)
2022-01-12 03:18:59,576 p=13689 u=moonja n=ansible | ok: [postgres-ha02] => (item=python34-setuptools)
2022-01-12 03:18:59,613 p=13689 u=moonja n=ansible | ok: [postgres-ha03] => (item=python34-setuptools)
2022-01-12 03:19:00,410 p=13689 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python27-python-setuptools)
2022-01-12 03:19:03,816 p=13689 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python27-python-setuptools)
2022-01-12 03:19:06,071 p=13689 u=moonja n=ansible | ok: [postgres-ha02] => (item=python27-python-setuptools)
2022-01-12 03:19:06,988 p=13689 u=moonja n=ansible | ok: [postgres-ha03] => (item=python27-python-setuptools)
2022-01-12 03:19:07,031 p=13689 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=yamllint)
2022-01-12 03:19:10,753 p=13689 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=yamllint)
2022-01-12 03:19:12,729 p=13689 u=moonja n=ansible | ok: [postgres-ha02] => (item=yamllint)
2022-01-12 03:19:13,337 p=13689 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=daemonize)
2022-01-12 03:19:13,348 p=13689 u=moonja n=ansible | ok: [postgres-ha03] => (item=yamllint)
2022-01-12 03:19:17,579 p=13689 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=daemonize)
2022-01-12 03:19:19,209 p=13689 u=moonja n=ansible | ok: [postgres-ha02] => (item=daemonize)
2022-01-12 03:19:19,991 p=13689 u=moonja n=ansible | ok: [postgres-ha03] => (item=daemonize)
2022-01-12 03:19:20,006 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Install the dependencies of etcd  on all three nodes] ****************************************
2022-01-12 03:19:20,046 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:19:20,062 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:19:21,396 p=13689 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:19:21,398 p=13689 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:19:21,400 p=13689 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:19:21,415 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Install setuptools rust on all three nodes] **************************************************
2022-01-12 03:19:21,440 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:19:21,472 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:19:28,226 p=13689 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:19:28,419 p=13689 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:19:28,440 p=13689 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:19:28,458 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Install typing pip module on all three nodes] ************************************************
2022-01-12 03:19:28,484 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:19:28,508 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:19:40,850 p=13689 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:19:41,702 p=13689 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:19:43,463 p=13689 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:19:43,473 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Upgrade pip3 version] ************************************************************************
2022-01-12 03:19:43,496 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:19:43,514 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:19:50,102 p=13689 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:19:50,128 p=13689 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:19:50,128 p=13689 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:19:50,141 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Install wheel module on all three nodes] *****************************************************
2022-01-12 03:19:50,164 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:19:50,197 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:19:57,136 p=13689 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:19:57,526 p=13689 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:19:57,538 p=13689 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:19:57,550 p=13689 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 03:19:57,576 p=13689 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:19:57,595 p=13689 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:19:57,615 p=13689 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "233439142591.16115",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.857369",
        "end": "2022-01-12 03:19:52.978745",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/233439142591.16115",
        "start": "2022-01-12 03:19:51.121376",
        "started": 1,
        "stderr": "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-12 03:19:57,635 p=13689 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "888028123296.15244",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.884085",
        "end": "2022-01-12 03:19:53.463126",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/888028123296.15244",
        "start": "2022-01-12 03:19:51.579041",
        "started": 1,
        "stderr": "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-12 03:19:57,648 p=13689 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "52938939020.15239",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.893608",
        "end": "2022-01-12 03:19:52.377151",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/52938939020.15239",
        "start": "2022-01-12 03:19:50.483543",
        "started": 1,
        "stderr": "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-12 03:19:57,659 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Install pip modules of Patroni prerequisites on all three nodes] *****************************
2022-01-12 03:19:57,681 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:19:57,699 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:20:04,385 p=13689 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:20:04,410 p=13689 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:20:04,410 p=13689 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:20:04,423 p=13689 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 03:20:04,463 p=13689 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:20:04,483 p=13689 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:20:04,504 p=13689 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "31457354520.16493",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.739539",
        "end": "2022-01-12 03:19:59.278701",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/31457354520.16493",
        "start": "2022-01-12 03:19:58.539162",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 03:20:04,506 p=13689 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "758684229070.15588",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.737017",
        "end": "2022-01-12 03:19:59.731837",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/758684229070.15588",
        "start": "2022-01-12 03:19:58.994820",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 03:20:04,518 p=13689 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "552282110732.15583",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.726708",
        "end": "2022-01-12 03:19:58.644202",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/552282110732.15583",
        "start": "2022-01-12 03:19:57.917494",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 03:20:04,529 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Iinstall wheel module on all three nodes] ****************************************************
2022-01-12 03:20:04,567 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:20:04,583 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:20:11,455 p=13689 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:20:11,455 p=13689 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:20:11,488 p=13689 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:20:11,498 p=13689 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 03:20:11,539 p=13689 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:20:11,558 p=13689 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:20:11,577 p=13689 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "633104585839.16878",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.751292",
        "end": "2022-01-12 03:20:07.247799",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/633104585839.16878",
        "start": "2022-01-12 03:20:05.496507",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-12 03:20:11,578 p=13689 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "599240332814.15940",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.799645",
        "end": "2022-01-12 03:20:07.773588",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/599240332814.15940",
        "start": "2022-01-12 03:20:05.973943",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-12 03:20:11,590 p=13689 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "996365407004.15934",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.725865",
        "end": "2022-01-12 03:20:06.608265",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/996365407004.15934",
        "start": "2022-01-12 03:20:04.882400",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-01-12 03:20:11,603 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Install psycopg2-binary module on all three nodes] *******************************************
2022-01-12 03:20:11,640 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:20:11,655 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:20:18,328 p=13689 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:20:18,328 p=13689 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:20:18,329 p=13689 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:20:18,339 p=13689 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 03:20:18,380 p=13689 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:20:18,400 p=13689 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:20:18,420 p=13689 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "904269941902.17256",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:02.773188",
        "end": "2022-01-12 03:20:15.211058",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/904269941902.17256",
        "start": "2022-01-12 03:20:12.437870",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.3",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.3"
        ]
    }
}
2022-01-12 03:20:18,421 p=13689 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "793142213648.16284",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:02.724022",
        "end": "2022-01-12 03:20:15.608026",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/793142213648.16284",
        "start": "2022-01-12 03:20:12.884004",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.3",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.3"
        ]
    }
}
2022-01-12 03:20:18,434 p=13689 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "282301611819.16279",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:02.713882",
        "end": "2022-01-12 03:20:14.540276",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/282301611819.16279",
        "start": "2022-01-12 03:20:11.826394",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.3",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.3"
        ]
    }
}
2022-01-12 03:20:18,445 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Install patroni modules on all three nodes for vmware-postgres 13.x version] *****************
2022-01-12 03:20:18,485 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:20:18,504 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:20:25,866 p=13689 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:20:25,925 p=13689 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:20:25,925 p=13689 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:20:25,936 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 03:20:25,991 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:20:26,009 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:20:26,790 p=13689 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 03:20:26,791 p=13689 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 03:20:26,791 p=13689 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 03:20:26,802 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Create the etcd.yml configuration file for all nodes] ****************************************
2022-01-12 03:20:26,825 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:20:26,859 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:20:28,104 p=13689 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:20:28,105 p=13689 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:20:28,106 p=13689 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:20:28,117 p=13689 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 03:20:28,159 p=13689 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:20:28,178 p=13689 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:20:28,196 p=13689 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "9ae4719bb01c1f3fe9f70a6e2c0044c7c41a95fe",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "c58c15d1af07ce06cb21d7da9f41a53d",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641925226.975434-18215-258300934654263/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 03:20:28,198 p=13689 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "15047e7ccbff3a953a4abe4edc1ee87eccf0c835",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "90cfbd68000432263a3d9f571742a601",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641925226.975382-18216-221383424551590/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 03:20:28,211 p=13689 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "a89b395b153fde540c5b5250ee19c5a9b4a69b60",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "50ed3a33db1def8c3d70f9d8154ad6fa",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641925226.981-18220-155412199670436/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 03:20:28,224 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of etcd into /etc/systemd/system] *********************************
2022-01-12 03:20:28,245 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:20:28,280 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:20:29,419 p=13689 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 03:20:29,419 p=13689 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 03:20:29,420 p=13689 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 03:20:29,434 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Reload and start etcd through systemd] *******************************************************
2022-01-12 03:20:29,457 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:20:29,486 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:20:31,211 p=13689 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:20:31,325 p=13689 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:20:31,404 p=13689 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:20:31,417 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Lists the members and identifies the current Leader.] ****************************************
2022-01-12 03:20:31,440 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:20:31,459 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:20:34,420 p=13689 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:20:34,669 p=13689 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:20:34,789 p=13689 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:20:34,803 p=13689 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 03:20:34,848 p=13689 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:20:34,866 p=13689 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:20:34,886 p=13689 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:02.562773",
        "end": "2022-01-12 03:20:34.737855",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 03:20:32.175082",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 03:20:34,887 p=13689 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:02.312926",
        "end": "2022-01-12 03:20:34.943672",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 03:20:32.630746",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 03:20:34,900 p=13689 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:02.715093",
        "end": "2022-01-12 03:20:34.263519",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 03:20:31.548426",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 03:20:34,911 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Set data directory for patroni cluster] ******************************************************
2022-01-12 03:20:35,432 p=13689 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:20:35,436 p=13689 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:20:35,439 p=13689 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:20:35,663 p=13689 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 03:20:35,677 p=13689 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 03:20:35,689 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Create the patroni.yml configuration file for all nodes] *************************************
2022-01-12 03:20:35,728 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:20:35,744 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:20:36,786 p=13689 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:20:36,805 p=13689 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:20:36,809 p=13689 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:20:36,821 p=13689 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 03:20:36,859 p=13689 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:20:36,878 p=13689 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:20:36,897 p=13689 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "3233be940d7148928131b8fb7f7668b7bbd02dd2",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "319751fac8ea5d018f27be9fc8c8ff50",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1476,
        "src": "/var/tmp/ansible-tmp-1641925235.8572218-19017-100134996367576/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 03:20:36,898 p=13689 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "1ad64ea21f4788117805f6c2914f96d4892e55ef",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "54db1a19bd2f845e887fabb7353c7244",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1476,
        "src": "/var/tmp/ansible-tmp-1641925235.858508-19018-247749228841810/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 03:20:36,913 p=13689 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "292a0dab9c491ddbcd72607b9195817c52a88748",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "1b99a8344dffb99bad4bc756d4c28466",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1476,
        "src": "/var/tmp/ansible-tmp-1641925235.862263-19022-86705954039785/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 03:20:36,923 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of patroni into /etc/systemd/system] ******************************
2022-01-12 03:20:36,944 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:20:36,976 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:20:37,883 p=13689 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:20:37,885 p=13689 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:20:38,222 p=13689 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:20:38,236 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Reload and start systemd service of patroni] *************************************************
2022-01-12 03:20:38,261 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:20:38,281 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:20:39,077 p=13689 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:20:39,077 p=13689 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:20:39,089 p=13689 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:20:39,103 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 03:20:39,122 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:20:39,132 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Remove clsuter on master] ********************************************************************
2022-01-12 03:20:39,154 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:20:39,173 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:20:39,206 p=13689 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-12 03:20:39,216 p=13689 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-12 03:20:46,167 p=13689 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:20:46,174 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 03:20:46,190 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:20:46,199 p=13689 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 03:20:46,240 p=13689 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:20:46,260 p=13689 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:20:46,280 p=13689 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "964597075777.19681",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n",
        "delta": "0:00:02.894067",
        "end": "2022-01-12 03:20:43.077750",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/964597075777.19681",
        "start": "2022-01-12 03:20:40.183683",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7051798999917819720) --+-----------+\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": ",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7051798999917819720) --+-----------+",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": "
        ]
    }
}
2022-01-12 03:20:46,280 p=13689 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:20:46,292 p=13689 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:20:46,303 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Reinitialize patroni clsuter on all node] ****************************************************
2022-01-12 03:20:46,336 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:20:46,349 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:20:52,667 p=13689 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:20:52,729 p=13689 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "449376401583.18493", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n", "delta": "0:00:01.385078", "end": "2022-01-12 03:20:47.944078", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/449376401583.18493", "start": "2022-01-12 03:20:46.559000", "started": 1, "stderr": "Error: postgres-ha03 is not a member of cluster", "stderr_lines": ["Error: postgres-ha03 is not a member of cluster"], "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02]? []: ", "stdout_lines": ["+---------------+--------------+---------+---------+----+-----------+", "| Member        | Host         | Role    | State   | TL | Lag in MB |", "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+", "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |", "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |", "+---------------+--------------+---------+---------+----+-----------+", "Which member do you want to reinitialize [postgres-ha01, postgres-ha02]? []: "]}
2022-01-12 03:20:52,729 p=13689 u=moonja n=ansible | ...ignoring
2022-01-12 03:20:52,742 p=13689 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:20:52,753 p=13689 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 03:20:52,778 p=13689 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:20:52,797 p=13689 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:20:52,833 p=13689 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "24653394971.20075",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.281970",
        "end": "2022-01-12 03:20:47.454159",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/24653394971.20075",
        "start": "2022-01-12 03:20:47.172189",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-12 03:20:52,834 p=13689 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "685141708961.18501",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:01.124735",
        "end": "2022-01-12 03:20:48.749523",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/685141708961.18501",
        "start": "2022-01-12 03:20:47.624788",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Failed: reinitialize for member postgres-ha02, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Failed: reinitialize for member postgres-ha02, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-12 03:20:52,848 p=13689 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "449376401583.18493",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:01.385078",
        "end": "2022-01-12 03:20:47.944078",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/449376401583.18493",
        "start": "2022-01-12 03:20:46.559000",
        "started": 1,
        "stderr": "Error: postgres-ha03 is not a member of cluster",
        "stderr_lines": [
            "Error: postgres-ha03 is not a member of cluster"
        ],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02]? []: ",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02]? []: "
        ]
    }
}
2022-01-12 03:20:52,860 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 03:20:52,878 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:20:52,888 p=13689 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 03:20:52,926 p=13689 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:20:52,944 p=13689 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:20:52,963 p=13689 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "24653394971.20075",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.281970",
        "end": "2022-01-12 03:20:47.454159",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/24653394971.20075",
        "start": "2022-01-12 03:20:47.172189",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-12 03:20:52,964 p=13689 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "685141708961.18501",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:01.124735",
        "end": "2022-01-12 03:20:48.749523",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/685141708961.18501",
        "start": "2022-01-12 03:20:47.624788",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Failed: reinitialize for member postgres-ha02, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Failed: reinitialize for member postgres-ha02, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-12 03:20:52,977 p=13689 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "449376401583.18493",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:01.385078",
        "end": "2022-01-12 03:20:47.944078",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/449376401583.18493",
        "start": "2022-01-12 03:20:46.559000",
        "started": 1,
        "stderr": "Error: postgres-ha03 is not a member of cluster",
        "stderr_lines": [
            "Error: postgres-ha03 is not a member of cluster"
        ],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02]? []: ",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02]? []: "
        ]
    }
}
2022-01-12 03:20:52,991 p=13689 u=moonja n=ansible | TASK [patroni-postgres : Run the patronictl command-line utility to view the cluster state with Patroni started on all three nodes,] ***
2022-01-12 03:20:53,029 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:20:53,044 p=13689 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:20:53,877 p=13689 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:20:53,878 p=13689 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:20:53,878 p=13689 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:20:53,891 p=13689 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 03:20:53,934 p=13689 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:20:53,953 p=13689 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:20:53,972 p=13689 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.311961",
        "end": "2022-01-12 03:20:53.967300",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 03:20:53.655339",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052015224162430205) --+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052015224162430205) --+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-12 03:20:53,973 p=13689 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.314910",
        "end": "2022-01-12 03:20:54.419666",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 03:20:54.104756",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052015224162430205) --+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052015224162430205) --+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-12 03:20:53,986 p=13689 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.307680",
        "end": "2022-01-12 03:20:53.341778",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 03:20:53.034098",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052015224162430205) --+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052015224162430205) --+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-12 03:20:54,043 p=13689 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-12 03:20:54,043 p=13689 u=moonja n=ansible | postgres-ha01              : ok=40   changed=23   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2022-01-12 03:20:54,043 p=13689 u=moonja n=ansible | postgres-ha02              : ok=39   changed=23   unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2022-01-12 03:20:54,044 p=13689 u=moonja n=ansible | postgres-ha03              : ok=39   changed=23   unreachable=0    failed=0    skipped=1    rescued=0    ignored=1   
2022-01-12 03:20:54,044 p=13689 u=moonja n=ansible | postgres-haproxy01         : ok=20   changed=6    unreachable=0    failed=0    skipped=23   rescued=0    ignored=0   
2022-01-12 03:20:54,044 p=13689 u=moonja n=ansible | postgres-haproxy02         : ok=20   changed=6    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
2022-01-12 03:38:01,824 p=21427 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 03:38:01,836 p=21427 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 03:38:02,146 p=21427 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 03:38:02,198 p=21427 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 03:38:02,230 p=21427 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 03:38:04,550 p=21427 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 03:38:04,555 p=21427 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 03:38:04,557 p=21427 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 03:38:04,560 p=21427 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 03:38:05,498 p=21427 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 03:38:05,520 p=21427 u=moonja n=ansible | TASK [patroni-postgres : Stop services for patroni and etcd] **********************************************************
2022-01-12 03:38:05,544 p=21427 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=patroni) 
2022-01-12 03:38:05,545 p=21427 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=etcd) 
2022-01-12 03:38:05,560 p=21427 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=patroni) 
2022-01-12 03:38:05,561 p=21427 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=etcd) 
2022-01-12 03:38:07,831 p=21427 u=moonja n=ansible | changed: [postgres-ha03] => (item=patroni)
2022-01-12 03:38:07,847 p=21427 u=moonja n=ansible | changed: [postgres-ha02] => (item=patroni)
2022-01-12 03:38:08,348 p=21427 u=moonja n=ansible | changed: [postgres-ha03] => (item=etcd)
2022-01-12 03:38:08,355 p=21427 u=moonja n=ansible | changed: [postgres-ha02] => (item=etcd)
2022-01-12 03:38:09,375 p=21427 u=moonja n=ansible | changed: [postgres-ha01] => (item=patroni)
2022-01-12 03:38:10,117 p=21427 u=moonja n=ansible | changed: [postgres-ha01] => (item=etcd)
2022-01-12 03:38:10,129 p=21427 u=moonja n=ansible | TASK [patroni-postgres : Kill etcd process] ***************************************************************************
2022-01-12 03:38:10,150 p=21427 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:38:10,167 p=21427 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:38:17,218 p=21427 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:38:17,218 p=21427 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:38:17,218 p=21427 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:38:17,228 p=21427 u=moonja n=ansible | TASK [patroni-postgres : Delete configuration file for patroni and systemd] *******************************************
2022-01-12 03:38:18,182 p=21427 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 03:38:18,183 p=21427 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 03:38:18,183 p=21427 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 03:38:18,184 p=21427 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 03:38:18,188 p=21427 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 03:38:18,618 p=21427 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/etc/systemd/system/patroni.service)
2022-01-12 03:38:18,618 p=21427 u=moonja n=ansible | changed: [postgres-ha03] => (item=/etc/systemd/system/patroni.service)
2022-01-12 03:38:18,619 p=21427 u=moonja n=ansible | changed: [postgres-ha02] => (item=/etc/systemd/system/patroni.service)
2022-01-12 03:38:18,621 p=21427 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/etc/systemd/system/patroni.service)
2022-01-12 03:38:18,628 p=21427 u=moonja n=ansible | changed: [postgres-ha01] => (item=/etc/systemd/system/patroni.service)
2022-01-12 03:38:19,060 p=21427 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 03:38:19,062 p=21427 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 03:38:19,063 p=21427 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 03:38:19,063 p=21427 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 03:38:19,069 p=21427 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 03:38:19,491 p=21427 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 03:38:19,498 p=21427 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 03:38:19,499 p=21427 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 03:38:19,502 p=21427 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 03:38:19,505 p=21427 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 03:38:19,933 p=21427 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 03:38:19,935 p=21427 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 03:38:19,936 p=21427 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 03:38:19,936 p=21427 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 03:38:19,945 p=21427 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 03:38:20,374 p=21427 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 03:38:20,375 p=21427 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 03:38:20,377 p=21427 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 03:38:20,380 p=21427 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 03:38:20,382 p=21427 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 03:38:20,393 p=21427 u=moonja n=ansible | TASK [patroni-postgres : Delete data directory for patroni cluster] ***************************************************
2022-01-12 03:38:21,083 p=21427 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 03:38:21,097 p=21427 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 03:38:21,163 p=21427 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:38:21,164 p=21427 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:38:21,178 p=21427 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:38:21,190 p=21427 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 03:38:21,212 p=21427 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:38:21,228 p=21427 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:38:21,966 p=21427 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 03:38:21,967 p=21427 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 03:38:21,972 p=21427 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 03:38:21,982 p=21427 u=moonja n=ansible | TASK [patroni-postgres : Uninstall pip modules of Patroni prerequisites on all three nodes] ***************************
2022-01-12 03:38:22,003 p=21427 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:38:22,020 p=21427 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:38:28,388 p=21427 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "445787549932.21060", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.417250", "end": "2022-01-12 03:38:22.488732", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/445787549932.21060", "start": "2022-01-12 03:38:22.071482", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 03:38:28,389 p=21427 u=moonja n=ansible | ...ignoring
2022-01-12 03:38:29,490 p=21427 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "542375661311.21069", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.448354", "end": "2022-01-12 03:38:23.624933", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/542375661311.21069", "start": "2022-01-12 03:38:23.176579", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 03:38:29,490 p=21427 u=moonja n=ansible | ...ignoring
2022-01-12 03:38:29,490 p=21427 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "146552691771.23069", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.446674", "end": "2022-01-12 03:38:23.159513", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/146552691771.23069", "start": "2022-01-12 03:38:22.712839", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 03:38:29,491 p=21427 u=moonja n=ansible | ...ignoring
2022-01-12 03:38:29,502 p=21427 u=moonja n=ansible | TASK [patroni-postgres : Install wheel pip module on all three nodes] *************************************************
2022-01-12 03:38:29,524 p=21427 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:38:29,541 p=21427 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:38:32,111 p=21427 u=moonja n=ansible |  [ERROR]: User interrupted execution

2022-01-12 03:43:27,990 p=23272 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 03:43:28,000 p=23272 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 03:43:28,216 p=23272 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 03:43:28,271 p=23272 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 03:43:28,300 p=23272 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 03:43:30,320 p=23272 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 03:43:30,327 p=23272 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 03:43:30,330 p=23272 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 03:43:30,332 p=23272 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 03:43:30,335 p=23272 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 03:43:30,353 p=23272 u=moonja n=ansible | TASK [patroni-postgres : Stop services for patroni and etcd] **********************************************************
2022-01-12 03:43:30,376 p=23272 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=patroni) 
2022-01-12 03:43:30,377 p=23272 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=etcd) 
2022-01-12 03:43:30,391 p=23272 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=patroni) 
2022-01-12 03:43:30,392 p=23272 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=etcd) 
2022-01-12 03:43:31,517 p=23272 u=moonja n=ansible | failed: [postgres-ha02] (item=patroni) => {"ansible_loop_var": "item", "changed": false, "item": "patroni", "msg": "Could not find the requested service patroni: host"}
2022-01-12 03:43:31,518 p=23272 u=moonja n=ansible | failed: [postgres-ha03] (item=patroni) => {"ansible_loop_var": "item", "changed": false, "item": "patroni", "msg": "Could not find the requested service patroni: host"}
2022-01-12 03:43:31,519 p=23272 u=moonja n=ansible | failed: [postgres-ha01] (item=patroni) => {"ansible_loop_var": "item", "changed": false, "item": "patroni", "msg": "Could not find the requested service patroni: host"}
2022-01-12 03:43:31,983 p=23272 u=moonja n=ansible | failed: [postgres-ha03] (item=etcd) => {"ansible_loop_var": "item", "changed": false, "item": "etcd", "msg": "Could not find the requested service patroni: host"}
2022-01-12 03:43:31,984 p=23272 u=moonja n=ansible | ...ignoring
2022-01-12 03:43:31,986 p=23272 u=moonja n=ansible | failed: [postgres-ha01] (item=etcd) => {"ansible_loop_var": "item", "changed": false, "item": "etcd", "msg": "Could not find the requested service patroni: host"}
2022-01-12 03:43:31,986 p=23272 u=moonja n=ansible | failed: [postgres-ha02] (item=etcd) => {"ansible_loop_var": "item", "changed": false, "item": "etcd", "msg": "Could not find the requested service patroni: host"}
2022-01-12 03:43:31,987 p=23272 u=moonja n=ansible | ...ignoring
2022-01-12 03:43:31,987 p=23272 u=moonja n=ansible | ...ignoring
2022-01-12 03:43:31,998 p=23272 u=moonja n=ansible | TASK [patroni-postgres : Kill etcd process] ***************************************************************************
2022-01-12 03:43:32,023 p=23272 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:43:32,039 p=23272 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:43:39,010 p=23272 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "184888630881.24152", "changed": true, "cmd": "( killall etcd )", "delta": "0:00:00.016911", "end": "2022-01-12 03:43:33.122118", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/184888630881.24152", "start": "2022-01-12 03:43:33.105207", "started": 1, "stderr": "etcd: no process found", "stderr_lines": ["etcd: no process found"], "stdout": "", "stdout_lines": []}
2022-01-12 03:43:39,010 p=23272 u=moonja n=ansible | ...ignoring
2022-01-12 03:43:39,021 p=23272 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "401445631204.22056", "changed": true, "cmd": "( killall etcd )", "delta": "0:00:00.016017", "end": "2022-01-12 03:43:32.537814", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/401445631204.22056", "start": "2022-01-12 03:43:32.521797", "started": 1, "stderr": "etcd: no process found", "stderr_lines": ["etcd: no process found"], "stdout": "", "stdout_lines": []}
2022-01-12 03:43:39,021 p=23272 u=moonja n=ansible | ...ignoring
2022-01-12 03:43:39,021 p=23272 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "226923819524.22056", "changed": true, "cmd": "( killall etcd )", "delta": "0:00:00.016881", "end": "2022-01-12 03:43:33.618790", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/226923819524.22056", "start": "2022-01-12 03:43:33.601909", "started": 1, "stderr": "etcd: no process found", "stderr_lines": ["etcd: no process found"], "stdout": "", "stdout_lines": []}
2022-01-12 03:43:39,021 p=23272 u=moonja n=ansible | ...ignoring
2022-01-12 03:43:39,031 p=23272 u=moonja n=ansible | TASK [patroni-postgres : Delete configuration file for patroni and systemd] *******************************************
2022-01-12 03:43:39,963 p=23272 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 03:43:39,964 p=23272 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 03:43:39,967 p=23272 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 03:43:39,970 p=23272 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 03:43:39,973 p=23272 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 03:43:40,382 p=23272 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/etc/systemd/system/patroni.service)
2022-01-12 03:43:40,391 p=23272 u=moonja n=ansible | ok: [postgres-ha02] => (item=/etc/systemd/system/patroni.service)
2022-01-12 03:43:40,396 p=23272 u=moonja n=ansible | ok: [postgres-ha03] => (item=/etc/systemd/system/patroni.service)
2022-01-12 03:43:40,396 p=23272 u=moonja n=ansible | ok: [postgres-ha01] => (item=/etc/systemd/system/patroni.service)
2022-01-12 03:43:40,399 p=23272 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/etc/systemd/system/patroni.service)
2022-01-12 03:43:40,789 p=23272 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 03:43:40,811 p=23272 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 03:43:40,815 p=23272 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 03:43:40,821 p=23272 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 03:43:41,176 p=23272 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 03:43:41,205 p=23272 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 03:43:41,205 p=23272 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 03:43:41,213 p=23272 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 03:43:41,434 p=23272 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 03:43:41,938 p=23272 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 03:43:41,938 p=23272 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 03:43:41,942 p=23272 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 03:43:41,955 p=23272 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 03:43:41,994 p=23272 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 03:43:42,360 p=23272 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 03:43:42,367 p=23272 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 03:43:42,374 p=23272 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 03:43:42,383 p=23272 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 03:43:42,424 p=23272 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 03:43:43,005 p=23272 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 03:43:43,019 p=23272 u=moonja n=ansible | TASK [patroni-postgres : Delete data directory for patroni cluster] ***************************************************
2022-01-12 03:43:43,536 p=23272 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 03:43:43,538 p=23272 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 03:43:43,540 p=23272 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 03:43:43,545 p=23272 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 03:43:43,549 p=23272 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 03:43:43,561 p=23272 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 03:43:43,596 p=23272 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:43:43,612 p=23272 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:43:44,208 p=23272 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 03:43:44,215 p=23272 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 03:43:44,215 p=23272 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 03:43:44,227 p=23272 u=moonja n=ansible | TASK [patroni-postgres : Uninstall pip modules of Patroni prerequisites on all three nodes] ***************************
2022-01-12 03:43:44,247 p=23272 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:43:44,264 p=23272 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:43:50,664 p=23272 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "729365010785.25572", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.418900", "end": "2022-01-12 03:43:45.461652", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/729365010785.25572", "start": "2022-01-12 03:43:45.042752", "started": 1, "stderr": "WARNING: Skipping urllib3 as it is not installed.\nWARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping urllib3 as it is not installed.", "WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: PyYAML 3.13"]}
2022-01-12 03:43:50,664 p=23272 u=moonja n=ansible | ...ignoring
2022-01-12 03:43:50,666 p=23272 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "723119255993.23347", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.411265", "end": "2022-01-12 03:43:44.832659", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/723119255993.23347", "start": "2022-01-12 03:43:44.421394", "started": 1, "stderr": "WARNING: Skipping urllib3 as it is not installed.\nWARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping urllib3 as it is not installed.", "WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: PyYAML 3.13"]}
2022-01-12 03:43:50,666 p=23272 u=moonja n=ansible | ...ignoring
2022-01-12 03:43:51,101 p=23272 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "661122562599.23355", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.410262", "end": "2022-01-12 03:43:45.915382", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/661122562599.23355", "start": "2022-01-12 03:43:45.505120", "started": 1, "stderr": "WARNING: Skipping urllib3 as it is not installed.\nWARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping urllib3 as it is not installed.", "WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: PyYAML 3.13"]}
2022-01-12 03:43:51,102 p=23272 u=moonja n=ansible | ...ignoring
2022-01-12 03:43:51,111 p=23272 u=moonja n=ansible | TASK [patroni-postgres : Install wheel pip module on all three nodes] *************************************************
2022-01-12 03:43:51,149 p=23272 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:43:51,165 p=23272 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:43:57,378 p=23272 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "148171059690.23691", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:01.184045", "end": "2022-01-12 03:43:52.364347", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/148171059690.23691", "start": "2022-01-12 03:43:51.180302", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-fbnpl3u4/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-fbnpl3u4/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 03:43:57,427 p=23272 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "68191882205.25950", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:01.518108", "end": "2022-01-12 03:43:53.290469", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/68191882205.25950", "start": "2022-01-12 03:43:51.772361", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-196p_51g/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-196p_51g/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 03:43:57,428 p=23272 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "264026674313.23699", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:01.500470", "end": "2022-01-12 03:43:53.768386", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/264026674313.23699", "start": "2022-01-12 03:43:52.267916", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-l085p68f/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-l085p68f/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 03:43:57,437 p=23272 u=moonja n=ansible | TASK [patroni-postgres : Uninstall typing pip module on all three nodes] **********************************************
2022-01-12 03:43:57,460 p=23272 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:43:57,470 p=23272 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:43:57,482 p=23272 u=moonja n=ansible | TASK [patroni-postgres : Uninstall setuptools rust on all three nodes] ************************************************
2022-01-12 03:43:57,503 p=23272 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:43:57,516 p=23272 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:43:57,526 p=23272 u=moonja n=ansible | TASK [patroni-postgres : Uninstall patroni module on all three nodes] *************************************************
2022-01-12 03:43:57,547 p=23272 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:43:57,559 p=23272 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:43:57,570 p=23272 u=moonja n=ansible | TASK [patroni-postgres : Uninstall wheel module on all three nodes] ***************************************************
2022-01-12 03:43:57,592 p=23272 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:43:57,603 p=23272 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:43:57,615 p=23272 u=moonja n=ansible | TASK [patroni-postgres : Uninstall psycopg2-binary module on all three nodes] *****************************************
2022-01-12 03:43:57,636 p=23272 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:43:57,649 p=23272 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:43:57,661 p=23272 u=moonja n=ansible | TASK [patroni-postgres : Delete the dependencies file of etcd  on all three nodes] ************************************
2022-01-12 03:43:57,684 p=23272 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:43:57,697 p=23272 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:43:57,712 p=23272 u=moonja n=ansible | TASK [patroni-postgres : Uninstall VMware Postgres RPM package on all hosts as root] **********************************
2022-01-12 03:44:09,751 p=23272 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 03:44:09,752 p=23272 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 03:44:09,764 p=23272 u=moonja n=ansible | TASK [patroni-postgres : Delete the vmwawre-postgres rpm file to all hosts in cluster] ********************************
2022-01-12 03:44:10,317 p=23272 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 03:44:10,317 p=23272 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 03:44:10,326 p=23272 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 03:44:10,869 p=23272 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 03:44:10,870 p=23272 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 03:44:10,880 p=23272 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 03:44:11,403 p=23272 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 03:44:11,404 p=23272 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 03:44:11,416 p=23272 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 03:44:12,372 p=23272 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 03:44:12,373 p=23272 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 03:44:12,409 p=23272 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-12 03:44:12,410 p=23272 u=moonja n=ansible | postgres-ha01              : ok=7    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=3   
2022-01-12 03:44:12,410 p=23272 u=moonja n=ansible | postgres-ha02              : ok=7    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=3   
2022-01-12 03:44:12,410 p=23272 u=moonja n=ansible | postgres-ha03              : ok=7    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=3   
2022-01-12 03:44:12,410 p=23272 u=moonja n=ansible | postgres-haproxy01         : ok=8    changed=4    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-12 03:44:12,410 p=23272 u=moonja n=ansible | postgres-haproxy02         : ok=8    changed=4    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-12 03:44:36,765 p=24621 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 03:44:36,773 p=24621 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 03:44:36,995 p=24621 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 03:44:37,052 p=24621 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 03:44:37,080 p=24621 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 03:44:38,810 p=24621 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 03:44:38,813 p=24621 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 03:44:38,816 p=24621 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 03:44:38,819 p=24621 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 03:44:38,821 p=24621 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 03:44:38,838 p=24621 u=moonja n=ansible | TASK [patroni-postgres : Stop services for patroni and etcd] **********************************************************
2022-01-12 03:44:38,861 p=24621 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=patroni) 
2022-01-12 03:44:38,861 p=24621 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=etcd) 
2022-01-12 03:44:38,876 p=24621 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=patroni) 
2022-01-12 03:44:38,877 p=24621 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=etcd) 
2022-01-12 03:44:40,096 p=24621 u=moonja n=ansible | failed: [postgres-ha01] (item=patroni) => {"ansible_loop_var": "item", "changed": false, "item": "patroni", "msg": "Could not find the requested service patroni: host"}
2022-01-12 03:44:40,098 p=24621 u=moonja n=ansible | failed: [postgres-ha02] (item=patroni) => {"ansible_loop_var": "item", "changed": false, "item": "patroni", "msg": "Could not find the requested service patroni: host"}
2022-01-12 03:44:40,099 p=24621 u=moonja n=ansible | failed: [postgres-ha03] (item=patroni) => {"ansible_loop_var": "item", "changed": false, "item": "patroni", "msg": "Could not find the requested service patroni: host"}
2022-01-12 03:44:40,562 p=24621 u=moonja n=ansible | failed: [postgres-ha02] (item=etcd) => {"ansible_loop_var": "item", "changed": false, "item": "etcd", "msg": "Could not find the requested service patroni: host"}
2022-01-12 03:44:40,563 p=24621 u=moonja n=ansible | failed: [postgres-ha03] (item=etcd) => {"ansible_loop_var": "item", "changed": false, "item": "etcd", "msg": "Could not find the requested service patroni: host"}
2022-01-12 03:44:40,564 p=24621 u=moonja n=ansible | ...ignoring
2022-01-12 03:44:40,564 p=24621 u=moonja n=ansible | ...ignoring
2022-01-12 03:44:40,585 p=24621 u=moonja n=ansible | failed: [postgres-ha01] (item=etcd) => {"ansible_loop_var": "item", "changed": false, "item": "etcd", "msg": "Could not find the requested service patroni: host"}
2022-01-12 03:44:40,586 p=24621 u=moonja n=ansible | ...ignoring
2022-01-12 03:44:40,600 p=24621 u=moonja n=ansible | TASK [patroni-postgres : Kill etcd process] ***************************************************************************
2022-01-12 03:44:40,621 p=24621 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:44:40,638 p=24621 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:44:47,709 p=24621 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "464281044588.24500", "changed": true, "cmd": "( killall etcd )", "delta": "0:00:00.007902", "end": "2022-01-12 03:44:41.176099", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/464281044588.24500", "start": "2022-01-12 03:44:41.168197", "started": 1, "stderr": "etcd: no process found", "stderr_lines": ["etcd: no process found"], "stdout": "", "stdout_lines": []}
2022-01-12 03:44:47,709 p=24621 u=moonja n=ansible | ...ignoring
2022-01-12 03:44:47,979 p=24621 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "460154203880.24508", "changed": true, "cmd": "( killall etcd )", "delta": "0:00:00.011948", "end": "2022-01-12 03:44:42.277535", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/460154203880.24508", "start": "2022-01-12 03:44:42.265587", "started": 1, "stderr": "etcd: no process found", "stderr_lines": ["etcd: no process found"], "stdout": "", "stdout_lines": []}
2022-01-12 03:44:47,979 p=24621 u=moonja n=ansible | ...ignoring
2022-01-12 03:44:48,933 p=24621 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "306418717137.26834", "changed": true, "cmd": "( killall etcd )", "delta": "0:00:00.008096", "end": "2022-01-12 03:44:41.839676", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/306418717137.26834", "start": "2022-01-12 03:44:41.831580", "started": 1, "stderr": "etcd: no process found", "stderr_lines": ["etcd: no process found"], "stdout": "", "stdout_lines": []}
2022-01-12 03:44:48,933 p=24621 u=moonja n=ansible | ...ignoring
2022-01-12 03:44:48,943 p=24621 u=moonja n=ansible | TASK [patroni-postgres : Delete configuration file for patroni and systemd] *******************************************
2022-01-12 03:44:49,771 p=24621 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 03:44:49,772 p=24621 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 03:44:49,776 p=24621 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 03:44:49,784 p=24621 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 03:44:49,786 p=24621 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 03:44:50,199 p=24621 u=moonja n=ansible | ok: [postgres-ha03] => (item=/etc/systemd/system/patroni.service)
2022-01-12 03:44:50,207 p=24621 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/etc/systemd/system/patroni.service)
2022-01-12 03:44:50,208 p=24621 u=moonja n=ansible | ok: [postgres-ha02] => (item=/etc/systemd/system/patroni.service)
2022-01-12 03:44:50,211 p=24621 u=moonja n=ansible | ok: [postgres-ha01] => (item=/etc/systemd/system/patroni.service)
2022-01-12 03:44:50,459 p=24621 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/etc/systemd/system/patroni.service)
2022-01-12 03:44:50,631 p=24621 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 03:44:50,631 p=24621 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 03:44:50,638 p=24621 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 03:44:50,642 p=24621 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 03:44:50,918 p=24621 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 03:44:51,080 p=24621 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 03:44:51,081 p=24621 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 03:44:51,084 p=24621 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 03:44:51,085 p=24621 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 03:44:51,361 p=24621 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 03:44:51,518 p=24621 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 03:44:51,525 p=24621 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 03:44:51,561 p=24621 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 03:44:51,562 p=24621 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 03:44:51,787 p=24621 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 03:44:51,941 p=24621 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 03:44:51,947 p=24621 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 03:44:51,979 p=24621 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 03:44:51,981 p=24621 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 03:44:52,186 p=24621 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 03:44:52,199 p=24621 u=moonja n=ansible | TASK [patroni-postgres : Delete data directory for patroni cluster] ***************************************************
2022-01-12 03:44:52,709 p=24621 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 03:44:52,727 p=24621 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 03:44:52,737 p=24621 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 03:44:52,743 p=24621 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 03:44:52,743 p=24621 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 03:44:52,755 p=24621 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 03:44:52,780 p=24621 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:44:52,800 p=24621 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:44:53,439 p=24621 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 03:44:53,451 p=24621 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 03:44:53,451 p=24621 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 03:44:53,468 p=24621 u=moonja n=ansible | TASK [patroni-postgres : Uninstall pip modules of Patroni prerequisites on all three nodes] ***************************
2022-01-12 03:44:53,525 p=24621 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:44:53,540 p=24621 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:44:59,918 p=24621 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "361786053142.25798", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.421310", "end": "2022-01-12 03:44:55.100856", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/361786053142.25798", "start": "2022-01-12 03:44:54.679546", "started": 1, "stderr": "WARNING: Skipping urllib3 as it is not installed.\nWARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping urllib3 as it is not installed.", "WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: PyYAML 3.13"]}
2022-01-12 03:44:59,936 p=24621 u=moonja n=ansible | ...ignoring
2022-01-12 03:45:00,920 p=24621 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "516681164230.25790", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.421934", "end": "2022-01-12 03:44:54.024728", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/516681164230.25790", "start": "2022-01-12 03:44:53.602794", "started": 1, "stderr": "WARNING: Skipping urllib3 as it is not installed.\nWARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping urllib3 as it is not installed.", "WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: PyYAML 3.13"]}
2022-01-12 03:45:00,920 p=24621 u=moonja n=ansible | ...ignoring
2022-01-12 03:45:00,929 p=24621 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "264470298703.28255", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.428782", "end": "2022-01-12 03:44:54.648793", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/264470298703.28255", "start": "2022-01-12 03:44:54.220011", "started": 1, "stderr": "WARNING: Skipping urllib3 as it is not installed.\nWARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping urllib3 as it is not installed.", "WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: PyYAML 3.13"]}
2022-01-12 03:45:00,930 p=24621 u=moonja n=ansible | ...ignoring
2022-01-12 03:45:00,939 p=24621 u=moonja n=ansible | TASK [patroni-postgres : Install wheel pip module on all three nodes] *************************************************
2022-01-12 03:45:00,962 p=24621 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:45:00,980 p=24621 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:45:07,290 p=24621 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "899373690536.26142", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:00.398378", "end": "2022-01-12 03:45:02.528313", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/899373690536.26142", "start": "2022-01-12 03:45:02.129935", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-jqp47gmr/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-jqp47gmr/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 03:45:07,983 p=24621 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "10396522710.26134", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:00.401646", "end": "2022-01-12 03:45:01.452756", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/10396522710.26134", "start": "2022-01-12 03:45:01.051110", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-s902n7e5/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-s902n7e5/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 03:45:07,984 p=24621 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "777360106111.28633", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:00.416751", "end": "2022-01-12 03:45:02.068089", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/777360106111.28633", "start": "2022-01-12 03:45:01.651338", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-zysnk9u1/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-zysnk9u1/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 03:45:07,995 p=24621 u=moonja n=ansible | TASK [patroni-postgres : Uninstall typing pip module on all three nodes] **********************************************
2022-01-12 03:45:08,017 p=24621 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:45:08,029 p=24621 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:45:08,039 p=24621 u=moonja n=ansible | TASK [patroni-postgres : Uninstall setuptools rust on all three nodes] ************************************************
2022-01-12 03:45:08,059 p=24621 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:45:08,072 p=24621 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:45:08,081 p=24621 u=moonja n=ansible | TASK [patroni-postgres : Uninstall patroni module on all three nodes] *************************************************
2022-01-12 03:45:08,101 p=24621 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:45:08,112 p=24621 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:45:08,125 p=24621 u=moonja n=ansible | TASK [patroni-postgres : Uninstall wheel module on all three nodes] ***************************************************
2022-01-12 03:45:08,146 p=24621 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:45:08,157 p=24621 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:45:08,169 p=24621 u=moonja n=ansible | TASK [patroni-postgres : Uninstall psycopg2-binary module on all three nodes] *****************************************
2022-01-12 03:45:08,190 p=24621 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:45:08,202 p=24621 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:45:08,214 p=24621 u=moonja n=ansible | TASK [patroni-postgres : Delete the dependencies file of etcd  on all three nodes] ************************************
2022-01-12 03:45:08,237 p=24621 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:45:08,251 p=24621 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:45:08,262 p=24621 u=moonja n=ansible | TASK [patroni-postgres : Uninstall VMware Postgres RPM package on all hosts as root] **********************************
2022-01-12 03:45:15,100 p=24621 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 03:45:15,112 p=24621 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 03:45:15,122 p=24621 u=moonja n=ansible | TASK [patroni-postgres : Delete the vmwawre-postgres rpm file to all hosts in cluster] ********************************
2022-01-12 03:45:15,669 p=24621 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 03:45:15,669 p=24621 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 03:45:15,678 p=24621 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 03:45:16,150 p=24621 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 03:45:16,151 p=24621 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 03:45:16,161 p=24621 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 03:45:16,553 p=24621 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 03:45:16,555 p=24621 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 03:45:16,569 p=24621 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 03:45:17,523 p=24621 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 03:45:17,524 p=24621 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 03:45:17,558 p=24621 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-12 03:45:17,559 p=24621 u=moonja n=ansible | postgres-ha01              : ok=7    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=3   
2022-01-12 03:45:17,559 p=24621 u=moonja n=ansible | postgres-ha02              : ok=7    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=3   
2022-01-12 03:45:17,559 p=24621 u=moonja n=ansible | postgres-ha03              : ok=7    changed=2    unreachable=0    failed=1    skipped=0    rescued=0    ignored=3   
2022-01-12 03:45:17,559 p=24621 u=moonja n=ansible | postgres-haproxy01         : ok=8    changed=2    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-12 03:45:17,559 p=24621 u=moonja n=ansible | postgres-haproxy02         : ok=8    changed=2    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-12 03:46:26,004 p=25931 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 03:46:26,016 p=25931 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 03:46:26,248 p=25931 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 03:46:26,307 p=25931 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 03:46:26,336 p=25931 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 03:46:28,468 p=25931 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 03:46:28,479 p=25931 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 03:46:28,486 p=25931 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 03:46:28,490 p=25931 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 03:46:28,491 p=25931 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 03:46:28,509 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 03:46:29,782 p=25931 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 03:46:29,783 p=25931 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 03:46:29,794 p=25931 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 03:46:29,801 p=25931 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 03:46:29,809 p=25931 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 03:46:29,820 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 03:46:30,753 p=25931 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 03:46:30,756 p=25931 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 03:46:30,765 p=25931 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:46:30,767 p=25931 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:46:30,767 p=25931 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:46:30,779 p=25931 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 03:46:31,424 p=25931 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 03:46:32,335 p=25931 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:46:32,352 p=25931 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:46:32,352 p=25931 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:46:32,425 p=25931 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 03:46:32,438 p=25931 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 03:46:32,474 p=25931 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 03:46:32,490 p=25931 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 03:46:32,507 p=25931 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 03:46:32,508 p=25931 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 03:46:32,521 p=25931 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 03:46:32,531 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] **********************************
2022-01-12 03:46:33,594 p=25931 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 03:46:33,595 p=25931 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 03:46:33,601 p=25931 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 03:46:34,035 p=25931 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 03:46:34,036 p=25931 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 03:46:34,048 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] ************************************************
2022-01-12 03:46:41,234 p=25931 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 03:46:41,234 p=25931 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 03:46:41,829 p=25931 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 03:46:51,928 p=25931 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 03:46:51,942 p=25931 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 03:46:51,952 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] *******************************
2022-01-12 03:46:59,409 p=25931 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3)
2022-01-12 03:46:59,562 p=25931 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3)
2022-01-12 03:47:00,279 p=25931 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3)
2022-01-12 03:47:01,040 p=25931 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3)
2022-01-12 03:47:01,041 p=25931 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3)
2022-01-12 03:47:06,172 p=25931 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-devel)
2022-01-12 03:47:06,385 p=25931 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-devel)
2022-01-12 03:47:07,050 p=25931 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-devel)
2022-01-12 03:47:07,606 p=25931 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-devel)
2022-01-12 03:47:07,771 p=25931 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-devel)
2022-01-12 03:47:12,770 p=25931 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=gcc)
2022-01-12 03:47:13,340 p=25931 u=moonja n=ansible | ok: [postgres-ha01] => (item=gcc)
2022-01-12 03:47:13,841 p=25931 u=moonja n=ansible | ok: [postgres-ha03] => (item=gcc)
2022-01-12 03:47:13,952 p=25931 u=moonja n=ansible | ok: [postgres-ha02] => (item=gcc)
2022-01-12 03:47:14,213 p=25931 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=gcc)
2022-01-12 03:47:19,175 p=25931 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=etcd)
2022-01-12 03:47:19,618 p=25931 u=moonja n=ansible | ok: [postgres-ha01] => (item=etcd)
2022-01-12 03:47:20,760 p=25931 u=moonja n=ansible | ok: [postgres-ha03] => (item=etcd)
2022-01-12 03:47:21,012 p=25931 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=etcd)
2022-01-12 03:47:22,181 p=25931 u=moonja n=ansible | ok: [postgres-ha02] => (item=etcd)
2022-01-12 03:47:26,468 p=25931 u=moonja n=ansible | ok: [postgres-ha01] => (item=python-psycopg2)
2022-01-12 03:47:30,958 p=25931 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=python-psycopg2)
2022-01-12 03:47:32,416 p=25931 u=moonja n=ansible | changed: [postgres-ha03] => (item=python-psycopg2)
2022-01-12 03:47:32,525 p=25931 u=moonja n=ansible | changed: [postgres-haproxy02] => (item=python-psycopg2)
2022-01-12 03:47:33,534 p=25931 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-pip)
2022-01-12 03:47:35,083 p=25931 u=moonja n=ansible | changed: [postgres-ha02] => (item=python-psycopg2)
2022-01-12 03:47:37,543 p=25931 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-pip)
2022-01-12 03:47:38,637 p=25931 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-pip)
2022-01-12 03:47:38,764 p=25931 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-pip)
2022-01-12 03:47:40,228 p=25931 u=moonja n=ansible | ok: [postgres-ha01] => (item=python34-setuptools)
2022-01-12 03:47:41,760 p=25931 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-pip)
2022-01-12 03:47:44,275 p=25931 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python34-setuptools)
2022-01-12 03:47:45,018 p=25931 u=moonja n=ansible | ok: [postgres-ha03] => (item=python34-setuptools)
2022-01-12 03:47:45,085 p=25931 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python34-setuptools)
2022-01-12 03:47:47,160 p=25931 u=moonja n=ansible | ok: [postgres-ha01] => (item=python27-python-setuptools)
2022-01-12 03:47:49,035 p=25931 u=moonja n=ansible | ok: [postgres-ha02] => (item=python34-setuptools)
2022-01-12 03:47:50,691 p=25931 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python27-python-setuptools)
2022-01-12 03:47:51,990 p=25931 u=moonja n=ansible | ok: [postgres-ha03] => (item=python27-python-setuptools)
2022-01-12 03:47:52,248 p=25931 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python27-python-setuptools)
2022-01-12 03:47:53,837 p=25931 u=moonja n=ansible | ok: [postgres-ha01] => (item=yamllint)
2022-01-12 03:47:56,431 p=25931 u=moonja n=ansible | ok: [postgres-ha02] => (item=python27-python-setuptools)
2022-01-12 03:47:57,077 p=25931 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=yamllint)
2022-01-12 03:47:58,321 p=25931 u=moonja n=ansible | ok: [postgres-ha03] => (item=yamllint)
2022-01-12 03:47:58,408 p=25931 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=yamllint)
2022-01-12 03:48:01,229 p=25931 u=moonja n=ansible | ok: [postgres-ha01] => (item=daemonize)
2022-01-12 03:48:02,943 p=25931 u=moonja n=ansible | ok: [postgres-ha02] => (item=yamllint)
2022-01-12 03:48:03,545 p=25931 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=daemonize)
2022-01-12 03:48:04,590 p=25931 u=moonja n=ansible | ok: [postgres-ha03] => (item=daemonize)
2022-01-12 03:48:04,656 p=25931 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=daemonize)
2022-01-12 03:48:10,013 p=25931 u=moonja n=ansible | ok: [postgres-ha02] => (item=daemonize)
2022-01-12 03:48:10,035 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Install the dependencies of etcd  on all three nodes] ****************************************
2022-01-12 03:48:10,060 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:48:10,090 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:48:10,863 p=25931 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 03:48:10,863 p=25931 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 03:48:10,866 p=25931 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 03:48:10,878 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Install setuptools rust on all three nodes] **************************************************
2022-01-12 03:48:10,916 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:48:10,930 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:48:17,292 p=25931 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:48:17,354 p=25931 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:48:17,495 p=25931 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:48:17,505 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Install typing pip module on all three nodes] ************************************************
2022-01-12 03:48:17,528 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:48:17,561 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:48:23,789 p=25931 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:48:23,825 p=25931 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:48:23,835 p=25931 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:48:23,846 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Upgrade pip3 version] ************************************************************************
2022-01-12 03:48:23,869 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:48:23,902 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:48:30,561 p=25931 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:48:30,562 p=25931 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:48:30,562 p=25931 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:48:30,573 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Install wheel module on all three nodes] *****************************************************
2022-01-12 03:48:30,613 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:48:30,627 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:48:36,888 p=25931 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:48:36,945 p=25931 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:48:36,946 p=25931 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:48:36,956 p=25931 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 03:48:36,979 p=25931 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:48:36,996 p=25931 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:48:37,052 p=25931 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "275352144152.2969",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.626351",
        "end": "2022-01-12 03:48:31.899360",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/275352144152.2969",
        "start": "2022-01-12 03:48:31.273009",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 03:48:37,055 p=25931 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "30930946757.32324",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.634349",
        "end": "2022-01-12 03:48:32.353574",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/30930946757.32324",
        "start": "2022-01-12 03:48:31.719225",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 03:48:37,056 p=25931 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "403082978089.32323",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.625162",
        "end": "2022-01-12 03:48:31.284396",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/403082978089.32323",
        "start": "2022-01-12 03:48:30.659234",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 03:48:37,073 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Install pip modules of Patroni prerequisites on all three nodes] *****************************
2022-01-12 03:48:37,112 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:48:37,127 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:48:43,547 p=25931 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:48:44,566 p=25931 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:48:45,439 p=25931 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:48:45,450 p=25931 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 03:48:45,491 p=25931 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:48:45,510 p=25931 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:48:45,555 p=25931 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "655129641252.3355",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.760186",
        "end": "2022-01-12 03:48:38.569883",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/655129641252.3355",
        "start": "2022-01-12 03:48:37.809697",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 03:48:45,563 p=25931 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "542110472815.32676",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.754996",
        "end": "2022-01-12 03:48:39.038533",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/542110472815.32676",
        "start": "2022-01-12 03:48:38.283537",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 03:48:45,605 p=25931 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "392826806767.32667",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.748239",
        "end": "2022-01-12 03:48:37.993417",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/392826806767.32667",
        "start": "2022-01-12 03:48:37.245178",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 03:48:45,620 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Iinstall wheel module on all three nodes] ****************************************************
2022-01-12 03:48:45,661 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:48:45,676 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:48:51,907 p=25931 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:48:51,974 p=25931 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:48:51,974 p=25931 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:48:51,986 p=25931 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 03:48:52,025 p=25931 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:48:52,043 p=25931 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:48:52,061 p=25931 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "740834139033.3733",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.567468",
        "end": "2022-01-12 03:48:46.847404",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/740834139033.3733",
        "start": "2022-01-12 03:48:46.279936",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 03:48:52,062 p=25931 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "379233191646.593",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.496926",
        "end": "2022-01-12 03:48:47.262153",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/379233191646.593",
        "start": "2022-01-12 03:48:46.765227",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 03:48:52,102 p=25931 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "229290401483.589",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.486347",
        "end": "2022-01-12 03:48:46.174630",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/229290401483.589",
        "start": "2022-01-12 03:48:45.688283",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 03:48:52,117 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Install psycopg2-binary module on all three nodes] *******************************************
2022-01-12 03:48:52,155 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:48:52,173 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:48:58,454 p=25931 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:48:58,476 p=25931 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:48:58,476 p=25931 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:48:58,486 p=25931 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 03:48:58,525 p=25931 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:48:58,544 p=25931 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:48:58,563 p=25931 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "249205174274.4111",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.581960",
        "end": "2022-01-12 03:48:53.420355",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/249205174274.4111",
        "start": "2022-01-12 03:48:52.838395",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 03:48:58,602 p=25931 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "296823528291.977",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.501324",
        "end": "2022-01-12 03:48:53.799228",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/296823528291.977",
        "start": "2022-01-12 03:48:53.297904",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 03:48:58,603 p=25931 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "341468216188.972",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.509251",
        "end": "2022-01-12 03:48:52.713974",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/341468216188.972",
        "start": "2022-01-12 03:48:52.204723",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 03:48:58,617 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Install patroni modules on all three nodes for vmware-postgres 13.x version] *****************
2022-01-12 03:48:58,656 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:48:58,671 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:49:05,393 p=25931 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:49:05,393 p=25931 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:49:05,505 p=25931 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:49:05,514 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 03:49:05,538 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:49:05,556 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:49:06,286 p=25931 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 03:49:06,286 p=25931 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 03:49:06,287 p=25931 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 03:49:06,297 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Create the etcd.yml configuration file for all nodes] ****************************************
2022-01-12 03:49:06,339 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:49:06,357 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:49:07,385 p=25931 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:49:07,388 p=25931 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:49:07,389 p=25931 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:49:07,404 p=25931 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 03:49:07,443 p=25931 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:49:07,462 p=25931 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:49:07,480 p=25931 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "9ae4719bb01c1f3fe9f70a6e2c0044c7c41a95fe",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "c58c15d1af07ce06cb21d7da9f41a53d",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641926946.475389-29714-56816927716937/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 03:49:07,501 p=25931 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "15047e7ccbff3a953a4abe4edc1ee87eccf0c835",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "90cfbd68000432263a3d9f571742a601",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641926946.4767969-29715-263583223800614/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 03:49:07,503 p=25931 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "a89b395b153fde540c5b5250ee19c5a9b4a69b60",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "50ed3a33db1def8c3d70f9d8154ad6fa",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641926946.47998-29719-94164809177795/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 03:49:07,519 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of etcd into /etc/systemd/system] *********************************
2022-01-12 03:49:07,540 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:49:07,556 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:49:08,361 p=25931 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 03:49:08,362 p=25931 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 03:49:08,362 p=25931 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 03:49:08,373 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Reload and start etcd through systemd] *******************************************************
2022-01-12 03:49:08,395 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:49:08,416 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:49:13,736 p=25931 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:49:13,737 p=25931 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:49:16,866 p=25931 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:49:16,880 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Lists the members and identifies the current Leader.] ****************************************
2022-01-12 03:49:16,906 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:49:16,942 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:49:17,441 p=25931 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:49:17,456 p=25931 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:49:17,461 p=25931 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:49:17,473 p=25931 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 03:49:17,514 p=25931 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:49:17,532 p=25931 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:49:17,551 p=25931 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.024714",
        "end": "2022-01-12 03:49:17.514837",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 03:49:17.490123",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 03:49:17,552 p=25931 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.021208",
        "end": "2022-01-12 03:49:17.954340",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 03:49:17.933132",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 03:49:17,602 p=25931 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.022891",
        "end": "2022-01-12 03:49:16.895106",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 03:49:16.872215",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 03:49:17,617 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Set data directory for patroni cluster] ******************************************************
2022-01-12 03:49:18,143 p=25931 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:49:18,145 p=25931 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:49:18,146 p=25931 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:49:18,343 p=25931 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 03:49:18,391 p=25931 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 03:49:18,407 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Create the patroni.yml configuration file for all nodes] *************************************
2022-01-12 03:49:18,445 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:49:18,460 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:49:19,424 p=25931 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:49:19,433 p=25931 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:49:20,728 p=25931 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:49:20,741 p=25931 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 03:49:20,781 p=25931 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:49:20,798 p=25931 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:49:20,817 p=25931 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "1e2f5c2baed0a3f77b013eb26b7ac80dea3371b6",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "bf3954d99c8dd9d72ec1a708a959a5d5",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1547,
        "src": "/var/tmp/ansible-tmp-1641926958.573149-30050-232201872866781/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 03:49:20,851 p=25931 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "5606cfbae14c2c8449ba01b036b4f534f3b16c7c",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "3bf45975e277ac4dcc7e1664878ff4b1",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1547,
        "src": "/var/tmp/ansible-tmp-1641926958.574902-30051-103915059944614/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 03:49:20,853 p=25931 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "6537f05b6e7737e698e9f4af76d5aef524fcd104",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "857411fcb313a5a276ff9379d716b5e6",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1547,
        "src": "/var/tmp/ansible-tmp-1641926958.576587-30055-15123340613560/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 03:49:20,867 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of patroni into /etc/systemd/system] ******************************
2022-01-12 03:49:20,889 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:49:20,922 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:49:21,760 p=25931 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:49:21,761 p=25931 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:49:21,771 p=25931 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:49:21,782 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Reload and start systemd service of patroni] *************************************************
2022-01-12 03:49:21,804 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:49:21,823 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:49:22,506 p=25931 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:49:22,507 p=25931 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:49:22,508 p=25931 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:49:22,521 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 03:49:22,540 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:49:22,550 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Remove clsuter on master] ********************************************************************
2022-01-12 03:49:22,571 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:49:22,590 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:49:22,621 p=25931 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-12 03:49:22,632 p=25931 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-12 03:49:29,268 p=25931 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:49:29,278 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 03:49:29,296 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:49:29,340 p=25931 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 03:49:29,384 p=25931 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:49:29,403 p=25931 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:49:29,453 p=25931 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "873010115881.6530",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n",
        "delta": "0:00:00.942063",
        "end": "2022-01-12 03:49:24.271582",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/873010115881.6530",
        "start": "2022-01-12 03:49:23.329519",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+--------+------+------+-------+----+-----------+\n| Member | Host | Role | State | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (705201522416243+\n+--------+------+------+-------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": ",
        "stdout_lines": [
            "+--------+------+------+-------+----+-----------+",
            "| Member | Host | Role | State | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (705201522416243+",
            "+--------+------+------+-------+----+-----------+",
            "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": "
        ]
    }
}
2022-01-12 03:49:29,455 p=25931 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:49:29,456 p=25931 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:49:29,467 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Reinitialize patroni clsuter on all node] ****************************************************
2022-01-12 03:49:29,489 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:49:29,507 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:49:35,862 p=25931 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:49:35,926 p=25931 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:49:36,241 p=25931 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:49:36,250 p=25931 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 03:49:36,289 p=25931 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:49:36,307 p=25931 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:49:36,352 p=25931 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "974874968647.6906",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.275440",
        "end": "2022-01-12 03:49:30.806190",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/974874968647.6906",
        "start": "2022-01-12 03:49:30.530750",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-12 03:49:36,354 p=25931 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "469182747306.3223",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.306169",
        "end": "2022-01-12 03:49:30.964297",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/469182747306.3223",
        "start": "2022-01-12 03:49:30.658128",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Failed: reinitialize for member postgres-ha02, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Failed: reinitialize for member postgres-ha02, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-12 03:49:36,354 p=25931 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "507481856405.3213",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.326658",
        "end": "2022-01-12 03:49:29.906757",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/507481856405.3213",
        "start": "2022-01-12 03:49:29.580099",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha02, postgres-ha03, postgres-ha01]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Failed: reinitialize for member postgres-ha03, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha02, postgres-ha03, postgres-ha01]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Failed: reinitialize for member postgres-ha03, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-12 03:49:36,365 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 03:49:36,383 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:49:36,393 p=25931 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 03:49:36,433 p=25931 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:49:36,450 p=25931 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:49:36,502 p=25931 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "974874968647.6906",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.275440",
        "end": "2022-01-12 03:49:30.806190",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/974874968647.6906",
        "start": "2022-01-12 03:49:30.530750",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-12 03:49:36,504 p=25931 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "469182747306.3223",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.306169",
        "end": "2022-01-12 03:49:30.964297",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/469182747306.3223",
        "start": "2022-01-12 03:49:30.658128",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Failed: reinitialize for member postgres-ha02, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Failed: reinitialize for member postgres-ha02, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-12 03:49:36,506 p=25931 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "507481856405.3213",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.326658",
        "end": "2022-01-12 03:49:29.906757",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/507481856405.3213",
        "start": "2022-01-12 03:49:29.580099",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha02, postgres-ha03, postgres-ha01]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Failed: reinitialize for member postgres-ha03, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha02, postgres-ha03, postgres-ha01]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Failed: reinitialize for member postgres-ha03, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-12 03:49:36,519 p=25931 u=moonja n=ansible | TASK [patroni-postgres : Run the patronictl command-line utility to view the cluster state with Patroni started on all three nodes,] ***
2022-01-12 03:49:36,557 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 03:49:36,572 p=25931 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 03:49:37,355 p=25931 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 03:49:37,372 p=25931 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 03:49:37,438 p=25931 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 03:49:37,451 p=25931 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 03:49:37,491 p=25931 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:49:37,508 p=25931 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 03:49:37,552 p=25931 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.330297",
        "end": "2022-01-12 03:49:37.490570",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 03:49:37.160273",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-12 03:49:37,556 p=25931 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.317233",
        "end": "2022-01-12 03:49:37.888243",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 03:49:37.571010",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-12 03:49:37,602 p=25931 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.303829",
        "end": "2022-01-12 03:49:36.788343",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 03:49:36.484514",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-12 03:49:37,662 p=25931 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-12 03:49:37,662 p=25931 u=moonja n=ansible | postgres-ha01              : ok=40   changed=20   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2022-01-12 03:49:37,662 p=25931 u=moonja n=ansible | postgres-ha02              : ok=39   changed=20   unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2022-01-12 03:49:37,663 p=25931 u=moonja n=ansible | postgres-ha03              : ok=39   changed=20   unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2022-01-12 03:49:37,663 p=25931 u=moonja n=ansible | postgres-haproxy01         : ok=20   changed=6    unreachable=0    failed=0    skipped=23   rescued=0    ignored=0   
2022-01-12 03:49:37,663 p=25931 u=moonja n=ansible | postgres-haproxy02         : ok=20   changed=6    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
2022-01-12 04:21:48,423 p=36730 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 04:21:48,442 p=36730 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 04:21:48,727 p=36730 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 04:21:48,786 p=36730 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 04:21:48,818 p=36730 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 04:21:50,994 p=36730 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 04:21:51,003 p=36730 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 04:21:51,005 p=36730 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 04:21:51,006 p=36730 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 04:21:51,008 p=36730 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 04:21:51,026 p=36730 u=moonja n=ansible | TASK [patroni-postgres : Stop services for patroni and etcd] **********************************************************
2022-01-12 04:21:51,051 p=36730 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=patroni) 
2022-01-12 04:21:51,051 p=36730 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=etcd) 
2022-01-12 04:21:51,066 p=36730 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=patroni) 
2022-01-12 04:21:51,067 p=36730 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=etcd) 
2022-01-12 04:21:52,861 p=36730 u=moonja n=ansible | changed: [postgres-ha02] => (item=patroni)
2022-01-12 04:21:52,906 p=36730 u=moonja n=ansible | changed: [postgres-ha01] => (item=patroni)
2022-01-12 04:21:53,407 p=36730 u=moonja n=ansible | changed: [postgres-ha02] => (item=etcd)
2022-01-12 04:21:53,462 p=36730 u=moonja n=ansible | changed: [postgres-ha01] => (item=etcd)
2022-01-12 04:21:54,917 p=36730 u=moonja n=ansible | changed: [postgres-ha03] => (item=patroni)
2022-01-12 04:21:55,588 p=36730 u=moonja n=ansible | changed: [postgres-ha03] => (item=etcd)
2022-01-12 04:21:55,601 p=36730 u=moonja n=ansible | TASK [patroni-postgres : Kill etcd process] ***************************************************************************
2022-01-12 04:21:55,622 p=36730 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:21:55,639 p=36730 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:22:02,599 p=36730 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:22:02,599 p=36730 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:22:02,600 p=36730 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:22:02,610 p=36730 u=moonja n=ansible | TASK [patroni-postgres : Delete configuration file for patroni and systemd] *******************************************
2022-01-12 04:22:03,519 p=36730 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 04:22:03,522 p=36730 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 04:22:03,524 p=36730 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 04:22:03,532 p=36730 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 04:22:03,533 p=36730 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 04:22:03,946 p=36730 u=moonja n=ansible | changed: [postgres-ha02] => (item=/etc/systemd/system/patroni.service)
2022-01-12 04:22:03,952 p=36730 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/etc/systemd/system/patroni.service)
2022-01-12 04:22:03,963 p=36730 u=moonja n=ansible | changed: [postgres-ha03] => (item=/etc/systemd/system/patroni.service)
2022-01-12 04:22:03,963 p=36730 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/etc/systemd/system/patroni.service)
2022-01-12 04:22:03,964 p=36730 u=moonja n=ansible | changed: [postgres-ha01] => (item=/etc/systemd/system/patroni.service)
2022-01-12 04:22:04,359 p=36730 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 04:22:04,367 p=36730 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 04:22:04,375 p=36730 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 04:22:04,393 p=36730 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 04:22:04,411 p=36730 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 04:22:04,874 p=36730 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 04:22:04,900 p=36730 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 04:22:04,901 p=36730 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 04:22:04,943 p=36730 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 04:22:04,971 p=36730 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 04:22:05,289 p=36730 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 04:22:05,323 p=36730 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 04:22:05,328 p=36730 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 04:22:05,367 p=36730 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 04:22:05,414 p=36730 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 04:22:05,702 p=36730 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 04:22:05,739 p=36730 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 04:22:05,747 p=36730 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 04:22:05,786 p=36730 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 04:22:05,836 p=36730 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 04:22:05,848 p=36730 u=moonja n=ansible | TASK [patroni-postgres : Delete data directory for patroni cluster] ***************************************************
2022-01-12 04:22:06,325 p=36730 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 04:22:06,332 p=36730 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 04:22:06,390 p=36730 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:22:06,402 p=36730 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:22:06,409 p=36730 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:22:06,419 p=36730 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 04:22:06,441 p=36730 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:22:06,458 p=36730 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:22:07,421 p=36730 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 04:22:07,421 p=36730 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 04:22:07,428 p=36730 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 04:22:07,438 p=36730 u=moonja n=ansible | TASK [patroni-postgres : Uninstall pip modules of Patroni prerequisites on all three nodes] ***************************
2022-01-12 04:22:07,460 p=36730 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:22:07,476 p=36730 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:22:14,717 p=36730 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "514320324830.5985", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.432050", "end": "2022-01-12 04:22:08.053044", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/514320324830.5985", "start": "2022-01-12 04:22:07.620994", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 04:22:14,717 p=36730 u=moonja n=ansible | ...ignoring
2022-01-12 04:22:14,854 p=36730 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "933339823129.6640", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.445751", "end": "2022-01-12 04:22:09.131555", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/933339823129.6640", "start": "2022-01-12 04:22:08.685804", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 04:22:14,854 p=36730 u=moonja n=ansible | ...ignoring
2022-01-12 04:22:15,219 p=36730 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "972437817741.12083", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.452416", "end": "2022-01-12 04:22:08.699799", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/972437817741.12083", "start": "2022-01-12 04:22:08.247383", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 04:22:15,220 p=36730 u=moonja n=ansible | ...ignoring
2022-01-12 04:22:15,229 p=36730 u=moonja n=ansible | TASK [patroni-postgres : Install wheel pip module on all three nodes] *************************************************
2022-01-12 04:22:15,251 p=36730 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:22:15,282 p=36730 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:22:22,238 p=36730 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "360955448644.12461", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:00.403940", "end": "2022-01-12 04:22:16.192288", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/360955448644.12461", "start": "2022-01-12 04:22:15.788348", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-w4_z23l9/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-w4_z23l9/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 04:22:22,283 p=36730 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "872109807524.6329", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:00.398004", "end": "2022-01-12 04:22:15.597482", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/872109807524.6329", "start": "2022-01-12 04:22:15.199478", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-m24462b3/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-m24462b3/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 04:22:22,318 p=36730 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "814855355261.6984", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:00.397898", "end": "2022-01-12 04:22:16.676623", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/814855355261.6984", "start": "2022-01-12 04:22:16.278725", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-mm848rsr/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-mm848rsr/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 04:22:22,328 p=36730 u=moonja n=ansible | TASK [patroni-postgres : Uninstall typing pip module on all three nodes] **********************************************
2022-01-12 04:22:22,350 p=36730 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:22:22,363 p=36730 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:22:22,374 p=36730 u=moonja n=ansible | TASK [patroni-postgres : Uninstall setuptools rust on all three nodes] ************************************************
2022-01-12 04:22:22,395 p=36730 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:22:22,409 p=36730 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:22:22,419 p=36730 u=moonja n=ansible | TASK [patroni-postgres : Uninstall patroni module on all three nodes] *************************************************
2022-01-12 04:22:22,440 p=36730 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:22:22,451 p=36730 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:22:22,463 p=36730 u=moonja n=ansible | TASK [patroni-postgres : Uninstall wheel module on all three nodes] ***************************************************
2022-01-12 04:22:22,486 p=36730 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:22:22,501 p=36730 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:22:22,511 p=36730 u=moonja n=ansible | TASK [patroni-postgres : Uninstall psycopg2-binary module on all three nodes] *****************************************
2022-01-12 04:22:22,533 p=36730 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:22:22,546 p=36730 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:22:22,558 p=36730 u=moonja n=ansible | TASK [patroni-postgres : Delete the dependencies file of etcd  on all three nodes] ************************************
2022-01-12 04:22:22,580 p=36730 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:22:22,595 p=36730 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:22:22,606 p=36730 u=moonja n=ansible | TASK [patroni-postgres : Uninstall VMware Postgres RPM package on all hosts as root] **********************************
2022-01-12 04:22:34,616 p=36730 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 04:22:35,601 p=36730 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 04:22:35,613 p=36730 u=moonja n=ansible | TASK [patroni-postgres : Delete the vmwawre-postgres rpm file to all hosts in cluster] ********************************
2022-01-12 04:22:36,042 p=36730 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 04:22:36,042 p=36730 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 04:22:36,053 p=36730 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 04:22:36,583 p=36730 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 04:22:36,583 p=36730 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 04:22:36,593 p=36730 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 04:22:37,132 p=36730 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 04:22:37,132 p=36730 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 04:22:37,142 p=36730 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 04:22:38,018 p=36730 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 04:22:38,018 p=36730 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 04:22:38,051 p=36730 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-12 04:22:38,051 p=36730 u=moonja n=ansible | postgres-ha01              : ok=7    changed=5    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2022-01-12 04:22:38,051 p=36730 u=moonja n=ansible | postgres-ha02              : ok=7    changed=5    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2022-01-12 04:22:38,051 p=36730 u=moonja n=ansible | postgres-ha03              : ok=7    changed=5    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2022-01-12 04:22:38,051 p=36730 u=moonja n=ansible | postgres-haproxy01         : ok=8    changed=5    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-12 04:22:38,051 p=36730 u=moonja n=ansible | postgres-haproxy02         : ok=8    changed=5    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-12 04:24:50,958 p=38855 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 04:24:50,967 p=38855 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 04:24:51,193 p=38855 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 04:24:51,245 p=38855 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 04:24:51,275 p=38855 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 04:24:53,379 p=38855 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 04:24:53,386 p=38855 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 04:24:53,390 p=38855 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 04:24:53,392 p=38855 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 04:24:53,400 p=38855 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 04:24:53,418 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 04:24:54,679 p=38855 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 04:24:54,682 p=38855 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 04:24:54,682 p=38855 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 04:24:54,685 p=38855 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 04:24:54,690 p=38855 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 04:24:54,701 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 04:24:55,618 p=38855 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 04:24:55,619 p=38855 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:24:55,622 p=38855 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:24:55,623 p=38855 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:24:55,623 p=38855 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 04:24:55,635 p=38855 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 04:24:56,263 p=38855 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 04:24:56,270 p=38855 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 04:24:56,280 p=38855 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:24:56,308 p=38855 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:24:56,310 p=38855 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:24:56,323 p=38855 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 04:24:56,358 p=38855 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 04:24:56,375 p=38855 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 04:24:56,390 p=38855 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 04:24:56,392 p=38855 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 04:24:56,403 p=38855 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 04:24:56,414 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] **********************************
2022-01-12 04:24:57,829 p=38855 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 04:24:57,830 p=38855 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 04:24:57,833 p=38855 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 04:24:58,175 p=38855 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 04:24:58,175 p=38855 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 04:24:58,190 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] ************************************************
2022-01-12 04:25:05,762 p=38855 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 04:25:05,811 p=38855 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 04:25:05,812 p=38855 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 04:25:16,551 p=38855 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 04:25:16,563 p=38855 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 04:25:16,573 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] *******************************
2022-01-12 04:25:22,994 p=38855 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3)
2022-01-12 04:25:23,005 p=38855 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3)
2022-01-12 04:25:23,110 p=38855 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3)
2022-01-12 04:25:23,157 p=38855 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3)
2022-01-12 04:25:23,481 p=38855 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3)
2022-01-12 04:25:29,223 p=38855 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-devel)
2022-01-12 04:25:29,242 p=38855 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-devel)
2022-01-12 04:25:29,943 p=38855 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-devel)
2022-01-12 04:25:30,490 p=38855 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-devel)
2022-01-12 04:25:31,075 p=38855 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-devel)
2022-01-12 04:25:35,515 p=38855 u=moonja n=ansible | ok: [postgres-ha03] => (item=gcc)
2022-01-12 04:25:35,559 p=38855 u=moonja n=ansible | ok: [postgres-ha01] => (item=gcc)
2022-01-12 04:25:36,362 p=38855 u=moonja n=ansible | ok: [postgres-ha02] => (item=gcc)
2022-01-12 04:25:36,630 p=38855 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=gcc)
2022-01-12 04:25:37,264 p=38855 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=gcc)
2022-01-12 04:25:41,701 p=38855 u=moonja n=ansible | ok: [postgres-ha03] => (item=etcd)
2022-01-12 04:25:41,709 p=38855 u=moonja n=ansible | ok: [postgres-ha01] => (item=etcd)
2022-01-12 04:25:42,539 p=38855 u=moonja n=ansible | ok: [postgres-ha02] => (item=etcd)
2022-01-12 04:25:42,829 p=38855 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=etcd)
2022-01-12 04:25:43,585 p=38855 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=etcd)
2022-01-12 04:25:47,975 p=38855 u=moonja n=ansible | ok: [postgres-ha01] => (item=python-psycopg2)
2022-01-12 04:25:53,460 p=38855 u=moonja n=ansible | changed: [postgres-ha03] => (item=python-psycopg2)
2022-01-12 04:25:54,177 p=38855 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-pip)
2022-01-12 04:25:54,221 p=38855 u=moonja n=ansible | changed: [postgres-ha02] => (item=python-psycopg2)
2022-01-12 04:25:54,302 p=38855 u=moonja n=ansible | changed: [postgres-haproxy02] => (item=python-psycopg2)
2022-01-12 04:25:56,078 p=38855 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=python-psycopg2)
2022-01-12 04:25:59,937 p=38855 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-pip)
2022-01-12 04:26:00,399 p=38855 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-pip)
2022-01-12 04:26:00,424 p=38855 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-pip)
2022-01-12 04:26:00,467 p=38855 u=moonja n=ansible | ok: [postgres-ha01] => (item=python34-setuptools)
2022-01-12 04:26:02,768 p=38855 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-pip)
2022-01-12 04:26:06,619 p=38855 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python34-setuptools)
2022-01-12 04:26:06,627 p=38855 u=moonja n=ansible | ok: [postgres-ha03] => (item=python34-setuptools)
2022-01-12 04:26:06,679 p=38855 u=moonja n=ansible | ok: [postgres-ha01] => (item=python27-python-setuptools)
2022-01-12 04:26:06,944 p=38855 u=moonja n=ansible | ok: [postgres-ha02] => (item=python34-setuptools)
2022-01-12 04:26:09,379 p=38855 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python34-setuptools)
2022-01-12 04:26:12,806 p=38855 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python27-python-setuptools)
2022-01-12 04:26:12,817 p=38855 u=moonja n=ansible | ok: [postgres-ha03] => (item=python27-python-setuptools)
2022-01-12 04:26:12,847 p=38855 u=moonja n=ansible | ok: [postgres-ha01] => (item=yamllint)
2022-01-12 04:26:13,141 p=38855 u=moonja n=ansible | ok: [postgres-ha02] => (item=python27-python-setuptools)
2022-01-12 04:26:16,128 p=38855 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python27-python-setuptools)
2022-01-12 04:26:18,991 p=38855 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=yamllint)
2022-01-12 04:26:19,104 p=38855 u=moonja n=ansible | ok: [postgres-ha01] => (item=daemonize)
2022-01-12 04:26:19,298 p=38855 u=moonja n=ansible | ok: [postgres-ha03] => (item=yamllint)
2022-01-12 04:26:19,774 p=38855 u=moonja n=ansible | ok: [postgres-ha02] => (item=yamllint)
2022-01-12 04:26:22,959 p=38855 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=yamllint)
2022-01-12 04:26:25,179 p=38855 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=daemonize)
2022-01-12 04:26:25,831 p=38855 u=moonja n=ansible | ok: [postgres-ha03] => (item=daemonize)
2022-01-12 04:26:26,281 p=38855 u=moonja n=ansible | ok: [postgres-ha02] => (item=daemonize)
2022-01-12 04:26:29,807 p=38855 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=daemonize)
2022-01-12 04:26:29,821 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Install the dependencies of etcd  on all three nodes] ****************************************
2022-01-12 04:26:29,850 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:26:29,875 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:26:30,595 p=38855 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 04:26:30,602 p=38855 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 04:26:30,606 p=38855 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 04:26:30,618 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Install setuptools rust on all three nodes] **************************************************
2022-01-12 04:26:30,641 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:26:30,659 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:26:37,025 p=38855 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:26:37,026 p=38855 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:26:38,282 p=38855 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:26:38,299 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Install typing pip module on all three nodes] ************************************************
2022-01-12 04:26:38,323 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:26:38,341 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:26:44,572 p=38855 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:26:44,639 p=38855 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:26:44,639 p=38855 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:26:44,652 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Upgrade pip3 version] ************************************************************************
2022-01-12 04:26:44,676 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:26:44,710 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:26:51,077 p=38855 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:26:51,089 p=38855 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:26:51,520 p=38855 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:26:51,530 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Install wheel module on all three nodes] *****************************************************
2022-01-12 04:26:51,569 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:26:51,584 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:26:58,161 p=38855 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:26:58,814 p=38855 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:26:59,629 p=38855 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:26:59,639 p=38855 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 04:26:59,678 p=38855 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:26:59,697 p=38855 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:26:59,736 p=38855 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "479450116917.19164",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.623181",
        "end": "2022-01-12 04:26:52.814562",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/479450116917.19164",
        "start": "2022-01-12 04:26:52.191381",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 04:26:59,739 p=38855 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "660486340183.13182",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.607976",
        "end": "2022-01-12 04:26:53.261007",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/660486340183.13182",
        "start": "2022-01-12 04:26:52.653031",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 04:26:59,740 p=38855 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "947936285983.12527",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.623363",
        "end": "2022-01-12 04:26:52.165241",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/947936285983.12527",
        "start": "2022-01-12 04:26:51.541878",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 04:26:59,751 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Install pip modules of Patroni prerequisites on all three nodes] *****************************
2022-01-12 04:26:59,788 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:26:59,803 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:27:06,244 p=38855 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:27:08,361 p=38855 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:27:08,893 p=38855 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:27:08,905 p=38855 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 04:27:08,944 p=38855 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:27:08,963 p=38855 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:27:08,986 p=38855 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "188147477035.19542",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.700829",
        "end": "2022-01-12 04:27:01.023768",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/188147477035.19542",
        "start": "2022-01-12 04:27:00.322939",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 04:27:08,988 p=38855 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "536831333836.13526",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.649954",
        "end": "2022-01-12 04:27:03.150788",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/536831333836.13526",
        "start": "2022-01-12 04:27:02.500834",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 04:27:09,037 p=38855 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "485898715905.12871",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.699118",
        "end": "2022-01-12 04:27:00.405973",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/485898715905.12871",
        "start": "2022-01-12 04:26:59.706855",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 04:27:09,048 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Iinstall wheel module on all three nodes] ****************************************************
2022-01-12 04:27:09,086 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:27:09,101 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:27:16,436 p=38855 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:27:16,678 p=38855 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:27:16,679 p=38855 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:27:16,692 p=38855 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 04:27:16,732 p=38855 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:27:16,749 p=38855 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:27:16,787 p=38855 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "273705552643.19921",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.576582",
        "end": "2022-01-12 04:27:10.230435",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/273705552643.19921",
        "start": "2022-01-12 04:27:09.653853",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 04:27:16,790 p=38855 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "557652081215.13870",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.514331",
        "end": "2022-01-12 04:27:10.624772",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/557652081215.13870",
        "start": "2022-01-12 04:27:10.110441",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 04:27:16,790 p=38855 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "463996314285.13215",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.491911",
        "end": "2022-01-12 04:27:09.530719",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/463996314285.13215",
        "start": "2022-01-12 04:27:09.038808",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 04:27:16,803 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Install psycopg2-binary module on all three nodes] *******************************************
2022-01-12 04:27:16,839 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:27:16,854 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:27:23,028 p=38855 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:27:23,083 p=38855 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:27:23,130 p=38855 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:27:23,141 p=38855 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 04:27:23,181 p=38855 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:27:23,199 p=38855 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:27:23,236 p=38855 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "829090281045.20299",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.584283",
        "end": "2022-01-12 04:27:17.958008",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/829090281045.20299",
        "start": "2022-01-12 04:27:17.373725",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 04:27:23,238 p=38855 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "186269772678.14214",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.514807",
        "end": "2022-01-12 04:27:18.374840",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/186269772678.14214",
        "start": "2022-01-12 04:27:17.860033",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 04:27:23,239 p=38855 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "412548503625.13559",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.508696",
        "end": "2022-01-12 04:27:17.270349",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/412548503625.13559",
        "start": "2022-01-12 04:27:16.761653",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 04:27:23,249 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Install patroni modules on all three nodes for vmware-postgres 13.x version] *****************
2022-01-12 04:27:23,287 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:27:23,303 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:27:29,580 p=38855 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:27:29,603 p=38855 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:27:29,604 p=38855 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:27:29,614 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 04:27:29,654 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:27:29,670 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:27:30,427 p=38855 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 04:27:30,445 p=38855 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 04:27:30,446 p=38855 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 04:27:30,458 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Create the etcd.yml configuration file for all nodes] ****************************************
2022-01-12 04:27:30,482 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:27:30,500 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:27:31,747 p=38855 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:27:31,748 p=38855 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:27:31,748 p=38855 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:27:31,758 p=38855 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 04:27:31,797 p=38855 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:27:31,817 p=38855 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:27:31,836 p=38855 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "9ae4719bb01c1f3fe9f70a6e2c0044c7c41a95fe",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "c58c15d1af07ce06cb21d7da9f41a53d",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641929250.630404-42657-31486010218357/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 04:27:31,837 p=38855 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "15047e7ccbff3a953a4abe4edc1ee87eccf0c835",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "90cfbd68000432263a3d9f571742a601",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641929250.6299698-42658-178687616663003/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 04:27:31,850 p=38855 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "a89b395b153fde540c5b5250ee19c5a9b4a69b60",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "50ed3a33db1def8c3d70f9d8154ad6fa",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641929250.635336-42662-168459335883410/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 04:27:31,860 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of etcd into /etc/systemd/system] *********************************
2022-01-12 04:27:31,880 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:27:31,911 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:27:32,683 p=38855 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 04:27:32,686 p=38855 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 04:27:32,689 p=38855 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 04:27:32,701 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Reload and start etcd through systemd] *******************************************************
2022-01-12 04:27:32,721 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:27:32,754 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:27:36,146 p=38855 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:27:36,147 p=38855 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:27:36,147 p=38855 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:27:36,160 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Lists the members and identifies the current Leader.] ****************************************
2022-01-12 04:27:36,201 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:27:36,217 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:27:36,722 p=38855 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:27:36,723 p=38855 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:27:36,725 p=38855 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:27:36,737 p=38855 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 04:27:36,760 p=38855 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:27:36,779 p=38855 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:27:36,837 p=38855 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.028043",
        "end": "2022-01-12 04:27:36.679828",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 04:27:36.651785",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 04:27:36,839 p=38855 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.025134",
        "end": "2022-01-12 04:27:37.140761",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 04:27:37.115627",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 04:27:36,840 p=38855 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.027299",
        "end": "2022-01-12 04:27:36.061601",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 04:27:36.034302",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 04:27:36,851 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Set data directory for patroni cluster] ******************************************************
2022-01-12 04:27:37,355 p=38855 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:27:37,381 p=38855 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:27:37,391 p=38855 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:27:37,569 p=38855 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 04:27:37,587 p=38855 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 04:27:37,600 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Create the patroni.yml configuration file for all nodes] *************************************
2022-01-12 04:27:37,640 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:27:37,656 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:27:38,682 p=38855 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:27:38,686 p=38855 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:27:38,723 p=38855 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:27:38,735 p=38855 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 04:27:38,772 p=38855 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:27:38,789 p=38855 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:27:38,807 p=38855 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "4e5d784d745c5ef3c3b1ff985e0b9f7135eb44d7",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "d6b438870e218cb33db0b5757f13ccf9",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1575,
        "src": "/var/tmp/ansible-tmp-1641929257.768137-42994-33124848470547/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 04:27:38,836 p=38855 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "610d5d51fd3e0d0ffe2d5726540e8fd768e96cfe",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "6679dfb2e8abb0f01ca1f76a2618193a",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1575,
        "src": "/var/tmp/ansible-tmp-1641929257.774733-42995-145627194142616/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 04:27:38,837 p=38855 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "90391e3131fcc51274152dc25f680f6f6e1fa32e",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "bdf51e03020a5badc89fce6a98a81971",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1575,
        "src": "/var/tmp/ansible-tmp-1641929257.7767339-42999-181042650528011/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 04:27:38,851 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of patroni into /etc/systemd/system] ******************************
2022-01-12 04:27:38,872 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:27:38,889 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:27:39,744 p=38855 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:27:39,791 p=38855 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:27:39,795 p=38855 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:27:39,808 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Reload and start systemd service of patroni] *************************************************
2022-01-12 04:27:39,845 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:27:39,860 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:27:40,503 p=38855 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:27:40,512 p=38855 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:27:40,513 p=38855 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:27:40,524 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 04:27:40,543 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:27:40,553 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Remove clsuter on master] ********************************************************************
2022-01-12 04:27:40,589 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:27:40,604 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:27:40,620 p=38855 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-12 04:27:40,631 p=38855 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-12 04:27:47,913 p=38855 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:27:47,923 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 04:27:47,944 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:27:47,954 p=38855 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 04:27:47,994 p=38855 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:27:48,012 p=38855 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:27:48,036 p=38855 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "583615363726.22728",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n",
        "delta": "0:00:00.566769",
        "end": "2022-01-12 04:27:41.824336",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/583615363726.22728",
        "start": "2022-01-12 04:27:41.257567",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+--------+------+------+-------+----+-----------+\n| Member | Host | Role | State | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (705202265454651+\n+--------+------+------+-------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": ",
        "stdout_lines": [
            "+--------+------+------+-------+----+-----------+",
            "| Member | Host | Role | State | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (705202265454651+",
            "+--------+------+------+-------+----+-----------+",
            "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": "
        ]
    }
}
2022-01-12 04:27:48,037 p=38855 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:27:48,043 p=38855 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:27:48,055 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Reinitialize patroni clsuter on all node] ****************************************************
2022-01-12 04:27:48,077 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:27:48,111 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:27:54,476 p=38855 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:27:54,493 p=38855 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "277268989650.15776", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n", "delta": "0:00:00.309624", "end": "2022-01-12 04:27:48.415311", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/277268989650.15776", "start": "2022-01-12 04:27:48.105687", "started": 1, "stderr": "Error: postgres-ha03 is not a member of cluster", "stderr_lines": ["Error: postgres-ha03 is not a member of cluster"], "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02]? []: ", "stdout_lines": ["+---------------+--------------+---------+---------+----+-----------+", "| Member        | Host         | Role    | State   | TL | Lag in MB |", "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+", "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |", "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |", "+---------------+--------------+---------+---------+----+-----------+", "Which member do you want to reinitialize [postgres-ha01, postgres-ha02]? []: "]}
2022-01-12 04:27:54,494 p=38855 u=moonja n=ansible | ...ignoring
2022-01-12 04:27:54,495 p=38855 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:27:54,506 p=38855 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 04:27:54,530 p=38855 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:27:54,550 p=38855 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:27:54,589 p=38855 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "576080271159.23105",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.320892",
        "end": "2022-01-12 04:27:49.024608",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/576080271159.23105",
        "start": "2022-01-12 04:27:48.703716",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-12 04:27:54,590 p=38855 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "716218999170.16431",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.310110",
        "end": "2022-01-12 04:27:49.473147",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/716218999170.16431",
        "start": "2022-01-12 04:27:49.163037",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Failed: reinitialize for member postgres-ha02, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Failed: reinitialize for member postgres-ha02, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-12 04:27:54,637 p=38855 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "277268989650.15776",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.309624",
        "end": "2022-01-12 04:27:48.415311",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/277268989650.15776",
        "start": "2022-01-12 04:27:48.105687",
        "started": 1,
        "stderr": "Error: postgres-ha03 is not a member of cluster",
        "stderr_lines": [
            "Error: postgres-ha03 is not a member of cluster"
        ],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02]? []: ",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02]? []: "
        ]
    }
}
2022-01-12 04:27:54,652 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 04:27:54,671 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:27:54,680 p=38855 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 04:27:54,719 p=38855 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:27:54,736 p=38855 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:27:54,787 p=38855 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "576080271159.23105",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.320892",
        "end": "2022-01-12 04:27:49.024608",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/576080271159.23105",
        "start": "2022-01-12 04:27:48.703716",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-12 04:27:54,789 p=38855 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "716218999170.16431",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.310110",
        "end": "2022-01-12 04:27:49.473147",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/716218999170.16431",
        "start": "2022-01-12 04:27:49.163037",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Failed: reinitialize for member postgres-ha02, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Failed: reinitialize for member postgres-ha02, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-12 04:27:54,790 p=38855 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "277268989650.15776",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.309624",
        "end": "2022-01-12 04:27:48.415311",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/277268989650.15776",
        "start": "2022-01-12 04:27:48.105687",
        "started": 1,
        "stderr": "Error: postgres-ha03 is not a member of cluster",
        "stderr_lines": [
            "Error: postgres-ha03 is not a member of cluster"
        ],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02]? []: ",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02]? []: "
        ]
    }
}
2022-01-12 04:27:54,803 p=38855 u=moonja n=ansible | TASK [patroni-postgres : Run the patronictl command-line utility to view the cluster state with Patroni started on all three nodes,] ***
2022-01-12 04:27:54,825 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:27:54,843 p=38855 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:27:55,628 p=38855 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:27:55,655 p=38855 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:27:55,664 p=38855 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:27:55,676 p=38855 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 04:27:55,715 p=38855 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:27:55,735 p=38855 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:27:55,787 p=38855 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.359861",
        "end": "2022-01-12 04:27:55.615027",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 04:27:55.255166",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-12 04:27:55,789 p=38855 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.352220",
        "end": "2022-01-12 04:27:56.053616",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 04:27:55.701396",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-12 04:27:55,789 p=38855 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.329896",
        "end": "2022-01-12 04:27:55.012390",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 04:27:54.682494",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-12 04:27:55,849 p=38855 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-12 04:27:55,849 p=38855 u=moonja n=ansible | postgres-ha01              : ok=40   changed=20   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2022-01-12 04:27:55,849 p=38855 u=moonja n=ansible | postgres-ha02              : ok=39   changed=20   unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2022-01-12 04:27:55,849 p=38855 u=moonja n=ansible | postgres-ha03              : ok=39   changed=20   unreachable=0    failed=0    skipped=1    rescued=0    ignored=1   
2022-01-12 04:27:55,850 p=38855 u=moonja n=ansible | postgres-haproxy01         : ok=20   changed=6    unreachable=0    failed=0    skipped=23   rescued=0    ignored=0   
2022-01-12 04:27:55,850 p=38855 u=moonja n=ansible | postgres-haproxy02         : ok=20   changed=6    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
2022-01-12 04:53:08,439 p=47235 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 04:53:08,451 p=47235 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 04:53:08,691 p=47235 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 04:53:08,748 p=47235 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 04:53:08,778 p=47235 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 04:53:10,923 p=47235 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 04:53:10,930 p=47235 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 04:53:10,935 p=47235 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 04:53:10,941 p=47235 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 04:53:10,942 p=47235 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 04:53:10,961 p=47235 u=moonja n=ansible | TASK [patroni-postgres : Stop services for patroni and etcd] **********************************************************
2022-01-12 04:53:10,984 p=47235 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=patroni) 
2022-01-12 04:53:10,984 p=47235 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=etcd) 
2022-01-12 04:53:10,999 p=47235 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=patroni) 
2022-01-12 04:53:11,000 p=47235 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=etcd) 
2022-01-12 04:53:13,875 p=47235 u=moonja n=ansible | changed: [postgres-ha03] => (item=patroni)
2022-01-12 04:53:13,989 p=47235 u=moonja n=ansible | changed: [postgres-ha02] => (item=patroni)
2022-01-12 04:53:14,376 p=47235 u=moonja n=ansible | changed: [postgres-ha03] => (item=etcd)
2022-01-12 04:53:14,488 p=47235 u=moonja n=ansible | changed: [postgres-ha02] => (item=etcd)
2022-01-12 04:53:14,990 p=47235 u=moonja n=ansible | changed: [postgres-ha01] => (item=patroni)
2022-01-12 04:53:15,706 p=47235 u=moonja n=ansible | changed: [postgres-ha01] => (item=etcd)
2022-01-12 04:53:15,732 p=47235 u=moonja n=ansible | TASK [patroni-postgres : Kill etcd process] ***************************************************************************
2022-01-12 04:53:15,762 p=47235 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:53:15,794 p=47235 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:53:22,680 p=47235 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:53:22,721 p=47235 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:53:22,721 p=47235 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:53:22,732 p=47235 u=moonja n=ansible | TASK [patroni-postgres : Delete configuration file for patroni and systemd] *******************************************
2022-01-12 04:53:23,498 p=47235 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 04:53:23,503 p=47235 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 04:53:23,503 p=47235 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 04:53:23,506 p=47235 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 04:53:24,284 p=47235 u=moonja n=ansible | changed: [postgres-ha02] => (item=/etc/systemd/system/patroni.service)
2022-01-12 04:53:24,284 p=47235 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/etc/systemd/system/patroni.service)
2022-01-12 04:53:24,293 p=47235 u=moonja n=ansible | changed: [postgres-ha01] => (item=/etc/systemd/system/patroni.service)
2022-01-12 04:53:24,293 p=47235 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/etc/systemd/system/patroni.service)
2022-01-12 04:53:24,497 p=47235 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 04:53:24,767 p=47235 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 04:53:24,768 p=47235 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 04:53:24,779 p=47235 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 04:53:24,786 p=47235 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 04:53:24,931 p=47235 u=moonja n=ansible | changed: [postgres-ha03] => (item=/etc/systemd/system/patroni.service)
2022-01-12 04:53:25,203 p=47235 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 04:53:25,205 p=47235 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 04:53:25,205 p=47235 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 04:53:25,215 p=47235 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 04:53:25,368 p=47235 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 04:53:25,641 p=47235 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 04:53:25,644 p=47235 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 04:53:25,646 p=47235 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 04:53:25,648 p=47235 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 04:53:25,808 p=47235 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 04:53:26,074 p=47235 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 04:53:26,077 p=47235 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 04:53:26,083 p=47235 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 04:53:26,127 p=47235 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 04:53:26,218 p=47235 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 04:53:26,779 p=47235 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 04:53:26,795 p=47235 u=moonja n=ansible | TASK [patroni-postgres : Delete data directory for patroni cluster] ***************************************************
2022-01-12 04:53:27,302 p=47235 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 04:53:27,317 p=47235 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 04:53:27,366 p=47235 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:53:27,368 p=47235 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:53:27,423 p=47235 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:53:27,436 p=47235 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 04:53:27,475 p=47235 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:53:27,490 p=47235 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:53:28,107 p=47235 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 04:53:28,108 p=47235 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 04:53:28,108 p=47235 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 04:53:28,121 p=47235 u=moonja n=ansible | TASK [patroni-postgres : Uninstall pip modules of Patroni prerequisites on all three nodes] ***************************
2022-01-12 04:53:28,142 p=47235 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:53:28,159 p=47235 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:53:34,699 p=47235 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "180591308411.19111", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.452042", "end": "2022-01-12 04:53:29.982252", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/180591308411.19111", "start": "2022-01-12 04:53:29.530210", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 04:53:34,699 p=47235 u=moonja n=ansible | ...ignoring
2022-01-12 04:53:35,774 p=47235 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "236883646481.19819", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.410094", "end": "2022-01-12 04:53:28.859702", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/236883646481.19819", "start": "2022-01-12 04:53:28.449608", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 04:53:35,774 p=47235 u=moonja n=ansible | ...ignoring
2022-01-12 04:53:35,806 p=47235 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "204517670902.26313", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.451115", "end": "2022-01-12 04:53:29.525565", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/204517670902.26313", "start": "2022-01-12 04:53:29.074450", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 04:53:35,807 p=47235 u=moonja n=ansible | ...ignoring
2022-01-12 04:53:35,818 p=47235 u=moonja n=ansible | TASK [patroni-postgres : Install wheel pip module on all three nodes] *************************************************
2022-01-12 04:53:35,839 p=47235 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:53:35,870 p=47235 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:53:42,246 p=47235 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "942107215049.20171", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:00.393238", "end": "2022-01-12 04:53:36.406648", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/942107215049.20171", "start": "2022-01-12 04:53:36.013410", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-o85gs_4a/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-o85gs_4a/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 04:53:42,265 p=47235 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "664404794290.26699", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:00.406797", "end": "2022-01-12 04:53:37.041627", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/664404794290.26699", "start": "2022-01-12 04:53:36.634830", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-tz74otmw/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-tz74otmw/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 04:53:42,265 p=47235 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "616489511546.19455", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:00.396087", "end": "2022-01-12 04:53:37.494845", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/616489511546.19455", "start": "2022-01-12 04:53:37.098758", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-bxc2rhzf/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-bxc2rhzf/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 04:53:42,274 p=47235 u=moonja n=ansible | TASK [patroni-postgres : Uninstall typing pip module on all three nodes] **********************************************
2022-01-12 04:53:42,296 p=47235 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:53:42,306 p=47235 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:53:42,317 p=47235 u=moonja n=ansible | TASK [patroni-postgres : Uninstall setuptools rust on all three nodes] ************************************************
2022-01-12 04:53:42,337 p=47235 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:53:42,349 p=47235 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:53:42,359 p=47235 u=moonja n=ansible | TASK [patroni-postgres : Uninstall patroni module on all three nodes] *************************************************
2022-01-12 04:53:42,379 p=47235 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:53:42,390 p=47235 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:53:42,402 p=47235 u=moonja n=ansible | TASK [patroni-postgres : Uninstall wheel module on all three nodes] ***************************************************
2022-01-12 04:53:42,423 p=47235 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:53:42,433 p=47235 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:53:42,445 p=47235 u=moonja n=ansible | TASK [patroni-postgres : Uninstall psycopg2-binary module on all three nodes] *****************************************
2022-01-12 04:53:42,465 p=47235 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:53:42,476 p=47235 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:53:42,487 p=47235 u=moonja n=ansible | TASK [patroni-postgres : Delete the dependencies file of etcd  on all three nodes] ************************************
2022-01-12 04:53:42,508 p=47235 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:53:42,520 p=47235 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:53:42,531 p=47235 u=moonja n=ansible | TASK [patroni-postgres : Uninstall VMware Postgres RPM package on all hosts as root] **********************************
2022-01-12 04:53:55,173 p=47235 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 04:53:55,212 p=47235 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 04:53:55,224 p=47235 u=moonja n=ansible | TASK [patroni-postgres : Delete the vmwawre-postgres rpm file to all hosts in cluster] ********************************
2022-01-12 04:53:55,922 p=47235 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 04:53:55,923 p=47235 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 04:53:55,935 p=47235 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 04:53:56,714 p=47235 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 04:53:56,714 p=47235 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 04:53:56,726 p=47235 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 04:53:57,422 p=47235 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 04:53:57,423 p=47235 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 04:53:57,436 p=47235 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 04:53:58,378 p=47235 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 04:53:58,379 p=47235 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 04:53:58,417 p=47235 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-12 04:53:58,418 p=47235 u=moonja n=ansible | postgres-ha01              : ok=7    changed=5    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2022-01-12 04:53:58,418 p=47235 u=moonja n=ansible | postgres-ha02              : ok=7    changed=5    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2022-01-12 04:53:58,418 p=47235 u=moonja n=ansible | postgres-ha03              : ok=7    changed=5    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2022-01-12 04:53:58,418 p=47235 u=moonja n=ansible | postgres-haproxy01         : ok=8    changed=5    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-12 04:53:58,418 p=47235 u=moonja n=ansible | postgres-haproxy02         : ok=8    changed=5    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-12 04:54:54,190 p=50306 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 04:54:54,200 p=50306 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 04:54:54,430 p=50306 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 04:54:54,488 p=50306 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 04:54:54,521 p=50306 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 04:54:56,281 p=50306 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 04:54:56,284 p=50306 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 04:54:56,287 p=50306 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 04:54:56,294 p=50306 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 04:54:56,296 p=50306 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 04:54:56,314 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 04:54:57,443 p=50306 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 04:54:57,444 p=50306 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 04:54:57,444 p=50306 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 04:54:57,446 p=50306 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 04:54:57,451 p=50306 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 04:54:57,480 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 04:54:58,411 p=50306 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:54:58,412 p=50306 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 04:54:58,412 p=50306 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 04:54:58,415 p=50306 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:54:58,416 p=50306 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:54:58,431 p=50306 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 04:54:59,157 p=50306 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 04:54:59,159 p=50306 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 04:54:59,179 p=50306 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:54:59,183 p=50306 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:54:59,186 p=50306 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:54:59,198 p=50306 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 04:54:59,235 p=50306 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 04:54:59,253 p=50306 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 04:54:59,270 p=50306 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 04:54:59,271 p=50306 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 04:54:59,284 p=50306 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 04:54:59,295 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] **********************************
2022-01-12 04:55:00,698 p=50306 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 04:55:00,714 p=50306 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 04:55:00,723 p=50306 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 04:55:01,237 p=50306 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 04:55:01,237 p=50306 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 04:55:01,253 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] ************************************************
2022-01-12 04:55:08,473 p=50306 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 04:55:08,526 p=50306 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 04:55:08,702 p=50306 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 04:55:13,975 p=50306 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 04:55:13,975 p=50306 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 04:55:13,986 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] *******************************
2022-01-12 04:55:20,437 p=50306 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3)
2022-01-12 04:55:20,725 p=50306 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3)
2022-01-12 04:55:21,416 p=50306 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3)
2022-01-12 04:55:21,750 p=50306 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3)
2022-01-12 04:55:21,864 p=50306 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3)
2022-01-12 04:55:27,125 p=50306 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-devel)
2022-01-12 04:55:28,031 p=50306 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-devel)
2022-01-12 04:55:28,115 p=50306 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-devel)
2022-01-12 04:55:29,128 p=50306 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-devel)
2022-01-12 04:55:29,404 p=50306 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-devel)
2022-01-12 04:55:33,596 p=50306 u=moonja n=ansible | ok: [postgres-ha02] => (item=gcc)
2022-01-12 04:55:34,798 p=50306 u=moonja n=ansible | ok: [postgres-ha03] => (item=gcc)
2022-01-12 04:55:36,452 p=50306 u=moonja n=ansible | ok: [postgres-ha01] => (item=gcc)
2022-01-12 04:55:36,566 p=50306 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=gcc)
2022-01-12 04:55:37,016 p=50306 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=gcc)
2022-01-12 04:55:40,134 p=50306 u=moonja n=ansible | ok: [postgres-ha02] => (item=etcd)
2022-01-12 04:55:41,244 p=50306 u=moonja n=ansible | ok: [postgres-ha03] => (item=etcd)
2022-01-12 04:55:42,726 p=50306 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=etcd)
2022-01-12 04:55:43,308 p=50306 u=moonja n=ansible | ok: [postgres-ha01] => (item=etcd)
2022-01-12 04:55:43,450 p=50306 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=etcd)
2022-01-12 04:55:49,733 p=50306 u=moonja n=ansible | ok: [postgres-ha01] => (item=python-psycopg2)
2022-01-12 04:55:51,977 p=50306 u=moonja n=ansible | changed: [postgres-ha02] => (item=python-psycopg2)
2022-01-12 04:55:53,017 p=50306 u=moonja n=ansible | changed: [postgres-ha03] => (item=python-psycopg2)
2022-01-12 04:55:54,745 p=50306 u=moonja n=ansible | changed: [postgres-haproxy02] => (item=python-psycopg2)
2022-01-12 04:55:55,009 p=50306 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=python-psycopg2)
2022-01-12 04:55:57,456 p=50306 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-pip)
2022-01-12 04:55:58,373 p=50306 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-pip)
2022-01-12 04:55:59,371 p=50306 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-pip)
2022-01-12 04:56:01,177 p=50306 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-pip)
2022-01-12 04:56:01,901 p=50306 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-pip)
2022-01-12 04:56:03,961 p=50306 u=moonja n=ansible | ok: [postgres-ha01] => (item=python34-setuptools)
2022-01-12 04:56:04,735 p=50306 u=moonja n=ansible | ok: [postgres-ha02] => (item=python34-setuptools)
2022-01-12 04:56:06,219 p=50306 u=moonja n=ansible | ok: [postgres-ha03] => (item=python34-setuptools)
2022-01-12 04:56:07,622 p=50306 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python34-setuptools)
2022-01-12 04:56:08,268 p=50306 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python34-setuptools)
2022-01-12 04:56:10,646 p=50306 u=moonja n=ansible | ok: [postgres-ha01] => (item=python27-python-setuptools)
2022-01-12 04:56:11,207 p=50306 u=moonja n=ansible | ok: [postgres-ha02] => (item=python27-python-setuptools)
2022-01-12 04:56:12,944 p=50306 u=moonja n=ansible | ok: [postgres-ha03] => (item=python27-python-setuptools)
2022-01-12 04:56:13,863 p=50306 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python27-python-setuptools)
2022-01-12 04:56:14,625 p=50306 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python27-python-setuptools)
2022-01-12 04:56:17,574 p=50306 u=moonja n=ansible | ok: [postgres-ha01] => (item=yamllint)
2022-01-12 04:56:17,935 p=50306 u=moonja n=ansible | ok: [postgres-ha02] => (item=yamllint)
2022-01-12 04:56:19,301 p=50306 u=moonja n=ansible | ok: [postgres-ha03] => (item=yamllint)
2022-01-12 04:56:20,170 p=50306 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=yamllint)
2022-01-12 04:56:21,133 p=50306 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=yamllint)
2022-01-12 04:56:24,305 p=50306 u=moonja n=ansible | ok: [postgres-ha02] => (item=daemonize)
2022-01-12 04:56:24,587 p=50306 u=moonja n=ansible | ok: [postgres-ha01] => (item=daemonize)
2022-01-12 04:56:25,747 p=50306 u=moonja n=ansible | ok: [postgres-ha03] => (item=daemonize)
2022-01-12 04:56:27,833 p=50306 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=daemonize)
2022-01-12 04:56:28,123 p=50306 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=daemonize)
2022-01-12 04:56:28,139 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Install the dependencies of etcd  on all three nodes] ****************************************
2022-01-12 04:56:28,181 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:56:28,197 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:56:28,905 p=50306 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 04:56:28,908 p=50306 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 04:56:28,910 p=50306 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 04:56:28,921 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Install setuptools rust on all three nodes] **************************************************
2022-01-12 04:56:28,944 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:56:28,960 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:56:35,238 p=50306 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:56:35,301 p=50306 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:56:35,302 p=50306 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:56:35,313 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Install typing pip module on all three nodes] ************************************************
2022-01-12 04:56:35,336 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:56:35,353 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:56:41,660 p=50306 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:56:41,971 p=50306 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:56:42,334 p=50306 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:56:42,344 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Upgrade pip3 version] ************************************************************************
2022-01-12 04:56:42,367 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:56:42,384 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:56:48,778 p=50306 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:56:48,779 p=50306 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:56:48,852 p=50306 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:56:48,861 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Install wheel module on all three nodes] *****************************************************
2022-01-12 04:56:48,900 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:56:48,916 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:56:56,253 p=50306 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:56:56,545 p=50306 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:56:56,693 p=50306 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:56:56,706 p=50306 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 04:56:56,746 p=50306 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:56:56,767 p=50306 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:56:56,787 p=50306 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "206606520164.1001",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.639003",
        "end": "2022-01-12 04:56:50.404657",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/206606520164.1001",
        "start": "2022-01-12 04:56:49.765654",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 04:56:56,788 p=50306 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "947842464305.25646",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.614651",
        "end": "2022-01-12 04:56:50.851559",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/947842464305.25646",
        "start": "2022-01-12 04:56:50.236908",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 04:56:56,836 p=50306 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "967465236813.26352",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.620860",
        "end": "2022-01-12 04:56:49.788249",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/967465236813.26352",
        "start": "2022-01-12 04:56:49.167389",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 04:56:56,852 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Install pip modules of Patroni prerequisites on all three nodes] *****************************
2022-01-12 04:56:56,894 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:56:56,909 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:57:03,206 p=50306 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:57:03,208 p=50306 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:57:03,220 p=50306 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:57:03,231 p=50306 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 04:57:03,274 p=50306 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:57:03,293 p=50306 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:57:03,337 p=50306 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "119312863989.1404",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.779492",
        "end": "2022-01-12 04:56:58.444114",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/119312863989.1404",
        "start": "2022-01-12 04:56:57.664622",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 04:57:03,340 p=50306 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "814273726161.25990",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.742528",
        "end": "2022-01-12 04:56:58.872313",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/814273726161.25990",
        "start": "2022-01-12 04:56:58.129785",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 04:57:03,342 p=50306 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "158892577544.26696",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.773127",
        "end": "2022-01-12 04:56:57.812619",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/158892577544.26696",
        "start": "2022-01-12 04:56:57.039492",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 04:57:03,351 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Iinstall wheel module on all three nodes] ****************************************************
2022-01-12 04:57:03,374 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:57:03,392 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:57:10,227 p=50306 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:57:10,287 p=50306 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:57:10,303 p=50306 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:57:10,313 p=50306 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 04:57:10,353 p=50306 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:57:10,372 p=50306 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:57:10,391 p=50306 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "428166064269.1793",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.585099",
        "end": "2022-01-12 04:57:04.761604",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/428166064269.1793",
        "start": "2022-01-12 04:57:04.176505",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 04:57:10,392 p=50306 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "421552834639.26334",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.498439",
        "end": "2022-01-12 04:57:05.141035",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/421552834639.26334",
        "start": "2022-01-12 04:57:04.642596",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 04:57:10,436 p=50306 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "960985247105.27040",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.522565",
        "end": "2022-01-12 04:57:04.065194",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/960985247105.27040",
        "start": "2022-01-12 04:57:03.542629",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 04:57:10,450 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Install psycopg2-binary module on all three nodes] *******************************************
2022-01-12 04:57:10,489 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:57:10,505 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:57:16,718 p=50306 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:57:17,984 p=50306 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:57:17,996 p=50306 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:57:18,009 p=50306 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 04:57:18,049 p=50306 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:57:18,068 p=50306 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:57:18,087 p=50306 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "966908293729.2171",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.582079",
        "end": "2022-01-12 04:57:11.826842",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/966908293729.2171",
        "start": "2022-01-12 04:57:11.244763",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 04:57:18,088 p=50306 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "919067611846.26678",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.493787",
        "end": "2022-01-12 04:57:12.199984",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/919067611846.26678",
        "start": "2022-01-12 04:57:11.706197",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 04:57:18,135 p=50306 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "718849659874.27384",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.508010",
        "end": "2022-01-12 04:57:11.145699",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/718849659874.27384",
        "start": "2022-01-12 04:57:10.637689",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 04:57:18,152 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Install patroni modules on all three nodes for vmware-postgres 13.x version] *****************
2022-01-12 04:57:18,192 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:57:18,207 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:57:24,880 p=50306 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:57:25,075 p=50306 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:57:25,282 p=50306 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:57:25,292 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 04:57:25,316 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:57:25,349 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:57:26,140 p=50306 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 04:57:26,141 p=50306 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 04:57:26,141 p=50306 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 04:57:26,152 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Create the etcd.yml configuration file for all nodes] ****************************************
2022-01-12 04:57:26,175 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:57:26,194 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:57:27,232 p=50306 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:57:27,232 p=50306 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:57:27,233 p=50306 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:57:27,244 p=50306 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 04:57:27,283 p=50306 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:57:27,301 p=50306 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:57:27,335 p=50306 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "9ae4719bb01c1f3fe9f70a6e2c0044c7c41a95fe",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "c58c15d1af07ce06cb21d7da9f41a53d",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641931046.321193-54064-100199131967938/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 04:57:27,337 p=50306 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "15047e7ccbff3a953a4abe4edc1ee87eccf0c835",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "90cfbd68000432263a3d9f571742a601",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641931046.3228118-54065-52251494575527/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 04:57:27,337 p=50306 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "a89b395b153fde540c5b5250ee19c5a9b4a69b60",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "50ed3a33db1def8c3d70f9d8154ad6fa",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641931046.326317-54069-157284797629494/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 04:57:27,347 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of etcd into /etc/systemd/system] *********************************
2022-01-12 04:57:27,384 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:57:27,398 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:57:28,185 p=50306 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 04:57:28,185 p=50306 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 04:57:28,187 p=50306 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 04:57:28,198 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Reload and start etcd through systemd] *******************************************************
2022-01-12 04:57:28,220 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:57:28,253 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:57:31,560 p=50306 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:57:31,561 p=50306 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:57:31,561 p=50306 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:57:31,574 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Lists the members and identifies the current Leader.] ****************************************
2022-01-12 04:57:31,595 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:57:31,612 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:57:32,149 p=50306 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:57:32,151 p=50306 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:57:32,153 p=50306 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:57:32,164 p=50306 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 04:57:32,204 p=50306 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:57:32,220 p=50306 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:57:32,239 p=50306 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.023787",
        "end": "2022-01-12 04:57:32.338255",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 04:57:32.314468",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 04:57:32,240 p=50306 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.021697",
        "end": "2022-01-12 04:57:32.802003",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 04:57:32.780306",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 04:57:32,285 p=50306 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.023328",
        "end": "2022-01-12 04:57:31.724972",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 04:57:31.701644",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 04:57:32,302 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Set data directory for patroni cluster] ******************************************************
2022-01-12 04:57:32,811 p=50306 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:57:32,814 p=50306 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:57:32,817 p=50306 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:57:33,030 p=50306 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 04:57:33,031 p=50306 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 04:57:33,045 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Create the patroni.yml configuration file for all nodes] *************************************
2022-01-12 04:57:33,068 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:57:33,085 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:57:34,072 p=50306 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:57:34,085 p=50306 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:57:34,086 p=50306 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:57:34,099 p=50306 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 04:57:34,137 p=50306 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:57:34,156 p=50306 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:57:34,185 p=50306 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "b47e3cee17c9282f8dce992669fe5169553a4458",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "50bdc904330df1ac15f8aa6e022675b5",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1607,
        "src": "/var/tmp/ansible-tmp-1641931053.180646-54400-278404090468009/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 04:57:34,185 p=50306 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "07f896bb3e627929a67b9e9eb823e9634d38bc5d",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "d3c7b0387b12d9e30022d30c3d231dcc",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1607,
        "src": "/var/tmp/ansible-tmp-1641931053.1871622-54401-89684638644948/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 04:57:34,188 p=50306 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "f1a22b517c0fc7b455267b5c34e5ec067a2037f4",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "ba340750f10a3c35557b57879cbfa175",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1607,
        "src": "/var/tmp/ansible-tmp-1641931053.196643-54405-8688773276124/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 04:57:34,200 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of patroni into /etc/systemd/system] ******************************
2022-01-12 04:57:34,221 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:57:34,239 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:57:35,108 p=50306 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:57:35,118 p=50306 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:57:35,125 p=50306 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:57:35,139 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Reload and start systemd service of patroni] *************************************************
2022-01-12 04:57:35,179 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:57:35,194 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:57:35,915 p=50306 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:57:35,926 p=50306 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:57:35,930 p=50306 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:57:35,943 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 04:57:35,961 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:57:35,971 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Remove clsuter on master] ********************************************************************
2022-01-12 04:57:35,992 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:57:36,024 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:57:36,041 p=50306 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-12 04:57:36,052 p=50306 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-12 04:57:42,742 p=50306 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:57:42,752 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 04:57:42,771 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:57:42,782 p=50306 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 04:57:42,821 p=50306 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:57:42,838 p=50306 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:57:42,885 p=50306 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "635612992072.4600",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n",
        "delta": "0:00:00.346329",
        "end": "2022-01-12 04:57:37.284510",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/635612992072.4600",
        "start": "2022-01-12 04:57:36.938181",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052032532635392602) --+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": ",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052032532635392602) --+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": "
        ]
    }
}
2022-01-12 04:57:42,887 p=50306 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:57:42,887 p=50306 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:57:42,897 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Reinitialize patroni clsuter on all node] ****************************************************
2022-01-12 04:57:42,936 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:57:42,952 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:57:49,305 p=50306 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "213818704924.28894", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n", "delta": "0:00:00.307711", "end": "2022-01-12 04:57:44.589217", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/213818704924.28894", "start": "2022-01-12 04:57:44.281506", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-12 04:57:49,306 p=50306 u=moonja n=ansible | ...ignoring
2022-01-12 04:57:49,378 p=50306 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "648947064722.4976", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n", "delta": "0:00:00.299071", "end": "2022-01-12 04:57:44.131868", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/648947064722.4976", "start": "2022-01-12 04:57:43.832797", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-12 04:57:49,378 p=50306 u=moonja n=ansible | ...ignoring
2022-01-12 04:57:49,384 p=50306 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "771203330809.29602", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n", "delta": "0:00:00.297117", "end": "2022-01-12 04:57:43.510979", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/771203330809.29602", "start": "2022-01-12 04:57:43.213862", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-12 04:57:49,384 p=50306 u=moonja n=ansible | ...ignoring
2022-01-12 04:57:49,398 p=50306 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 04:57:49,438 p=50306 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:57:49,458 p=50306 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:57:49,484 p=50306 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "648947064722.4976",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.299071",
        "end": "2022-01-12 04:57:44.131868",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/648947064722.4976",
        "start": "2022-01-12 04:57:43.832797",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 04:57:49,485 p=50306 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "213818704924.28894",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.307711",
        "end": "2022-01-12 04:57:44.589217",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/213818704924.28894",
        "start": "2022-01-12 04:57:44.281506",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 04:57:49,490 p=50306 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "771203330809.29602",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.297117",
        "end": "2022-01-12 04:57:43.510979",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/771203330809.29602",
        "start": "2022-01-12 04:57:43.213862",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 04:57:49,501 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 04:57:49,519 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:57:49,530 p=50306 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 04:57:49,570 p=50306 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:57:49,587 p=50306 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:57:49,635 p=50306 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "648947064722.4976",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.299071",
        "end": "2022-01-12 04:57:44.131868",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/648947064722.4976",
        "start": "2022-01-12 04:57:43.832797",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 04:57:49,637 p=50306 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "213818704924.28894",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.307711",
        "end": "2022-01-12 04:57:44.589217",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/213818704924.28894",
        "start": "2022-01-12 04:57:44.281506",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 04:57:49,637 p=50306 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "771203330809.29602",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.297117",
        "end": "2022-01-12 04:57:43.510979",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/771203330809.29602",
        "start": "2022-01-12 04:57:43.213862",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 04:57:49,648 p=50306 u=moonja n=ansible | TASK [patroni-postgres : Run the patronictl command-line utility to view the cluster state with Patroni started on all three nodes,] ***
2022-01-12 04:57:49,685 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 04:57:49,700 p=50306 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 04:57:50,418 p=50306 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 04:57:50,428 p=50306 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 04:57:50,435 p=50306 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 04:57:50,448 p=50306 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 04:57:50,471 p=50306 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:57:50,507 p=50306 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 04:57:50,534 p=50306 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.335441",
        "end": "2022-01-12 04:57:50.616487",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 04:57:50.281046",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-12 04:57:50,535 p=50306 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.336833",
        "end": "2022-01-12 04:57:51.095483",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 04:57:50.758650",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-12 04:57:50,538 p=50306 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.304039",
        "end": "2022-01-12 04:57:49.991348",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 04:57:49.687309",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-12 04:57:50,601 p=50306 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-12 04:57:50,601 p=50306 u=moonja n=ansible | postgres-ha01              : ok=40   changed=20   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-12 04:57:50,601 p=50306 u=moonja n=ansible | postgres-ha02              : ok=39   changed=20   unreachable=0    failed=0    skipped=1    rescued=0    ignored=1   
2022-01-12 04:57:50,601 p=50306 u=moonja n=ansible | postgres-ha03              : ok=39   changed=20   unreachable=0    failed=0    skipped=1    rescued=0    ignored=1   
2022-01-12 04:57:50,601 p=50306 u=moonja n=ansible | postgres-haproxy01         : ok=20   changed=6    unreachable=0    failed=0    skipped=23   rescued=0    ignored=0   
2022-01-12 04:57:50,601 p=50306 u=moonja n=ansible | postgres-haproxy02         : ok=20   changed=6    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
2022-01-12 05:28:07,748 p=59981 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 05:28:07,761 p=59981 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 05:28:08,017 p=59981 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 05:28:08,072 p=59981 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 05:28:08,101 p=59981 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 05:28:10,039 p=59981 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 05:28:10,040 p=59981 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 05:28:10,045 p=59981 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 05:28:10,048 p=59981 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 05:28:10,050 p=59981 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 05:28:10,068 p=59981 u=moonja n=ansible | TASK [patroni-postgres : Stop services for patroni and etcd] **********************************************************
2022-01-12 05:28:10,092 p=59981 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=patroni) 
2022-01-12 05:28:10,093 p=59981 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=etcd) 
2022-01-12 05:28:10,110 p=59981 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=patroni) 
2022-01-12 05:28:10,111 p=59981 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=etcd) 
2022-01-12 05:28:12,475 p=59981 u=moonja n=ansible | changed: [postgres-ha01] => (item=patroni)
2022-01-12 05:28:12,554 p=59981 u=moonja n=ansible | changed: [postgres-ha02] => (item=patroni)
2022-01-12 05:28:12,812 p=59981 u=moonja n=ansible | changed: [postgres-ha03] => (item=patroni)
2022-01-12 05:28:12,990 p=59981 u=moonja n=ansible | changed: [postgres-ha01] => (item=etcd)
2022-01-12 05:28:13,137 p=59981 u=moonja n=ansible | changed: [postgres-ha02] => (item=etcd)
2022-01-12 05:28:13,385 p=59981 u=moonja n=ansible | changed: [postgres-ha03] => (item=etcd)
2022-01-12 05:28:13,400 p=59981 u=moonja n=ansible | TASK [patroni-postgres : Kill etcd process] ***************************************************************************
2022-01-12 05:28:13,423 p=59981 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:28:13,440 p=59981 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:28:20,783 p=59981 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 05:28:20,794 p=59981 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 05:28:20,794 p=59981 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 05:28:20,804 p=59981 u=moonja n=ansible | TASK [patroni-postgres : Delete configuration file for patroni and systemd] *******************************************
2022-01-12 05:28:21,695 p=59981 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 05:28:21,696 p=59981 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 05:28:21,696 p=59981 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 05:28:21,706 p=59981 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 05:28:21,707 p=59981 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 05:28:22,180 p=59981 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/etc/systemd/system/patroni.service)
2022-01-12 05:28:22,186 p=59981 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/etc/systemd/system/patroni.service)
2022-01-12 05:28:22,187 p=59981 u=moonja n=ansible | changed: [postgres-ha02] => (item=/etc/systemd/system/patroni.service)
2022-01-12 05:28:22,188 p=59981 u=moonja n=ansible | changed: [postgres-ha01] => (item=/etc/systemd/system/patroni.service)
2022-01-12 05:28:22,195 p=59981 u=moonja n=ansible | changed: [postgres-ha03] => (item=/etc/systemd/system/patroni.service)
2022-01-12 05:28:22,637 p=59981 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 05:28:22,638 p=59981 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 05:28:22,639 p=59981 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 05:28:22,646 p=59981 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 05:28:22,647 p=59981 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 05:28:23,309 p=59981 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 05:28:23,310 p=59981 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 05:28:23,314 p=59981 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 05:28:23,317 p=59981 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 05:28:23,317 p=59981 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 05:28:23,743 p=59981 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 05:28:23,750 p=59981 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 05:28:23,752 p=59981 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 05:28:23,767 p=59981 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 05:28:23,772 p=59981 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 05:28:24,164 p=59981 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 05:28:24,168 p=59981 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 05:28:24,178 p=59981 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 05:28:24,192 p=59981 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 05:28:24,193 p=59981 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 05:28:24,205 p=59981 u=moonja n=ansible | TASK [patroni-postgres : Delete data directory for patroni cluster] ***************************************************
2022-01-12 05:28:24,883 p=59981 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 05:28:24,884 p=59981 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 05:28:24,979 p=59981 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 05:28:24,984 p=59981 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 05:28:24,993 p=59981 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 05:28:25,004 p=59981 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 05:28:25,042 p=59981 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:28:25,057 p=59981 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:28:25,843 p=59981 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 05:28:25,858 p=59981 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 05:28:25,865 p=59981 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 05:28:25,876 p=59981 u=moonja n=ansible | TASK [patroni-postgres : Uninstall pip modules of Patroni prerequisites on all three nodes] ***************************
2022-01-12 05:28:25,898 p=59981 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:28:25,931 p=59981 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:28:32,496 p=59981 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "607371507517.32269", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.426002", "end": "2022-01-12 05:28:27.591544", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/607371507517.32269", "start": "2022-01-12 05:28:27.165542", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 05:28:32,497 p=59981 u=moonja n=ansible | ...ignoring
2022-01-12 05:28:32,509 p=59981 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "770280266318.32382", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.414349", "end": "2022-01-12 05:28:26.497118", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/770280266318.32382", "start": "2022-01-12 05:28:26.082769", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 05:28:32,509 p=59981 u=moonja n=ansible | ...ignoring
2022-01-12 05:28:32,509 p=59981 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "549235092180.8703", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.428852", "end": "2022-01-12 05:28:27.137818", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/549235092180.8703", "start": "2022-01-12 05:28:26.708966", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 05:28:32,510 p=59981 u=moonja n=ansible | ...ignoring
2022-01-12 05:28:32,521 p=59981 u=moonja n=ansible | TASK [patroni-postgres : Install wheel pip module on all three nodes] *************************************************
2022-01-12 05:28:32,559 p=59981 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:28:32,575 p=59981 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:28:39,762 p=59981 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "455812733273.32613", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:00.400945", "end": "2022-01-12 05:28:34.516962", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/455812733273.32613", "start": "2022-01-12 05:28:34.116017", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-r6omxhjq/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-r6omxhjq/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 05:28:39,766 p=59981 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "957140073031.32726", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:00.385694", "end": "2022-01-12 05:28:33.412747", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/957140073031.32726", "start": "2022-01-12 05:28:33.027053", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-g2zg0211/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-g2zg0211/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 05:28:39,766 p=59981 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "760454064982.9082", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:00.405647", "end": "2022-01-12 05:28:34.053269", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/760454064982.9082", "start": "2022-01-12 05:28:33.647622", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-bkopbd86/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-bkopbd86/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 05:28:39,777 p=59981 u=moonja n=ansible | TASK [patroni-postgres : Uninstall typing pip module on all three nodes] **********************************************
2022-01-12 05:28:39,802 p=59981 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:28:39,812 p=59981 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:28:39,824 p=59981 u=moonja n=ansible | TASK [patroni-postgres : Uninstall setuptools rust on all three nodes] ************************************************
2022-01-12 05:28:39,845 p=59981 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:28:39,855 p=59981 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:28:39,867 p=59981 u=moonja n=ansible | TASK [patroni-postgres : Uninstall patroni module on all three nodes] *************************************************
2022-01-12 05:28:39,888 p=59981 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:28:39,900 p=59981 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:28:39,911 p=59981 u=moonja n=ansible | TASK [patroni-postgres : Uninstall wheel module on all three nodes] ***************************************************
2022-01-12 05:28:39,932 p=59981 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:28:39,945 p=59981 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:28:39,956 p=59981 u=moonja n=ansible | TASK [patroni-postgres : Uninstall psycopg2-binary module on all three nodes] *****************************************
2022-01-12 05:28:39,977 p=59981 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:28:39,989 p=59981 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:28:40,000 p=59981 u=moonja n=ansible | TASK [patroni-postgres : Delete the dependencies file of etcd  on all three nodes] ************************************
2022-01-12 05:28:40,021 p=59981 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:28:40,035 p=59981 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:28:40,045 p=59981 u=moonja n=ansible | TASK [patroni-postgres : Uninstall VMware Postgres RPM package on all hosts as root] **********************************
2022-01-12 05:28:52,078 p=59981 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 05:28:52,088 p=59981 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 05:28:52,100 p=59981 u=moonja n=ansible | TASK [patroni-postgres : Delete the vmwawre-postgres rpm file to all hosts in cluster] ********************************
2022-01-12 05:28:52,628 p=59981 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 05:28:52,628 p=59981 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 05:28:52,639 p=59981 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 05:28:53,167 p=59981 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 05:28:53,168 p=59981 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 05:28:53,180 p=59981 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 05:28:53,711 p=59981 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 05:28:53,712 p=59981 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 05:28:53,722 p=59981 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 05:28:54,714 p=59981 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 05:28:54,714 p=59981 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 05:28:54,751 p=59981 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-12 05:28:54,751 p=59981 u=moonja n=ansible | postgres-ha01              : ok=7    changed=5    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2022-01-12 05:28:54,751 p=59981 u=moonja n=ansible | postgres-ha02              : ok=7    changed=5    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2022-01-12 05:28:54,751 p=59981 u=moonja n=ansible | postgres-ha03              : ok=7    changed=5    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2022-01-12 05:28:54,751 p=59981 u=moonja n=ansible | postgres-haproxy01         : ok=8    changed=5    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-12 05:28:54,751 p=59981 u=moonja n=ansible | postgres-haproxy02         : ok=8    changed=5    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-12 05:31:51,427 p=61350 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 05:31:51,438 p=61350 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 05:31:51,649 p=61350 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 05:31:51,704 p=61350 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 05:31:51,732 p=61350 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 05:31:53,929 p=61350 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 05:31:53,933 p=61350 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 05:31:53,936 p=61350 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 05:31:53,939 p=61350 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 05:31:53,941 p=61350 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 05:31:53,962 p=61350 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 05:31:55,251 p=61350 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 05:31:55,257 p=61350 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 05:31:55,258 p=61350 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 05:31:55,263 p=61350 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 05:31:55,265 p=61350 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 05:31:55,275 p=61350 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 05:31:56,193 p=61350 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 05:31:56,210 p=61350 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 05:31:56,212 p=61350 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 05:31:56,217 p=61350 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 05:31:56,220 p=61350 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 05:31:56,230 p=61350 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 05:31:56,967 p=61350 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 05:31:56,971 p=61350 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 05:31:56,997 p=61350 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 05:31:56,997 p=61350 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 05:31:57,006 p=61350 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 05:31:57,018 p=61350 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 05:31:57,056 p=61350 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 05:31:57,073 p=61350 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 05:31:57,090 p=61350 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 05:31:57,091 p=61350 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 05:31:57,104 p=61350 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 05:31:57,115 p=61350 u=moonja n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] **********************************
2022-01-12 05:31:58,554 p=61350 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 05:31:58,562 p=61350 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 05:31:58,565 p=61350 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 05:31:58,877 p=61350 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 05:31:58,878 p=61350 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 05:31:58,890 p=61350 u=moonja n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] ************************************************
2022-01-12 05:32:06,297 p=61350 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 05:32:06,350 p=61350 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 05:32:06,350 p=61350 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 05:32:11,504 p=61350 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 05:32:11,517 p=61350 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 05:32:11,529 p=61350 u=moonja n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] *******************************
2022-01-12 05:32:17,987 p=61350 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3)
2022-01-12 05:32:17,987 p=61350 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3)
2022-01-12 05:32:18,007 p=61350 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3)
2022-01-12 05:32:18,140 p=61350 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3)
2022-01-12 05:32:19,394 p=61350 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3)
2022-01-12 05:32:24,393 p=61350 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-devel)
2022-01-12 05:32:24,452 p=61350 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-devel)
2022-01-12 05:32:24,470 p=61350 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-devel)
2022-01-12 05:32:25,307 p=61350 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-devel)
2022-01-12 05:32:25,856 p=61350 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-devel)
2022-01-12 05:32:30,653 p=61350 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=gcc)
2022-01-12 05:32:30,670 p=61350 u=moonja n=ansible | ok: [postgres-ha01] => (item=gcc)
2022-01-12 05:32:30,670 p=61350 u=moonja n=ansible | ok: [postgres-ha03] => (item=gcc)
2022-01-12 05:32:31,539 p=61350 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=gcc)
2022-01-12 05:32:32,536 p=61350 u=moonja n=ansible | ok: [postgres-ha02] => (item=gcc)
2022-01-12 05:32:36,884 p=61350 u=moonja n=ansible | ok: [postgres-ha03] => (item=etcd)
2022-01-12 05:32:36,915 p=61350 u=moonja n=ansible | ok: [postgres-ha01] => (item=etcd)
2022-01-12 05:32:36,924 p=61350 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=etcd)
2022-01-12 05:32:37,947 p=61350 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=etcd)
2022-01-12 05:32:39,134 p=61350 u=moonja n=ansible | ok: [postgres-ha02] => (item=etcd)
2022-01-12 05:32:43,218 p=61350 u=moonja n=ansible | ok: [postgres-ha01] => (item=python-psycopg2)
2022-01-12 05:32:48,552 p=61350 u=moonja n=ansible | changed: [postgres-haproxy02] => (item=python-psycopg2)
2022-01-12 05:32:48,582 p=61350 u=moonja n=ansible | changed: [postgres-ha03] => (item=python-psycopg2)
2022-01-12 05:32:49,483 p=61350 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-pip)
2022-01-12 05:32:49,615 p=61350 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=python-psycopg2)
2022-01-12 05:32:50,968 p=61350 u=moonja n=ansible | changed: [postgres-ha02] => (item=python-psycopg2)
2022-01-12 05:32:54,801 p=61350 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-pip)
2022-01-12 05:32:54,817 p=61350 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-pip)
2022-01-12 05:32:55,716 p=61350 u=moonja n=ansible | ok: [postgres-ha01] => (item=python34-setuptools)
2022-01-12 05:32:56,039 p=61350 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-pip)
2022-01-12 05:32:57,723 p=61350 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-pip)
2022-01-12 05:33:01,094 p=61350 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python34-setuptools)
2022-01-12 05:33:01,152 p=61350 u=moonja n=ansible | ok: [postgres-ha03] => (item=python34-setuptools)
2022-01-12 05:33:02,091 p=61350 u=moonja n=ansible | ok: [postgres-ha01] => (item=python27-python-setuptools)
2022-01-12 05:33:02,194 p=61350 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python34-setuptools)
2022-01-12 05:33:04,422 p=61350 u=moonja n=ansible | ok: [postgres-ha02] => (item=python34-setuptools)
2022-01-12 05:33:07,472 p=61350 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python27-python-setuptools)
2022-01-12 05:33:07,473 p=61350 u=moonja n=ansible | ok: [postgres-ha03] => (item=python27-python-setuptools)
2022-01-12 05:33:08,368 p=61350 u=moonja n=ansible | ok: [postgres-ha01] => (item=yamllint)
2022-01-12 05:33:08,418 p=61350 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python27-python-setuptools)
2022-01-12 05:33:11,063 p=61350 u=moonja n=ansible | ok: [postgres-ha02] => (item=python27-python-setuptools)
2022-01-12 05:33:13,980 p=61350 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=yamllint)
2022-01-12 05:33:13,981 p=61350 u=moonja n=ansible | ok: [postgres-ha03] => (item=yamllint)
2022-01-12 05:33:14,671 p=61350 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=yamllint)
2022-01-12 05:33:14,708 p=61350 u=moonja n=ansible | ok: [postgres-ha01] => (item=daemonize)
2022-01-12 05:33:17,853 p=61350 u=moonja n=ansible | ok: [postgres-ha02] => (item=yamllint)
2022-01-12 05:33:19,101 p=61350 u=moonja n=ansible |  [ERROR]: User interrupted execution

2022-01-12 05:37:00,502 p=64685 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 05:37:00,512 p=64685 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 05:37:00,732 p=64685 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 05:37:00,791 p=64685 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 05:37:00,825 p=64685 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 05:37:03,065 p=64685 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 05:37:03,067 p=64685 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 05:37:03,073 p=64685 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 05:37:03,077 p=64685 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 05:37:03,079 p=64685 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 05:37:03,096 p=64685 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 05:37:04,353 p=64685 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 05:37:04,354 p=64685 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 05:37:04,354 p=64685 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 05:37:04,355 p=64685 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 05:37:04,356 p=64685 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 05:37:04,367 p=64685 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 05:37:05,316 p=64685 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 05:37:05,317 p=64685 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 05:37:05,321 p=64685 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 05:37:05,329 p=64685 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 05:37:05,329 p=64685 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 05:37:05,340 p=64685 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 05:37:06,040 p=64685 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 05:37:06,052 p=64685 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 05:37:06,064 p=64685 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 05:37:06,064 p=64685 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 05:37:06,071 p=64685 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 05:37:06,083 p=64685 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 05:37:06,122 p=64685 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 05:37:06,140 p=64685 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 05:37:06,156 p=64685 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 05:37:06,157 p=64685 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 05:37:06,170 p=64685 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 05:37:06,181 p=64685 u=moonja n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] **********************************
2022-01-12 05:37:07,382 p=64685 u=moonja n=ansible |  [ERROR]: User interrupted execution

2022-01-12 05:39:17,310 p=65148 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 05:39:17,320 p=65148 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 05:39:17,569 p=65148 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 05:39:17,624 p=65148 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 05:39:17,652 p=65148 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 05:39:19,963 p=65148 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 05:39:19,970 p=65148 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 05:39:19,974 p=65148 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 05:39:20,504 p=65148 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 05:39:20,514 p=65148 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 05:39:20,532 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 05:39:21,503 p=65148 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 05:39:21,505 p=65148 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 05:39:21,505 p=65148 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 05:39:21,507 p=65148 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 05:39:21,513 p=65148 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 05:39:21,524 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 05:39:22,161 p=65148 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 05:39:22,172 p=65148 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 05:39:22,172 p=65148 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 05:39:22,177 p=65148 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 05:39:22,189 p=65148 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 05:39:22,200 p=65148 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 05:39:22,664 p=65148 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 05:39:22,673 p=65148 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 05:39:22,711 p=65148 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 05:39:22,726 p=65148 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 05:39:22,731 p=65148 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 05:39:22,743 p=65148 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 05:39:22,784 p=65148 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 05:39:22,813 p=65148 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 05:39:22,830 p=65148 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 05:39:22,831 p=65148 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 05:39:22,842 p=65148 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 05:39:22,854 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] **********************************
2022-01-12 05:39:24,578 p=65148 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 05:39:24,578 p=65148 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 05:39:24,579 p=65148 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 05:39:24,579 p=65148 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 05:39:24,584 p=65148 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 05:39:24,594 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] ************************************************
2022-01-12 05:39:31,948 p=65148 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 05:39:32,007 p=65148 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 05:39:32,019 p=65148 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 05:39:32,032 p=65148 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 05:39:32,032 p=65148 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 05:39:32,043 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] *******************************
2022-01-12 05:39:38,684 p=65148 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3)
2022-01-12 05:39:38,729 p=65148 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3)
2022-01-12 05:39:38,740 p=65148 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3)
2022-01-12 05:39:38,803 p=65148 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3)
2022-01-12 05:39:38,917 p=65148 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3)
2022-01-12 05:39:44,964 p=65148 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-devel)
2022-01-12 05:39:45,005 p=65148 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-devel)
2022-01-12 05:39:45,016 p=65148 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-devel)
2022-01-12 05:39:45,116 p=65148 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-devel)
2022-01-12 05:39:45,987 p=65148 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-devel)
2022-01-12 05:39:51,146 p=65148 u=moonja n=ansible | ok: [postgres-ha03] => (item=gcc)
2022-01-12 05:39:51,185 p=65148 u=moonja n=ansible | ok: [postgres-ha02] => (item=gcc)
2022-01-12 05:39:51,325 p=65148 u=moonja n=ansible | ok: [postgres-ha01] => (item=gcc)
2022-01-12 05:39:51,480 p=65148 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=gcc)
2022-01-12 05:39:52,513 p=65148 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=gcc)
2022-01-12 05:39:57,404 p=65148 u=moonja n=ansible | ok: [postgres-ha02] => (item=etcd)
2022-01-12 05:39:57,404 p=65148 u=moonja n=ansible | ok: [postgres-ha03] => (item=etcd)
2022-01-12 05:39:57,563 p=65148 u=moonja n=ansible | ok: [postgres-ha01] => (item=etcd)
2022-01-12 05:39:58,958 p=65148 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=etcd)
2022-01-12 05:39:59,135 p=65148 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=etcd)
2022-01-12 05:40:03,956 p=65148 u=moonja n=ansible | ok: [postgres-ha01] => (item=python-psycopg2)
2022-01-12 05:40:09,016 p=65148 u=moonja n=ansible | changed: [postgres-ha03] => (item=python-psycopg2)
2022-01-12 05:40:09,036 p=65148 u=moonja n=ansible | changed: [postgres-ha02] => (item=python-psycopg2)
2022-01-12 05:40:10,278 p=65148 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-pip)
2022-01-12 05:40:10,495 p=65148 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=python-psycopg2)
2022-01-12 05:40:10,605 p=65148 u=moonja n=ansible | changed: [postgres-haproxy02] => (item=python-psycopg2)
2022-01-12 05:40:15,202 p=65148 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-pip)
2022-01-12 05:40:15,258 p=65148 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-pip)
2022-01-12 05:40:16,461 p=65148 u=moonja n=ansible | ok: [postgres-ha01] => (item=python34-setuptools)
2022-01-12 05:40:16,580 p=65148 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-pip)
2022-01-12 05:40:16,775 p=65148 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-pip)
2022-01-12 05:40:21,470 p=65148 u=moonja n=ansible | ok: [postgres-ha03] => (item=python34-setuptools)
2022-01-12 05:40:21,494 p=65148 u=moonja n=ansible | ok: [postgres-ha02] => (item=python34-setuptools)
2022-01-12 05:40:22,666 p=65148 u=moonja n=ansible | ok: [postgres-ha01] => (item=python27-python-setuptools)
2022-01-12 05:40:22,787 p=65148 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python34-setuptools)
2022-01-12 05:40:22,898 p=65148 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python34-setuptools)
2022-01-12 05:40:27,704 p=65148 u=moonja n=ansible | ok: [postgres-ha03] => (item=python27-python-setuptools)
2022-01-12 05:40:27,765 p=65148 u=moonja n=ansible | ok: [postgres-ha02] => (item=python27-python-setuptools)
2022-01-12 05:40:28,878 p=65148 u=moonja n=ansible | ok: [postgres-ha01] => (item=yamllint)
2022-01-12 05:40:28,907 p=65148 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python27-python-setuptools)
2022-01-12 05:40:29,101 p=65148 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python27-python-setuptools)
2022-01-12 05:40:34,099 p=65148 u=moonja n=ansible | ok: [postgres-ha03] => (item=yamllint)
2022-01-12 05:40:34,271 p=65148 u=moonja n=ansible | ok: [postgres-ha02] => (item=yamllint)
2022-01-12 05:40:35,123 p=65148 u=moonja n=ansible | ok: [postgres-ha01] => (item=daemonize)
2022-01-12 05:40:35,328 p=65148 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=yamllint)
2022-01-12 05:40:35,737 p=65148 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=yamllint)
2022-01-12 05:40:40,320 p=65148 u=moonja n=ansible | ok: [postgres-ha03] => (item=daemonize)
2022-01-12 05:40:40,499 p=65148 u=moonja n=ansible | ok: [postgres-ha02] => (item=daemonize)
2022-01-12 05:40:41,716 p=65148 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=daemonize)
2022-01-12 05:40:41,891 p=65148 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=daemonize)
2022-01-12 05:40:41,906 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Install the dependencies of etcd  on all three nodes] ****************************************
2022-01-12 05:40:41,946 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:40:41,965 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:40:42,706 p=65148 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 05:40:42,706 p=65148 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 05:40:42,711 p=65148 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 05:40:42,724 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Install setuptools rust on all three nodes] **************************************************
2022-01-12 05:40:42,748 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:40:42,780 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:40:49,055 p=65148 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 05:40:49,172 p=65148 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 05:40:49,172 p=65148 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 05:40:49,184 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Install typing pip module on all three nodes] ************************************************
2022-01-12 05:40:49,223 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:40:49,238 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:40:55,650 p=65148 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 05:40:55,674 p=65148 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 05:40:55,674 p=65148 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 05:40:55,684 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Upgrade pip3 version] ************************************************************************
2022-01-12 05:40:55,706 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:40:55,738 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:41:02,064 p=65148 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 05:41:03,032 p=65148 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 05:41:03,151 p=65148 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 05:41:03,162 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Install wheel module on all three nodes] *****************************************************
2022-01-12 05:41:03,201 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:41:03,217 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:41:09,628 p=65148 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 05:41:09,697 p=65148 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 05:41:10,212 p=65148 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 05:41:10,222 p=65148 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 05:41:10,262 p=65148 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 05:41:10,280 p=65148 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 05:41:10,301 p=65148 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "148475745200.21588",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.634305",
        "end": "2022-01-12 05:41:04.546505",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/148475745200.21588",
        "start": "2022-01-12 05:41:03.912200",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 05:41:10,302 p=65148 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "344918761367.11634",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.546874",
        "end": "2022-01-12 05:41:05.582244",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/344918761367.11634",
        "start": "2022-01-12 05:41:05.035370",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 05:41:10,310 p=65148 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "878192032846.11768",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.634727",
        "end": "2022-01-12 05:41:03.937999",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/878192032846.11768",
        "start": "2022-01-12 05:41:03.303272",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 05:41:10,322 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Install pip modules of Patroni prerequisites on all three nodes] *****************************
2022-01-12 05:41:10,342 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:41:10,373 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:41:16,688 p=65148 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 05:41:16,740 p=65148 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 05:41:16,740 p=65148 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 05:41:16,752 p=65148 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 05:41:16,794 p=65148 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 05:41:16,812 p=65148 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 05:41:16,854 p=65148 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "254843467443.21966",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.732502",
        "end": "2022-01-12 05:41:11.790139",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/254843467443.21966",
        "start": "2022-01-12 05:41:11.057637",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 05:41:16,858 p=65148 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "512199225806.11978",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.763392",
        "end": "2022-01-12 05:41:12.300594",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/512199225806.11978",
        "start": "2022-01-12 05:41:11.537202",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 05:41:16,862 p=65148 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "560139137134.12112",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.757141",
        "end": "2022-01-12 05:41:11.216805",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/560139137134.12112",
        "start": "2022-01-12 05:41:10.459664",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 05:41:16,877 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Iinstall wheel module on all three nodes] ****************************************************
2022-01-12 05:41:16,915 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:41:16,930 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:41:23,254 p=65148 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 05:41:23,255 p=65148 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 05:41:23,255 p=65148 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 05:41:23,266 p=65148 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 05:41:23,305 p=65148 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 05:41:23,324 p=65148 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 05:41:23,351 p=65148 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "946549761177.22344",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.586069",
        "end": "2022-01-12 05:41:18.197717",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/946549761177.22344",
        "start": "2022-01-12 05:41:17.611648",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 05:41:23,352 p=65148 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "552058558399.12322",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.496330",
        "end": "2022-01-12 05:41:18.571581",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/552058558399.12322",
        "start": "2022-01-12 05:41:18.075251",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 05:41:23,355 p=65148 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "709123504666.12456",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.512131",
        "end": "2022-01-12 05:41:17.509996",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/709123504666.12456",
        "start": "2022-01-12 05:41:16.997865",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 05:41:23,366 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Install psycopg2-binary module on all three nodes] *******************************************
2022-01-12 05:41:23,403 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:41:23,419 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:41:29,736 p=65148 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 05:41:29,783 p=65148 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 05:41:30,002 p=65148 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 05:41:30,013 p=65148 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 05:41:30,038 p=65148 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 05:41:30,073 p=65148 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 05:41:30,101 p=65148 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "316088078739.22722",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.577933",
        "end": "2022-01-12 05:41:24.782824",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/316088078739.22722",
        "start": "2022-01-12 05:41:24.204891",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 05:41:30,102 p=65148 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "259135673470.12666",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.517934",
        "end": "2022-01-12 05:41:25.178556",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/259135673470.12666",
        "start": "2022-01-12 05:41:24.660622",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 05:41:30,105 p=65148 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "891670397769.12800",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.484053",
        "end": "2022-01-12 05:41:24.074283",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/891670397769.12800",
        "start": "2022-01-12 05:41:23.590230",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 05:41:30,116 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Install patroni modules on all three nodes for vmware-postgres 13.x version] *****************
2022-01-12 05:41:30,151 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:41:30,166 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:41:36,646 p=65148 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 05:41:36,967 p=65148 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 05:41:37,380 p=65148 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 05:41:37,392 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 05:41:37,416 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:41:37,449 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:41:38,074 p=65148 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 05:41:38,074 p=65148 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 05:41:38,076 p=65148 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 05:41:38,085 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Create the etcd.yml configuration file for all nodes] ****************************************
2022-01-12 05:41:38,124 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:41:38,139 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:41:39,364 p=65148 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 05:41:39,365 p=65148 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 05:41:39,367 p=65148 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 05:41:39,381 p=65148 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 05:41:39,420 p=65148 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 05:41:39,438 p=65148 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 05:41:39,455 p=65148 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "9ae4719bb01c1f3fe9f70a6e2c0044c7c41a95fe",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "c58c15d1af07ce06cb21d7da9f41a53d",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641933698.255063-68884-53348895957173/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 05:41:39,457 p=65148 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "15047e7ccbff3a953a4abe4edc1ee87eccf0c835",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "90cfbd68000432263a3d9f571742a601",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641933698.256885-68885-247624679950916/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 05:41:39,468 p=65148 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "a89b395b153fde540c5b5250ee19c5a9b4a69b60",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "50ed3a33db1def8c3d70f9d8154ad6fa",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641933698.259586-68889-94590194826452/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 05:41:39,480 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of etcd into /etc/systemd/system] *********************************
2022-01-12 05:41:39,516 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:41:39,530 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:41:40,331 p=65148 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 05:41:40,337 p=65148 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 05:41:40,342 p=65148 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 05:41:40,355 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Reload and start etcd through systemd] *******************************************************
2022-01-12 05:41:40,378 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:41:40,409 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:41:48,172 p=65148 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 05:41:48,182 p=65148 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 05:41:49,733 p=65148 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 05:41:49,747 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Lists the members and identifies the current Leader.] ****************************************
2022-01-12 05:41:49,788 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:41:49,804 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:41:50,328 p=65148 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 05:41:50,328 p=65148 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 05:41:50,330 p=65148 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 05:41:50,343 p=65148 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 05:41:50,381 p=65148 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 05:41:50,399 p=65148 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 05:41:50,451 p=65148 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.023896",
        "end": "2022-01-12 05:41:50.452033",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 05:41:50.428137",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 05:41:50,454 p=65148 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.023015",
        "end": "2022-01-12 05:41:50.912662",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 05:41:50.889647",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 05:41:50,455 p=65148 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.023118",
        "end": "2022-01-12 05:41:49.826769",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 05:41:49.803651",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 05:41:50,468 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Set data directory for patroni cluster] ******************************************************
2022-01-12 05:41:50,971 p=65148 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 05:41:50,973 p=65148 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 05:41:50,978 p=65148 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 05:41:51,211 p=65148 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 05:41:51,212 p=65148 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 05:41:51,227 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Create the patroni.yml configuration file for all nodes] *************************************
2022-01-12 05:41:51,268 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:41:51,283 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:41:52,299 p=65148 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 05:41:52,299 p=65148 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 05:41:52,301 p=65148 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 05:41:52,315 p=65148 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 05:41:52,355 p=65148 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 05:41:52,373 p=65148 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 05:41:52,400 p=65148 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "8fdbc0091f8c2b47925b25677c8ac93f5d0c4b6a",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "5cc0cd8fa5a12bfb2d65c871e01dfe91",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1434,
        "src": "/var/tmp/ansible-tmp-1641933711.403296-69220-228367113373484/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 05:41:52,401 p=65148 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "303ba581ace9eefb54fb0ae40c17c16b71147008",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "cb10a4f1ce61c2e44c3be8350c819c63",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1434,
        "src": "/var/tmp/ansible-tmp-1641933711.405834-69221-207111464433624/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 05:41:52,406 p=65148 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "d59833b5da28c47aae13ffafba3ec34ec0070fce",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "2a67202ea393e52d46f6b610ebe77b9e",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1434,
        "src": "/var/tmp/ansible-tmp-1641933711.408787-69225-144079438451901/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 05:41:52,415 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of patroni into /etc/systemd/system] ******************************
2022-01-12 05:41:52,435 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:41:52,466 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:41:53,378 p=65148 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 05:41:53,379 p=65148 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 05:41:53,379 p=65148 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 05:41:53,392 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Reload and start systemd service of patroni] *************************************************
2022-01-12 05:41:53,416 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:41:53,434 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:41:54,126 p=65148 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 05:41:54,138 p=65148 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 05:41:54,141 p=65148 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 05:41:54,157 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 05:41:54,177 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:41:54,187 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Remove clsuter on master] ********************************************************************
2022-01-12 05:41:54,225 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:41:54,240 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:41:54,257 p=65148 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-12 05:41:54,267 p=65148 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-12 05:42:01,114 p=65148 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 05:42:01,124 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 05:42:01,144 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:42:01,154 p=65148 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 05:42:01,193 p=65148 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 05:42:01,211 p=65148 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 05:42:01,251 p=65148 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "958430971101.25149",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n",
        "delta": "0:00:00.550772",
        "end": "2022-01-12 05:41:55.582862",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/958430971101.25149",
        "start": "2022-01-12 05:41:55.032090",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |\n+ Cluster: vmtz_patroni_cluster (7052040231931229113) --+-----------+-----------------------------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | nofailover: true            |\n|               |              |         |         |    |           | noloadbalance: true         |\n|               |              |         |         |    |           | nosync: true                |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | nofailover: true            |\n|               |              |         |         |    |           | noloadbalance: true         |\n|               |              |         |         |    |           | nosync: true                |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | nofailover: true            |\n|               |              |         |         |    |           | noloadbalance: true         |\n|               |              |         |         |    |           | nosync: true                |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": ",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |",
            "+ Cluster: vmtz_patroni_cluster (7052040231931229113) --+-----------+-----------------------------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | nofailover: true            |",
            "|               |              |         |         |    |           | noloadbalance: true         |",
            "|               |              |         |         |    |           | nosync: true                |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | nofailover: true            |",
            "|               |              |         |         |    |           | noloadbalance: true         |",
            "|               |              |         |         |    |           | nosync: true                |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | nofailover: true            |",
            "|               |              |         |         |    |           | noloadbalance: true         |",
            "|               |              |         |         |    |           | nosync: true                |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": "
        ]
    }
}
2022-01-12 05:42:01,252 p=65148 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 05:42:01,253 p=65148 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 05:42:01,265 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Reinitialize patroni clsuter on all node] ****************************************************
2022-01-12 05:42:01,285 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:42:01,317 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:42:07,780 p=65148 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "41453022148.14881", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n", "delta": "0:00:00.300964", "end": "2022-01-12 05:42:02.796253", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/41453022148.14881", "start": "2022-01-12 05:42:02.495289", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-12 05:42:07,781 p=65148 u=moonja n=ansible | ...ignoring
2022-01-12 05:42:07,800 p=65148 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "712627846609.25525", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n", "delta": "0:00:00.301518", "end": "2022-01-12 05:42:02.331748", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/712627846609.25525", "start": "2022-01-12 05:42:02.030230", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-12 05:42:07,800 p=65148 u=moonja n=ansible | ...ignoring
2022-01-12 05:42:08,631 p=65148 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "496044882144.15017", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n", "delta": "0:00:00.264444", "end": "2022-01-12 05:42:02.509198", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/496044882144.15017", "start": "2022-01-12 05:42:02.244754", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-12 05:42:08,631 p=65148 u=moonja n=ansible | ...ignoring
2022-01-12 05:42:08,642 p=65148 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 05:42:08,682 p=65148 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 05:42:08,700 p=65148 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 05:42:08,751 p=65148 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "712627846609.25525",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.301518",
        "end": "2022-01-12 05:42:02.331748",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/712627846609.25525",
        "start": "2022-01-12 05:42:02.030230",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 05:42:08,754 p=65148 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "41453022148.14881",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.300964",
        "end": "2022-01-12 05:42:02.796253",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/41453022148.14881",
        "start": "2022-01-12 05:42:02.495289",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 05:42:08,755 p=65148 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "496044882144.15017",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.264444",
        "end": "2022-01-12 05:42:02.509198",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/496044882144.15017",
        "start": "2022-01-12 05:42:02.244754",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 05:42:08,767 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 05:42:08,786 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:42:08,795 p=65148 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 05:42:08,833 p=65148 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 05:42:08,852 p=65148 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 05:42:08,901 p=65148 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "712627846609.25525",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.301518",
        "end": "2022-01-12 05:42:02.331748",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/712627846609.25525",
        "start": "2022-01-12 05:42:02.030230",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 05:42:08,904 p=65148 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "41453022148.14881",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.300964",
        "end": "2022-01-12 05:42:02.796253",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/41453022148.14881",
        "start": "2022-01-12 05:42:02.495289",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 05:42:08,905 p=65148 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "496044882144.15017",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.264444",
        "end": "2022-01-12 05:42:02.509198",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/496044882144.15017",
        "start": "2022-01-12 05:42:02.244754",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 05:42:08,921 p=65148 u=moonja n=ansible | TASK [patroni-postgres : Run the patronictl command-line utility to view the cluster state with Patroni started on all three nodes,] ***
2022-01-12 05:42:08,943 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 05:42:08,961 p=65148 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 05:42:09,726 p=65148 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 05:42:09,737 p=65148 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 05:42:09,741 p=65148 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 05:42:09,752 p=65148 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 05:42:09,793 p=65148 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 05:42:09,811 p=65148 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 05:42:09,851 p=65148 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.318091",
        "end": "2022-01-12 05:42:09.859586",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 05:42:09.541495",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+-----------------------------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | nofailover: true            |\n|               |              |         |         |    |           | noloadbalance: true         |\n|               |              |         |         |    |           | nosync: true                |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | nofailover: true            |\n|               |              |         |         |    |           | noloadbalance: true         |\n|               |              |         |         |    |           | nosync: true                |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | nofailover: true            |\n|               |              |         |         |    |           | noloadbalance: true         |\n|               |              |         |         |    |           | nosync: true                |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+-----------------------------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | nofailover: true            |",
            "|               |              |         |         |    |           | noloadbalance: true         |",
            "|               |              |         |         |    |           | nosync: true                |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | nofailover: true            |",
            "|               |              |         |         |    |           | noloadbalance: true         |",
            "|               |              |         |         |    |           | nosync: true                |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | nofailover: true            |",
            "|               |              |         |         |    |           | noloadbalance: true         |",
            "|               |              |         |         |    |           | nosync: true                |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+"
        ]
    }
}
2022-01-12 05:42:09,855 p=65148 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.322922",
        "end": "2022-01-12 05:42:10.331582",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 05:42:10.008660",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+-----------------------------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | nofailover: true            |\n|               |              |         |         |    |           | noloadbalance: true         |\n|               |              |         |         |    |           | nosync: true                |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | nofailover: true            |\n|               |              |         |         |    |           | noloadbalance: true         |\n|               |              |         |         |    |           | nosync: true                |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | nofailover: true            |\n|               |              |         |         |    |           | noloadbalance: true         |\n|               |              |         |         |    |           | nosync: true                |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+-----------------------------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | nofailover: true            |",
            "|               |              |         |         |    |           | noloadbalance: true         |",
            "|               |              |         |         |    |           | nosync: true                |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | nofailover: true            |",
            "|               |              |         |         |    |           | noloadbalance: true         |",
            "|               |              |         |         |    |           | nosync: true                |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | nofailover: true            |",
            "|               |              |         |         |    |           | noloadbalance: true         |",
            "|               |              |         |         |    |           | nosync: true                |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+"
        ]
    }
}
2022-01-12 05:42:09,856 p=65148 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.304740",
        "end": "2022-01-12 05:42:09.230776",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 05:42:08.926036",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+-----------------------------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | nofailover: true            |\n|               |              |         |         |    |           | noloadbalance: true         |\n|               |              |         |         |    |           | nosync: true                |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | nofailover: true            |\n|               |              |         |         |    |           | noloadbalance: true         |\n|               |              |         |         |    |           | nosync: true                |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | nofailover: true            |\n|               |              |         |         |    |           | noloadbalance: true         |\n|               |              |         |         |    |           | nosync: true                |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+-----------------------------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | nofailover: true            |",
            "|               |              |         |         |    |           | noloadbalance: true         |",
            "|               |              |         |         |    |           | nosync: true                |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | nofailover: true            |",
            "|               |              |         |         |    |           | noloadbalance: true         |",
            "|               |              |         |         |    |           | nosync: true                |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | nofailover: true            |",
            "|               |              |         |         |    |           | noloadbalance: true         |",
            "|               |              |         |         |    |           | nosync: true                |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+"
        ]
    }
}
2022-01-12 05:42:09,920 p=65148 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-12 05:42:09,920 p=65148 u=moonja n=ansible | postgres-ha01              : ok=40   changed=20   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-12 05:42:09,920 p=65148 u=moonja n=ansible | postgres-ha02              : ok=39   changed=20   unreachable=0    failed=0    skipped=1    rescued=0    ignored=1   
2022-01-12 05:42:09,920 p=65148 u=moonja n=ansible | postgres-ha03              : ok=39   changed=20   unreachable=0    failed=0    skipped=1    rescued=0    ignored=1   
2022-01-12 05:42:09,920 p=65148 u=moonja n=ansible | postgres-haproxy01         : ok=20   changed=4    unreachable=0    failed=0    skipped=23   rescued=0    ignored=0   
2022-01-12 05:42:09,921 p=65148 u=moonja n=ansible | postgres-haproxy02         : ok=20   changed=4    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
2022-01-12 06:05:16,583 p=72308 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 06:05:16,595 p=72308 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 06:05:16,845 p=72308 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 06:05:16,898 p=72308 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 06:05:16,926 p=72308 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 06:05:19,522 p=72308 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 06:05:19,524 p=72308 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:05:19,527 p=72308 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:05:19,530 p=72308 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:05:21,520 p=72308 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 06:05:21,541 p=72308 u=moonja n=ansible | TASK [patroni-postgres : Stop services for patroni and etcd] **********************************************************
2022-01-12 06:05:21,564 p=72308 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=patroni) 
2022-01-12 06:05:21,565 p=72308 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=etcd) 
2022-01-12 06:05:21,580 p=72308 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=patroni) 
2022-01-12 06:05:21,581 p=72308 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=etcd) 
2022-01-12 06:05:23,080 p=72308 u=moonja n=ansible | changed: [postgres-ha02] => (item=patroni)
2022-01-12 06:05:23,092 p=72308 u=moonja n=ansible | changed: [postgres-ha03] => (item=patroni)
2022-01-12 06:05:23,262 p=72308 u=moonja n=ansible | changed: [postgres-ha01] => (item=patroni)
2022-01-12 06:05:23,613 p=72308 u=moonja n=ansible | changed: [postgres-ha03] => (item=etcd)
2022-01-12 06:05:23,616 p=72308 u=moonja n=ansible | changed: [postgres-ha02] => (item=etcd)
2022-01-12 06:05:23,801 p=72308 u=moonja n=ansible | changed: [postgres-ha01] => (item=etcd)
2022-01-12 06:05:23,818 p=72308 u=moonja n=ansible | TASK [patroni-postgres : Kill etcd process] ***************************************************************************
2022-01-12 06:05:23,841 p=72308 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:05:23,872 p=72308 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:05:30,986 p=72308 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:05:31,008 p=72308 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:05:31,008 p=72308 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:05:31,019 p=72308 u=moonja n=ansible | TASK [patroni-postgres : Delete configuration file for patroni and systemd] *******************************************
2022-01-12 06:05:31,982 p=72308 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 06:05:31,984 p=72308 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 06:05:31,987 p=72308 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 06:05:32,020 p=72308 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 06:05:32,021 p=72308 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 06:05:32,410 p=72308 u=moonja n=ansible | changed: [postgres-ha02] => (item=/etc/systemd/system/patroni.service)
2022-01-12 06:05:32,411 p=72308 u=moonja n=ansible | changed: [postgres-ha03] => (item=/etc/systemd/system/patroni.service)
2022-01-12 06:05:32,412 p=72308 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/etc/systemd/system/patroni.service)
2022-01-12 06:05:32,533 p=72308 u=moonja n=ansible | changed: [postgres-ha01] => (item=/etc/systemd/system/patroni.service)
2022-01-12 06:05:32,537 p=72308 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/etc/systemd/system/patroni.service)
2022-01-12 06:05:32,993 p=72308 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 06:05:32,995 p=72308 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 06:05:33,025 p=72308 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 06:05:33,088 p=72308 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 06:05:33,093 p=72308 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 06:05:33,631 p=72308 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 06:05:33,636 p=72308 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 06:05:33,642 p=72308 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 06:05:33,680 p=72308 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 06:05:33,696 p=72308 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 06:05:34,075 p=72308 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 06:05:34,080 p=72308 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 06:05:34,081 p=72308 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 06:05:34,089 p=72308 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 06:05:34,145 p=72308 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 06:05:34,506 p=72308 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 06:05:34,511 p=72308 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 06:05:34,512 p=72308 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 06:05:34,514 p=72308 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 06:05:34,576 p=72308 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 06:05:34,588 p=72308 u=moonja n=ansible | TASK [patroni-postgres : Delete data directory for patroni cluster] ***************************************************
2022-01-12 06:05:35,047 p=72308 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:05:35,056 p=72308 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:05:35,069 p=72308 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:05:35,095 p=72308 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:05:35,096 p=72308 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:05:35,107 p=72308 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 06:05:35,129 p=72308 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:05:35,146 p=72308 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:05:35,871 p=72308 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:05:35,872 p=72308 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:05:35,873 p=72308 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:05:35,883 p=72308 u=moonja n=ansible | TASK [patroni-postgres : Uninstall pip modules of Patroni prerequisites on all three nodes] ***************************
2022-01-12 06:05:35,903 p=72308 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:05:35,934 p=72308 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:05:42,889 p=72308 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "401380813444.17543", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.432037", "end": "2022-01-12 06:05:36.573310", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/401380813444.17543", "start": "2022-01-12 06:05:36.141273", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 06:05:42,890 p=72308 u=moonja n=ansible | ...ignoring
2022-01-12 06:05:42,944 p=72308 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "365466962674.17400", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.435877", "end": "2022-01-12 06:05:37.679582", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/365466962674.17400", "start": "2022-01-12 06:05:37.243705", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 06:05:42,944 p=72308 u=moonja n=ansible | ...ignoring
2022-01-12 06:05:42,944 p=72308 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "359570803341.28398", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.443191", "end": "2022-01-12 06:05:37.217151", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/359570803341.28398", "start": "2022-01-12 06:05:36.773960", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 06:05:42,944 p=72308 u=moonja n=ansible | ...ignoring
2022-01-12 06:05:42,955 p=72308 u=moonja n=ansible | TASK [patroni-postgres : Install wheel pip module on all three nodes] *************************************************
2022-01-12 06:05:42,993 p=72308 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:05:43,009 p=72308 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:05:49,750 p=72308 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "45821050689.28776", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:00.401490", "end": "2022-01-12 06:05:44.237665", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/45821050689.28776", "start": "2022-01-12 06:05:43.836175", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-57fd4fn9/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-57fd4fn9/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 06:05:49,796 p=72308 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "131135721820.17888", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:00.396528", "end": "2022-01-12 06:05:43.611769", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/131135721820.17888", "start": "2022-01-12 06:05:43.215241", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-ufrn8b7d/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-ufrn8b7d/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 06:05:49,797 p=72308 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "326515854964.17753", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:00.400557", "end": "2022-01-12 06:05:44.691288", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/326515854964.17753", "start": "2022-01-12 06:05:44.290731", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-cxj3wgyy/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-cxj3wgyy/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 06:05:49,807 p=72308 u=moonja n=ansible | TASK [patroni-postgres : Uninstall typing pip module on all three nodes] **********************************************
2022-01-12 06:05:49,829 p=72308 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:05:49,843 p=72308 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:05:49,853 p=72308 u=moonja n=ansible | TASK [patroni-postgres : Uninstall setuptools rust on all three nodes] ************************************************
2022-01-12 06:05:49,874 p=72308 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:05:49,887 p=72308 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:05:49,897 p=72308 u=moonja n=ansible | TASK [patroni-postgres : Uninstall patroni module on all three nodes] *************************************************
2022-01-12 06:05:49,919 p=72308 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:05:49,930 p=72308 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:05:49,941 p=72308 u=moonja n=ansible | TASK [patroni-postgres : Uninstall wheel module on all three nodes] ***************************************************
2022-01-12 06:05:49,963 p=72308 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:05:49,974 p=72308 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:05:49,985 p=72308 u=moonja n=ansible | TASK [patroni-postgres : Uninstall psycopg2-binary module on all three nodes] *****************************************
2022-01-12 06:05:50,006 p=72308 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:05:50,017 p=72308 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:05:50,028 p=72308 u=moonja n=ansible | TASK [patroni-postgres : Delete the dependencies file of etcd  on all three nodes] ************************************
2022-01-12 06:05:50,049 p=72308 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:05:50,058 p=72308 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:05:50,070 p=72308 u=moonja n=ansible | TASK [patroni-postgres : Uninstall VMware Postgres RPM package on all hosts as root] **********************************
2022-01-12 06:06:02,378 p=72308 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:06:02,378 p=72308 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:06:02,390 p=72308 u=moonja n=ansible | TASK [patroni-postgres : Delete the vmwawre-postgres rpm file to all hosts in cluster] ********************************
2022-01-12 06:06:02,993 p=72308 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:06:02,993 p=72308 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:06:03,005 p=72308 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 06:06:03,574 p=72308 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:06:03,575 p=72308 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:06:03,587 p=72308 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 06:06:04,165 p=72308 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:06:04,166 p=72308 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:06:04,177 p=72308 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 06:06:05,238 p=72308 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 06:06:05,256 p=72308 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 06:06:05,291 p=72308 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-12 06:06:05,297 p=72308 u=moonja n=ansible | postgres-ha01              : ok=7    changed=5    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2022-01-12 06:06:05,297 p=72308 u=moonja n=ansible | postgres-ha02              : ok=7    changed=5    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2022-01-12 06:06:05,297 p=72308 u=moonja n=ansible | postgres-ha03              : ok=7    changed=5    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2022-01-12 06:06:05,298 p=72308 u=moonja n=ansible | postgres-haproxy01         : ok=8    changed=5    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-12 06:06:05,298 p=72308 u=moonja n=ansible | postgres-haproxy02         : ok=8    changed=5    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-12 06:06:35,498 p=73658 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 06:06:35,508 p=73658 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 06:06:35,732 p=73658 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 06:06:35,788 p=73658 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 06:06:35,817 p=73658 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 06:06:37,968 p=73658 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 06:06:37,974 p=73658 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:06:37,977 p=73658 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:06:37,980 p=73658 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 06:06:38,770 p=73658 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:06:38,788 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 06:06:39,726 p=73658 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 06:06:39,727 p=73658 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:06:39,727 p=73658 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 06:06:39,730 p=73658 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:06:39,730 p=73658 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:06:39,743 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 06:06:40,665 p=73658 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:06:40,668 p=73658 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:06:40,670 p=73658 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:06:40,670 p=73658 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:06:40,677 p=73658 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:06:40,688 p=73658 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 06:06:41,303 p=73658 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:06:41,307 p=73658 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:06:41,315 p=73658 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:06:41,328 p=73658 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:06:41,329 p=73658 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:06:41,341 p=73658 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:06:41,378 p=73658 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 06:06:41,397 p=73658 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 06:06:41,415 p=73658 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 06:06:41,415 p=73658 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 06:06:41,426 p=73658 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 06:06:41,438 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] **********************************
2022-01-12 06:06:42,870 p=73658 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:06:42,882 p=73658 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:06:42,885 p=73658 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:06:43,183 p=73658 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:06:43,183 p=73658 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:06:43,199 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] ************************************************
2022-01-12 06:06:50,552 p=73658 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:06:50,595 p=73658 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:06:50,607 p=73658 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:06:55,741 p=73658 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:06:55,764 p=73658 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:06:55,774 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] *******************************
2022-01-12 06:07:02,109 p=73658 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3)
2022-01-12 06:07:02,186 p=73658 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3)
2022-01-12 06:07:02,730 p=73658 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3)
2022-01-12 06:07:03,682 p=73658 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3)
2022-01-12 06:07:04,215 p=73658 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3)
2022-01-12 06:07:08,400 p=73658 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-devel)
2022-01-12 06:07:08,422 p=73658 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-devel)
2022-01-12 06:07:09,302 p=73658 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-devel)
2022-01-12 06:07:10,349 p=73658 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-devel)
2022-01-12 06:07:10,469 p=73658 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-devel)
2022-01-12 06:07:14,608 p=73658 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=gcc)
2022-01-12 06:07:14,671 p=73658 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=gcc)
2022-01-12 06:07:15,814 p=73658 u=moonja n=ansible | ok: [postgres-ha01] => (item=gcc)
2022-01-12 06:07:16,781 p=73658 u=moonja n=ansible | ok: [postgres-ha02] => (item=gcc)
2022-01-12 06:07:17,186 p=73658 u=moonja n=ansible | ok: [postgres-ha03] => (item=gcc)
2022-01-12 06:07:20,961 p=73658 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=etcd)
2022-01-12 06:07:20,975 p=73658 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=etcd)
2022-01-12 06:07:22,206 p=73658 u=moonja n=ansible | ok: [postgres-ha01] => (item=etcd)
2022-01-12 06:07:23,226 p=73658 u=moonja n=ansible | ok: [postgres-ha02] => (item=etcd)
2022-01-12 06:07:23,385 p=73658 u=moonja n=ansible | ok: [postgres-ha03] => (item=etcd)
2022-01-12 06:07:28,551 p=73658 u=moonja n=ansible | ok: [postgres-ha01] => (item=python-psycopg2)
2022-01-12 06:07:32,776 p=73658 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=python-psycopg2)
2022-01-12 06:07:32,777 p=73658 u=moonja n=ansible | changed: [postgres-haproxy02] => (item=python-psycopg2)
2022-01-12 06:07:34,885 p=73658 u=moonja n=ansible | changed: [postgres-ha02] => (item=python-psycopg2)
2022-01-12 06:07:34,896 p=73658 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-pip)
2022-01-12 06:07:34,939 p=73658 u=moonja n=ansible | changed: [postgres-ha03] => (item=python-psycopg2)
2022-01-12 06:07:39,330 p=73658 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-pip)
2022-01-12 06:07:39,331 p=73658 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-pip)
2022-01-12 06:07:41,351 p=73658 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-pip)
2022-01-12 06:07:41,399 p=73658 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-pip)
2022-01-12 06:07:41,408 p=73658 u=moonja n=ansible | ok: [postgres-ha01] => (item=python34-setuptools)
2022-01-12 06:07:45,786 p=73658 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python34-setuptools)
2022-01-12 06:07:45,786 p=73658 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python34-setuptools)
2022-01-12 06:07:47,691 p=73658 u=moonja n=ansible | ok: [postgres-ha03] => (item=python34-setuptools)
2022-01-12 06:07:47,702 p=73658 u=moonja n=ansible | ok: [postgres-ha02] => (item=python34-setuptools)
2022-01-12 06:07:47,703 p=73658 u=moonja n=ansible | ok: [postgres-ha01] => (item=python27-python-setuptools)
2022-01-12 06:07:52,187 p=73658 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python27-python-setuptools)
2022-01-12 06:07:52,188 p=73658 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python27-python-setuptools)
2022-01-12 06:07:53,892 p=73658 u=moonja n=ansible | ok: [postgres-ha02] => (item=python27-python-setuptools)
2022-01-12 06:07:53,900 p=73658 u=moonja n=ansible | ok: [postgres-ha03] => (item=python27-python-setuptools)
2022-01-12 06:07:53,950 p=73658 u=moonja n=ansible | ok: [postgres-ha01] => (item=yamllint)
2022-01-12 06:07:58,602 p=73658 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=yamllint)
2022-01-12 06:07:58,602 p=73658 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=yamllint)
2022-01-12 06:08:00,241 p=73658 u=moonja n=ansible | ok: [postgres-ha02] => (item=yamllint)
2022-01-12 06:08:00,251 p=73658 u=moonja n=ansible | ok: [postgres-ha03] => (item=yamllint)
2022-01-12 06:08:00,317 p=73658 u=moonja n=ansible | ok: [postgres-ha01] => (item=daemonize)
2022-01-12 06:08:04,925 p=73658 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=daemonize)
2022-01-12 06:08:05,323 p=73658 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=daemonize)
2022-01-12 06:08:07,037 p=73658 u=moonja n=ansible | ok: [postgres-ha03] => (item=daemonize)
2022-01-12 06:08:07,038 p=73658 u=moonja n=ansible | ok: [postgres-ha02] => (item=daemonize)
2022-01-12 06:08:07,054 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Install the dependencies of etcd  on all three nodes] ****************************************
2022-01-12 06:08:07,080 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:08:07,098 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:08:08,127 p=73658 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:08:08,130 p=73658 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:08:08,270 p=73658 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:08:08,281 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Install setuptools rust on all three nodes] **************************************************
2022-01-12 06:08:08,305 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:08:08,323 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:08:14,855 p=73658 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:08:14,920 p=73658 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:08:14,921 p=73658 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:08:14,932 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Install typing pip module on all three nodes] ************************************************
2022-01-12 06:08:14,955 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:08:14,972 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:08:21,913 p=73658 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:08:21,926 p=73658 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:08:21,926 p=73658 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:08:21,939 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Upgrade pip3 version] ************************************************************************
2022-01-12 06:08:21,963 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:08:21,982 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:08:28,989 p=73658 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:08:29,013 p=73658 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:08:29,013 p=73658 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:08:29,025 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Install wheel module on all three nodes] *****************************************************
2022-01-12 06:08:29,065 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:08:29,081 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:08:35,662 p=73658 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:08:35,704 p=73658 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:08:35,780 p=73658 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:08:35,790 p=73658 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:08:35,831 p=73658 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:08:35,850 p=73658 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:08:35,870 p=73658 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "486125424983.3096",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.643771",
        "end": "2022-01-12 06:08:30.589144",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/486125424983.3096",
        "start": "2022-01-12 06:08:29.945373",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 06:08:35,871 p=73658 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "72393188714.23923",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.622150",
        "end": "2022-01-12 06:08:31.047171",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/72393188714.23923",
        "start": "2022-01-12 06:08:30.425021",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 06:08:35,883 p=73658 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "572092999261.24057",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.629456",
        "end": "2022-01-12 06:08:29.975655",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/572092999261.24057",
        "start": "2022-01-12 06:08:29.346199",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 06:08:35,896 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Install pip modules of Patroni prerequisites on all three nodes] *****************************
2022-01-12 06:08:35,935 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:08:35,951 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:08:42,251 p=73658 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:08:42,265 p=73658 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:08:42,265 p=73658 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:08:42,278 p=73658 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:08:42,318 p=73658 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:08:42,337 p=73658 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:08:42,357 p=73658 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "670573068182.3482",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.761296",
        "end": "2022-01-12 06:08:37.391035",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/670573068182.3482",
        "start": "2022-01-12 06:08:36.629739",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 06:08:42,359 p=73658 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "266782202389.24267",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.756172",
        "end": "2022-01-12 06:08:37.848324",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/266782202389.24267",
        "start": "2022-01-12 06:08:37.092152",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 06:08:42,371 p=73658 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "947213430836.24409",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.732210",
        "end": "2022-01-12 06:08:36.737856",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/947213430836.24409",
        "start": "2022-01-12 06:08:36.005646",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 06:08:42,384 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Iinstall wheel module on all three nodes] ****************************************************
2022-01-12 06:08:42,423 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:08:42,439 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:08:49,090 p=73658 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:08:49,136 p=73658 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:08:49,148 p=73658 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:08:49,161 p=73658 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:08:49,205 p=73658 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:08:49,223 p=73658 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:08:49,244 p=73658 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "911083893739.3860",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.566678",
        "end": "2022-01-12 06:08:43.801299",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/911083893739.3860",
        "start": "2022-01-12 06:08:43.234621",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 06:08:49,245 p=73658 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "570851641724.24619",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.494912",
        "end": "2022-01-12 06:08:44.191323",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/570851641724.24619",
        "start": "2022-01-12 06:08:43.696411",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 06:08:49,259 p=73658 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "223892823565.24753",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.484635",
        "end": "2022-01-12 06:08:43.103533",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/223892823565.24753",
        "start": "2022-01-12 06:08:42.618898",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 06:08:49,270 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Install psycopg2-binary module on all three nodes] *******************************************
2022-01-12 06:08:49,308 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:08:49,323 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:08:56,450 p=73658 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:08:56,476 p=73658 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:08:56,477 p=73658 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:08:56,489 p=73658 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:08:56,531 p=73658 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:08:56,552 p=73658 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:08:56,572 p=73658 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "813737470343.4238",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.567163",
        "end": "2022-01-12 06:08:50.990480",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/813737470343.4238",
        "start": "2022-01-12 06:08:50.423317",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 06:08:56,573 p=73658 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "98202163690.24963",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.500705",
        "end": "2022-01-12 06:08:51.386218",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/98202163690.24963",
        "start": "2022-01-12 06:08:50.885513",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 06:08:56,585 p=73658 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "407738402746.25097",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.498296",
        "end": "2022-01-12 06:08:50.306624",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/407738402746.25097",
        "start": "2022-01-12 06:08:49.808328",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 06:08:56,597 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Install patroni modules on all three nodes for vmware-postgres 13.x version] *****************
2022-01-12 06:08:56,620 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:08:56,638 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:09:02,839 p=73658 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:09:02,884 p=73658 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:09:02,896 p=73658 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:09:02,908 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 06:09:02,952 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:09:02,968 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:09:03,971 p=73658 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:09:03,973 p=73658 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:09:03,973 p=73658 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:09:03,988 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Create the etcd.yml configuration file for all nodes] ****************************************
2022-01-12 06:09:04,015 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:09:04,050 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:09:05,458 p=73658 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:09:05,459 p=73658 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:09:05,459 p=73658 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:09:05,472 p=73658 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:09:05,517 p=73658 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:09:05,536 p=73658 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:09:05,555 p=73658 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "9ae4719bb01c1f3fe9f70a6e2c0044c7c41a95fe",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "c58c15d1af07ce06cb21d7da9f41a53d",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641935344.16856-77661-263457528177916/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 06:09:05,556 p=73658 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "15047e7ccbff3a953a4abe4edc1ee87eccf0c835",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "90cfbd68000432263a3d9f571742a601",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641935344.1712608-77662-92965917392736/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 06:09:05,569 p=73658 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "a89b395b153fde540c5b5250ee19c5a9b4a69b60",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "50ed3a33db1def8c3d70f9d8154ad6fa",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641935344.176029-77666-63592397866426/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 06:09:05,581 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of etcd into /etc/systemd/system] *********************************
2022-01-12 06:09:05,604 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:09:05,622 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:09:06,928 p=73658 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:09:06,928 p=73658 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:09:06,928 p=73658 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:09:06,942 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Reload and start etcd through systemd] *******************************************************
2022-01-12 06:09:06,969 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:09:06,991 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:09:08,981 p=73658 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:09:08,983 p=73658 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:09:08,983 p=73658 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:09:08,995 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Lists the members and identifies the current Leader.] ****************************************
2022-01-12 06:09:09,019 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:09:09,051 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:09:09,684 p=73658 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:09:09,684 p=73658 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:09:09,685 p=73658 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:09:09,699 p=73658 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:09:09,743 p=73658 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:09:09,762 p=73658 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:09:09,781 p=73658 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.023717",
        "end": "2022-01-12 06:09:09.677147",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 06:09:09.653430",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 06:09:09,782 p=73658 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.020943",
        "end": "2022-01-12 06:09:10.135938",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 06:09:10.114995",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 06:09:09,795 p=73658 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.024585",
        "end": "2022-01-12 06:09:09.063854",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 06:09:09.039269",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 06:09:09,806 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Set data directory for patroni cluster] ******************************************************
2022-01-12 06:09:10,322 p=73658 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:09:10,323 p=73658 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:09:10,339 p=73658 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:09:10,554 p=73658 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:09:10,563 p=73658 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:09:10,575 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Create the patroni.yml configuration file for all nodes] *************************************
2022-01-12 06:09:10,600 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:09:10,618 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:09:12,004 p=73658 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:09:12,005 p=73658 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:09:12,008 p=73658 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:09:12,019 p=73658 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:09:12,057 p=73658 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:09:12,076 p=73658 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:09:12,096 p=73658 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "e2397adc09d703c72a093b844fbddbda43d278e6",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "b98e2a5072c0f1d6bfae39fd10097bbe",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1436,
        "src": "/var/tmp/ansible-tmp-1641935350.756017-77999-141699040270686/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 06:09:12,097 p=73658 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "72b2f1debe972cd464113f0b5ec12bb2c13a23a1",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "de9cfc2f51cf59078243d5f0bb48a6c7",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1436,
        "src": "/var/tmp/ansible-tmp-1641935350.75607-78000-128731822813157/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 06:09:12,111 p=73658 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "05560ed9c72b14bb9083111af7cd9e739a4af619",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "b5d8624e0126f8ad98c0016aa71525d7",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1436,
        "src": "/var/tmp/ansible-tmp-1641935350.761106-78004-119284652924973/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 06:09:12,121 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of patroni into /etc/systemd/system] ******************************
2022-01-12 06:09:12,158 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:09:12,173 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:09:13,541 p=73658 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:09:13,554 p=73658 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:09:13,559 p=73658 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:09:13,573 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Reload and start systemd service of patroni] *************************************************
2022-01-12 06:09:13,595 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:09:13,614 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:09:14,465 p=73658 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:09:14,476 p=73658 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:09:14,482 p=73658 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:09:14,495 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 06:09:14,514 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:09:14,525 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Remove clsuter on master] ********************************************************************
2022-01-12 06:09:14,564 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:09:14,579 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:09:14,595 p=73658 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-12 06:09:14,608 p=73658 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-12 06:09:21,470 p=73658 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:09:21,481 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 06:09:21,502 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:09:21,513 p=73658 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:09:21,553 p=73658 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:09:21,572 p=73658 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:09:21,592 p=73658 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "911263492693.6661",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n",
        "delta": "0:00:00.349846",
        "end": "2022-01-12 06:09:15.786889",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/911263492693.6661",
        "start": "2022-01-12 06:09:15.437043",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | nosync: true                |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | nosync: true                |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | nosync: true                |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": ",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | nosync: true                |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | nosync: true                |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | nosync: true                |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": "
        ]
    }
}
2022-01-12 06:09:21,592 p=73658 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:09:21,605 p=73658 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:09:21,616 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Reinitialize patroni clsuter on all node] ****************************************************
2022-01-12 06:09:21,637 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:09:21,669 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:09:28,188 p=73658 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "741647853288.27303", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n", "delta": "0:00:00.304017", "end": "2022-01-12 06:09:22.175754", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/741647853288.27303", "start": "2022-01-12 06:09:21.871737", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-12 06:09:28,189 p=73658 u=moonja n=ansible | ...ignoring
2022-01-12 06:09:28,251 p=73658 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "406657502592.27170", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n", "delta": "0:00:00.318420", "end": "2022-01-12 06:09:23.276827", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/406657502592.27170", "start": "2022-01-12 06:09:22.958407", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-12 06:09:28,252 p=73658 u=moonja n=ansible | ...ignoring
2022-01-12 06:09:28,265 p=73658 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "208130705752.7038", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n", "delta": "0:00:00.314817", "end": "2022-01-12 06:09:22.812309", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/208130705752.7038", "start": "2022-01-12 06:09:22.497492", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-12 06:09:28,265 p=73658 u=moonja n=ansible | ...ignoring
2022-01-12 06:09:28,276 p=73658 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:09:28,318 p=73658 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:09:28,335 p=73658 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:09:28,355 p=73658 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "208130705752.7038",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.314817",
        "end": "2022-01-12 06:09:22.812309",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/208130705752.7038",
        "start": "2022-01-12 06:09:22.497492",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 06:09:28,356 p=73658 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "406657502592.27170",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.318420",
        "end": "2022-01-12 06:09:23.276827",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/406657502592.27170",
        "start": "2022-01-12 06:09:22.958407",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 06:09:28,368 p=73658 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "741647853288.27303",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.304017",
        "end": "2022-01-12 06:09:22.175754",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/741647853288.27303",
        "start": "2022-01-12 06:09:21.871737",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 06:09:28,381 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 06:09:28,399 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:09:28,409 p=73658 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:09:28,448 p=73658 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:09:28,466 p=73658 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:09:28,485 p=73658 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "208130705752.7038",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.314817",
        "end": "2022-01-12 06:09:22.812309",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/208130705752.7038",
        "start": "2022-01-12 06:09:22.497492",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 06:09:28,486 p=73658 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "406657502592.27170",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.318420",
        "end": "2022-01-12 06:09:23.276827",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/406657502592.27170",
        "start": "2022-01-12 06:09:22.958407",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 06:09:28,498 p=73658 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "741647853288.27303",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.304017",
        "end": "2022-01-12 06:09:22.175754",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/741647853288.27303",
        "start": "2022-01-12 06:09:21.871737",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 06:09:28,510 p=73658 u=moonja n=ansible | TASK [patroni-postgres : Run the patronictl command-line utility to view the cluster state with Patroni started on all three nodes,] ***
2022-01-12 06:09:28,531 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:09:28,563 p=73658 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:09:29,793 p=73658 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:09:29,794 p=73658 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:09:29,795 p=73658 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:09:29,807 p=73658 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:09:29,852 p=73658 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:09:29,869 p=73658 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:09:29,890 p=73658 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.312188",
        "end": "2022-01-12 06:09:29.792883",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 06:09:29.480695",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | nosync: true                |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | nosync: true                |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | nosync: true                |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | nosync: true                |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | nosync: true                |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | nosync: true                |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+"
        ]
    }
}
2022-01-12 06:09:29,891 p=73658 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.308789",
        "end": "2022-01-12 06:09:30.261061",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 06:09:29.952272",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | nosync: true                |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | nosync: true                |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | nosync: true                |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | nosync: true                |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | nosync: true                |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | nosync: true                |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+"
        ]
    }
}
2022-01-12 06:09:29,905 p=73658 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.308131",
        "end": "2022-01-12 06:09:29.175800",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 06:09:28.867669",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | nosync: true                |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | nosync: true                |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | nosync: true                |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | nosync: true                |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | nosync: true                |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | nosync: true                |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+"
        ]
    }
}
2022-01-12 06:09:29,960 p=73658 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-12 06:09:29,960 p=73658 u=moonja n=ansible | postgres-ha01              : ok=40   changed=20   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-12 06:09:29,960 p=73658 u=moonja n=ansible | postgres-ha02              : ok=39   changed=20   unreachable=0    failed=0    skipped=1    rescued=0    ignored=1   
2022-01-12 06:09:29,960 p=73658 u=moonja n=ansible | postgres-ha03              : ok=39   changed=20   unreachable=0    failed=0    skipped=1    rescued=0    ignored=1   
2022-01-12 06:09:29,960 p=73658 u=moonja n=ansible | postgres-haproxy01         : ok=20   changed=6    unreachable=0    failed=0    skipped=23   rescued=0    ignored=0   
2022-01-12 06:09:29,960 p=73658 u=moonja n=ansible | postgres-haproxy02         : ok=20   changed=6    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
2022-01-12 06:10:38,183 p=78477 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 06:10:38,193 p=78477 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 06:10:38,410 p=78477 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 06:10:38,466 p=78477 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 06:10:38,495 p=78477 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 06:10:40,958 p=78477 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 06:10:40,960 p=78477 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:10:40,962 p=78477 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:10:40,966 p=78477 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:10:41,627 p=78477 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 06:10:41,643 p=78477 u=moonja n=ansible | TASK [patroni-postgres : Stop services for patroni and etcd] **********************************************************
2022-01-12 06:10:41,667 p=78477 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=patroni) 
2022-01-12 06:10:41,668 p=78477 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=etcd) 
2022-01-12 06:10:41,683 p=78477 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=patroni) 
2022-01-12 06:10:41,684 p=78477 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=etcd) 
2022-01-12 06:10:42,676 p=78477 u=moonja n=ansible | changed: [postgres-ha02] => (item=patroni)
2022-01-12 06:10:42,686 p=78477 u=moonja n=ansible | changed: [postgres-ha03] => (item=patroni)
2022-01-12 06:10:42,687 p=78477 u=moonja n=ansible | changed: [postgres-ha01] => (item=patroni)
2022-01-12 06:10:43,448 p=78477 u=moonja n=ansible | changed: [postgres-ha03] => (item=etcd)
2022-01-12 06:10:43,451 p=78477 u=moonja n=ansible | changed: [postgres-ha02] => (item=etcd)
2022-01-12 06:10:43,460 p=78477 u=moonja n=ansible | changed: [postgres-ha01] => (item=etcd)
2022-01-12 06:10:43,474 p=78477 u=moonja n=ansible | TASK [patroni-postgres : Kill etcd process] ***************************************************************************
2022-01-12 06:10:43,511 p=78477 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:10:43,526 p=78477 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:10:51,062 p=78477 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:10:51,082 p=78477 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:10:51,082 p=78477 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:10:51,092 p=78477 u=moonja n=ansible | TASK [patroni-postgres : Delete configuration file for patroni and systemd] *******************************************
2022-01-12 06:10:52,057 p=78477 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 06:10:52,058 p=78477 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 06:10:52,059 p=78477 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 06:10:52,060 p=78477 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 06:10:52,064 p=78477 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 06:10:52,503 p=78477 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/etc/systemd/system/patroni.service)
2022-01-12 06:10:52,510 p=78477 u=moonja n=ansible | changed: [postgres-ha03] => (item=/etc/systemd/system/patroni.service)
2022-01-12 06:10:52,515 p=78477 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/etc/systemd/system/patroni.service)
2022-01-12 06:10:52,515 p=78477 u=moonja n=ansible | changed: [postgres-ha02] => (item=/etc/systemd/system/patroni.service)
2022-01-12 06:10:52,519 p=78477 u=moonja n=ansible | changed: [postgres-ha01] => (item=/etc/systemd/system/patroni.service)
2022-01-12 06:10:52,932 p=78477 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 06:10:52,937 p=78477 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 06:10:52,939 p=78477 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 06:10:52,940 p=78477 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 06:10:52,946 p=78477 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 06:10:53,374 p=78477 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 06:10:53,380 p=78477 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 06:10:53,388 p=78477 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 06:10:53,399 p=78477 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 06:10:53,402 p=78477 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 06:10:53,792 p=78477 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 06:10:53,796 p=78477 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 06:10:53,812 p=78477 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 06:10:53,818 p=78477 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 06:10:53,826 p=78477 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 06:10:54,241 p=78477 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 06:10:54,246 p=78477 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 06:10:54,252 p=78477 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 06:10:54,253 p=78477 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 06:10:54,255 p=78477 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 06:10:54,267 p=78477 u=moonja n=ansible | TASK [patroni-postgres : Delete data directory for patroni cluster] ***************************************************
2022-01-12 06:10:54,960 p=78477 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:10:54,964 p=78477 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:10:54,970 p=78477 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:10:54,976 p=78477 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:10:54,981 p=78477 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:10:54,992 p=78477 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 06:10:55,013 p=78477 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:10:55,031 p=78477 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:10:55,803 p=78477 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:10:55,804 p=78477 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:10:55,807 p=78477 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:10:55,819 p=78477 u=moonja n=ansible | TASK [patroni-postgres : Uninstall pip modules of Patroni prerequisites on all three nodes] ***************************
2022-01-12 06:10:55,842 p=78477 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:10:55,859 p=78477 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:11:03,290 p=78477 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "818998165242.29598", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.437814", "end": "2022-01-12 06:10:56.839439", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/818998165242.29598", "start": "2022-01-12 06:10:56.401625", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 06:11:03,331 p=78477 u=moonja n=ansible | ...ignoring
2022-01-12 06:11:03,348 p=78477 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "872524626980.29464", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.425351", "end": "2022-01-12 06:10:57.909280", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/872524626980.29464", "start": "2022-01-12 06:10:57.483929", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 06:11:03,349 p=78477 u=moonja n=ansible | ...ignoring
2022-01-12 06:11:03,349 p=78477 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "972389666327.9551", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.444699", "end": "2022-01-12 06:10:57.478564", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/972389666327.9551", "start": "2022-01-12 06:10:57.033865", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 06:11:03,349 p=78477 u=moonja n=ansible | ...ignoring
2022-01-12 06:11:03,361 p=78477 u=moonja n=ansible | TASK [patroni-postgres : Install wheel pip module on all three nodes] *************************************************
2022-01-12 06:11:03,401 p=78477 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:11:03,416 p=78477 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:11:10,587 p=78477 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "510532466.29942", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:00.386848", "end": "2022-01-12 06:11:04.093981", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/510532466.29942", "start": "2022-01-12 06:11:03.707133", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-0s65lxnt/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-0s65lxnt/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 06:11:10,638 p=78477 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "366937591551.29808", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:00.388436", "end": "2022-01-12 06:11:05.173760", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/366937591551.29808", "start": "2022-01-12 06:11:04.785324", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-r7i1se2j/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-r7i1se2j/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 06:11:10,638 p=78477 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "113445234175.9929", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:00.405721", "end": "2022-01-12 06:11:04.721813", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/113445234175.9929", "start": "2022-01-12 06:11:04.316092", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-pkfeuf4v/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-pkfeuf4v/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 06:11:10,649 p=78477 u=moonja n=ansible | TASK [patroni-postgres : Uninstall typing pip module on all three nodes] **********************************************
2022-01-12 06:11:10,675 p=78477 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:11:10,688 p=78477 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:11:10,697 p=78477 u=moonja n=ansible | TASK [patroni-postgres : Uninstall setuptools rust on all three nodes] ************************************************
2022-01-12 06:11:10,718 p=78477 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:11:10,731 p=78477 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:11:10,740 p=78477 u=moonja n=ansible | TASK [patroni-postgres : Uninstall patroni module on all three nodes] *************************************************
2022-01-12 06:11:10,761 p=78477 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:11:10,772 p=78477 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:11:10,783 p=78477 u=moonja n=ansible | TASK [patroni-postgres : Uninstall wheel module on all three nodes] ***************************************************
2022-01-12 06:11:10,804 p=78477 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:11:10,815 p=78477 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:11:10,827 p=78477 u=moonja n=ansible | TASK [patroni-postgres : Uninstall psycopg2-binary module on all three nodes] *****************************************
2022-01-12 06:11:10,848 p=78477 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:11:10,859 p=78477 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:11:10,871 p=78477 u=moonja n=ansible | TASK [patroni-postgres : Delete the dependencies file of etcd  on all three nodes] ************************************
2022-01-12 06:11:10,891 p=78477 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:11:10,904 p=78477 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:11:10,915 p=78477 u=moonja n=ansible | TASK [patroni-postgres : Uninstall VMware Postgres RPM package on all hosts as root] **********************************
2022-01-12 06:11:23,026 p=78477 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:11:23,036 p=78477 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:11:23,048 p=78477 u=moonja n=ansible | TASK [patroni-postgres : Delete the vmwawre-postgres rpm file to all hosts in cluster] ********************************
2022-01-12 06:11:23,589 p=78477 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:11:23,590 p=78477 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:11:23,601 p=78477 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 06:11:24,126 p=78477 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:11:24,127 p=78477 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:11:24,138 p=78477 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 06:11:24,717 p=78477 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:11:24,718 p=78477 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:11:24,730 p=78477 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 06:11:25,629 p=78477 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 06:11:25,630 p=78477 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 06:11:25,666 p=78477 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-12 06:11:25,666 p=78477 u=moonja n=ansible | postgres-ha01              : ok=7    changed=4    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2022-01-12 06:11:25,666 p=78477 u=moonja n=ansible | postgres-ha02              : ok=7    changed=4    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2022-01-12 06:11:25,666 p=78477 u=moonja n=ansible | postgres-ha03              : ok=7    changed=4    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2022-01-12 06:11:25,666 p=78477 u=moonja n=ansible | postgres-haproxy01         : ok=8    changed=5    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-12 06:11:25,666 p=78477 u=moonja n=ansible | postgres-haproxy02         : ok=8    changed=5    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-12 06:14:24,615 p=79858 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 06:14:24,626 p=79858 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 06:14:24,856 p=79858 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 06:14:24,913 p=79858 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 06:14:24,943 p=79858 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 06:14:27,071 p=79858 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 06:14:27,082 p=79858 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:14:27,085 p=79858 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:14:27,104 p=79858 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 06:14:27,125 p=79858 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:14:27,144 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 06:14:28,451 p=79858 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:14:28,452 p=79858 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:14:28,452 p=79858 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 06:14:28,474 p=79858 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:14:28,482 p=79858 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 06:14:28,494 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 06:14:29,471 p=79858 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:14:29,472 p=79858 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:14:29,472 p=79858 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:14:29,474 p=79858 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:14:29,476 p=79858 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:14:29,487 p=79858 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 06:14:30,188 p=79858 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:14:30,193 p=79858 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:14:30,216 p=79858 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:14:30,227 p=79858 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:14:30,234 p=79858 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:14:30,246 p=79858 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:14:30,283 p=79858 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 06:14:30,302 p=79858 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 06:14:30,320 p=79858 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 06:14:30,320 p=79858 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 06:14:30,333 p=79858 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 06:14:30,344 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] **********************************
2022-01-12 06:14:31,824 p=79858 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:14:31,828 p=79858 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:14:31,829 p=79858 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:14:32,143 p=79858 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:14:32,143 p=79858 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:14:32,156 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] ************************************************
2022-01-12 06:14:39,231 p=79858 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:14:39,297 p=79858 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:14:39,297 p=79858 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:14:44,583 p=79858 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:14:44,595 p=79858 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:14:44,606 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] *******************************
2022-01-12 06:14:51,045 p=79858 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3)
2022-01-12 06:14:51,057 p=79858 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3)
2022-01-12 06:14:51,343 p=79858 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3)
2022-01-12 06:14:51,393 p=79858 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3)
2022-01-12 06:14:51,694 p=79858 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3)
2022-01-12 06:14:57,250 p=79858 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-devel)
2022-01-12 06:14:57,301 p=79858 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-devel)
2022-01-12 06:14:57,549 p=79858 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-devel)
2022-01-12 06:14:57,895 p=79858 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-devel)
2022-01-12 06:14:58,940 p=79858 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-devel)
2022-01-12 06:15:03,411 p=79858 u=moonja n=ansible | ok: [postgres-ha02] => (item=gcc)
2022-01-12 06:15:03,483 p=79858 u=moonja n=ansible | ok: [postgres-ha01] => (item=gcc)
2022-01-12 06:15:03,691 p=79858 u=moonja n=ansible | ok: [postgres-ha03] => (item=gcc)
2022-01-12 06:15:05,670 p=79858 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=gcc)
2022-01-12 06:15:05,844 p=79858 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=gcc)
2022-01-12 06:15:09,573 p=79858 u=moonja n=ansible | ok: [postgres-ha02] => (item=etcd)
2022-01-12 06:15:09,700 p=79858 u=moonja n=ansible | ok: [postgres-ha01] => (item=etcd)
2022-01-12 06:15:09,818 p=79858 u=moonja n=ansible | ok: [postgres-ha03] => (item=etcd)
2022-01-12 06:15:12,028 p=79858 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=etcd)
2022-01-12 06:15:12,233 p=79858 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=etcd)
2022-01-12 06:15:15,887 p=79858 u=moonja n=ansible | ok: [postgres-ha01] => (item=python-psycopg2)
2022-01-12 06:15:21,115 p=79858 u=moonja n=ansible | changed: [postgres-ha02] => (item=python-psycopg2)
2022-01-12 06:15:21,296 p=79858 u=moonja n=ansible | changed: [postgres-ha03] => (item=python-psycopg2)
2022-01-12 06:15:21,998 p=79858 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-pip)
2022-01-12 06:15:23,684 p=79858 u=moonja n=ansible | changed: [postgres-haproxy02] => (item=python-psycopg2)
2022-01-12 06:15:23,739 p=79858 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=python-psycopg2)
2022-01-12 06:15:27,220 p=79858 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-pip)
2022-01-12 06:15:27,455 p=79858 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-pip)
2022-01-12 06:15:28,493 p=79858 u=moonja n=ansible | ok: [postgres-ha01] => (item=python34-setuptools)
2022-01-12 06:15:30,016 p=79858 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-pip)
2022-01-12 06:15:30,025 p=79858 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-pip)
2022-01-12 06:15:33,662 p=79858 u=moonja n=ansible | ok: [postgres-ha02] => (item=python34-setuptools)
2022-01-12 06:15:33,774 p=79858 u=moonja n=ansible | ok: [postgres-ha03] => (item=python34-setuptools)
2022-01-12 06:15:35,062 p=79858 u=moonja n=ansible | ok: [postgres-ha01] => (item=python27-python-setuptools)
2022-01-12 06:15:36,168 p=79858 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python34-setuptools)
2022-01-12 06:15:36,177 p=79858 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python34-setuptools)
2022-01-12 06:15:40,074 p=79858 u=moonja n=ansible | ok: [postgres-ha03] => (item=python27-python-setuptools)
2022-01-12 06:15:40,235 p=79858 u=moonja n=ansible | ok: [postgres-ha02] => (item=python27-python-setuptools)
2022-01-12 06:15:41,475 p=79858 u=moonja n=ansible | ok: [postgres-ha01] => (item=yamllint)
2022-01-12 06:15:42,397 p=79858 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python27-python-setuptools)
2022-01-12 06:15:42,733 p=79858 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python27-python-setuptools)
2022-01-12 06:15:46,360 p=79858 u=moonja n=ansible | ok: [postgres-ha03] => (item=yamllint)
2022-01-12 06:15:46,441 p=79858 u=moonja n=ansible | ok: [postgres-ha02] => (item=yamllint)
2022-01-12 06:15:47,826 p=79858 u=moonja n=ansible | ok: [postgres-ha01] => (item=daemonize)
2022-01-12 06:15:48,742 p=79858 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=yamllint)
2022-01-12 06:15:48,889 p=79858 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=yamllint)
2022-01-12 06:15:52,567 p=79858 u=moonja n=ansible | ok: [postgres-ha03] => (item=daemonize)
2022-01-12 06:15:52,652 p=79858 u=moonja n=ansible | ok: [postgres-ha02] => (item=daemonize)
2022-01-12 06:15:54,938 p=79858 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=daemonize)
2022-01-12 06:15:55,156 p=79858 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=daemonize)
2022-01-12 06:15:55,171 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Install the dependencies of etcd  on all three nodes] ****************************************
2022-01-12 06:15:55,197 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:15:55,215 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:15:55,989 p=79858 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:15:55,995 p=79858 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:15:56,000 p=79858 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:15:56,012 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Install setuptools rust on all three nodes] **************************************************
2022-01-12 06:15:56,035 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:15:56,052 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:16:02,277 p=79858 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:16:02,331 p=79858 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:16:02,775 p=79858 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:16:02,784 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Install typing pip module on all three nodes] ************************************************
2022-01-12 06:16:02,808 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:16:02,826 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:16:09,111 p=79858 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:16:09,111 p=79858 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:16:09,239 p=79858 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:16:09,248 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Upgrade pip3 version] ************************************************************************
2022-01-12 06:16:09,272 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:16:09,306 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:16:15,665 p=79858 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:16:15,690 p=79858 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:16:15,691 p=79858 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:16:15,703 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Install wheel module on all three nodes] *****************************************************
2022-01-12 06:16:15,729 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:16:15,747 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:16:22,030 p=79858 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:16:22,087 p=79858 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:16:22,087 p=79858 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:16:22,099 p=79858 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:16:22,127 p=79858 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:16:22,163 p=79858 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:16:22,182 p=79858 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "132239669701.16655",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.626194",
        "end": "2022-01-12 06:16:17.098787",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/132239669701.16655",
        "start": "2022-01-12 06:16:16.472593",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 06:16:22,183 p=79858 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "816755754631.3676",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.614907",
        "end": "2022-01-12 06:16:17.548783",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/816755754631.3676",
        "start": "2022-01-12 06:16:16.933876",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 06:16:22,230 p=79858 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "139597135379.3814",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.622708",
        "end": "2022-01-12 06:16:16.482014",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/139597135379.3814",
        "start": "2022-01-12 06:16:15.859306",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 06:16:22,241 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Install pip modules of Patroni prerequisites on all three nodes] *****************************
2022-01-12 06:16:22,263 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:16:22,296 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:16:28,654 p=79858 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:16:28,667 p=79858 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:16:28,734 p=79858 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:16:28,744 p=79858 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:16:28,785 p=79858 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:16:28,804 p=79858 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:16:28,831 p=79858 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "612769747166.17033",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.769576",
        "end": "2022-01-12 06:16:23.782318",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/612769747166.17033",
        "start": "2022-01-12 06:16:23.012742",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 06:16:28,833 p=79858 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "833569507439.4021",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.739943",
        "end": "2022-01-12 06:16:24.216196",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/833569507439.4021",
        "start": "2022-01-12 06:16:23.476253",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 06:16:28,839 p=79858 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "352643457566.4159",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.764956",
        "end": "2022-01-12 06:16:23.154474",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/352643457566.4159",
        "start": "2022-01-12 06:16:22.389518",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 06:16:28,850 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Iinstall wheel module on all three nodes] ****************************************************
2022-01-12 06:16:28,890 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:16:28,907 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:16:35,145 p=79858 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:16:35,186 p=79858 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:16:35,301 p=79858 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:16:35,311 p=79858 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:16:35,353 p=79858 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:16:35,372 p=79858 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:16:35,391 p=79858 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "757314795704.17411",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.577872",
        "end": "2022-01-12 06:16:30.126557",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/757314795704.17411",
        "start": "2022-01-12 06:16:29.548685",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 06:16:35,392 p=79858 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "675571178434.4365",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.514380",
        "end": "2022-01-12 06:16:30.545120",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/675571178434.4365",
        "start": "2022-01-12 06:16:30.030740",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 06:16:35,430 p=79858 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "1459174442.4503",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.485298",
        "end": "2022-01-12 06:16:29.437993",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/1459174442.4503",
        "start": "2022-01-12 06:16:28.952695",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 06:16:35,446 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Install psycopg2-binary module on all three nodes] *******************************************
2022-01-12 06:16:35,469 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:16:35,487 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:16:41,794 p=79858 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:16:41,818 p=79858 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:16:41,818 p=79858 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:16:41,828 p=79858 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:16:41,870 p=79858 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:16:41,889 p=79858 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:16:41,932 p=79858 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "983324804383.17797",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.564876",
        "end": "2022-01-12 06:16:36.727478",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/983324804383.17797",
        "start": "2022-01-12 06:16:36.162602",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 06:16:41,935 p=79858 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "865789018943.4709",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.496019",
        "end": "2022-01-12 06:16:37.110809",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/865789018943.4709",
        "start": "2022-01-12 06:16:36.614790",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 06:16:41,935 p=79858 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "713711730297.4855",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.500213",
        "end": "2022-01-12 06:16:36.045903",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/713711730297.4855",
        "start": "2022-01-12 06:16:35.545690",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 06:16:41,947 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Install patroni modules on all three nodes for vmware-postgres 13.x version] *****************
2022-01-12 06:16:41,987 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:16:42,003 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:16:48,276 p=79858 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:16:48,333 p=79858 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:16:48,334 p=79858 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:16:48,347 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 06:16:48,389 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:16:48,406 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:16:49,150 p=79858 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:16:49,160 p=79858 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:16:49,164 p=79858 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:16:49,177 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Create the etcd.yml configuration file for all nodes] ****************************************
2022-01-12 06:16:49,217 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:16:49,233 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:16:50,184 p=79858 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:16:50,198 p=79858 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:16:50,199 p=79858 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:16:50,213 p=79858 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:16:50,254 p=79858 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:16:50,273 p=79858 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:16:50,293 p=79858 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "9ae4719bb01c1f3fe9f70a6e2c0044c7c41a95fe",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "c58c15d1af07ce06cb21d7da9f41a53d",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641935809.347164-84351-267000104858356/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 06:16:50,294 p=79858 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "15047e7ccbff3a953a4abe4edc1ee87eccf0c835",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "90cfbd68000432263a3d9f571742a601",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641935809.348793-84352-39678332899222/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 06:16:50,306 p=79858 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "a89b395b153fde540c5b5250ee19c5a9b4a69b60",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "50ed3a33db1def8c3d70f9d8154ad6fa",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641935809.352386-84356-133080563809342/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 06:16:50,317 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of etcd into /etc/systemd/system] *********************************
2022-01-12 06:16:50,356 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:16:50,371 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:16:51,149 p=79858 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:16:51,150 p=79858 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:16:51,151 p=79858 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:16:51,164 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Reload and start etcd through systemd] *******************************************************
2022-01-12 06:16:51,203 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:16:51,220 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:16:54,216 p=79858 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:16:54,217 p=79858 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:16:54,219 p=79858 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:16:54,234 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Lists the members and identifies the current Leader.] ****************************************
2022-01-12 06:16:54,259 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:16:54,277 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:16:54,869 p=79858 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:16:54,872 p=79858 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:16:54,873 p=79858 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:16:54,888 p=79858 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:16:54,931 p=79858 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:16:54,950 p=79858 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:16:54,969 p=79858 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.021651",
        "end": "2022-01-12 06:16:54.958746",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 06:16:54.937095",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 06:16:54,970 p=79858 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.024156",
        "end": "2022-01-12 06:16:55.424494",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 06:16:55.400338",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 06:16:54,982 p=79858 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.020142",
        "end": "2022-01-12 06:16:54.337299",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 06:16:54.317157",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 06:16:54,994 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Set data directory for patroni cluster] ******************************************************
2022-01-12 06:16:55,523 p=79858 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:16:55,525 p=79858 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:16:55,533 p=79858 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:16:55,727 p=79858 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:16:55,744 p=79858 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:16:55,758 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Create the patroni.yml configuration file for all nodes] *************************************
2022-01-12 06:16:55,782 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:16:55,800 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:16:56,822 p=79858 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:16:56,823 p=79858 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:16:56,823 p=79858 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:16:56,835 p=79858 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:16:56,876 p=79858 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:16:56,894 p=79858 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:16:56,913 p=79858 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "e8ac428f718c34ff6ee3860f6206ef18139c2e07",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "baf730b5b7de1d19b0f404e309e51adb",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1437,
        "src": "/var/tmp/ansible-tmp-1641935815.922016-84687-28198583658592/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 06:16:56,914 p=79858 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "96745b580f0ca5171f038db56ea699b531345f1e",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "ddceb14f9818bc2d1d43f4c08c7ad1a4",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1437,
        "src": "/var/tmp/ansible-tmp-1641935815.924917-84688-179257256846910/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 06:16:56,929 p=79858 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "368f0a36217f1be8c66de64eeded5d058bafaec1",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "05fe525360c8a47b29dc2302f6e7c1fc",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1437,
        "src": "/var/tmp/ansible-tmp-1641935815.929161-84692-5879564689239/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 06:16:56,939 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of patroni into /etc/systemd/system] ******************************
2022-01-12 06:16:56,977 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:16:56,993 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:16:57,867 p=79858 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:16:57,867 p=79858 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:16:57,870 p=79858 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:16:57,883 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Reload and start systemd service of patroni] *************************************************
2022-01-12 06:16:57,905 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:16:57,939 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:16:58,607 p=79858 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:16:58,656 p=79858 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:16:58,657 p=79858 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:16:58,671 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 06:16:58,690 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:16:58,701 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Remove clsuter on master] ********************************************************************
2022-01-12 06:16:58,723 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:16:58,741 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:16:58,773 p=79858 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-12 06:16:58,785 p=79858 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-12 06:17:05,599 p=79858 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:17:05,609 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 06:17:05,630 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:17:05,642 p=79858 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:17:05,683 p=79858 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:17:05,700 p=79858 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:17:05,719 p=79858 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "573454179159.20219",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n",
        "delta": "0:00:00.325787",
        "end": "2022-01-12 06:16:59.894841",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/573454179159.20219",
        "start": "2022-01-12 06:16:59.569054",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": ",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": "
        ]
    }
}
2022-01-12 06:17:05,720 p=79858 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:17:05,734 p=79858 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:17:05,744 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Reinitialize patroni clsuter on all node] ****************************************************
2022-01-12 06:17:05,785 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:17:05,801 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:17:12,099 p=79858 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "87221923736.7066", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n", "delta": "0:00:00.315391", "end": "2022-01-12 06:17:06.204943", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/87221923736.7066", "start": "2022-01-12 06:17:05.889552", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-12 06:17:12,099 p=79858 u=moonja n=ansible | ...ignoring
2022-01-12 06:17:12,175 p=79858 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "332707166309.6928", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n", "delta": "0:00:00.323564", "end": "2022-01-12 06:17:07.287617", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/332707166309.6928", "start": "2022-01-12 06:17:06.964053", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-12 06:17:12,175 p=79858 u=moonja n=ansible | ...ignoring
2022-01-12 06:17:12,175 p=79858 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "191606066594.20595", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n", "delta": "0:00:00.313544", "end": "2022-01-12 06:17:06.811556", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/191606066594.20595", "start": "2022-01-12 06:17:06.498012", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-12 06:17:12,175 p=79858 u=moonja n=ansible | ...ignoring
2022-01-12 06:17:12,187 p=79858 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:17:12,231 p=79858 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:17:12,251 p=79858 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:17:12,270 p=79858 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "191606066594.20595",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.313544",
        "end": "2022-01-12 06:17:06.811556",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/191606066594.20595",
        "start": "2022-01-12 06:17:06.498012",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 06:17:12,271 p=79858 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "332707166309.6928",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.323564",
        "end": "2022-01-12 06:17:07.287617",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/332707166309.6928",
        "start": "2022-01-12 06:17:06.964053",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 06:17:12,284 p=79858 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "87221923736.7066",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.315391",
        "end": "2022-01-12 06:17:06.204943",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/87221923736.7066",
        "start": "2022-01-12 06:17:05.889552",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 06:17:12,295 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 06:17:12,314 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:17:12,324 p=79858 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:17:12,364 p=79858 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:17:12,383 p=79858 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:17:12,406 p=79858 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "191606066594.20595",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.313544",
        "end": "2022-01-12 06:17:06.811556",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/191606066594.20595",
        "start": "2022-01-12 06:17:06.498012",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 06:17:12,407 p=79858 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "332707166309.6928",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.323564",
        "end": "2022-01-12 06:17:07.287617",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/332707166309.6928",
        "start": "2022-01-12 06:17:06.964053",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 06:17:12,419 p=79858 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "87221923736.7066",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.315391",
        "end": "2022-01-12 06:17:06.204943",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/87221923736.7066",
        "start": "2022-01-12 06:17:05.889552",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 06:17:12,430 p=79858 u=moonja n=ansible | TASK [patroni-postgres : Run the patronictl command-line utility to view the cluster state with Patroni started on all three nodes,] ***
2022-01-12 06:17:12,453 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:17:12,487 p=79858 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:17:13,278 p=79858 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:17:13,280 p=79858 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:17:13,281 p=79858 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:17:13,295 p=79858 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:17:13,337 p=79858 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:17:13,357 p=79858 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:17:13,377 p=79858 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.302413",
        "end": "2022-01-12 06:17:13.354275",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 06:17:13.051862",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+-----------------------------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+-----------------------------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+"
        ]
    }
}
2022-01-12 06:17:13,378 p=79858 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.317438",
        "end": "2022-01-12 06:17:13.830659",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 06:17:13.513221",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+-----------------------------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+-----------------------------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+"
        ]
    }
}
2022-01-12 06:17:13,391 p=79858 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.319658",
        "end": "2022-01-12 06:17:12.750810",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 06:17:12.431152",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+-----------------------------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | clonefrom: true             |\n|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+-----------------------------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | clonefrom: true             |",
            "|               |              |         |         |    |           | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+"
        ]
    }
}
2022-01-12 06:17:13,449 p=79858 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-12 06:17:13,449 p=79858 u=moonja n=ansible | postgres-ha01              : ok=40   changed=20   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-12 06:17:13,449 p=79858 u=moonja n=ansible | postgres-ha02              : ok=39   changed=20   unreachable=0    failed=0    skipped=1    rescued=0    ignored=1   
2022-01-12 06:17:13,449 p=79858 u=moonja n=ansible | postgres-ha03              : ok=39   changed=20   unreachable=0    failed=0    skipped=1    rescued=0    ignored=1   
2022-01-12 06:17:13,449 p=79858 u=moonja n=ansible | postgres-haproxy01         : ok=20   changed=6    unreachable=0    failed=0    skipped=23   rescued=0    ignored=0   
2022-01-12 06:17:13,449 p=79858 u=moonja n=ansible | postgres-haproxy02         : ok=20   changed=6    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
2022-01-12 06:18:05,769 p=85165 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 06:18:05,778 p=85165 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 06:18:06,019 p=85165 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 06:18:06,079 p=85165 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 06:18:06,110 p=85165 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 06:18:08,122 p=85165 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:18:08,127 p=85165 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 06:18:08,134 p=85165 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:18:08,142 p=85165 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:18:08,790 p=85165 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 06:18:08,810 p=85165 u=moonja n=ansible | TASK [patroni-postgres : Stop services for patroni and etcd] **********************************************************
2022-01-12 06:18:08,835 p=85165 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=patroni) 
2022-01-12 06:18:08,835 p=85165 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=etcd) 
2022-01-12 06:18:08,852 p=85165 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=patroni) 
2022-01-12 06:18:08,852 p=85165 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=etcd) 
2022-01-12 06:18:09,831 p=85165 u=moonja n=ansible | changed: [postgres-ha03] => (item=patroni)
2022-01-12 06:18:09,833 p=85165 u=moonja n=ansible | changed: [postgres-ha01] => (item=patroni)
2022-01-12 06:18:10,125 p=85165 u=moonja n=ansible | changed: [postgres-ha02] => (item=patroni)
2022-01-12 06:18:10,380 p=85165 u=moonja n=ansible | changed: [postgres-ha03] => (item=etcd)
2022-01-12 06:18:10,393 p=85165 u=moonja n=ansible | changed: [postgres-ha01] => (item=etcd)
2022-01-12 06:18:10,706 p=85165 u=moonja n=ansible | changed: [postgres-ha02] => (item=etcd)
2022-01-12 06:18:10,723 p=85165 u=moonja n=ansible | TASK [patroni-postgres : Kill etcd process] ***************************************************************************
2022-01-12 06:18:10,746 p=85165 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:18:10,778 p=85165 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:18:17,739 p=85165 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:18:17,772 p=85165 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:18:17,785 p=85165 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:18:17,798 p=85165 u=moonja n=ansible | TASK [patroni-postgres : Delete configuration file for patroni and systemd] *******************************************
2022-01-12 06:18:18,708 p=85165 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 06:18:18,709 p=85165 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 06:18:18,709 p=85165 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 06:18:18,710 p=85165 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 06:18:18,712 p=85165 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 06:18:19,386 p=85165 u=moonja n=ansible | changed: [postgres-ha02] => (item=/etc/systemd/system/patroni.service)
2022-01-12 06:18:19,387 p=85165 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/etc/systemd/system/patroni.service)
2022-01-12 06:18:19,388 p=85165 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/etc/systemd/system/patroni.service)
2022-01-12 06:18:19,390 p=85165 u=moonja n=ansible | changed: [postgres-ha03] => (item=/etc/systemd/system/patroni.service)
2022-01-12 06:18:19,396 p=85165 u=moonja n=ansible | changed: [postgres-ha01] => (item=/etc/systemd/system/patroni.service)
2022-01-12 06:18:19,818 p=85165 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 06:18:19,820 p=85165 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 06:18:19,822 p=85165 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 06:18:19,842 p=85165 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 06:18:19,848 p=85165 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 06:18:20,234 p=85165 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 06:18:20,234 p=85165 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 06:18:20,235 p=85165 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 06:18:20,251 p=85165 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 06:18:20,273 p=85165 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 06:18:20,660 p=85165 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 06:18:20,663 p=85165 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 06:18:20,699 p=85165 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 06:18:20,701 p=85165 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 06:18:20,702 p=85165 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 06:18:21,085 p=85165 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 06:18:21,090 p=85165 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 06:18:21,143 p=85165 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 06:18:21,145 p=85165 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 06:18:21,166 p=85165 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 06:18:21,188 p=85165 u=moonja n=ansible | TASK [patroni-postgres : Delete data directory for patroni cluster] ***************************************************
2022-01-12 06:18:22,002 p=85165 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:18:22,003 p=85165 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:18:22,024 p=85165 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:18:22,034 p=85165 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:18:22,044 p=85165 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:18:22,057 p=85165 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 06:18:22,088 p=85165 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:18:22,111 p=85165 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:18:22,680 p=85165 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:18:22,724 p=85165 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:18:22,727 p=85165 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:18:22,741 p=85165 u=moonja n=ansible | TASK [patroni-postgres : Uninstall pip modules of Patroni prerequisites on all three nodes] ***************************
2022-01-12 06:18:22,783 p=85165 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:18:22,800 p=85165 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:18:29,097 p=85165 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "664300772995.23084", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.420536", "end": "2022-01-12 06:18:23.969301", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/664300772995.23084", "start": "2022-01-12 06:18:23.548765", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 06:18:29,127 p=85165 u=moonja n=ansible | ...ignoring
2022-01-12 06:18:29,143 p=85165 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "839971498345.9339", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.410533", "end": "2022-01-12 06:18:23.313004", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/839971498345.9339", "start": "2022-01-12 06:18:22.902471", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 06:18:29,143 p=85165 u=moonja n=ansible | ...ignoring
2022-01-12 06:18:29,145 p=85165 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "748882268781.9198", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.424282", "end": "2022-01-12 06:18:24.420635", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/748882268781.9198", "start": "2022-01-12 06:18:23.996353", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 06:18:29,145 p=85165 u=moonja n=ansible | ...ignoring
2022-01-12 06:18:29,162 p=85165 u=moonja n=ansible | TASK [patroni-postgres : Install wheel pip module on all three nodes] *************************************************
2022-01-12 06:18:29,187 p=85165 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:18:29,205 p=85165 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:18:35,595 p=85165 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "668400048874.9542", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:00.400248", "end": "2022-01-12 06:18:30.810398", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/668400048874.9542", "start": "2022-01-12 06:18:30.410150", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-61jef_06/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-61jef_06/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 06:18:35,608 p=85165 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "450913696155.9683", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:00.398296", "end": "2022-01-12 06:18:29.727610", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/450913696155.9683", "start": "2022-01-12 06:18:29.329314", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-ofll4nl4/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-ofll4nl4/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 06:18:35,608 p=85165 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "545294849394.23462", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:00.409040", "end": "2022-01-12 06:18:30.357390", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/545294849394.23462", "start": "2022-01-12 06:18:29.948350", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-2ic5jcpd/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-2ic5jcpd/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 06:18:35,620 p=85165 u=moonja n=ansible | TASK [patroni-postgres : Uninstall typing pip module on all three nodes] **********************************************
2022-01-12 06:18:35,643 p=85165 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:18:35,657 p=85165 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:18:35,667 p=85165 u=moonja n=ansible | TASK [patroni-postgres : Uninstall setuptools rust on all three nodes] ************************************************
2022-01-12 06:18:35,689 p=85165 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:18:35,703 p=85165 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:18:35,715 p=85165 u=moonja n=ansible | TASK [patroni-postgres : Uninstall patroni module on all three nodes] *************************************************
2022-01-12 06:18:35,738 p=85165 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:18:35,750 p=85165 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:18:35,763 p=85165 u=moonja n=ansible | TASK [patroni-postgres : Uninstall wheel module on all three nodes] ***************************************************
2022-01-12 06:18:35,786 p=85165 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:18:35,800 p=85165 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:18:35,811 p=85165 u=moonja n=ansible | TASK [patroni-postgres : Uninstall psycopg2-binary module on all three nodes] *****************************************
2022-01-12 06:18:35,832 p=85165 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:18:35,844 p=85165 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:18:35,856 p=85165 u=moonja n=ansible | TASK [patroni-postgres : Delete the dependencies file of etcd  on all three nodes] ************************************
2022-01-12 06:18:35,879 p=85165 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:18:35,890 p=85165 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:18:35,902 p=85165 u=moonja n=ansible | TASK [patroni-postgres : Uninstall VMware Postgres RPM package on all hosts as root] **********************************
2022-01-12 06:18:48,360 p=85165 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:18:48,399 p=85165 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:18:48,411 p=85165 u=moonja n=ansible | TASK [patroni-postgres : Delete the vmwawre-postgres rpm file to all hosts in cluster] ********************************
2022-01-12 06:18:49,096 p=85165 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:18:49,096 p=85165 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:18:49,107 p=85165 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 06:18:49,812 p=85165 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:18:49,812 p=85165 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:18:49,825 p=85165 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 06:18:50,372 p=85165 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:18:50,373 p=85165 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:18:50,384 p=85165 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 06:18:51,514 p=85165 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 06:18:51,515 p=85165 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 06:18:51,554 p=85165 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-12 06:18:51,554 p=85165 u=moonja n=ansible | postgres-ha01              : ok=7    changed=4    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2022-01-12 06:18:51,554 p=85165 u=moonja n=ansible | postgres-ha02              : ok=7    changed=4    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2022-01-12 06:18:51,554 p=85165 u=moonja n=ansible | postgres-ha03              : ok=7    changed=4    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2022-01-12 06:18:51,554 p=85165 u=moonja n=ansible | postgres-haproxy01         : ok=8    changed=5    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-12 06:18:51,554 p=85165 u=moonja n=ansible | postgres-haproxy02         : ok=8    changed=5    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-12 06:21:07,127 p=86514 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 06:21:07,138 p=86514 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 06:21:07,390 p=86514 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 06:21:07,448 p=86514 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 06:21:07,481 p=86514 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 06:21:09,557 p=86514 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 06:21:09,559 p=86514 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:21:09,561 p=86514 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:21:09,569 p=86514 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 06:21:09,570 p=86514 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:21:09,588 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 06:21:10,839 p=86514 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:21:10,841 p=86514 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 06:21:10,846 p=86514 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:21:10,851 p=86514 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:21:10,851 p=86514 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 06:21:10,865 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 06:21:11,791 p=86514 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:21:11,791 p=86514 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:21:11,792 p=86514 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:21:11,824 p=86514 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:21:11,828 p=86514 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:21:11,839 p=86514 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 06:21:12,414 p=86514 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:21:12,437 p=86514 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:21:12,438 p=86514 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:21:12,442 p=86514 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:21:12,444 p=86514 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:21:12,458 p=86514 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:21:12,497 p=86514 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 06:21:12,514 p=86514 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 06:21:12,531 p=86514 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 06:21:12,533 p=86514 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 06:21:12,543 p=86514 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 06:21:12,555 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] **********************************
2022-01-12 06:21:13,794 p=86514 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:21:13,795 p=86514 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:21:13,800 p=86514 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:21:14,208 p=86514 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:21:14,208 p=86514 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:21:14,222 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] ************************************************
2022-01-12 06:21:21,576 p=86514 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:21:21,618 p=86514 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:21:21,629 p=86514 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:21:26,901 p=86514 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:21:26,918 p=86514 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:21:26,929 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] *******************************
2022-01-12 06:21:33,250 p=86514 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3)
2022-01-12 06:21:33,292 p=86514 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3)
2022-01-12 06:21:33,306 p=86514 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3)
2022-01-12 06:21:33,367 p=86514 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3)
2022-01-12 06:21:33,368 p=86514 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3)
2022-01-12 06:21:39,531 p=86514 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-devel)
2022-01-12 06:21:39,563 p=86514 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-devel)
2022-01-12 06:21:39,574 p=86514 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-devel)
2022-01-12 06:21:39,615 p=86514 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-devel)
2022-01-12 06:21:39,647 p=86514 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-devel)
2022-01-12 06:21:45,766 p=86514 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=gcc)
2022-01-12 06:21:45,796 p=86514 u=moonja n=ansible | ok: [postgres-ha02] => (item=gcc)
2022-01-12 06:21:45,843 p=86514 u=moonja n=ansible | ok: [postgres-ha03] => (item=gcc)
2022-01-12 06:21:45,957 p=86514 u=moonja n=ansible | ok: [postgres-ha01] => (item=gcc)
2022-01-12 06:21:46,005 p=86514 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=gcc)
2022-01-12 06:21:52,002 p=86514 u=moonja n=ansible | ok: [postgres-ha02] => (item=etcd)
2022-01-12 06:21:52,031 p=86514 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=etcd)
2022-01-12 06:21:52,071 p=86514 u=moonja n=ansible | ok: [postgres-ha03] => (item=etcd)
2022-01-12 06:21:52,251 p=86514 u=moonja n=ansible | ok: [postgres-ha01] => (item=etcd)
2022-01-12 06:21:52,252 p=86514 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=etcd)
2022-01-12 06:21:58,679 p=86514 u=moonja n=ansible | ok: [postgres-ha01] => (item=python-psycopg2)
2022-01-12 06:22:03,700 p=86514 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=python-psycopg2)
2022-01-12 06:22:03,754 p=86514 u=moonja n=ansible | changed: [postgres-ha03] => (item=python-psycopg2)
2022-01-12 06:22:03,800 p=86514 u=moonja n=ansible | changed: [postgres-ha02] => (item=python-psycopg2)
2022-01-12 06:22:03,960 p=86514 u=moonja n=ansible | changed: [postgres-haproxy02] => (item=python-psycopg2)
2022-01-12 06:22:04,978 p=86514 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-pip)
2022-01-12 06:22:09,892 p=86514 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-pip)
2022-01-12 06:22:09,977 p=86514 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-pip)
2022-01-12 06:22:10,020 p=86514 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-pip)
2022-01-12 06:22:10,176 p=86514 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-pip)
2022-01-12 06:22:11,723 p=86514 u=moonja n=ansible | ok: [postgres-ha01] => (item=python34-setuptools)
2022-01-12 06:22:16,208 p=86514 u=moonja n=ansible | ok: [postgres-ha03] => (item=python34-setuptools)
2022-01-12 06:22:16,351 p=86514 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python34-setuptools)
2022-01-12 06:22:16,385 p=86514 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python34-setuptools)
2022-01-12 06:22:16,556 p=86514 u=moonja n=ansible | ok: [postgres-ha02] => (item=python34-setuptools)
2022-01-12 06:22:18,580 p=86514 u=moonja n=ansible | ok: [postgres-ha01] => (item=python27-python-setuptools)
2022-01-12 06:22:22,474 p=86514 u=moonja n=ansible | ok: [postgres-ha03] => (item=python27-python-setuptools)
2022-01-12 06:22:22,535 p=86514 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python27-python-setuptools)
2022-01-12 06:22:22,596 p=86514 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python27-python-setuptools)
2022-01-12 06:22:22,738 p=86514 u=moonja n=ansible | ok: [postgres-ha02] => (item=python27-python-setuptools)
2022-01-12 06:22:25,337 p=86514 u=moonja n=ansible | ok: [postgres-ha01] => (item=yamllint)
2022-01-12 06:22:28,643 p=86514 u=moonja n=ansible | ok: [postgres-ha03] => (item=yamllint)
2022-01-12 06:22:28,701 p=86514 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=yamllint)
2022-01-12 06:22:29,050 p=86514 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=yamllint)
2022-01-12 06:22:29,203 p=86514 u=moonja n=ansible | ok: [postgres-ha02] => (item=yamllint)
2022-01-12 06:22:32,069 p=86514 u=moonja n=ansible | ok: [postgres-ha01] => (item=daemonize)
2022-01-12 06:22:34,794 p=86514 u=moonja n=ansible | ok: [postgres-ha03] => (item=daemonize)
2022-01-12 06:22:34,833 p=86514 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=daemonize)
2022-01-12 06:22:35,177 p=86514 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=daemonize)
2022-01-12 06:22:35,708 p=86514 u=moonja n=ansible | ok: [postgres-ha02] => (item=daemonize)
2022-01-12 06:22:35,723 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Install the dependencies of etcd  on all three nodes] ****************************************
2022-01-12 06:22:35,750 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:22:35,768 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:22:36,501 p=86514 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:22:36,518 p=86514 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:22:36,518 p=86514 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:22:36,533 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Install setuptools rust on all three nodes] **************************************************
2022-01-12 06:22:36,556 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:22:36,573 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:22:42,853 p=86514 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:22:42,924 p=86514 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:22:42,925 p=86514 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:22:42,937 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Install typing pip module on all three nodes] ************************************************
2022-01-12 06:22:42,976 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:22:42,992 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:22:49,215 p=86514 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:22:49,264 p=86514 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:22:49,277 p=86514 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:22:49,289 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Upgrade pip3 version] ************************************************************************
2022-01-12 06:22:49,317 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:22:49,336 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:22:55,663 p=86514 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:22:55,676 p=86514 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:22:55,676 p=86514 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:22:55,688 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Install wheel module on all three nodes] *****************************************************
2022-01-12 06:22:55,727 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:22:55,744 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:23:02,054 p=86514 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:23:02,107 p=86514 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:23:02,108 p=86514 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:23:02,121 p=86514 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:23:02,149 p=86514 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:23:02,185 p=86514 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:23:02,205 p=86514 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "365780024968.30176",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.632910",
        "end": "2022-01-12 06:22:57.103278",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/365780024968.30176",
        "start": "2022-01-12 06:22:56.470368",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 06:23:02,206 p=86514 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "601833364315.15755",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.638879",
        "end": "2022-01-12 06:22:57.565240",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/601833364315.15755",
        "start": "2022-01-12 06:22:56.926361",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 06:23:02,219 p=86514 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "295444055047.15893",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.625833",
        "end": "2022-01-12 06:22:56.477909",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/295444055047.15893",
        "start": "2022-01-12 06:22:55.852076",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 06:23:02,230 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Install pip modules of Patroni prerequisites on all three nodes] *****************************
2022-01-12 06:23:02,269 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:23:02,284 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:23:08,649 p=86514 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:23:08,675 p=86514 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:23:08,676 p=86514 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:23:08,686 p=86514 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:23:08,728 p=86514 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:23:08,748 p=86514 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:23:08,768 p=86514 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "671696740993.30555",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.750815",
        "end": "2022-01-12 06:23:03.751815",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/671696740993.30555",
        "start": "2022-01-12 06:23:03.001000",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 06:23:08,770 p=86514 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "349238907256.16099",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.751731",
        "end": "2022-01-12 06:23:04.210747",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/349238907256.16099",
        "start": "2022-01-12 06:23:03.459016",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 06:23:08,782 p=86514 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "908133873331.16239",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.754303",
        "end": "2022-01-12 06:23:03.135138",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/908133873331.16239",
        "start": "2022-01-12 06:23:02.380835",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 06:23:08,794 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Iinstall wheel module on all three nodes] ****************************************************
2022-01-12 06:23:08,836 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:23:08,853 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:23:15,192 p=86514 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:23:15,206 p=86514 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:23:15,206 p=86514 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:23:15,218 p=86514 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:23:15,262 p=86514 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:23:15,281 p=86514 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:23:15,301 p=86514 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "985620766954.30933",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.572567",
        "end": "2022-01-12 06:23:10.143163",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/985620766954.30933",
        "start": "2022-01-12 06:23:09.570596",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 06:23:15,302 p=86514 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "704921945034.16443",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.489462",
        "end": "2022-01-12 06:23:10.524170",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/704921945034.16443",
        "start": "2022-01-12 06:23:10.034708",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 06:23:15,316 p=86514 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "691194008063.16583",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.486917",
        "end": "2022-01-12 06:23:09.442926",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/691194008063.16583",
        "start": "2022-01-12 06:23:08.956009",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 06:23:15,327 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Install psycopg2-binary module on all three nodes] *******************************************
2022-01-12 06:23:15,365 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:23:15,381 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:23:21,778 p=86514 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:23:21,803 p=86514 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:23:21,803 p=86514 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:23:21,814 p=86514 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:23:21,857 p=86514 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:23:21,876 p=86514 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:23:21,897 p=86514 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "57624058606.31311",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.569263",
        "end": "2022-01-12 06:23:16.702923",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/57624058606.31311",
        "start": "2022-01-12 06:23:16.133660",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 06:23:21,898 p=86514 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "680144468209.16787",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.492866",
        "end": "2022-01-12 06:23:17.093309",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/680144468209.16787",
        "start": "2022-01-12 06:23:16.600443",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 06:23:21,911 p=86514 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "233036921083.16927",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.490106",
        "end": "2022-01-12 06:23:16.011928",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/233036921083.16927",
        "start": "2022-01-12 06:23:15.521822",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 06:23:21,923 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Install patroni modules on all three nodes for vmware-postgres 13.x version] *****************
2022-01-12 06:23:21,962 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:23:21,981 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:23:28,351 p=86514 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:23:28,364 p=86514 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:23:28,365 p=86514 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:23:28,377 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 06:23:28,403 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:23:28,421 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:23:29,200 p=86514 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:23:29,200 p=86514 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:23:29,201 p=86514 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:23:29,213 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Create the etcd.yml configuration file for all nodes] ****************************************
2022-01-12 06:23:29,237 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:23:29,271 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:23:30,265 p=86514 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:23:30,285 p=86514 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:23:30,287 p=86514 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:23:30,299 p=86514 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:23:30,340 p=86514 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:23:30,359 p=86514 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:23:30,379 p=86514 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "9ae4719bb01c1f3fe9f70a6e2c0044c7c41a95fe",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "c58c15d1af07ce06cb21d7da9f41a53d",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641936209.395712-90294-218880286253008/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 06:23:30,381 p=86514 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "15047e7ccbff3a953a4abe4edc1ee87eccf0c835",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "90cfbd68000432263a3d9f571742a601",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641936209.39652-90295-132918013937707/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 06:23:30,393 p=86514 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "a89b395b153fde540c5b5250ee19c5a9b4a69b60",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "50ed3a33db1def8c3d70f9d8154ad6fa",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641936209.3958452-90299-52258977821165/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 06:23:30,406 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of etcd into /etc/systemd/system] *********************************
2022-01-12 06:23:30,428 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:23:30,460 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:23:31,235 p=86514 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 06:23:31,257 p=86514 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 06:23:31,263 p=86514 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 06:23:31,275 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Reload and start etcd through systemd] *******************************************************
2022-01-12 06:23:31,298 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:23:31,332 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:23:32,968 p=86514 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:23:32,973 p=86514 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:23:32,974 p=86514 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:23:32,987 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Lists the members and identifies the current Leader.] ****************************************
2022-01-12 06:23:33,010 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:23:33,044 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:23:33,467 p=86514 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:23:33,472 p=86514 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:23:33,491 p=86514 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:23:33,505 p=86514 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:23:33,530 p=86514 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:23:33,548 p=86514 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:23:33,568 p=86514 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.020201",
        "end": "2022-01-12 06:23:33.551926",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 06:23:33.531725",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 06:23:33,586 p=86514 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.020955",
        "end": "2022-01-12 06:23:34.026730",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 06:23:34.005775",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 06:23:33,600 p=86514 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.021090",
        "end": "2022-01-12 06:23:32.968081",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 06:23:32.946991",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 06:23:33,611 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Set data directory for patroni cluster] ******************************************************
2022-01-12 06:23:34,137 p=86514 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:23:34,138 p=86514 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 06:23:34,140 p=86514 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 06:23:34,146 p=86514 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:23:34,166 p=86514 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:23:34,180 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Create the patroni.yml configuration file for all nodes] *************************************
2022-01-12 06:23:34,203 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:23:34,237 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:23:35,598 p=86514 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:23:35,599 p=86514 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:23:35,599 p=86514 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:23:35,611 p=86514 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:23:35,652 p=86514 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:23:35,671 p=86514 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:23:35,690 p=86514 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "b9bb1f160da84f2e53ce2351b9ec7436fdc7a2f3",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "59f2d920579a9170a0054415a9b4bd07",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1438,
        "src": "/var/tmp/ansible-tmp-1641936214.41395-90624-2937718672305/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 06:23:35,691 p=86514 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "897706d22f7c309e17c791ae547c416e009d884e",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "bae38251345f69ec68942a99bb4d07f3",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1438,
        "src": "/var/tmp/ansible-tmp-1641936214.414518-90625-244445967626848/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 06:23:35,706 p=86514 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "698cec46b8ec66826b8220abe5f59d7383c10c60",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "fc5876d460c16e32dad3c6640c7b73c9",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1438,
        "src": "/var/tmp/ansible-tmp-1641936214.435936-90629-6939593360599/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 06:23:35,716 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of patroni into /etc/systemd/system] ******************************
2022-01-12 06:23:35,737 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:23:35,770 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:23:36,654 p=86514 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:23:36,667 p=86514 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:23:36,671 p=86514 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:23:36,684 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Reload and start systemd service of patroni] *************************************************
2022-01-12 06:23:36,724 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:23:36,740 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:23:37,414 p=86514 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:23:37,415 p=86514 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:23:37,419 p=86514 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:23:37,434 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 06:23:37,454 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:23:37,464 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Remove clsuter on master] ********************************************************************
2022-01-12 06:23:37,505 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:23:37,521 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:23:37,539 p=86514 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-12 06:23:37,550 p=86514 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-12 06:23:44,225 p=86514 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:23:44,235 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 06:23:44,257 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:23:44,294 p=86514 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:23:44,337 p=86514 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:23:44,356 p=86514 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:23:44,375 p=86514 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "852990522118.1378",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n",
        "delta": "0:00:00.619346",
        "end": "2022-01-12 06:23:38.872531",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/852990522118.1378",
        "start": "2022-01-12 06:23:38.253185",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+--------+------+------+-------+----+-----------+\n| Member | Host | Role | State | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) +\n+--------+------+------+-------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": ",
        "stdout_lines": [
            "+--------+------+------+-------+----+-----------+",
            "| Member | Host | Role | State | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) +",
            "+--------+------+------+-------+----+-----------+",
            "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": "
        ]
    }
}
2022-01-12 06:23:44,376 p=86514 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:23:44,390 p=86514 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:23:44,400 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Reinitialize patroni clsuter on all node] ****************************************************
2022-01-12 06:23:44,422 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:23:44,440 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:23:50,721 p=86514 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "274285150361.1767", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n", "delta": "0:00:00.305239", "end": "2022-01-12 06:23:45.487540", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/274285150361.1767", "start": "2022-01-12 06:23:45.182301", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-12 06:23:50,721 p=86514 u=moonja n=ansible | ...ignoring
2022-01-12 06:23:50,792 p=86514 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "27446468202.19146", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n", "delta": "0:00:00.313852", "end": "2022-01-12 06:23:44.894310", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/27446468202.19146", "start": "2022-01-12 06:23:44.580458", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-12 06:23:50,792 p=86514 u=moonja n=ansible | ...ignoring
2022-01-12 06:23:50,793 p=86514 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "909868841116.19006", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n", "delta": "0:00:00.297365", "end": "2022-01-12 06:23:45.971555", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/909868841116.19006", "start": "2022-01-12 06:23:45.674190", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-12 06:23:50,793 p=86514 u=moonja n=ansible | ...ignoring
2022-01-12 06:23:50,805 p=86514 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:23:50,848 p=86514 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:23:50,866 p=86514 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:23:50,886 p=86514 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "274285150361.1767",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.305239",
        "end": "2022-01-12 06:23:45.487540",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/274285150361.1767",
        "start": "2022-01-12 06:23:45.182301",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 06:23:50,887 p=86514 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "909868841116.19006",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.297365",
        "end": "2022-01-12 06:23:45.971555",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/909868841116.19006",
        "start": "2022-01-12 06:23:45.674190",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 06:23:50,934 p=86514 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "27446468202.19146",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.313852",
        "end": "2022-01-12 06:23:44.894310",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/27446468202.19146",
        "start": "2022-01-12 06:23:44.580458",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 06:23:50,950 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 06:23:50,970 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:23:50,980 p=86514 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:23:51,021 p=86514 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:23:51,039 p=86514 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:23:51,085 p=86514 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "274285150361.1767",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.305239",
        "end": "2022-01-12 06:23:45.487540",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/274285150361.1767",
        "start": "2022-01-12 06:23:45.182301",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 06:23:51,087 p=86514 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "909868841116.19006",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.297365",
        "end": "2022-01-12 06:23:45.971555",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/909868841116.19006",
        "start": "2022-01-12 06:23:45.674190",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 06:23:51,088 p=86514 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "27446468202.19146",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.313852",
        "end": "2022-01-12 06:23:44.894310",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/27446468202.19146",
        "start": "2022-01-12 06:23:44.580458",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 06:23:51,100 p=86514 u=moonja n=ansible | TASK [patroni-postgres : Run the patronictl command-line utility to view the cluster state with Patroni started on all three nodes,] ***
2022-01-12 06:23:51,138 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 06:23:51,153 p=86514 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 06:23:51,881 p=86514 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 06:23:51,894 p=86514 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 06:23:51,896 p=86514 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 06:23:51,908 p=86514 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 06:23:51,948 p=86514 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:23:51,967 p=86514 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 06:23:51,986 p=86514 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.323778",
        "end": "2022-01-12 06:23:51.985408",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 06:23:51.661630",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+"
        ]
    }
}
2022-01-12 06:23:51,987 p=86514 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.305400",
        "end": "2022-01-12 06:23:52.429605",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 06:23:52.124205",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+"
        ]
    }
}
2022-01-12 06:23:52,034 p=86514 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.318059",
        "end": "2022-01-12 06:23:51.372193",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 06:23:51.054134",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+"
        ]
    }
}
2022-01-12 06:23:52,097 p=86514 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-12 06:23:52,097 p=86514 u=moonja n=ansible | postgres-ha01              : ok=40   changed=20   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-12 06:23:52,097 p=86514 u=moonja n=ansible | postgres-ha02              : ok=39   changed=20   unreachable=0    failed=0    skipped=1    rescued=0    ignored=1   
2022-01-12 06:23:52,097 p=86514 u=moonja n=ansible | postgres-ha03              : ok=39   changed=20   unreachable=0    failed=0    skipped=1    rescued=0    ignored=1   
2022-01-12 06:23:52,097 p=86514 u=moonja n=ansible | postgres-haproxy01         : ok=20   changed=6    unreachable=0    failed=0    skipped=23   rescued=0    ignored=0   
2022-01-12 06:23:52,097 p=86514 u=moonja n=ansible | postgres-haproxy02         : ok=20   changed=6    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
2022-01-12 10:15:43,695 p=99700 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 10:15:43,708 p=99700 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 10:15:43,959 p=99700 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 10:15:44,012 p=99700 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 10:15:44,041 p=99700 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 10:15:57,523 p=99700 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:15:57,861 p=99700 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:15:58,526 p=99700 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 10:15:58,564 p=99700 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 10:15:59,200 p=99700 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:15:59,220 p=99700 u=moonja n=ansible | TASK [patroni-postgres : Stop services for patroni and etcd] **********************************************************
2022-01-12 10:15:59,244 p=99700 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=patroni) 
2022-01-12 10:15:59,245 p=99700 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=etcd) 
2022-01-12 10:15:59,260 p=99700 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=patroni) 
2022-01-12 10:15:59,261 p=99700 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=etcd) 
2022-01-12 10:16:01,141 p=99700 u=moonja n=ansible | changed: [postgres-ha02] => (item=patroni)
2022-01-12 10:16:01,146 p=99700 u=moonja n=ansible | changed: [postgres-ha03] => (item=patroni)
2022-01-12 10:16:01,155 p=99700 u=moonja n=ansible | changed: [postgres-ha01] => (item=patroni)
2022-01-12 10:16:01,673 p=99700 u=moonja n=ansible | changed: [postgres-ha03] => (item=etcd)
2022-01-12 10:16:01,674 p=99700 u=moonja n=ansible | changed: [postgres-ha02] => (item=etcd)
2022-01-12 10:16:01,681 p=99700 u=moonja n=ansible | changed: [postgres-ha01] => (item=etcd)
2022-01-12 10:16:01,697 p=99700 u=moonja n=ansible | TASK [patroni-postgres : Kill etcd process] ***************************************************************************
2022-01-12 10:16:01,735 p=99700 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:16:01,751 p=99700 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:16:09,011 p=99700 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:16:09,029 p=99700 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:16:09,029 p=99700 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:16:09,039 p=99700 u=moonja n=ansible | TASK [patroni-postgres : Delete configuration file for patroni and systemd] *******************************************
2022-01-12 10:16:10,101 p=99700 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 10:16:10,111 p=99700 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 10:16:10,112 p=99700 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 10:16:10,255 p=99700 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 10:16:10,282 p=99700 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 10:16:10,524 p=99700 u=moonja n=ansible | changed: [postgres-ha03] => (item=/etc/systemd/system/patroni.service)
2022-01-12 10:16:10,533 p=99700 u=moonja n=ansible | changed: [postgres-ha02] => (item=/etc/systemd/system/patroni.service)
2022-01-12 10:16:10,543 p=99700 u=moonja n=ansible | changed: [postgres-ha01] => (item=/etc/systemd/system/patroni.service)
2022-01-12 10:16:10,665 p=99700 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/etc/systemd/system/patroni.service)
2022-01-12 10:16:10,706 p=99700 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/etc/systemd/system/patroni.service)
2022-01-12 10:16:10,956 p=99700 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 10:16:10,956 p=99700 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 10:16:10,960 p=99700 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 10:16:11,077 p=99700 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 10:16:11,129 p=99700 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 10:16:11,378 p=99700 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 10:16:11,380 p=99700 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 10:16:11,390 p=99700 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 10:16:11,499 p=99700 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 10:16:11,563 p=99700 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 10:16:11,800 p=99700 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 10:16:11,803 p=99700 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 10:16:11,812 p=99700 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 10:16:11,924 p=99700 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 10:16:11,986 p=99700 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 10:16:12,235 p=99700 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 10:16:12,235 p=99700 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 10:16:12,242 p=99700 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 10:16:12,334 p=99700 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 10:16:12,437 p=99700 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 10:16:12,453 p=99700 u=moonja n=ansible | TASK [patroni-postgres : Delete data directory for patroni cluster] ***************************************************
2022-01-12 10:16:12,981 p=99700 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 10:16:12,995 p=99700 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:16:12,995 p=99700 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 10:16:12,995 p=99700 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:16:13,000 p=99700 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:16:13,011 p=99700 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 10:16:13,032 p=99700 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:16:13,050 p=99700 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:16:14,083 p=99700 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:16:14,085 p=99700 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:16:14,088 p=99700 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:16:14,101 p=99700 u=moonja n=ansible | TASK [patroni-postgres : Uninstall pip modules of Patroni prerequisites on all three nodes] ***************************
2022-01-12 10:16:14,141 p=99700 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:16:14,156 p=99700 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:16:31,334 p=99700 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "864612579555.4067", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:15.119216", "end": "2022-01-12 10:16:29.841303", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/864612579555.4067", "start": "2022-01-12 10:16:14.722087", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 10:16:31,334 p=99700 u=moonja n=ansible | ...ignoring
2022-01-12 10:16:31,346 p=99700 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "774453553531.3898", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:15.434659", "end": "2022-01-12 10:16:30.318129", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/774453553531.3898", "start": "2022-01-12 10:16:14.883470", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 10:16:31,346 p=99700 u=moonja n=ansible | ...ignoring
2022-01-12 10:16:31,347 p=99700 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "58900532411.3886", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:15.456396", "end": "2022-01-12 10:16:30.081853", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/58900532411.3886", "start": "2022-01-12 10:16:14.625457", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 10:16:31,347 p=99700 u=moonja n=ansible | ...ignoring
2022-01-12 10:16:31,357 p=99700 u=moonja n=ansible | TASK [patroni-postgres : Install wheel pip module on all three nodes] *************************************************
2022-01-12 10:16:31,378 p=99700 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:16:31,395 p=99700 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:16:37,709 p=99700 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "372491524254.4398", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:02.049431", "end": "2022-01-12 10:16:34.076124", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/372491524254.4398", "start": "2022-01-12 10:16:32.026693", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-yzt_m44j/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-yzt_m44j/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 10:16:37,759 p=99700 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "16973727103.4387", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:02.056038", "end": "2022-01-12 10:16:33.847543", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/16973727103.4387", "start": "2022-01-12 10:16:31.791505", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-a748vbl5/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-a748vbl5/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 10:16:37,759 p=99700 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "903042610165.4617", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:02.063187", "end": "2022-01-12 10:16:33.923331", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/903042610165.4617", "start": "2022-01-12 10:16:31.860144", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-x0xh6a01/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-x0xh6a01/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 10:16:37,772 p=99700 u=moonja n=ansible | TASK [patroni-postgres : Uninstall typing pip module on all three nodes] **********************************************
2022-01-12 10:16:37,796 p=99700 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:16:37,808 p=99700 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:16:37,819 p=99700 u=moonja n=ansible | TASK [patroni-postgres : Uninstall setuptools rust on all three nodes] ************************************************
2022-01-12 10:16:37,841 p=99700 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:16:37,851 p=99700 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:16:37,863 p=99700 u=moonja n=ansible | TASK [patroni-postgres : Uninstall patroni module on all three nodes] *************************************************
2022-01-12 10:16:37,885 p=99700 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:16:37,895 p=99700 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:16:37,907 p=99700 u=moonja n=ansible | TASK [patroni-postgres : Uninstall wheel module on all three nodes] ***************************************************
2022-01-12 10:16:37,927 p=99700 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:16:37,939 p=99700 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:16:37,950 p=99700 u=moonja n=ansible | TASK [patroni-postgres : Uninstall psycopg2-binary module on all three nodes] *****************************************
2022-01-12 10:16:37,970 p=99700 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:16:37,982 p=99700 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:16:37,994 p=99700 u=moonja n=ansible | TASK [patroni-postgres : Delete the dependencies file of etcd  on all three nodes] ************************************
2022-01-12 10:16:38,015 p=99700 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:16:38,029 p=99700 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:16:38,040 p=99700 u=moonja n=ansible | TASK [patroni-postgres : Uninstall VMware Postgres RPM package on all hosts as root] **********************************
2022-01-12 10:17:12,651 p=99700 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 10:17:13,250 p=99700 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 10:17:13,261 p=99700 u=moonja n=ansible | TASK [patroni-postgres : Delete the vmwawre-postgres rpm file to all hosts in cluster] ********************************
2022-01-12 10:17:13,816 p=99700 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 10:17:13,816 p=99700 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 10:17:13,828 p=99700 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 10:17:14,405 p=99700 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 10:17:14,406 p=99700 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 10:17:14,418 p=99700 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 10:17:15,025 p=99700 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 10:17:15,027 p=99700 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 10:17:15,037 p=99700 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 10:17:16,070 p=99700 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 10:17:16,073 p=99700 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 10:17:16,107 p=99700 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-12 10:17:16,107 p=99700 u=moonja n=ansible | postgres-ha01              : ok=7    changed=5    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2022-01-12 10:17:16,107 p=99700 u=moonja n=ansible | postgres-ha02              : ok=7    changed=5    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2022-01-12 10:17:16,107 p=99700 u=moonja n=ansible | postgres-ha03              : ok=7    changed=5    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2022-01-12 10:17:16,107 p=99700 u=moonja n=ansible | postgres-haproxy01         : ok=8    changed=5    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-12 10:17:16,107 p=99700 u=moonja n=ansible | postgres-haproxy02         : ok=8    changed=5    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-12 10:18:18,589 p=1567 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 10:18:18,598 p=1567 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 10:18:18,805 p=1567 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 10:18:18,858 p=1567 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 10:18:18,884 p=1567 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 10:18:20,986 p=1567 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 10:18:20,992 p=1567 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 10:18:20,994 p=1567 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:18:20,996 p=1567 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:18:20,997 p=1567 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:18:21,016 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 10:18:22,210 p=1567 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:18:22,211 p=1567 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 10:18:22,215 p=1567 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 10:18:22,224 p=1567 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:18:22,255 p=1567 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:18:22,269 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 10:18:23,291 p=1567 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 10:18:23,302 p=1567 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 10:18:23,305 p=1567 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:18:23,307 p=1567 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:18:23,312 p=1567 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:18:23,323 p=1567 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 10:18:23,970 p=1567 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 10:18:23,970 p=1567 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 10:18:23,981 p=1567 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:18:23,981 p=1567 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:18:23,996 p=1567 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:18:24,008 p=1567 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:18:24,030 p=1567 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 10:18:24,063 p=1567 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 10:18:24,080 p=1567 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 10:18:24,081 p=1567 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 10:18:24,091 p=1567 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 10:18:24,103 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] **********************************
2022-01-12 10:18:25,914 p=1567 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 10:18:25,914 p=1567 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 10:18:26,482 p=1567 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:18:26,558 p=1567 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:18:26,610 p=1567 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:18:26,624 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] ************************************************
2022-01-12 10:18:44,602 p=1567 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 10:18:45,661 p=1567 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 10:18:55,329 p=1567 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:19:00,603 p=1567 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:19:00,614 p=1567 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:19:00,626 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] *******************************
2022-01-12 10:19:07,093 p=1567 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3)
2022-01-12 10:19:07,147 p=1567 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3)
2022-01-12 10:19:07,148 p=1567 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3)
2022-01-12 10:19:07,148 p=1567 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3)
2022-01-12 10:19:07,149 p=1567 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3)
2022-01-12 10:19:13,448 p=1567 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-devel)
2022-01-12 10:19:13,523 p=1567 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-devel)
2022-01-12 10:19:13,555 p=1567 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-devel)
2022-01-12 10:19:13,568 p=1567 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-devel)
2022-01-12 10:19:13,635 p=1567 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-devel)
2022-01-12 10:19:19,666 p=1567 u=moonja n=ansible | ok: [postgres-ha03] => (item=gcc)
2022-01-12 10:19:19,776 p=1567 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=gcc)
2022-01-12 10:19:19,788 p=1567 u=moonja n=ansible | ok: [postgres-ha02] => (item=gcc)
2022-01-12 10:19:19,812 p=1567 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=gcc)
2022-01-12 10:19:19,889 p=1567 u=moonja n=ansible | ok: [postgres-ha01] => (item=gcc)
2022-01-12 10:19:25,878 p=1567 u=moonja n=ansible | ok: [postgres-ha03] => (item=etcd)
2022-01-12 10:19:26,006 p=1567 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=etcd)
2022-01-12 10:19:26,031 p=1567 u=moonja n=ansible | ok: [postgres-ha02] => (item=etcd)
2022-01-12 10:19:26,040 p=1567 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=etcd)
2022-01-12 10:19:26,103 p=1567 u=moonja n=ansible | ok: [postgres-ha01] => (item=etcd)
2022-01-12 10:19:32,742 p=1567 u=moonja n=ansible | ok: [postgres-ha01] => (item=python-psycopg2)
2022-01-12 10:19:39,466 p=1567 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-pip)
2022-01-12 10:19:46,173 p=1567 u=moonja n=ansible | ok: [postgres-ha01] => (item=python34-setuptools)
2022-01-12 10:19:53,052 p=1567 u=moonja n=ansible | ok: [postgres-ha01] => (item=python27-python-setuptools)
2022-01-12 10:20:00,125 p=1567 u=moonja n=ansible | ok: [postgres-ha01] => (item=yamllint)
2022-01-12 10:20:06,790 p=1567 u=moonja n=ansible | ok: [postgres-ha01] => (item=daemonize)
2022-01-12 10:20:09,855 p=1567 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=python-psycopg2)
2022-01-12 10:20:09,873 p=1567 u=moonja n=ansible | changed: [postgres-ha02] => (item=python-psycopg2)
2022-01-12 10:20:09,874 p=1567 u=moonja n=ansible | changed: [postgres-ha03] => (item=python-psycopg2)
2022-01-12 10:20:09,874 p=1567 u=moonja n=ansible | changed: [postgres-haproxy02] => (item=python-psycopg2)
2022-01-12 10:20:16,589 p=1567 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-pip)
2022-01-12 10:20:16,598 p=1567 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-pip)
2022-01-12 10:20:16,598 p=1567 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-pip)
2022-01-12 10:20:16,703 p=1567 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-pip)
2022-01-12 10:20:22,804 p=1567 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python34-setuptools)
2022-01-12 10:20:22,843 p=1567 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python34-setuptools)
2022-01-12 10:20:22,844 p=1567 u=moonja n=ansible | ok: [postgres-ha03] => (item=python34-setuptools)
2022-01-12 10:20:22,919 p=1567 u=moonja n=ansible | ok: [postgres-ha02] => (item=python34-setuptools)
2022-01-12 10:20:29,383 p=1567 u=moonja n=ansible | ok: [postgres-ha03] => (item=python27-python-setuptools)
2022-01-12 10:20:29,423 p=1567 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python27-python-setuptools)
2022-01-12 10:20:29,424 p=1567 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python27-python-setuptools)
2022-01-12 10:20:29,438 p=1567 u=moonja n=ansible | ok: [postgres-ha02] => (item=python27-python-setuptools)
2022-01-12 10:20:35,590 p=1567 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=yamllint)
2022-01-12 10:20:35,633 p=1567 u=moonja n=ansible | ok: [postgres-ha03] => (item=yamllint)
2022-01-12 10:20:35,650 p=1567 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=yamllint)
2022-01-12 10:20:35,650 p=1567 u=moonja n=ansible | ok: [postgres-ha02] => (item=yamllint)
2022-01-12 10:20:42,010 p=1567 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=daemonize)
2022-01-12 10:20:42,042 p=1567 u=moonja n=ansible | ok: [postgres-ha03] => (item=daemonize)
2022-01-12 10:20:42,515 p=1567 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=daemonize)
2022-01-12 10:20:42,707 p=1567 u=moonja n=ansible | ok: [postgres-ha02] => (item=daemonize)
2022-01-12 10:20:42,722 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Install the dependencies of etcd  on all three nodes] ****************************************
2022-01-12 10:20:42,760 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:20:42,775 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:20:43,511 p=1567 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:20:43,512 p=1567 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:20:43,512 p=1567 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:20:43,526 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Install setuptools rust on all three nodes] **************************************************
2022-01-12 10:20:43,550 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:20:43,576 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:20:49,940 p=1567 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:20:49,976 p=1567 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:20:49,989 p=1567 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:20:50,000 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Install typing pip module on all three nodes] ************************************************
2022-01-12 10:20:50,039 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:20:50,054 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:20:56,550 p=1567 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:20:56,571 p=1567 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:20:56,572 p=1567 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:20:56,581 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Upgrade pip3 version] ************************************************************************
2022-01-12 10:20:56,620 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:20:56,636 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:21:03,121 p=1567 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:21:03,181 p=1567 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:21:03,277 p=1567 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:21:03,289 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Install wheel module on all three nodes] *****************************************************
2022-01-12 10:21:03,328 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:21:03,343 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:21:10,297 p=1567 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:21:10,298 p=1567 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:21:10,298 p=1567 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:21:10,308 p=1567 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:21:10,347 p=1567 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:21:10,366 p=1567 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:21:10,384 p=1567 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "442491455456.11759",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.639980",
        "end": "2022-01-12 10:21:04.745598",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/442491455456.11759",
        "start": "2022-01-12 10:21:04.105618",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 10:21:10,385 p=1567 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "159889985753.11400",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.628123",
        "end": "2022-01-12 10:21:04.885888",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/159889985753.11400",
        "start": "2022-01-12 10:21:04.257765",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 10:21:10,397 p=1567 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "43204243845.11467",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.644281",
        "end": "2022-01-12 10:21:04.684557",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/43204243845.11467",
        "start": "2022-01-12 10:21:04.040276",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 10:21:10,408 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Install pip modules of Patroni prerequisites on all three nodes] *****************************
2022-01-12 10:21:10,429 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:21:10,447 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:21:17,233 p=1567 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:21:17,284 p=1567 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:21:17,284 p=1567 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:21:17,296 p=1567 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:21:17,337 p=1567 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:21:17,354 p=1567 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:21:17,374 p=1567 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "521159418105.12137",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.766356",
        "end": "2022-01-12 10:21:11.882941",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/521159418105.12137",
        "start": "2022-01-12 10:21:11.116585",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 10:21:17,376 p=1567 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "860316872896.11752",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.745329",
        "end": "2022-01-12 10:21:12.019627",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/860316872896.11752",
        "start": "2022-01-12 10:21:11.274298",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 10:21:17,388 p=1567 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "159017438806.11811",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.746561",
        "end": "2022-01-12 10:21:11.801728",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/159017438806.11811",
        "start": "2022-01-12 10:21:11.055167",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 10:21:17,400 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Iinstall wheel module on all three nodes] ****************************************************
2022-01-12 10:21:17,437 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:21:17,450 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:21:24,053 p=1567 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:21:24,074 p=1567 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:21:24,074 p=1567 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:21:24,084 p=1567 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:21:24,123 p=1567 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:21:24,143 p=1567 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:21:24,163 p=1567 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "281240364934.12515",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.573355",
        "end": "2022-01-12 10:21:18.658123",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/281240364934.12515",
        "start": "2022-01-12 10:21:18.084768",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 10:21:24,163 p=1567 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "333249975013.12096",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.488083",
        "end": "2022-01-12 10:21:18.764854",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/333249975013.12096",
        "start": "2022-01-12 10:21:18.276771",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 10:21:24,175 p=1567 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "655254892077.12163",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.483348",
        "end": "2022-01-12 10:21:18.524242",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/655254892077.12163",
        "start": "2022-01-12 10:21:18.040894",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 10:21:24,186 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Install psycopg2-binary module on all three nodes] *******************************************
2022-01-12 10:21:24,224 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:21:24,239 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:21:30,556 p=1567 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:21:30,605 p=1567 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:21:30,612 p=1567 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:21:30,624 p=1567 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:21:30,650 p=1567 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:21:30,668 p=1567 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:21:30,689 p=1567 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "645630571041.12893",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.561036",
        "end": "2022-01-12 10:21:25.220109",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/645630571041.12893",
        "start": "2022-01-12 10:21:24.659073",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 10:21:30,715 p=1567 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "212321771380.12440",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.498266",
        "end": "2022-01-12 10:21:25.320820",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/212321771380.12440",
        "start": "2022-01-12 10:21:24.822554",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 10:21:30,733 p=1567 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "522505237082.12507",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.501877",
        "end": "2022-01-12 10:21:25.082466",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/522505237082.12507",
        "start": "2022-01-12 10:21:24.580589",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 10:21:30,745 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Install patroni modules on all three nodes for vmware-postgres 13.x version] *****************
2022-01-12 10:21:30,776 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:21:30,793 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:21:37,310 p=1567 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:21:37,325 p=1567 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:21:37,326 p=1567 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:21:37,337 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 10:21:37,362 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:21:37,380 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:21:38,216 p=1567 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:21:38,217 p=1567 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:21:38,217 p=1567 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:21:38,231 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Create the etcd.yml configuration file for all nodes] ****************************************
2022-01-12 10:21:38,275 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:21:38,291 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:21:39,343 p=1567 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:21:39,361 p=1567 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:21:39,368 p=1567 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:21:39,378 p=1567 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:21:39,419 p=1567 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:21:39,437 p=1567 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:21:39,456 p=1567 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "9ae4719bb01c1f3fe9f70a6e2c0044c7c41a95fe",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "c58c15d1af07ce06cb21d7da9f41a53d",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641950498.409624-5791-50030057861579/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 10:21:39,457 p=1567 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "15047e7ccbff3a953a4abe4edc1ee87eccf0c835",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "90cfbd68000432263a3d9f571742a601",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641950498.412101-5792-14709895718978/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 10:21:39,468 p=1567 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "a89b395b153fde540c5b5250ee19c5a9b4a69b60",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "50ed3a33db1def8c3d70f9d8154ad6fa",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641950498.415118-5796-241512148499264/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 10:21:39,481 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of etcd into /etc/systemd/system] *********************************
2022-01-12 10:21:39,518 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:21:39,533 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:21:40,388 p=1567 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:21:40,389 p=1567 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:21:40,389 p=1567 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:21:40,403 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Reload and start etcd through systemd] *******************************************************
2022-01-12 10:21:40,425 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:21:40,458 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:21:42,898 p=1567 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:21:42,901 p=1567 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:21:42,902 p=1567 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:21:42,917 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Lists the members and identifies the current Leader.] ****************************************
2022-01-12 10:21:42,938 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:21:42,971 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:21:44,983 p=1567 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:21:44,991 p=1567 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:21:45,215 p=1567 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:21:45,232 p=1567 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:21:45,275 p=1567 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:21:45,293 p=1567 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:21:45,313 p=1567 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:01.452268",
        "end": "2022-01-12 10:21:44.798790",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 10:21:43.346522",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 10:21:45,314 p=1567 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:01.612885",
        "end": "2022-01-12 10:21:45.125012",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 10:21:43.512127",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 10:21:45,326 p=1567 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:01.476130",
        "end": "2022-01-12 10:21:44.753580",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 10:21:43.277450",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 10:21:45,338 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Set data directory for patroni cluster] ******************************************************
2022-01-12 10:21:45,860 p=1567 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:21:45,860 p=1567 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:21:45,863 p=1567 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:21:46,207 p=1567 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 10:21:46,207 p=1567 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 10:21:46,221 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Create the patroni.yml configuration file for all nodes] *************************************
2022-01-12 10:21:46,246 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:21:46,279 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:21:47,518 p=1567 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:21:47,520 p=1567 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:21:47,523 p=1567 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:21:47,538 p=1567 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:21:47,579 p=1567 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:21:47,597 p=1567 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:21:47,614 p=1567 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "f4d2acb00f350c835995b63a53b3524d9ee043e3",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "2288acd2e19f68795b3907b6ae799ca7",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1438,
        "src": "/var/tmp/ansible-tmp-1641950506.377377-6132-29106498449508/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 10:21:47,617 p=1567 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "2e4cfb54bfefe7435956e1ed7baac90962aa7662",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "b1dac517c7a12f7105004f3143faa09c",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1438,
        "src": "/var/tmp/ansible-tmp-1641950506.378548-6133-178095382010709/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 10:21:47,628 p=1567 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "6de2530f2e2a1cc3db940a8ff833987e056cae04",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "182a2b3f0fe5a71fd9fe08d2e558f9cc",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1438,
        "src": "/var/tmp/ansible-tmp-1641950506.3806221-6137-37002653504536/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 10:21:47,640 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of patroni into /etc/systemd/system] ******************************
2022-01-12 10:21:47,661 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:21:47,678 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:21:48,573 p=1567 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:21:48,576 p=1567 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:21:48,598 p=1567 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:21:48,612 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Reload and start systemd service of patroni] *************************************************
2022-01-12 10:21:48,653 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:21:48,669 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:21:49,275 p=1567 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:21:49,286 p=1567 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:21:49,299 p=1567 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:21:49,312 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 10:21:49,330 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:21:49,340 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Remove clsuter on master] ********************************************************************
2022-01-12 10:21:49,378 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:21:49,393 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:21:49,410 p=1567 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-12 10:21:49,422 p=1567 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-12 10:22:01,938 p=1567 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:22:01,948 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 10:22:01,968 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:22:01,979 p=1567 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:22:02,021 p=1567 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:22:02,038 p=1567 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:22:02,058 p=1567 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "882268994740.15307",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n",
        "delta": "0:00:06.098709",
        "end": "2022-01-12 10:21:56.022586",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/882268994740.15307",
        "start": "2022-01-12 10:21:49.923877",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+--------+------+------+-------+----+-----------+\n| Member | Host | Role | State | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) +\n+--------+------+------+-------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": ",
        "stdout_lines": [
            "+--------+------+------+-------+----+-----------+",
            "| Member | Host | Role | State | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) +",
            "+--------+------+------+-------+----+-----------+",
            "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": "
        ]
    }
}
2022-01-12 10:22:02,060 p=1567 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:22:02,071 p=1567 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:22:02,083 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Reinitialize patroni clsuter on all node] ****************************************************
2022-01-12 10:22:02,121 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:22:02,136 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:22:08,872 p=1567 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:22:08,900 p=1567 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:22:08,901 p=1567 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:22:08,910 p=1567 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:22:08,951 p=1567 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:22:08,968 p=1567 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:22:08,988 p=1567 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "554982298121.15787",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.350854",
        "end": "2022-01-12 10:22:03.007773",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/554982298121.15787",
        "start": "2022-01-12 10:22:02.656919",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-12 10:22:09,003 p=1567 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "269746348356.14649",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.877748",
        "end": "2022-01-12 10:22:03.704593",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/269746348356.14649",
        "start": "2022-01-12 10:22:02.826845",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Failed: reinitialize for member postgres-ha02, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Failed: reinitialize for member postgres-ha02, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-12 10:22:09,004 p=1567 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "884494630387.14714",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.871409",
        "end": "2022-01-12 10:22:03.476205",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/884494630387.14714",
        "start": "2022-01-12 10:22:02.604796",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Failed: reinitialize for member postgres-ha03, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Failed: reinitialize for member postgres-ha03, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-12 10:22:09,014 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 10:22:09,032 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:22:09,042 p=1567 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:22:09,080 p=1567 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:22:09,102 p=1567 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:22:09,121 p=1567 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "554982298121.15787",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.350854",
        "end": "2022-01-12 10:22:03.007773",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/554982298121.15787",
        "start": "2022-01-12 10:22:02.656919",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-12 10:22:09,122 p=1567 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "269746348356.14649",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.877748",
        "end": "2022-01-12 10:22:03.704593",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/269746348356.14649",
        "start": "2022-01-12 10:22:02.826845",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Failed: reinitialize for member postgres-ha02, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Failed: reinitialize for member postgres-ha02, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-12 10:22:09,134 p=1567 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "884494630387.14714",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.871409",
        "end": "2022-01-12 10:22:03.476205",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/884494630387.14714",
        "start": "2022-01-12 10:22:02.604796",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Failed: reinitialize for member postgres-ha03, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Failed: reinitialize for member postgres-ha03, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-12 10:22:09,146 p=1567 u=moonja n=ansible | TASK [patroni-postgres : Run the patronictl command-line utility to view the cluster state with Patroni started on all three nodes,] ***
2022-01-12 10:22:09,166 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:22:09,199 p=1567 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:22:10,006 p=1567 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:22:10,011 p=1567 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:22:10,023 p=1567 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:22:10,037 p=1567 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:22:10,076 p=1567 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:22:10,096 p=1567 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:22:10,115 p=1567 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.321562",
        "end": "2022-01-12 10:22:09.838286",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 10:22:09.516724",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+"
        ]
    }
}
2022-01-12 10:22:10,116 p=1567 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.311746",
        "end": "2022-01-12 10:22:10.017770",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 10:22:09.706024",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+"
        ]
    }
}
2022-01-12 10:22:10,127 p=1567 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.326384",
        "end": "2022-01-12 10:22:09.803047",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 10:22:09.476663",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+-----------------------------+\n| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |\n+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB | Tags                        |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+-----------------------------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown | replicatefrom: 192.168.0.83 |",
            "+---------------+--------------+---------+---------+----+-----------+-----------------------------+"
        ]
    }
}
2022-01-12 10:22:10,222 p=1567 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-12 10:22:10,222 p=1567 u=moonja n=ansible | postgres-ha01              : ok=40   changed=20   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2022-01-12 10:22:10,222 p=1567 u=moonja n=ansible | postgres-ha02              : ok=39   changed=20   unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2022-01-12 10:22:10,222 p=1567 u=moonja n=ansible | postgres-ha03              : ok=39   changed=20   unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2022-01-12 10:22:10,222 p=1567 u=moonja n=ansible | postgres-haproxy01         : ok=20   changed=6    unreachable=0    failed=0    skipped=23   rescued=0    ignored=0   
2022-01-12 10:22:10,222 p=1567 u=moonja n=ansible | postgres-haproxy02         : ok=20   changed=6    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
2022-01-12 10:34:23,603 p=8188 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 10:34:23,612 p=8188 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 10:34:23,829 p=8188 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 10:34:23,886 p=8188 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 10:34:23,914 p=8188 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 10:34:26,101 p=8188 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:34:26,106 p=8188 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 10:34:26,107 p=8188 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:34:26,113 p=8188 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 10:34:26,114 p=8188 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:34:26,134 p=8188 u=moonja n=ansible | TASK [patroni-postgres : Stop services for patroni and etcd] **********************************************************
2022-01-12 10:34:26,158 p=8188 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=patroni) 
2022-01-12 10:34:26,159 p=8188 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=etcd) 
2022-01-12 10:34:26,174 p=8188 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=patroni) 
2022-01-12 10:34:26,175 p=8188 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=etcd) 
2022-01-12 10:34:27,464 p=8188 u=moonja n=ansible | changed: [postgres-ha03] => (item=patroni)
2022-01-12 10:34:27,468 p=8188 u=moonja n=ansible | changed: [postgres-ha02] => (item=patroni)
2022-01-12 10:34:27,472 p=8188 u=moonja n=ansible | changed: [postgres-ha01] => (item=patroni)
2022-01-12 10:34:28,004 p=8188 u=moonja n=ansible | changed: [postgres-ha03] => (item=etcd)
2022-01-12 10:34:28,008 p=8188 u=moonja n=ansible | changed: [postgres-ha02] => (item=etcd)
2022-01-12 10:34:28,016 p=8188 u=moonja n=ansible | changed: [postgres-ha01] => (item=etcd)
2022-01-12 10:34:28,028 p=8188 u=moonja n=ansible | TASK [patroni-postgres : Kill etcd process] ***************************************************************************
2022-01-12 10:34:28,049 p=8188 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:34:28,066 p=8188 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:34:35,055 p=8188 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:34:35,055 p=8188 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:34:35,351 p=8188 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:34:35,361 p=8188 u=moonja n=ansible | TASK [patroni-postgres : Delete configuration file for patroni and systemd] *******************************************
2022-01-12 10:34:36,251 p=8188 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 10:34:36,252 p=8188 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 10:34:36,258 p=8188 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 10:34:36,267 p=8188 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 10:34:36,273 p=8188 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 10:34:36,685 p=8188 u=moonja n=ansible | changed: [postgres-ha02] => (item=/etc/systemd/system/patroni.service)
2022-01-12 10:34:36,685 p=8188 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/etc/systemd/system/patroni.service)
2022-01-12 10:34:36,690 p=8188 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/etc/systemd/system/patroni.service)
2022-01-12 10:34:36,695 p=8188 u=moonja n=ansible | changed: [postgres-ha03] => (item=/etc/systemd/system/patroni.service)
2022-01-12 10:34:36,709 p=8188 u=moonja n=ansible | changed: [postgres-ha01] => (item=/etc/systemd/system/patroni.service)
2022-01-12 10:34:37,099 p=8188 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 10:34:37,104 p=8188 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 10:34:37,108 p=8188 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 10:34:37,118 p=8188 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 10:34:37,140 p=8188 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 10:34:37,528 p=8188 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 10:34:37,537 p=8188 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 10:34:37,541 p=8188 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 10:34:37,542 p=8188 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 10:34:37,572 p=8188 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 10:34:37,969 p=8188 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 10:34:37,976 p=8188 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 10:34:37,983 p=8188 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 10:34:37,988 p=8188 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 10:34:37,990 p=8188 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 10:34:38,376 p=8188 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 10:34:38,396 p=8188 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 10:34:38,397 p=8188 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 10:34:38,398 p=8188 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 10:34:38,421 p=8188 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 10:34:38,433 p=8188 u=moonja n=ansible | TASK [patroni-postgres : Delete data directory for patroni cluster] ***************************************************
2022-01-12 10:34:39,014 p=8188 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 10:34:39,019 p=8188 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 10:34:39,020 p=8188 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:34:39,022 p=8188 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:34:39,023 p=8188 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:34:39,035 p=8188 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 10:34:39,056 p=8188 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:34:39,073 p=8188 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:34:39,922 p=8188 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:34:39,934 p=8188 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:34:39,938 p=8188 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:34:39,952 p=8188 u=moonja n=ansible | TASK [patroni-postgres : Uninstall pip modules of Patroni prerequisites on all three nodes] ***************************
2022-01-12 10:34:39,973 p=8188 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:34:39,991 p=8188 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:34:46,460 p=8188 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "153381397900.17122", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.418736", "end": "2022-01-12 10:34:40.867344", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/153381397900.17122", "start": "2022-01-12 10:34:40.448608", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 10:34:46,460 p=8188 u=moonja n=ansible | ...ignoring
2022-01-12 10:34:46,461 p=8188 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "298877816738.17058", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.416207", "end": "2022-01-12 10:34:41.088875", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/298877816738.17058", "start": "2022-01-12 10:34:40.672668", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 10:34:46,461 p=8188 u=moonja n=ansible | ...ignoring
2022-01-12 10:34:46,462 p=8188 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "251704459093.18380", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.440080", "end": "2022-01-12 10:34:40.953607", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/251704459093.18380", "start": "2022-01-12 10:34:40.513527", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 10:34:46,462 p=8188 u=moonja n=ansible | ...ignoring
2022-01-12 10:34:46,471 p=8188 u=moonja n=ansible | TASK [patroni-postgres : Install wheel pip module on all three nodes] *************************************************
2022-01-12 10:34:46,509 p=8188 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:34:46,524 p=8188 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:34:52,868 p=8188 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "920964462609.17466", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:00.420232", "end": "2022-01-12 10:34:47.416512", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/920964462609.17466", "start": "2022-01-12 10:34:46.996280", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-z0qi5y7q/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-z0qi5y7q/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 10:34:52,879 p=8188 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "434099862404.17402", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:00.412805", "end": "2022-01-12 10:34:47.640626", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/434099862404.17402", "start": "2022-01-12 10:34:47.227821", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-z7tla7so/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-z7tla7so/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 10:34:52,881 p=8188 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "792466859299.18758", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:00.403459", "end": "2022-01-12 10:34:47.450311", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/792466859299.18758", "start": "2022-01-12 10:34:47.046852", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-ih87k_h_/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-ih87k_h_/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 10:34:52,892 p=8188 u=moonja n=ansible | TASK [patroni-postgres : Uninstall typing pip module on all three nodes] **********************************************
2022-01-12 10:34:52,917 p=8188 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:34:52,931 p=8188 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:34:52,941 p=8188 u=moonja n=ansible | TASK [patroni-postgres : Uninstall setuptools rust on all three nodes] ************************************************
2022-01-12 10:34:52,963 p=8188 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:34:52,973 p=8188 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:34:52,985 p=8188 u=moonja n=ansible | TASK [patroni-postgres : Uninstall patroni module on all three nodes] *************************************************
2022-01-12 10:34:53,007 p=8188 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:34:53,018 p=8188 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:34:53,029 p=8188 u=moonja n=ansible | TASK [patroni-postgres : Uninstall wheel module on all three nodes] ***************************************************
2022-01-12 10:34:53,052 p=8188 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:34:53,063 p=8188 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:34:53,076 p=8188 u=moonja n=ansible | TASK [patroni-postgres : Uninstall psycopg2-binary module on all three nodes] *****************************************
2022-01-12 10:34:53,098 p=8188 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:34:53,110 p=8188 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:34:53,122 p=8188 u=moonja n=ansible | TASK [patroni-postgres : Delete the dependencies file of etcd  on all three nodes] ************************************
2022-01-12 10:34:53,145 p=8188 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:34:53,156 p=8188 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:34:53,168 p=8188 u=moonja n=ansible | TASK [patroni-postgres : Uninstall VMware Postgres RPM package on all hosts as root] **********************************
2022-01-12 10:35:05,192 p=8188 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 10:35:05,205 p=8188 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 10:35:05,218 p=8188 u=moonja n=ansible | TASK [patroni-postgres : Delete the vmwawre-postgres rpm file to all hosts in cluster] ********************************
2022-01-12 10:35:05,722 p=8188 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 10:35:05,722 p=8188 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 10:35:05,731 p=8188 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 10:35:06,215 p=8188 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 10:35:06,216 p=8188 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 10:35:06,225 p=8188 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 10:35:06,767 p=8188 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 10:35:06,768 p=8188 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 10:35:06,778 p=8188 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 10:35:07,726 p=8188 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 10:35:07,728 p=8188 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 10:35:07,766 p=8188 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-12 10:35:07,766 p=8188 u=moonja n=ansible | postgres-ha01              : ok=7    changed=4    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2022-01-12 10:35:07,766 p=8188 u=moonja n=ansible | postgres-ha02              : ok=7    changed=4    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2022-01-12 10:35:07,766 p=8188 u=moonja n=ansible | postgres-ha03              : ok=7    changed=4    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2022-01-12 10:35:07,766 p=8188 u=moonja n=ansible | postgres-haproxy01         : ok=8    changed=5    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-12 10:35:07,766 p=8188 u=moonja n=ansible | postgres-haproxy02         : ok=8    changed=5    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-12 10:38:36,270 p=9706 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 10:38:36,283 p=9706 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 10:38:36,529 p=9706 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 10:38:36,594 p=9706 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 10:38:36,637 p=9706 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 10:38:38,924 p=9706 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 10:38:38,927 p=9706 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:38:38,931 p=9706 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 10:38:38,935 p=9706 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:38:39,566 p=9706 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:38:39,584 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 10:38:40,525 p=9706 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 10:38:40,530 p=9706 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:38:40,531 p=9706 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:38:40,535 p=9706 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:38:40,535 p=9706 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 10:38:40,567 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 10:38:41,342 p=9706 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:38:41,348 p=9706 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:38:41,351 p=9706 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 10:38:41,358 p=9706 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 10:38:41,361 p=9706 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:38:41,373 p=9706 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 10:38:42,155 p=9706 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 10:38:42,187 p=9706 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:38:42,189 p=9706 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:38:42,193 p=9706 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 10:38:42,193 p=9706 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:38:42,207 p=9706 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:38:42,263 p=9706 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 10:38:42,282 p=9706 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 10:38:42,299 p=9706 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 10:38:42,300 p=9706 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 10:38:42,311 p=9706 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 10:38:42,324 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] **********************************
2022-01-12 10:38:43,785 p=9706 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:38:43,791 p=9706 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:38:43,792 p=9706 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:38:44,075 p=9706 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 10:38:44,079 p=9706 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 10:38:44,089 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] ************************************************
2022-01-12 10:38:51,370 p=9706 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:38:51,416 p=9706 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:38:51,678 p=9706 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:38:57,596 p=9706 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 10:39:02,290 p=9706 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 10:39:02,301 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] *******************************
2022-01-12 10:39:08,638 p=9706 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3)
2022-01-12 10:39:08,670 p=9706 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3)
2022-01-12 10:39:08,729 p=9706 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3)
2022-01-12 10:39:08,738 p=9706 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3)
2022-01-12 10:39:09,049 p=9706 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3)
2022-01-12 10:39:15,224 p=9706 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-devel)
2022-01-12 10:39:15,284 p=9706 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-devel)
2022-01-12 10:39:15,292 p=9706 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-devel)
2022-01-12 10:39:16,664 p=9706 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-devel)
2022-01-12 10:39:17,200 p=9706 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-devel)
2022-01-12 10:39:21,497 p=9706 u=moonja n=ansible | ok: [postgres-ha03] => (item=gcc)
2022-01-12 10:39:21,497 p=9706 u=moonja n=ansible | ok: [postgres-ha02] => (item=gcc)
2022-01-12 10:39:23,012 p=9706 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=gcc)
2022-01-12 10:39:23,440 p=9706 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=gcc)
2022-01-12 10:39:23,985 p=9706 u=moonja n=ansible | ok: [postgres-ha01] => (item=gcc)
2022-01-12 10:39:27,908 p=9706 u=moonja n=ansible | ok: [postgres-ha03] => (item=etcd)
2022-01-12 10:39:27,909 p=9706 u=moonja n=ansible | ok: [postgres-ha02] => (item=etcd)
2022-01-12 10:39:29,234 p=9706 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=etcd)
2022-01-12 10:39:29,706 p=9706 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=etcd)
2022-01-12 10:39:30,331 p=9706 u=moonja n=ansible | ok: [postgres-ha01] => (item=etcd)
2022-01-12 10:39:37,062 p=9706 u=moonja n=ansible | ok: [postgres-ha01] => (item=python-psycopg2)
2022-01-12 10:39:39,580 p=9706 u=moonja n=ansible | changed: [postgres-ha03] => (item=python-psycopg2)
2022-01-12 10:39:39,581 p=9706 u=moonja n=ansible | changed: [postgres-ha02] => (item=python-psycopg2)
2022-01-12 10:39:40,803 p=9706 u=moonja n=ansible | changed: [postgres-haproxy02] => (item=python-psycopg2)
2022-01-12 10:39:41,224 p=9706 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=python-psycopg2)
2022-01-12 10:39:43,772 p=9706 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-pip)
2022-01-12 10:39:46,067 p=9706 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-pip)
2022-01-12 10:39:46,068 p=9706 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-pip)
2022-01-12 10:39:46,972 p=9706 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-pip)
2022-01-12 10:39:47,475 p=9706 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-pip)
2022-01-12 10:39:50,609 p=9706 u=moonja n=ansible | ok: [postgres-ha01] => (item=python34-setuptools)
2022-01-12 10:39:52,447 p=9706 u=moonja n=ansible | ok: [postgres-ha03] => (item=python34-setuptools)
2022-01-12 10:39:52,447 p=9706 u=moonja n=ansible | ok: [postgres-ha02] => (item=python34-setuptools)
2022-01-12 10:39:53,216 p=9706 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python34-setuptools)
2022-01-12 10:39:53,651 p=9706 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python34-setuptools)
2022-01-12 10:39:56,998 p=9706 u=moonja n=ansible | ok: [postgres-ha01] => (item=python27-python-setuptools)
2022-01-12 10:39:58,767 p=9706 u=moonja n=ansible | ok: [postgres-ha02] => (item=python27-python-setuptools)
2022-01-12 10:39:58,768 p=9706 u=moonja n=ansible | ok: [postgres-ha03] => (item=python27-python-setuptools)
2022-01-12 10:39:59,401 p=9706 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python27-python-setuptools)
2022-01-12 10:39:59,896 p=9706 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python27-python-setuptools)
2022-01-12 10:40:03,911 p=9706 u=moonja n=ansible | ok: [postgres-ha01] => (item=yamllint)
2022-01-12 10:40:04,961 p=9706 u=moonja n=ansible | ok: [postgres-ha03] => (item=yamllint)
2022-01-12 10:40:04,969 p=9706 u=moonja n=ansible | ok: [postgres-ha02] => (item=yamllint)
2022-01-12 10:40:05,656 p=9706 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=yamllint)
2022-01-12 10:40:06,231 p=9706 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=yamllint)
2022-01-12 10:40:10,958 p=9706 u=moonja n=ansible | ok: [postgres-ha01] => (item=daemonize)
2022-01-12 10:40:11,271 p=9706 u=moonja n=ansible | ok: [postgres-ha02] => (item=daemonize)
2022-01-12 10:40:11,743 p=9706 u=moonja n=ansible | ok: [postgres-ha03] => (item=daemonize)
2022-01-12 10:40:12,157 p=9706 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=daemonize)
2022-01-12 10:40:12,541 p=9706 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=daemonize)
2022-01-12 10:40:12,557 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Install the dependencies of etcd  on all three nodes] ****************************************
2022-01-12 10:40:12,581 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:40:12,599 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:40:13,353 p=9706 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:40:13,359 p=9706 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:40:13,363 p=9706 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:40:13,375 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Install setuptools rust on all three nodes] **************************************************
2022-01-12 10:40:13,396 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:40:13,430 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:40:19,786 p=9706 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:40:19,800 p=9706 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:40:19,800 p=9706 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:40:19,812 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Install typing pip module on all three nodes] ************************************************
2022-01-12 10:40:19,851 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:40:19,866 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:40:26,183 p=9706 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:40:26,195 p=9706 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:40:26,195 p=9706 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:40:26,207 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Upgrade pip3 version] ************************************************************************
2022-01-12 10:40:26,233 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:40:26,268 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:40:32,603 p=9706 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:40:32,626 p=9706 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:40:32,626 p=9706 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:40:32,637 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Install wheel module on all three nodes] *****************************************************
2022-01-12 10:40:32,663 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:40:32,683 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:40:39,048 p=9706 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:40:39,170 p=9706 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:40:39,170 p=9706 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:40:39,183 p=9706 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:40:39,231 p=9706 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:40:39,253 p=9706 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:40:39,273 p=9706 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "595819858440.25497",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.625229",
        "end": "2022-01-12 10:40:33.949975",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/595819858440.25497",
        "start": "2022-01-12 10:40:33.324746",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 10:40:39,274 p=9706 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "536676077945.23618",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.647002",
        "end": "2022-01-12 10:40:34.112995",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/536676077945.23618",
        "start": "2022-01-12 10:40:33.465993",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 10:40:39,287 p=9706 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "850383512832.23684",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.642348",
        "end": "2022-01-12 10:40:33.901085",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/850383512832.23684",
        "start": "2022-01-12 10:40:33.258737",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 10:40:39,307 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Install pip modules of Patroni prerequisites on all three nodes] *****************************
2022-01-12 10:40:39,334 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:40:39,354 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:40:45,824 p=9706 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:40:45,848 p=9706 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:40:45,848 p=9706 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:40:45,862 p=9706 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:40:45,906 p=9706 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:40:45,924 p=9706 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:40:45,945 p=9706 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "42554489697.25876",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.752304",
        "end": "2022-01-12 10:40:40.739755",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/42554489697.25876",
        "start": "2022-01-12 10:40:39.987451",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 10:40:45,947 p=9706 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "565862472689.23962",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.746115",
        "end": "2022-01-12 10:40:40.900734",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/565862472689.23962",
        "start": "2022-01-12 10:40:40.154619",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 10:40:45,959 p=9706 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "49854678220.24028",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.745962",
        "end": "2022-01-12 10:40:40.683289",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/49854678220.24028",
        "start": "2022-01-12 10:40:39.937327",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 10:40:45,971 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Iinstall wheel module on all three nodes] ****************************************************
2022-01-12 10:40:46,009 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:40:46,028 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:40:52,290 p=9706 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:40:52,291 p=9706 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:40:52,291 p=9706 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:40:52,301 p=9706 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:40:52,326 p=9706 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:40:52,345 p=9706 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:40:52,365 p=9706 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "768063084188.26254",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.558087",
        "end": "2022-01-12 10:40:47.027375",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/768063084188.26254",
        "start": "2022-01-12 10:40:46.469288",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 10:40:52,384 p=9706 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "930232036846.24306",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.483264",
        "end": "2022-01-12 10:40:47.109012",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/930232036846.24306",
        "start": "2022-01-12 10:40:46.625748",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 10:40:52,397 p=9706 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "924401094436.24372",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.491676",
        "end": "2022-01-12 10:40:46.901820",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/924401094436.24372",
        "start": "2022-01-12 10:40:46.410144",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 10:40:52,408 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Install psycopg2-binary module on all three nodes] *******************************************
2022-01-12 10:40:52,447 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:40:52,463 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:40:58,827 p=9706 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:40:58,850 p=9706 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:40:58,850 p=9706 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:40:58,860 p=9706 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:40:58,887 p=9706 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:40:58,925 p=9706 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:40:58,950 p=9706 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "549897506197.26632",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.569560",
        "end": "2022-01-12 10:40:53.585988",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/549897506197.26632",
        "start": "2022-01-12 10:40:53.016428",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 10:40:58,951 p=9706 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "495295768127.24650",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.494141",
        "end": "2022-01-12 10:40:53.697725",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/495295768127.24650",
        "start": "2022-01-12 10:40:53.203584",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 10:40:58,963 p=9706 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "867710533454.24716",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.495704",
        "end": "2022-01-12 10:40:53.457095",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/867710533454.24716",
        "start": "2022-01-12 10:40:52.961391",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 10:40:58,976 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Install patroni modules on all three nodes for vmware-postgres 13.x version] *****************
2022-01-12 10:40:59,020 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:40:59,040 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:41:05,269 p=9706 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:41:05,325 p=9706 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:41:05,331 p=9706 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:41:05,342 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 10:41:05,367 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:41:05,386 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:41:06,168 p=9706 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:41:06,170 p=9706 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:41:06,171 p=9706 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:41:06,182 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Create the etcd.yml configuration file for all nodes] ****************************************
2022-01-12 10:41:06,208 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:41:06,226 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:41:07,201 p=9706 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:41:07,202 p=9706 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:41:07,203 p=9706 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:41:07,213 p=9706 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:41:07,254 p=9706 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:41:07,273 p=9706 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:41:07,291 p=9706 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "9ae4719bb01c1f3fe9f70a6e2c0044c7c41a95fe",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "c58c15d1af07ce06cb21d7da9f41a53d",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641951666.358944-14462-40700654824823/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 10:41:07,293 p=9706 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "15047e7ccbff3a953a4abe4edc1ee87eccf0c835",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "90cfbd68000432263a3d9f571742a601",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641951666.3615239-14463-7238175747279/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 10:41:07,306 p=9706 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "a89b395b153fde540c5b5250ee19c5a9b4a69b60",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "50ed3a33db1def8c3d70f9d8154ad6fa",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641951666.3657029-14467-84068119398655/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 10:41:07,318 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of etcd into /etc/systemd/system] *********************************
2022-01-12 10:41:07,340 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:41:07,358 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:41:08,157 p=9706 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:41:08,176 p=9706 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:41:08,181 p=9706 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:41:08,194 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Reload and start etcd through systemd] *******************************************************
2022-01-12 10:41:08,216 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:41:08,235 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:41:13,707 p=9706 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:41:13,892 p=9706 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:41:14,516 p=9706 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:41:14,526 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Lists the members and identifies the current Leader.] ****************************************
2022-01-12 10:41:14,552 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:41:14,571 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:41:15,083 p=9706 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:41:15,086 p=9706 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:41:15,086 p=9706 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:41:15,099 p=9706 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:41:15,143 p=9706 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:41:15,163 p=9706 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:41:15,184 p=9706 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.022962",
        "end": "2022-01-12 10:41:14.959602",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 10:41:14.936640",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 10:41:15,185 p=9706 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.022265",
        "end": "2022-01-12 10:41:15.124492",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 10:41:15.102227",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 10:41:15,199 p=9706 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.023668",
        "end": "2022-01-12 10:41:14.897440",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 10:41:14.873772",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 10:41:15,211 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Set data directory for patroni cluster] ******************************************************
2022-01-12 10:41:15,721 p=9706 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:41:15,727 p=9706 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:41:15,727 p=9706 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:41:15,982 p=9706 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 10:41:15,982 p=9706 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 10:41:15,995 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Create the patroni.yml configuration file for all nodes] *************************************
2022-01-12 10:41:16,018 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:41:16,038 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:41:17,045 p=9706 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:41:17,048 p=9706 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:41:17,054 p=9706 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:41:17,065 p=9706 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:41:17,105 p=9706 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:41:17,125 p=9706 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:41:17,144 p=9706 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "4b06995dd2a495fe561a6c3e1e0b5f5ee4be3a5f",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "bce0c9eff9e89f5bc41b653c2ddb065d",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1408,
        "src": "/var/tmp/ansible-tmp-1641951676.166201-14814-208375053938537/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 10:41:17,145 p=9706 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "4163f0f343b52e6a91cc8d821ee20bd15ba4ff76",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "7203413d2e070d96060d684daf913465",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1408,
        "src": "/var/tmp/ansible-tmp-1641951676.166906-14815-268110278427159/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 10:41:17,160 p=9706 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "80faa4aa35200a2f18883c0eed36e6fcd74e322d",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "f06fee161e8d559a3017009f98bb52f2",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1408,
        "src": "/var/tmp/ansible-tmp-1641951676.172172-14819-22079640519587/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 10:41:17,170 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of patroni into /etc/systemd/system] ******************************
2022-01-12 10:41:17,208 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:41:17,224 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:41:18,130 p=9706 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:41:18,131 p=9706 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:41:18,131 p=9706 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:41:18,144 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Reload and start systemd service of patroni] *************************************************
2022-01-12 10:41:18,167 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:41:18,186 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:41:18,925 p=9706 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:41:18,927 p=9706 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:41:18,933 p=9706 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:41:18,948 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 10:41:18,968 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:41:18,979 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Remove clsuter on master] ********************************************************************
2022-01-12 10:41:19,001 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:41:19,019 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:41:19,052 p=9706 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-12 10:41:19,064 p=9706 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-12 10:41:26,056 p=9706 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:41:26,068 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 10:41:26,088 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:41:26,098 p=9706 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:41:26,140 p=9706 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:41:26,158 p=9706 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:41:26,178 p=9706 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "18552668853.29062",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n",
        "delta": "0:00:00.380556",
        "end": "2022-01-12 10:41:20.055007",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/18552668853.29062",
        "start": "2022-01-12 10:41:19.674451",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": ",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": "
        ]
    }
}
2022-01-12 10:41:26,179 p=9706 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:41:26,190 p=9706 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:41:26,202 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Reinitialize patroni clsuter on all node] ****************************************************
2022-01-12 10:41:26,240 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:41:26,255 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:41:32,596 p=9706 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "572263698387.26866", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n", "delta": "0:00:00.315286", "end": "2022-01-12 10:41:27.250446", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/572263698387.26866", "start": "2022-01-12 10:41:26.935160", "started": 1, "stderr": "Error: postgres-ha02 is not a member of cluster", "stderr_lines": ["Error: postgres-ha02 is not a member of cluster"], "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01]? []: ", "stdout_lines": ["+---------------+--------------+---------+---------+----+-----------+", "| Member        | Host         | Role    | State   | TL | Lag in MB |", "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+", "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |", "+---------------+--------------+---------+---------+----+-----------+", "Which member do you want to reinitialize [postgres-ha01]? []: "]}
2022-01-12 10:41:32,597 p=9706 u=moonja n=ansible | ...ignoring
2022-01-12 10:41:32,676 p=9706 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:41:32,689 p=9706 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "973576722285.26936", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n", "delta": "0:00:00.311919", "end": "2022-01-12 10:41:27.037951", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/973576722285.26936", "start": "2022-01-12 10:41:26.726032", "started": 1, "stderr": "Error: postgres-ha03 is not a member of cluster", "stderr_lines": ["Error: postgres-ha03 is not a member of cluster"], "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01]? []: ", "stdout_lines": ["+---------------+--------------+---------+---------+----+-----------+", "| Member        | Host         | Role    | State   | TL | Lag in MB |", "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+", "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |", "+---------------+--------------+---------+---------+----+-----------+", "Which member do you want to reinitialize [postgres-ha01]? []: "]}
2022-01-12 10:41:32,690 p=9706 u=moonja n=ansible | ...ignoring
2022-01-12 10:41:32,704 p=9706 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:41:32,747 p=9706 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:41:32,767 p=9706 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:41:32,789 p=9706 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "291771198899.29438",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.314012",
        "end": "2022-01-12 10:41:27.113407",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/291771198899.29438",
        "start": "2022-01-12 10:41:26.799395",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-12 10:41:32,790 p=9706 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "572263698387.26866",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.315286",
        "end": "2022-01-12 10:41:27.250446",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/572263698387.26866",
        "start": "2022-01-12 10:41:26.935160",
        "started": 1,
        "stderr": "Error: postgres-ha02 is not a member of cluster",
        "stderr_lines": [
            "Error: postgres-ha02 is not a member of cluster"
        ],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01]? []: ",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01]? []: "
        ]
    }
}
2022-01-12 10:41:32,799 p=9706 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "973576722285.26936",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.311919",
        "end": "2022-01-12 10:41:27.037951",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/973576722285.26936",
        "start": "2022-01-12 10:41:26.726032",
        "started": 1,
        "stderr": "Error: postgres-ha03 is not a member of cluster",
        "stderr_lines": [
            "Error: postgres-ha03 is not a member of cluster"
        ],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01]? []: ",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01]? []: "
        ]
    }
}
2022-01-12 10:41:32,811 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 10:41:32,829 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:41:32,839 p=9706 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:41:32,880 p=9706 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:41:32,917 p=9706 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:41:32,940 p=9706 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "291771198899.29438",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.314012",
        "end": "2022-01-12 10:41:27.113407",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/291771198899.29438",
        "start": "2022-01-12 10:41:26.799395",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-12 10:41:32,941 p=9706 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "572263698387.26866",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.315286",
        "end": "2022-01-12 10:41:27.250446",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/572263698387.26866",
        "start": "2022-01-12 10:41:26.935160",
        "started": 1,
        "stderr": "Error: postgres-ha02 is not a member of cluster",
        "stderr_lines": [
            "Error: postgres-ha02 is not a member of cluster"
        ],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01]? []: ",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01]? []: "
        ]
    }
}
2022-01-12 10:41:32,951 p=9706 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "973576722285.26936",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.311919",
        "end": "2022-01-12 10:41:27.037951",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/973576722285.26936",
        "start": "2022-01-12 10:41:26.726032",
        "started": 1,
        "stderr": "Error: postgres-ha03 is not a member of cluster",
        "stderr_lines": [
            "Error: postgres-ha03 is not a member of cluster"
        ],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01]? []: ",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01]? []: "
        ]
    }
}
2022-01-12 10:41:32,963 p=9706 u=moonja n=ansible | TASK [patroni-postgres : Run the patronictl command-line utility to view the cluster state with Patroni started on all three nodes,] ***
2022-01-12 10:41:33,000 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:41:33,016 p=9706 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:41:33,857 p=9706 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:41:33,869 p=9706 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:41:33,872 p=9706 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:41:33,886 p=9706 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:41:33,924 p=9706 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:41:33,943 p=9706 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:41:33,991 p=9706 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.304400",
        "end": "2022-01-12 10:41:33.730645",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 10:41:33.426245",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-12 10:41:33,993 p=9706 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.324392",
        "end": "2022-01-12 10:41:33.914056",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 10:41:33.589664",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-12 10:41:33,994 p=9706 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.328379",
        "end": "2022-01-12 10:41:33.690621",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 10:41:33.362242",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-12 10:41:34,054 p=9706 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-12 10:41:34,055 p=9706 u=moonja n=ansible | postgres-ha01              : ok=40   changed=20   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2022-01-12 10:41:34,055 p=9706 u=moonja n=ansible | postgres-ha02              : ok=39   changed=20   unreachable=0    failed=0    skipped=1    rescued=0    ignored=1   
2022-01-12 10:41:34,055 p=9706 u=moonja n=ansible | postgres-ha03              : ok=39   changed=20   unreachable=0    failed=0    skipped=1    rescued=0    ignored=1   
2022-01-12 10:41:34,055 p=9706 u=moonja n=ansible | postgres-haproxy01         : ok=20   changed=6    unreachable=0    failed=0    skipped=23   rescued=0    ignored=0   
2022-01-12 10:41:34,055 p=9706 u=moonja n=ansible | postgres-haproxy02         : ok=20   changed=6    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
2022-01-12 10:46:19,266 p=17403 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 10:46:19,275 p=17403 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 10:46:19,501 p=17403 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 10:46:19,556 p=17403 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 10:46:19,586 p=17403 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 10:46:21,911 p=17403 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 10:46:21,914 p=17403 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 10:46:21,916 p=17403 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:46:21,921 p=17403 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:46:22,676 p=17403 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:46:22,697 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 10:46:23,908 p=17403 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:46:23,912 p=17403 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 10:46:23,913 p=17403 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 10:46:23,915 p=17403 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:46:23,916 p=17403 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:46:23,929 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 10:46:24,924 p=17403 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 10:46:24,929 p=17403 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:46:24,929 p=17403 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 10:46:24,932 p=17403 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:46:24,934 p=17403 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:46:24,947 p=17403 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 10:46:25,560 p=17403 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 10:46:25,564 p=17403 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 10:46:25,584 p=17403 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:46:25,584 p=17403 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:46:25,590 p=17403 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:46:25,602 p=17403 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:46:25,639 p=17403 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 10:46:25,655 p=17403 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 10:46:25,672 p=17403 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 10:46:25,673 p=17403 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 10:46:25,685 p=17403 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 10:46:25,696 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] **********************************
2022-01-12 10:46:27,454 p=17403 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:46:27,472 p=17403 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:46:27,483 p=17403 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:46:27,506 p=17403 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 10:46:27,549 p=17403 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 10:46:27,563 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] ************************************************
2022-01-12 10:46:35,149 p=17403 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:46:35,221 p=17403 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 10:46:35,221 p=17403 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 10:46:35,221 p=17403 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:46:35,222 p=17403 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:46:35,234 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] *******************************
2022-01-12 10:46:42,253 p=17403 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3)
2022-01-12 10:46:42,436 p=17403 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3)
2022-01-12 10:46:42,541 p=17403 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3)
2022-01-12 10:46:42,805 p=17403 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3)
2022-01-12 10:46:42,830 p=17403 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3)
2022-01-12 10:46:48,668 p=17403 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-devel)
2022-01-12 10:46:49,232 p=17403 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-devel)
2022-01-12 10:46:49,252 p=17403 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-devel)
2022-01-12 10:46:49,252 p=17403 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-devel)
2022-01-12 10:46:49,408 p=17403 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-devel)
2022-01-12 10:46:55,151 p=17403 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=gcc)
2022-01-12 10:46:55,494 p=17403 u=moonja n=ansible | ok: [postgres-ha03] => (item=gcc)
2022-01-12 10:46:55,494 p=17403 u=moonja n=ansible | ok: [postgres-ha02] => (item=gcc)
2022-01-12 10:46:55,531 p=17403 u=moonja n=ansible | ok: [postgres-ha01] => (item=gcc)
2022-01-12 10:46:55,670 p=17403 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=gcc)
2022-01-12 10:47:01,538 p=17403 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=etcd)
2022-01-12 10:47:01,823 p=17403 u=moonja n=ansible | ok: [postgres-ha03] => (item=etcd)
2022-01-12 10:47:01,904 p=17403 u=moonja n=ansible | ok: [postgres-ha01] => (item=etcd)
2022-01-12 10:47:01,912 p=17403 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=etcd)
2022-01-12 10:47:02,526 p=17403 u=moonja n=ansible | ok: [postgres-ha02] => (item=etcd)
2022-01-12 10:47:08,191 p=17403 u=moonja n=ansible | ok: [postgres-ha01] => (item=python-psycopg2)
2022-01-12 10:47:14,098 p=17403 u=moonja n=ansible | changed: [postgres-haproxy02] => (item=python-psycopg2)
2022-01-12 10:47:14,232 p=17403 u=moonja n=ansible | changed: [postgres-ha02] => (item=python-psycopg2)
2022-01-12 10:47:14,261 p=17403 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=python-psycopg2)
2022-01-12 10:47:14,495 p=17403 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-pip)
2022-01-12 10:47:14,565 p=17403 u=moonja n=ansible | changed: [postgres-ha03] => (item=python-psycopg2)
2022-01-12 10:47:20,661 p=17403 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-pip)
2022-01-12 10:47:21,017 p=17403 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-pip)
2022-01-12 10:47:21,036 p=17403 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-pip)
2022-01-12 10:47:21,190 p=17403 u=moonja n=ansible | ok: [postgres-ha01] => (item=python34-setuptools)
2022-01-12 10:47:21,397 p=17403 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-pip)
2022-01-12 10:47:27,246 p=17403 u=moonja n=ansible | ok: [postgres-ha02] => (item=python34-setuptools)
2022-01-12 10:47:27,342 p=17403 u=moonja n=ansible | ok: [postgres-ha03] => (item=python34-setuptools)
2022-01-12 10:47:27,343 p=17403 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python34-setuptools)
2022-01-12 10:47:27,545 p=17403 u=moonja n=ansible | ok: [postgres-ha01] => (item=python27-python-setuptools)
2022-01-12 10:47:27,764 p=17403 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python34-setuptools)
2022-01-12 10:47:33,474 p=17403 u=moonja n=ansible | ok: [postgres-ha02] => (item=python27-python-setuptools)
2022-01-12 10:47:33,615 p=17403 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python27-python-setuptools)
2022-01-12 10:47:33,623 p=17403 u=moonja n=ansible | ok: [postgres-ha03] => (item=python27-python-setuptools)
2022-01-12 10:47:34,050 p=17403 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python27-python-setuptools)
2022-01-12 10:47:34,254 p=17403 u=moonja n=ansible | ok: [postgres-ha01] => (item=yamllint)
2022-01-12 10:47:40,622 p=17403 u=moonja n=ansible | ok: [postgres-ha02] => (item=yamllint)
2022-01-12 10:47:40,682 p=17403 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=yamllint)
2022-01-12 10:47:40,853 p=17403 u=moonja n=ansible | ok: [postgres-ha01] => (item=daemonize)
2022-01-12 10:47:40,938 p=17403 u=moonja n=ansible | ok: [postgres-ha03] => (item=yamllint)
2022-01-12 10:47:41,472 p=17403 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=yamllint)
2022-01-12 10:47:47,149 p=17403 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=daemonize)
2022-01-12 10:47:47,161 p=17403 u=moonja n=ansible | ok: [postgres-ha02] => (item=daemonize)
2022-01-12 10:47:47,211 p=17403 u=moonja n=ansible | ok: [postgres-ha03] => (item=daemonize)
2022-01-12 10:47:48,026 p=17403 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=daemonize)
2022-01-12 10:47:48,043 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Install the dependencies of etcd  on all three nodes] ****************************************
2022-01-12 10:47:48,086 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:47:48,102 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:47:49,346 p=17403 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:47:49,347 p=17403 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:47:50,426 p=17403 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:47:50,439 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Install setuptools rust on all three nodes] **************************************************
2022-01-12 10:47:50,467 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:47:50,486 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:47:56,870 p=17403 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:47:56,988 p=17403 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:47:58,047 p=17403 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:47:58,057 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Install typing pip module on all three nodes] ************************************************
2022-01-12 10:47:58,081 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:47:58,113 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:48:04,637 p=17403 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:48:04,690 p=17403 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:48:04,691 p=17403 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:48:04,703 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Upgrade pip3 version] ************************************************************************
2022-01-12 10:48:04,727 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:48:04,744 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:48:11,578 p=17403 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:48:12,169 p=17403 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:48:12,447 p=17403 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:48:12,459 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Install wheel module on all three nodes] *****************************************************
2022-01-12 10:48:12,497 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:48:12,513 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:48:19,679 p=17403 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:48:20,237 p=17403 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:48:20,737 p=17403 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:48:20,748 p=17403 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:48:20,788 p=17403 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:48:20,809 p=17403 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:48:20,830 p=17403 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "880359284300.3948",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.653439",
        "end": "2022-01-12 10:48:13.973331",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/880359284300.3948",
        "start": "2022-01-12 10:48:13.319892",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 10:48:20,831 p=17403 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "452644676992.827",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.656898",
        "end": "2022-01-12 10:48:14.095676",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/452644676992.827",
        "start": "2022-01-12 10:48:13.438778",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 10:48:20,841 p=17403 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "303599446364.887",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.629948",
        "end": "2022-01-12 10:48:13.840203",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/303599446364.887",
        "start": "2022-01-12 10:48:13.210255",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 10:48:20,854 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Install pip modules of Patroni prerequisites on all three nodes] *****************************
2022-01-12 10:48:20,875 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:48:20,908 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:48:27,636 p=17403 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:48:27,637 p=17403 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:48:27,637 p=17403 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:48:27,647 p=17403 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:48:27,689 p=17403 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:48:27,709 p=17403 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:48:27,731 p=17403 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "57071388164.4326",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.805880",
        "end": "2022-01-12 10:48:22.357432",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/57071388164.4326",
        "start": "2022-01-12 10:48:21.551552",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 10:48:27,733 p=17403 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "490701071031.1179",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.734105",
        "end": "2022-01-12 10:48:22.442731",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/490701071031.1179",
        "start": "2022-01-12 10:48:21.708626",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 10:48:27,744 p=17403 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "420633242262.1258",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.804406",
        "end": "2022-01-12 10:48:22.284466",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/420633242262.1258",
        "start": "2022-01-12 10:48:21.480060",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 10:48:27,757 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Iinstall wheel module on all three nodes] ****************************************************
2022-01-12 10:48:27,793 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:48:27,808 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:48:34,947 p=17403 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:48:34,947 p=17403 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:48:34,948 p=17403 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:48:34,957 p=17403 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:48:34,999 p=17403 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:48:35,020 p=17403 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:48:35,040 p=17403 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "213522186336.4705",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.608907",
        "end": "2022-01-12 10:48:29.230482",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/213522186336.4705",
        "start": "2022-01-12 10:48:28.621575",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 10:48:35,041 p=17403 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "767399341262.1544",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.529194",
        "end": "2022-01-12 10:48:29.318899",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/767399341262.1544",
        "start": "2022-01-12 10:48:28.789705",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 10:48:35,080 p=17403 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "804851381010.1615",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.708067",
        "end": "2022-01-12 10:48:29.269259",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/804851381010.1615",
        "start": "2022-01-12 10:48:28.561192",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 10:48:35,096 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Install psycopg2-binary module on all three nodes] *******************************************
2022-01-12 10:48:35,134 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:48:35,149 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:48:42,515 p=17403 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:48:42,542 p=17403 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:48:42,542 p=17403 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:48:42,554 p=17403 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:48:42,595 p=17403 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:48:42,616 p=17403 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:48:42,634 p=17403 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "548070189115.5085",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.579064",
        "end": "2022-01-12 10:48:36.736949",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/548070189115.5085",
        "start": "2022-01-12 10:48:36.157885",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 10:48:42,635 p=17403 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "71444650462.1896",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.505505",
        "end": "2022-01-12 10:48:36.823504",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/71444650462.1896",
        "start": "2022-01-12 10:48:36.317999",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 10:48:42,680 p=17403 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "802444767422.1962",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.505561",
        "end": "2022-01-12 10:48:36.595498",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/802444767422.1962",
        "start": "2022-01-12 10:48:36.089937",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 10:48:42,697 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Install patroni modules on all three nodes for vmware-postgres 13.x version] *****************
2022-01-12 10:48:42,736 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:48:42,752 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:48:49,592 p=17403 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:48:49,740 p=17403 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:48:49,834 p=17403 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:48:49,847 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 10:48:49,887 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:48:49,903 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:48:50,876 p=17403 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:48:50,882 p=17403 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:48:50,884 p=17403 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:48:50,899 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Create the etcd.yml configuration file for all nodes] ****************************************
2022-01-12 10:48:50,922 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:48:50,955 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:48:51,902 p=17403 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:48:52,012 p=17403 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:48:52,012 p=17403 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:48:52,029 p=17403 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:48:52,075 p=17403 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:48:52,094 p=17403 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:48:52,130 p=17403 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": false,
        "checksum": "9ae4719bb01c1f3fe9f70a6e2c0044c7c41a95fe",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": {
            "after": {
                "path": "/var/lib/pgsql/etcd.yml"
            },
            "before": {
                "path": "/var/lib/pgsql/etcd.yml"
            }
        },
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "mode": "0644",
        "owner": "postgres",
        "path": "/var/lib/pgsql/etcd.yml",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "state": "file",
        "uid": 26
    }
}
2022-01-12 10:48:52,132 p=17403 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "checksum": "15047e7ccbff3a953a4abe4edc1ee87eccf0c835",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": {
            "after": {
                "path": "/var/lib/pgsql/etcd.yml"
            },
            "before": {
                "path": "/var/lib/pgsql/etcd.yml"
            }
        },
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "mode": "0644",
        "owner": "postgres",
        "path": "/var/lib/pgsql/etcd.yml",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "state": "file",
        "uid": 26
    }
}
2022-01-12 10:48:52,133 p=17403 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "checksum": "a89b395b153fde540c5b5250ee19c5a9b4a69b60",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": {
            "after": {
                "path": "/var/lib/pgsql/etcd.yml"
            },
            "before": {
                "path": "/var/lib/pgsql/etcd.yml"
            }
        },
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "mode": "0644",
        "owner": "postgres",
        "path": "/var/lib/pgsql/etcd.yml",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "state": "file",
        "uid": 26
    }
}
2022-01-12 10:48:52,143 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of etcd into /etc/systemd/system] *********************************
2022-01-12 10:48:52,182 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:48:52,198 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:48:53,694 p=17403 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:48:53,694 p=17403 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:48:53,695 p=17403 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:48:53,708 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Reload and start etcd through systemd] *******************************************************
2022-01-12 10:48:53,735 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:48:53,755 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:48:54,713 p=17403 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:48:54,714 p=17403 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:48:54,715 p=17403 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:48:54,728 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Lists the members and identifies the current Leader.] ****************************************
2022-01-12 10:48:54,771 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:48:54,786 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:48:55,724 p=17403 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:48:55,748 p=17403 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:48:55,749 p=17403 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:48:55,763 p=17403 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:48:55,802 p=17403 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:48:55,821 p=17403 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:48:55,839 p=17403 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.020425",
        "end": "2022-01-12 10:48:55.640715",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 10:48:55.620290",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 10:48:55,840 p=17403 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.020263",
        "end": "2022-01-12 10:48:55.805981",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 10:48:55.785718",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 10:48:55,880 p=17403 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.020298",
        "end": "2022-01-12 10:48:55.557502",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 10:48:55.537204",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 10:48:55,896 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Set data directory for patroni cluster] ******************************************************
2022-01-12 10:48:56,413 p=17403 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:48:56,421 p=17403 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:48:56,426 p=17403 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:48:56,655 p=17403 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 10:48:56,656 p=17403 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 10:48:56,669 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Create the patroni.yml configuration file for all nodes] *************************************
2022-01-12 10:48:56,693 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:48:56,726 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:48:58,504 p=17403 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:48:58,504 p=17403 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:48:58,509 p=17403 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:48:58,520 p=17403 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:48:58,561 p=17403 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:48:58,580 p=17403 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:48:58,598 p=17403 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "5ca43de819670cdaba2f18dc989508ec0ca0a709",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "6f351f59de43b45391a85222fd24c575",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1472,
        "src": "/var/tmp/ansible-tmp-1641952136.835448-21669-251233805664789/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 10:48:58,630 p=17403 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "4b45a401ee95a9d053f0865faec9188df51e7b19",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "ac39f9d8b81e4080183e96b4dac2e88d",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1472,
        "src": "/var/tmp/ansible-tmp-1641952136.8384562-21670-71785870313281/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 10:48:58,631 p=17403 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "719a4f8e721d5c522f222f8aa7dbaa21a71ae59c",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "893a914c96f7deb0e3d04b1e8dc36e1f",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1472,
        "src": "/var/tmp/ansible-tmp-1641952136.841084-21674-234596249443039/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 10:48:58,644 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of patroni into /etc/systemd/system] ******************************
2022-01-12 10:48:58,666 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:48:58,698 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:48:59,835 p=17403 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:48:59,836 p=17403 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:49:00,647 p=17403 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:49:00,662 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Reload and start systemd service of patroni] *************************************************
2022-01-12 10:49:00,712 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:49:00,740 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:49:01,345 p=17403 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:49:01,354 p=17403 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:49:01,357 p=17403 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:49:01,370 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 10:49:01,389 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:49:01,400 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Remove clsuter on master] ********************************************************************
2022-01-12 10:49:01,422 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:49:01,456 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:49:01,473 p=17403 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-12 10:49:01,484 p=17403 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-12 10:49:08,624 p=17403 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:49:08,635 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 10:49:08,657 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:49:08,668 p=17403 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:49:08,709 p=17403 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:49:08,727 p=17403 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:49:08,780 p=17403 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "253347123128.7415",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n",
        "delta": "0:00:00.943060",
        "end": "2022-01-12 10:49:03.096682",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/253347123128.7415",
        "start": "2022-01-12 10:49:02.153622",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+--------+------+------+-------+----+-----------+\n| Member | Host | Role | State | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) +\n+--------+------+------+-------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": ",
        "stdout_lines": [
            "+--------+------+------+-------+----+-----------+",
            "| Member | Host | Role | State | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) +",
            "+--------+------+------+-------+----+-----------+",
            "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": "
        ]
    }
}
2022-01-12 10:49:08,782 p=17403 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:49:08,782 p=17403 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:49:08,795 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Reinitialize patroni clsuter on all node] ****************************************************
2022-01-12 10:49:08,820 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:49:08,838 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:49:15,942 p=17403 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:49:16,019 p=17403 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:49:16,031 p=17403 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:49:16,041 p=17403 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:49:16,084 p=17403 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:49:16,104 p=17403 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:49:16,129 p=17403 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "933098361819.7791",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.323087",
        "end": "2022-01-12 10:49:09.886079",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/933098361819.7791",
        "start": "2022-01-12 10:49:09.562992",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-12 10:49:16,130 p=17403 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "427046339216.4019",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.327178",
        "end": "2022-01-12 10:49:10.051177",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/427046339216.4019",
        "start": "2022-01-12 10:49:09.723999",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Failed: reinitialize for member postgres-ha02, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Failed: reinitialize for member postgres-ha02, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-12 10:49:16,136 p=17403 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "177544792060.4084",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.344452",
        "end": "2022-01-12 10:49:09.837691",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/177544792060.4084",
        "start": "2022-01-12 10:49:09.493239",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Failed: reinitialize for member postgres-ha03, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Failed: reinitialize for member postgres-ha03, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-12 10:49:16,149 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 10:49:16,167 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:49:16,176 p=17403 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:49:16,225 p=17403 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:49:16,247 p=17403 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:49:16,279 p=17403 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "933098361819.7791",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.323087",
        "end": "2022-01-12 10:49:09.886079",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/933098361819.7791",
        "start": "2022-01-12 10:49:09.562992",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-12 10:49:16,281 p=17403 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "427046339216.4019",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.327178",
        "end": "2022-01-12 10:49:10.051177",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/427046339216.4019",
        "start": "2022-01-12 10:49:09.723999",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Failed: reinitialize for member postgres-ha02, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Failed: reinitialize for member postgres-ha02, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-12 10:49:16,282 p=17403 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "177544792060.4084",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.344452",
        "end": "2022-01-12 10:49:09.837691",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/177544792060.4084",
        "start": "2022-01-12 10:49:09.493239",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Failed: reinitialize for member postgres-ha03, status code=503, (Cluster has no leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Failed: reinitialize for member postgres-ha03, status code=503, (Cluster has no leader, can not reinitialize)"
        ]
    }
}
2022-01-12 10:49:16,293 p=17403 u=moonja n=ansible | TASK [patroni-postgres : Run the patronictl command-line utility to view the cluster state with Patroni started on all three nodes,] ***
2022-01-12 10:49:16,315 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:49:16,334 p=17403 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:49:17,206 p=17403 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:49:17,208 p=17403 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:49:17,213 p=17403 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:49:17,228 p=17403 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:49:17,270 p=17403 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:49:17,289 p=17403 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:49:17,330 p=17403 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.302505",
        "end": "2022-01-12 10:49:17.107696",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 10:49:16.805191",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-12 10:49:17,332 p=17403 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.301751",
        "end": "2022-01-12 10:49:17.267989",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 10:49:16.966238",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-12 10:49:17,333 p=17403 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.310501",
        "end": "2022-01-12 10:49:17.049937",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 10:49:16.739436",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (uninitialized) ---+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-12 10:49:17,392 p=17403 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-12 10:49:17,392 p=17403 u=moonja n=ansible | postgres-ha01              : ok=40   changed=17   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2022-01-12 10:49:17,392 p=17403 u=moonja n=ansible | postgres-ha02              : ok=39   changed=17   unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2022-01-12 10:49:17,392 p=17403 u=moonja n=ansible | postgres-ha03              : ok=39   changed=17   unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2022-01-12 10:49:17,392 p=17403 u=moonja n=ansible | postgres-haproxy01         : ok=20   changed=3    unreachable=0    failed=0    skipped=23   rescued=0    ignored=0   
2022-01-12 10:49:17,392 p=17403 u=moonja n=ansible | postgres-haproxy02         : ok=20   changed=3    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
2022-01-12 10:51:40,855 p=22163 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 10:51:40,867 p=22163 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 10:51:41,124 p=22163 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 10:51:41,178 p=22163 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 10:51:41,210 p=22163 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 10:51:43,578 p=22163 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:51:43,587 p=22163 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 10:51:43,591 p=22163 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:51:43,595 p=22163 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:51:44,351 p=22163 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 10:51:44,374 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 10:51:45,293 p=22163 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:51:45,294 p=22163 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 10:51:45,294 p=22163 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:51:45,299 p=22163 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 10:51:45,300 p=22163 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:51:45,316 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 10:51:46,330 p=22163 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 10:51:46,331 p=22163 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:51:46,331 p=22163 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:51:46,333 p=22163 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 10:51:46,336 p=22163 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:51:46,348 p=22163 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 10:51:47,067 p=22163 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 10:51:47,089 p=22163 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 10:51:47,094 p=22163 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:51:47,095 p=22163 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:51:47,095 p=22163 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:51:47,110 p=22163 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:51:47,146 p=22163 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 10:51:47,163 p=22163 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 10:51:47,180 p=22163 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 10:51:47,181 p=22163 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 10:51:47,194 p=22163 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 10:51:47,205 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] **********************************
2022-01-12 10:51:48,846 p=22163 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 10:51:48,847 p=22163 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:51:48,848 p=22163 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 10:51:48,851 p=22163 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:51:48,854 p=22163 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:51:48,867 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] ************************************************
2022-01-12 10:51:56,486 p=22163 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:51:56,486 p=22163 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 10:51:56,906 p=22163 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:51:56,915 p=22163 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 10:51:56,984 p=22163 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:51:56,998 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] *******************************
2022-01-12 10:52:03,399 p=22163 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3)
2022-01-12 10:52:03,950 p=22163 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3)
2022-01-12 10:52:03,974 p=22163 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3)
2022-01-12 10:52:03,975 p=22163 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3)
2022-01-12 10:52:03,986 p=22163 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3)
2022-01-12 10:52:09,957 p=22163 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-devel)
2022-01-12 10:52:10,661 p=22163 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-devel)
2022-01-12 10:52:10,671 p=22163 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-devel)
2022-01-12 10:52:10,686 p=22163 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-devel)
2022-01-12 10:52:10,715 p=22163 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-devel)
2022-01-12 10:52:16,393 p=22163 u=moonja n=ansible | ok: [postgres-ha02] => (item=gcc)
2022-01-12 10:52:16,923 p=22163 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=gcc)
2022-01-12 10:52:17,432 p=22163 u=moonja n=ansible | ok: [postgres-ha03] => (item=gcc)
2022-01-12 10:52:17,449 p=22163 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=gcc)
2022-01-12 10:52:17,543 p=22163 u=moonja n=ansible | ok: [postgres-ha01] => (item=gcc)
2022-01-12 10:52:23,409 p=22163 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=etcd)
2022-01-12 10:52:23,474 p=22163 u=moonja n=ansible | ok: [postgres-ha02] => (item=etcd)
2022-01-12 10:52:23,764 p=22163 u=moonja n=ansible | ok: [postgres-ha03] => (item=etcd)
2022-01-12 10:52:23,772 p=22163 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=etcd)
2022-01-12 10:52:23,883 p=22163 u=moonja n=ansible | ok: [postgres-ha01] => (item=etcd)
2022-01-12 10:52:30,276 p=22163 u=moonja n=ansible | ok: [postgres-ha01] => (item=python-psycopg2)
2022-01-12 10:52:35,512 p=22163 u=moonja n=ansible | changed: [postgres-haproxy02] => (item=python-psycopg2)
2022-01-12 10:52:36,022 p=22163 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=python-psycopg2)
2022-01-12 10:52:36,056 p=22163 u=moonja n=ansible | changed: [postgres-ha03] => (item=python-psycopg2)
2022-01-12 10:52:36,306 p=22163 u=moonja n=ansible | changed: [postgres-ha02] => (item=python-psycopg2)
2022-01-12 10:52:36,536 p=22163 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-pip)
2022-01-12 10:52:41,967 p=22163 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-pip)
2022-01-12 10:52:42,212 p=22163 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-pip)
2022-01-12 10:52:42,329 p=22163 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-pip)
2022-01-12 10:52:42,536 p=22163 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-pip)
2022-01-12 10:52:42,806 p=22163 u=moonja n=ansible | ok: [postgres-ha01] => (item=python34-setuptools)
2022-01-12 10:52:48,320 p=22163 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python34-setuptools)
2022-01-12 10:52:49,298 p=22163 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python34-setuptools)
2022-01-12 10:52:49,307 p=22163 u=moonja n=ansible | ok: [postgres-ha02] => (item=python34-setuptools)
2022-01-12 10:52:49,459 p=22163 u=moonja n=ansible | ok: [postgres-ha03] => (item=python34-setuptools)
2022-01-12 10:52:50,526 p=22163 u=moonja n=ansible | ok: [postgres-ha01] => (item=python27-python-setuptools)
2022-01-12 10:52:54,728 p=22163 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python27-python-setuptools)
2022-01-12 10:52:55,669 p=22163 u=moonja n=ansible | ok: [postgres-ha02] => (item=python27-python-setuptools)
2022-01-12 10:52:55,766 p=22163 u=moonja n=ansible | ok: [postgres-ha03] => (item=python27-python-setuptools)
2022-01-12 10:52:55,906 p=22163 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python27-python-setuptools)
2022-01-12 10:52:57,175 p=22163 u=moonja n=ansible | ok: [postgres-ha01] => (item=yamllint)
2022-01-12 10:53:01,296 p=22163 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=yamllint)
2022-01-12 10:53:02,555 p=22163 u=moonja n=ansible | ok: [postgres-ha02] => (item=yamllint)
2022-01-12 10:53:02,563 p=22163 u=moonja n=ansible | ok: [postgres-ha03] => (item=yamllint)
2022-01-12 10:53:03,359 p=22163 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=yamllint)
2022-01-12 10:53:03,661 p=22163 u=moonja n=ansible | ok: [postgres-ha01] => (item=daemonize)
2022-01-12 10:53:07,856 p=22163 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=daemonize)
2022-01-12 10:53:09,086 p=22163 u=moonja n=ansible | ok: [postgres-ha02] => (item=daemonize)
2022-01-12 10:53:09,587 p=22163 u=moonja n=ansible | ok: [postgres-ha03] => (item=daemonize)
2022-01-12 10:53:09,738 p=22163 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=daemonize)
2022-01-12 10:53:09,756 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Install the dependencies of etcd  on all three nodes] ****************************************
2022-01-12 10:53:09,798 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:53:09,815 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:53:10,596 p=22163 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:53:10,620 p=22163 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:53:10,621 p=22163 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:53:10,636 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Install setuptools rust on all three nodes] **************************************************
2022-01-12 10:53:10,674 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:53:10,690 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:53:17,545 p=22163 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:53:17,705 p=22163 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:53:17,809 p=22163 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:53:17,821 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Install typing pip module on all three nodes] ************************************************
2022-01-12 10:53:17,843 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:53:17,861 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:53:24,228 p=22163 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:53:24,262 p=22163 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:53:24,473 p=22163 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:53:24,484 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Upgrade pip3 version] ************************************************************************
2022-01-12 10:53:24,524 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:53:24,541 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:53:30,834 p=22163 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:53:30,845 p=22163 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:53:30,978 p=22163 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:53:30,987 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Install wheel module on all three nodes] *****************************************************
2022-01-12 10:53:31,012 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:53:31,045 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:53:37,370 p=22163 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:53:38,345 p=22163 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:53:38,372 p=22163 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:53:38,386 p=22163 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:53:38,427 p=22163 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:53:38,446 p=22163 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:53:38,475 p=22163 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "191653177127.14633",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.640392",
        "end": "2022-01-12 10:53:32.219846",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/191653177127.14633",
        "start": "2022-01-12 10:53:31.579454",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 10:53:38,476 p=22163 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "412672309779.10380",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.628989",
        "end": "2022-01-12 10:53:32.371065",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/412672309779.10380",
        "start": "2022-01-12 10:53:31.742076",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 10:53:38,478 p=22163 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "57341059459.10421",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.640261",
        "end": "2022-01-12 10:53:32.151547",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/57341059459.10421",
        "start": "2022-01-12 10:53:31.511286",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 10:53:38,491 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Install pip modules of Patroni prerequisites on all three nodes] *****************************
2022-01-12 10:53:38,527 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:53:38,545 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:53:44,868 p=22163 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:53:46,051 p=22163 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:53:46,141 p=22163 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:53:46,153 p=22163 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:53:46,178 p=22163 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:53:46,197 p=22163 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:53:46,235 p=22163 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "823588060507.15011",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.752503",
        "end": "2022-01-12 10:53:39.795693",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/823588060507.15011",
        "start": "2022-01-12 10:53:39.043190",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 10:53:46,237 p=22163 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "48864941642.10724",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.747559",
        "end": "2022-01-12 10:53:39.976100",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/48864941642.10724",
        "start": "2022-01-12 10:53:39.228541",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 10:53:46,277 p=22163 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "192131857646.10765",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.745111",
        "end": "2022-01-12 10:53:39.738667",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/192131857646.10765",
        "start": "2022-01-12 10:53:38.993556",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 10:53:46,295 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Iinstall wheel module on all three nodes] ****************************************************
2022-01-12 10:53:46,316 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:53:46,348 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:53:52,762 p=22163 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:53:52,833 p=22163 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:53:52,917 p=22163 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:53:52,928 p=22163 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:53:52,968 p=22163 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:53:52,988 p=22163 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:53:53,026 p=22163 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "167964102447.15389",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.586832",
        "end": "2022-01-12 10:53:47.565100",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/167964102447.15389",
        "start": "2022-01-12 10:53:46.978268",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 10:53:53,029 p=22163 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "819725164863.11068",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.505698",
        "end": "2022-01-12 10:53:47.655931",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/819725164863.11068",
        "start": "2022-01-12 10:53:47.150233",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 10:53:53,030 p=22163 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "484369362896.11109",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.504753",
        "end": "2022-01-12 10:53:47.435620",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/484369362896.11109",
        "start": "2022-01-12 10:53:46.930867",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 10:53:53,041 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Install psycopg2-binary module on all three nodes] *******************************************
2022-01-12 10:53:53,078 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:53:53,093 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:53:59,377 p=22163 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:53:59,404 p=22163 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:53:59,405 p=22163 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:53:59,415 p=22163 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:53:59,457 p=22163 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:53:59,477 p=22163 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:53:59,525 p=22163 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "174879191646.15767",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.573879",
        "end": "2022-01-12 10:53:54.160296",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/174879191646.15767",
        "start": "2022-01-12 10:53:53.586417",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 10:53:59,529 p=22163 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "342973490251.11412",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.506305",
        "end": "2022-01-12 10:53:54.233880",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/342973490251.11412",
        "start": "2022-01-12 10:53:53.727575",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 10:53:59,530 p=22163 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "519054761549.11453",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.511905",
        "end": "2022-01-12 10:53:54.033673",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/519054761549.11453",
        "start": "2022-01-12 10:53:53.521768",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 10:53:59,543 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Install patroni modules on all three nodes for vmware-postgres 13.x version] *****************
2022-01-12 10:53:59,584 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:53:59,600 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:54:06,051 p=22163 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:54:06,551 p=22163 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:54:06,768 p=22163 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:54:06,780 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 10:54:06,820 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:54:06,836 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:54:07,524 p=22163 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:54:07,525 p=22163 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:54:07,528 p=22163 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:54:07,542 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Create the etcd.yml configuration file for all nodes] ****************************************
2022-01-12 10:54:07,583 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:54:07,600 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:54:08,474 p=22163 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:54:08,477 p=22163 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:54:08,481 p=22163 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:54:08,495 p=22163 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:54:08,537 p=22163 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:54:08,556 p=22163 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:54:08,576 p=22163 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": false,
        "checksum": "9ae4719bb01c1f3fe9f70a6e2c0044c7c41a95fe",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": {
            "after": {
                "path": "/var/lib/pgsql/etcd.yml"
            },
            "before": {
                "path": "/var/lib/pgsql/etcd.yml"
            }
        },
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "mode": "0644",
        "owner": "postgres",
        "path": "/var/lib/pgsql/etcd.yml",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "state": "file",
        "uid": 26
    }
}
2022-01-12 10:54:08,577 p=22163 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "checksum": "15047e7ccbff3a953a4abe4edc1ee87eccf0c835",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": {
            "after": {
                "path": "/var/lib/pgsql/etcd.yml"
            },
            "before": {
                "path": "/var/lib/pgsql/etcd.yml"
            }
        },
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "mode": "0644",
        "owner": "postgres",
        "path": "/var/lib/pgsql/etcd.yml",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "state": "file",
        "uid": 26
    }
}
2022-01-12 10:54:08,592 p=22163 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "checksum": "a89b395b153fde540c5b5250ee19c5a9b4a69b60",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": {
            "after": {
                "path": "/var/lib/pgsql/etcd.yml"
            },
            "before": {
                "path": "/var/lib/pgsql/etcd.yml"
            }
        },
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "mode": "0644",
        "owner": "postgres",
        "path": "/var/lib/pgsql/etcd.yml",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "state": "file",
        "uid": 26
    }
}
2022-01-12 10:54:08,624 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of etcd into /etc/systemd/system] *********************************
2022-01-12 10:54:08,651 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:54:08,683 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:54:09,536 p=22163 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:54:09,540 p=22163 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:54:09,544 p=22163 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:54:09,557 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Reload and start etcd through systemd] *******************************************************
2022-01-12 10:54:09,597 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:54:09,613 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:54:10,251 p=22163 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:54:10,275 p=22163 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:54:10,281 p=22163 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:54:10,295 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Lists the members and identifies the current Leader.] ****************************************
2022-01-12 10:54:10,334 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:54:10,350 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:54:10,856 p=22163 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:54:10,890 p=22163 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:54:10,927 p=22163 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:54:10,942 p=22163 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:54:10,986 p=22163 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:54:11,005 p=22163 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:54:11,024 p=22163 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.020676",
        "end": "2022-01-12 10:54:10.768063",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 10:54:10.747387",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 10:54:11,025 p=22163 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.018574",
        "end": "2022-01-12 10:54:10.929874",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 10:54:10.911300",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 10:54:11,036 p=22163 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.018611",
        "end": "2022-01-12 10:54:10.744576",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 10:54:10.725965",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 10:54:11,047 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Set data directory for patroni cluster] ******************************************************
2022-01-12 10:54:11,572 p=22163 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:54:11,573 p=22163 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:54:11,577 p=22163 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:54:11,809 p=22163 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 10:54:11,810 p=22163 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 10:54:11,824 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Create the patroni.yml configuration file for all nodes] *************************************
2022-01-12 10:54:11,861 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:54:11,877 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:54:13,152 p=22163 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:54:13,154 p=22163 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:54:13,154 p=22163 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:54:13,168 p=22163 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:54:13,207 p=22163 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:54:13,226 p=22163 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:54:13,244 p=22163 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "c3570aa3d2841ad33896a04585c6f8b0d7d1e483",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "ddc3264c70afadd6cab4ffe02995bc5e",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1473,
        "src": "/var/tmp/ansible-tmp-1641952451.988857-27951-221892203561411/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 10:54:13,274 p=22163 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "707d17efaca7bb6179823812cbb2e532793fe8c4",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "c45c18613d71e044a466b38a90812e33",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1473,
        "src": "/var/tmp/ansible-tmp-1641952451.9896472-27952-54887504949100/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 10:54:13,276 p=22163 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "0fe09d79aab48e155758e5a24763d798c60bbfe8",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "6dae2b324291b847ecc84f22b319d30a",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1473,
        "src": "/var/tmp/ansible-tmp-1641952451.994981-27956-216794677863894/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 10:54:13,291 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of patroni into /etc/systemd/system] ******************************
2022-01-12 10:54:13,330 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:54:13,344 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:54:14,130 p=22163 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 10:54:14,131 p=22163 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 10:54:14,132 p=22163 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 10:54:14,144 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Reload and start systemd service of patroni] *************************************************
2022-01-12 10:54:14,166 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:54:14,200 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:54:14,852 p=22163 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:54:14,884 p=22163 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:54:14,892 p=22163 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:54:14,908 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 10:54:14,926 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:54:14,936 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Remove clsuter on master] ********************************************************************
2022-01-12 10:54:14,975 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:54:14,995 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:54:15,016 p=22163 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-12 10:54:15,030 p=22163 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-12 10:54:21,613 p=22163 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:54:21,622 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 10:54:21,641 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:54:21,682 p=22163 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:54:21,723 p=22163 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:54:21,742 p=22163 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:54:21,775 p=22163 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "872645659086.18102",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n",
        "delta": "0:00:00.344020",
        "end": "2022-01-12 10:54:15.890735",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/872645659086.18102",
        "start": "2022-01-12 10:54:15.546715",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": ",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": "
        ]
    }
}
2022-01-12 10:54:21,776 p=22163 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:54:21,776 p=22163 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:54:21,785 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Reinitialize patroni clsuter on all node] ****************************************************
2022-01-12 10:54:21,806 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:54:21,836 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:54:28,217 p=22163 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "920350031227.13580", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n", "delta": "0:00:00.305802", "end": "2022-01-12 10:54:22.625215", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/920350031227.13580", "start": "2022-01-12 10:54:22.319413", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-12 10:54:28,217 p=22163 u=moonja n=ansible | ...ignoring
2022-01-12 10:54:28,224 p=22163 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "439888133772.13538", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n", "delta": "0:00:00.302570", "end": "2022-01-12 10:54:22.853176", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/439888133772.13538", "start": "2022-01-12 10:54:22.550606", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-12 10:54:28,224 p=22163 u=moonja n=ansible | ...ignoring
2022-01-12 10:54:28,225 p=22163 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "964757894416.18479", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n", "delta": "0:00:00.307055", "end": "2022-01-12 10:54:22.687845", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/964757894416.18479", "start": "2022-01-12 10:54:22.380790", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-12 10:54:28,225 p=22163 u=moonja n=ansible | ...ignoring
2022-01-12 10:54:28,237 p=22163 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:54:28,279 p=22163 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:54:28,299 p=22163 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:54:28,324 p=22163 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "964757894416.18479",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.307055",
        "end": "2022-01-12 10:54:22.687845",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/964757894416.18479",
        "start": "2022-01-12 10:54:22.380790",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 10:54:28,325 p=22163 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "439888133772.13538",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.302570",
        "end": "2022-01-12 10:54:22.853176",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/439888133772.13538",
        "start": "2022-01-12 10:54:22.550606",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 10:54:28,331 p=22163 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "920350031227.13580",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.305802",
        "end": "2022-01-12 10:54:22.625215",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/920350031227.13580",
        "start": "2022-01-12 10:54:22.319413",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 10:54:28,343 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 10:54:28,382 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:54:28,392 p=22163 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:54:28,430 p=22163 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:54:28,450 p=22163 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:54:28,474 p=22163 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "964757894416.18479",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.307055",
        "end": "2022-01-12 10:54:22.687845",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/964757894416.18479",
        "start": "2022-01-12 10:54:22.380790",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 10:54:28,475 p=22163 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "439888133772.13538",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.302570",
        "end": "2022-01-12 10:54:22.853176",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/439888133772.13538",
        "start": "2022-01-12 10:54:22.550606",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 10:54:28,482 p=22163 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "920350031227.13580",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.305802",
        "end": "2022-01-12 10:54:22.625215",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/920350031227.13580",
        "start": "2022-01-12 10:54:22.319413",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 10:54:28,495 p=22163 u=moonja n=ansible | TASK [patroni-postgres : Run the patronictl command-line utility to view the cluster state with Patroni started on all three nodes,] ***
2022-01-12 10:54:28,517 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 10:54:28,536 p=22163 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 10:54:29,285 p=22163 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 10:54:29,308 p=22163 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 10:54:29,315 p=22163 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 10:54:29,329 p=22163 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 10:54:29,369 p=22163 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:54:29,389 p=22163 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 10:54:29,424 p=22163 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.309311",
        "end": "2022-01-12 10:54:29.228744",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 10:54:28.919433",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-12 10:54:29,426 p=22163 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.306881",
        "end": "2022-01-12 10:54:29.387099",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 10:54:29.080218",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-12 10:54:29,426 p=22163 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.298406",
        "end": "2022-01-12 10:54:29.132281",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 10:54:28.833875",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-12 10:54:29,483 p=22163 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-12 10:54:29,483 p=22163 u=moonja n=ansible | postgres-ha01              : ok=40   changed=17   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-12 10:54:29,483 p=22163 u=moonja n=ansible | postgres-ha02              : ok=39   changed=17   unreachable=0    failed=0    skipped=1    rescued=0    ignored=1   
2022-01-12 10:54:29,483 p=22163 u=moonja n=ansible | postgres-ha03              : ok=39   changed=17   unreachable=0    failed=0    skipped=1    rescued=0    ignored=1   
2022-01-12 10:54:29,483 p=22163 u=moonja n=ansible | postgres-haproxy01         : ok=20   changed=3    unreachable=0    failed=0    skipped=23   rescued=0    ignored=0   
2022-01-12 10:54:29,483 p=22163 u=moonja n=ansible | postgres-haproxy02         : ok=20   changed=3    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
2022-01-12 11:15:44,480 p=32101 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 11:15:44,494 p=32101 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 11:15:44,748 p=32101 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 11:15:44,802 p=32101 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 11:15:44,832 p=32101 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 11:15:46,964 p=32101 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:15:46,966 p=32101 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 11:15:46,972 p=32101 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 11:15:46,973 p=32101 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:15:46,975 p=32101 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:15:46,992 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 11:15:48,132 p=32101 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 11:15:48,133 p=32101 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 11:15:48,141 p=32101 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:15:48,143 p=32101 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:15:48,143 p=32101 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:15:48,156 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 11:15:49,063 p=32101 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 11:15:49,071 p=32101 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:15:49,077 p=32101 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:15:49,079 p=32101 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 11:15:49,086 p=32101 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:15:49,097 p=32101 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 11:15:49,675 p=32101 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 11:15:49,705 p=32101 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:15:49,709 p=32101 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 11:15:49,712 p=32101 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:15:49,728 p=32101 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:15:49,740 p=32101 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:15:49,777 p=32101 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 11:15:49,794 p=32101 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 11:15:49,812 p=32101 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 11:15:49,813 p=32101 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 11:15:49,825 p=32101 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 11:15:49,836 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] **********************************
2022-01-12 11:15:51,543 p=32101 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:15:51,543 p=32101 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 11:15:51,550 p=32101 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 11:15:51,550 p=32101 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:15:51,551 p=32101 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:15:51,566 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] ************************************************
2022-01-12 11:15:59,052 p=32101 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:15:59,110 p=32101 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 11:15:59,121 p=32101 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:15:59,121 p=32101 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 11:15:59,191 p=32101 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:15:59,200 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] *******************************
2022-01-12 11:16:05,906 p=32101 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3)
2022-01-12 11:16:05,907 p=32101 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3)
2022-01-12 11:16:05,936 p=32101 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3)
2022-01-12 11:16:05,936 p=32101 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3)
2022-01-12 11:16:05,937 p=32101 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3)
2022-01-12 11:16:12,552 p=32101 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-devel)
2022-01-12 11:16:12,572 p=32101 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-devel)
2022-01-12 11:16:12,573 p=32101 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-devel)
2022-01-12 11:16:12,573 p=32101 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-devel)
2022-01-12 11:16:13,371 p=32101 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-devel)
2022-01-12 11:16:19,269 p=32101 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=gcc)
2022-01-12 11:16:19,314 p=32101 u=moonja n=ansible | ok: [postgres-ha02] => (item=gcc)
2022-01-12 11:16:19,335 p=32101 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=gcc)
2022-01-12 11:16:19,336 p=32101 u=moonja n=ansible | ok: [postgres-ha03] => (item=gcc)
2022-01-12 11:16:19,618 p=32101 u=moonja n=ansible | ok: [postgres-ha01] => (item=gcc)
2022-01-12 11:16:25,506 p=32101 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=etcd)
2022-01-12 11:16:25,569 p=32101 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=etcd)
2022-01-12 11:16:25,578 p=32101 u=moonja n=ansible | ok: [postgres-ha03] => (item=etcd)
2022-01-12 11:16:25,666 p=32101 u=moonja n=ansible | ok: [postgres-ha02] => (item=etcd)
2022-01-12 11:16:25,934 p=32101 u=moonja n=ansible | ok: [postgres-ha01] => (item=etcd)
2022-01-12 11:16:32,277 p=32101 u=moonja n=ansible | ok: [postgres-ha01] => (item=python-psycopg2)
2022-01-12 11:16:37,209 p=32101 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=python-psycopg2)
2022-01-12 11:16:37,218 p=32101 u=moonja n=ansible | changed: [postgres-ha03] => (item=python-psycopg2)
2022-01-12 11:16:37,290 p=32101 u=moonja n=ansible | changed: [postgres-ha02] => (item=python-psycopg2)
2022-01-12 11:16:38,709 p=32101 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-pip)
2022-01-12 11:16:42,754 p=32101 u=moonja n=ansible | changed: [postgres-haproxy02] => (item=python-psycopg2)
2022-01-12 11:16:43,369 p=32101 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-pip)
2022-01-12 11:16:43,377 p=32101 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-pip)
2022-01-12 11:16:43,506 p=32101 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-pip)
2022-01-12 11:16:45,525 p=32101 u=moonja n=ansible | ok: [postgres-ha01] => (item=python34-setuptools)
2022-01-12 11:16:49,196 p=32101 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-pip)
2022-01-12 11:16:49,554 p=32101 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python34-setuptools)
2022-01-12 11:16:49,554 p=32101 u=moonja n=ansible | ok: [postgres-ha03] => (item=python34-setuptools)
2022-01-12 11:16:49,688 p=32101 u=moonja n=ansible | ok: [postgres-ha02] => (item=python34-setuptools)
2022-01-12 11:16:52,381 p=32101 u=moonja n=ansible | ok: [postgres-ha01] => (item=python27-python-setuptools)
2022-01-12 11:16:55,549 p=32101 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python34-setuptools)
2022-01-12 11:16:55,764 p=32101 u=moonja n=ansible | ok: [postgres-ha03] => (item=python27-python-setuptools)
2022-01-12 11:16:55,774 p=32101 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python27-python-setuptools)
2022-01-12 11:16:55,835 p=32101 u=moonja n=ansible | ok: [postgres-ha02] => (item=python27-python-setuptools)
2022-01-12 11:16:59,338 p=32101 u=moonja n=ansible | ok: [postgres-ha01] => (item=yamllint)
2022-01-12 11:17:01,861 p=32101 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python27-python-setuptools)
2022-01-12 11:17:01,997 p=32101 u=moonja n=ansible | ok: [postgres-ha03] => (item=yamllint)
2022-01-12 11:17:01,998 p=32101 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=yamllint)
2022-01-12 11:17:02,038 p=32101 u=moonja n=ansible | ok: [postgres-ha02] => (item=yamllint)
2022-01-12 11:17:06,233 p=32101 u=moonja n=ansible | ok: [postgres-ha01] => (item=daemonize)
2022-01-12 11:17:08,087 p=32101 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=yamllint)
2022-01-12 11:17:08,185 p=32101 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=daemonize)
2022-01-12 11:17:08,234 p=32101 u=moonja n=ansible | ok: [postgres-ha02] => (item=daemonize)
2022-01-12 11:17:08,340 p=32101 u=moonja n=ansible | ok: [postgres-ha03] => (item=daemonize)
2022-01-12 11:17:14,692 p=32101 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=daemonize)
2022-01-12 11:17:14,707 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Install the dependencies of etcd  on all three nodes] ****************************************
2022-01-12 11:17:14,731 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:17:14,749 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:17:15,582 p=32101 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:17:15,582 p=32101 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:17:15,583 p=32101 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:17:15,595 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Install setuptools rust on all three nodes] **************************************************
2022-01-12 11:17:15,619 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:17:15,651 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:17:22,002 p=32101 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:17:22,015 p=32101 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:17:22,015 p=32101 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:17:22,026 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Install typing pip module on all three nodes] ************************************************
2022-01-12 11:17:22,066 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:17:22,082 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:17:28,433 p=32101 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:17:28,835 p=32101 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:17:29,095 p=32101 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:17:29,107 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Upgrade pip3 version] ************************************************************************
2022-01-12 11:17:29,130 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:17:29,163 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:17:35,432 p=32101 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:17:35,444 p=32101 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:17:36,378 p=32101 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:17:36,389 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Install wheel module on all three nodes] *****************************************************
2022-01-12 11:17:36,412 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:17:36,431 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:17:42,954 p=32101 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:17:42,966 p=32101 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:17:42,966 p=32101 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:17:42,979 p=32101 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:17:43,021 p=32101 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:17:43,040 p=32101 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:17:43,060 p=32101 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "386211364130.25523",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.643187",
        "end": "2022-01-12 11:17:37.710376",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/386211364130.25523",
        "start": "2022-01-12 11:17:37.067189",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 11:17:43,061 p=32101 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "323120701685.20052",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.630712",
        "end": "2022-01-12 11:17:37.828803",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/323120701685.20052",
        "start": "2022-01-12 11:17:37.198091",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 11:17:43,073 p=32101 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "693513034014.20112",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.625544",
        "end": "2022-01-12 11:17:37.603110",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/693513034014.20112",
        "start": "2022-01-12 11:17:36.977566",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 11:17:43,085 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Install pip modules of Patroni prerequisites on all three nodes] *****************************
2022-01-12 11:17:43,124 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:17:43,139 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:17:49,559 p=32101 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:17:49,572 p=32101 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:17:49,572 p=32101 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:17:49,583 p=32101 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:17:49,624 p=32101 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:17:49,642 p=32101 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:17:49,662 p=32101 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "120888520826.25901",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.749516",
        "end": "2022-01-12 11:17:44.504466",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/120888520826.25901",
        "start": "2022-01-12 11:17:43.754950",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 11:17:49,664 p=32101 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "211060820257.20396",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.739050",
        "end": "2022-01-12 11:17:44.660358",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/211060820257.20396",
        "start": "2022-01-12 11:17:43.921308",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 11:17:49,678 p=32101 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "632171648118.20456",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.738687",
        "end": "2022-01-12 11:17:44.402629",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/632171648118.20456",
        "start": "2022-01-12 11:17:43.663942",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 11:17:49,689 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Iinstall wheel module on all three nodes] ****************************************************
2022-01-12 11:17:49,728 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:17:49,743 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:17:56,094 p=32101 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:17:56,146 p=32101 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:17:56,146 p=32101 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:17:56,158 p=32101 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:17:56,199 p=32101 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:17:56,218 p=32101 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:17:56,238 p=32101 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "456015331555.26279",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.577606",
        "end": "2022-01-12 11:17:50.893225",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/456015331555.26279",
        "start": "2022-01-12 11:17:50.315619",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 11:17:56,239 p=32101 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "296848161924.20740",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.500310",
        "end": "2022-01-12 11:17:50.985125",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/296848161924.20740",
        "start": "2022-01-12 11:17:50.484815",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 11:17:56,251 p=32101 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "14963601284.20801",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.510121",
        "end": "2022-01-12 11:17:50.758201",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/14963601284.20801",
        "start": "2022-01-12 11:17:50.248080",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 11:17:56,263 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Install psycopg2-binary module on all three nodes] *******************************************
2022-01-12 11:17:56,300 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:17:56,315 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:18:02,882 p=32101 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:18:02,895 p=32101 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:18:02,896 p=32101 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:18:02,908 p=32101 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:18:02,948 p=32101 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:18:02,967 p=32101 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:18:02,986 p=32101 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "930593199725.26657",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.574445",
        "end": "2022-01-12 11:17:57.498720",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/930593199725.26657",
        "start": "2022-01-12 11:17:56.924275",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 11:18:02,987 p=32101 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "881747912906.21084",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.507010",
        "end": "2022-01-12 11:17:57.601232",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/881747912906.21084",
        "start": "2022-01-12 11:17:57.094222",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 11:18:03,000 p=32101 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "817371293610.21145",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.502705",
        "end": "2022-01-12 11:17:57.369654",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/817371293610.21145",
        "start": "2022-01-12 11:17:56.866949",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 11:18:03,013 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Install patroni modules on all three nodes for vmware-postgres 13.x version] *****************
2022-01-12 11:18:03,052 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:18:03,068 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:18:09,477 p=32101 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:18:09,490 p=32101 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:18:09,490 p=32101 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:18:09,503 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 11:18:09,529 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:18:09,563 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:18:10,506 p=32101 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:18:10,514 p=32101 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:18:10,519 p=32101 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:18:10,534 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Create the etcd.yml configuration file for all nodes] ****************************************
2022-01-12 11:18:10,570 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:18:10,589 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:18:11,496 p=32101 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:18:11,497 p=32101 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:18:11,501 p=32101 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:18:11,514 p=32101 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:18:11,555 p=32101 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:18:11,574 p=32101 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:18:11,593 p=32101 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": false,
        "checksum": "9ae4719bb01c1f3fe9f70a6e2c0044c7c41a95fe",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": {
            "after": {
                "path": "/var/lib/pgsql/etcd.yml"
            },
            "before": {
                "path": "/var/lib/pgsql/etcd.yml"
            }
        },
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "mode": "0644",
        "owner": "postgres",
        "path": "/var/lib/pgsql/etcd.yml",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "state": "file",
        "uid": 26
    }
}
2022-01-12 11:18:11,596 p=32101 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "checksum": "15047e7ccbff3a953a4abe4edc1ee87eccf0c835",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": {
            "after": {
                "path": "/var/lib/pgsql/etcd.yml"
            },
            "before": {
                "path": "/var/lib/pgsql/etcd.yml"
            }
        },
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "mode": "0644",
        "owner": "postgres",
        "path": "/var/lib/pgsql/etcd.yml",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "state": "file",
        "uid": 26
    }
}
2022-01-12 11:18:11,607 p=32101 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "checksum": "a89b395b153fde540c5b5250ee19c5a9b4a69b60",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": {
            "after": {
                "path": "/var/lib/pgsql/etcd.yml"
            },
            "before": {
                "path": "/var/lib/pgsql/etcd.yml"
            }
        },
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "mode": "0644",
        "owner": "postgres",
        "path": "/var/lib/pgsql/etcd.yml",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "state": "file",
        "uid": 26
    }
}
2022-01-12 11:18:11,619 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of etcd into /etc/systemd/system] *********************************
2022-01-12 11:18:11,640 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:18:11,658 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:18:12,468 p=32101 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:18:12,468 p=32101 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:18:12,470 p=32101 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:18:12,482 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Reload and start etcd through systemd] *******************************************************
2022-01-12 11:18:12,506 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:18:12,524 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:18:13,195 p=32101 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:18:13,196 p=32101 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:18:13,196 p=32101 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:18:13,208 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Lists the members and identifies the current Leader.] ****************************************
2022-01-12 11:18:13,249 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:18:13,265 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:18:13,865 p=32101 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:18:13,866 p=32101 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:18:13,868 p=32101 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:18:13,881 p=32101 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:18:13,924 p=32101 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:18:13,943 p=32101 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:18:13,963 p=32101 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.023120",
        "end": "2022-01-12 11:18:13.819455",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 11:18:13.796335",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 11:18:13,964 p=32101 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.024504",
        "end": "2022-01-12 11:18:13.976713",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 11:18:13.952209",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 11:18:13,976 p=32101 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.026191",
        "end": "2022-01-12 11:18:13.747738",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 11:18:13.721547",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 11:18:13,988 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Set data directory for patroni cluster] ******************************************************
2022-01-12 11:18:14,493 p=32101 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 11:18:14,503 p=32101 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:18:14,507 p=32101 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:18:14,510 p=32101 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:18:14,771 p=32101 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 11:18:14,785 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Create the patroni.yml configuration file for all nodes] *************************************
2022-01-12 11:18:14,828 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:18:14,843 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:18:16,072 p=32101 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:18:16,073 p=32101 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:18:16,073 p=32101 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:18:16,087 p=32101 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:18:16,128 p=32101 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:18:16,146 p=32101 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:18:16,164 p=32101 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "51ae908d437a97d0556c2798ff9e85f2c2fe36a4",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "3ed5972c5e285a612a2470a9326d2aae",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1464,
        "src": "/var/tmp/ansible-tmp-1641953894.9574451-36178-196947134070274/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 11:18:16,167 p=32101 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "fc4c376c8127ad85d35b999c29d64e468d17e027",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "2086d17111d412ff8b4f28577e9ebd81",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1464,
        "src": "/var/tmp/ansible-tmp-1641953894.9585931-36179-196487355295520/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 11:18:16,178 p=32101 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "ca9c09527794689ba0d2c13d70e8c3fc507d8412",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "5c3d6f6e90f788baf8ca4455d155911f",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1464,
        "src": "/var/tmp/ansible-tmp-1641953894.96228-36183-274773965671292/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 11:18:16,190 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of patroni into /etc/systemd/system] ******************************
2022-01-12 11:18:16,211 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:18:16,229 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:18:17,067 p=32101 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:18:17,067 p=32101 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:18:17,068 p=32101 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:18:17,079 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Reload and start systemd service of patroni] *************************************************
2022-01-12 11:18:17,105 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:18:17,138 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:18:17,829 p=32101 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:18:17,832 p=32101 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:18:17,838 p=32101 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:18:17,853 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 11:18:17,873 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:18:17,883 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Remove clsuter on master] ********************************************************************
2022-01-12 11:18:17,905 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:18:17,938 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:18:17,955 p=32101 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-12 11:18:17,966 p=32101 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-12 11:18:24,620 p=32101 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:18:24,629 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 11:18:24,648 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:18:24,658 p=32101 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:18:24,697 p=32101 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:18:24,715 p=32101 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:18:24,735 p=32101 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "795108690865.29012",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n",
        "delta": "0:00:00.553237",
        "end": "2022-01-12 11:18:19.115163",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/795108690865.29012",
        "start": "2022-01-12 11:18:18.561926",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": ",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": "
        ]
    }
}
2022-01-12 11:18:24,735 p=32101 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:18:24,746 p=32101 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:18:24,760 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Reinitialize patroni clsuter on all node] ****************************************************
2022-01-12 11:18:24,833 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:18:24,851 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:18:31,376 p=32101 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "30746987787.29388", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n", "delta": "0:00:00.302185", "end": "2022-01-12 11:18:25.848077", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/30746987787.29388", "start": "2022-01-12 11:18:25.545892", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-12 11:18:31,376 p=32101 u=moonja n=ansible | ...ignoring
2022-01-12 11:18:31,376 p=32101 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "429416671327.23273", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n", "delta": "0:00:00.303403", "end": "2022-01-12 11:18:25.788339", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/429416671327.23273", "start": "2022-01-12 11:18:25.484936", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-12 11:18:31,376 p=32101 u=moonja n=ansible | ...ignoring
2022-01-12 11:18:31,523 p=32101 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "680250628555.23226", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n", "delta": "0:00:00.307241", "end": "2022-01-12 11:18:26.016317", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/680250628555.23226", "start": "2022-01-12 11:18:25.709076", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-12 11:18:31,523 p=32101 u=moonja n=ansible | ...ignoring
2022-01-12 11:18:31,534 p=32101 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:18:31,575 p=32101 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:18:31,594 p=32101 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:18:31,616 p=32101 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "30746987787.29388",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.302185",
        "end": "2022-01-12 11:18:25.848077",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/30746987787.29388",
        "start": "2022-01-12 11:18:25.545892",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 11:18:31,617 p=32101 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "680250628555.23226",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.307241",
        "end": "2022-01-12 11:18:26.016317",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/680250628555.23226",
        "start": "2022-01-12 11:18:25.709076",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 11:18:31,633 p=32101 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "429416671327.23273",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.303403",
        "end": "2022-01-12 11:18:25.788339",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/429416671327.23273",
        "start": "2022-01-12 11:18:25.484936",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 11:18:31,643 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 11:18:31,662 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:18:31,672 p=32101 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:18:31,713 p=32101 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:18:31,731 p=32101 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:18:31,751 p=32101 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "30746987787.29388",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.302185",
        "end": "2022-01-12 11:18:25.848077",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/30746987787.29388",
        "start": "2022-01-12 11:18:25.545892",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 11:18:31,752 p=32101 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "680250628555.23226",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.307241",
        "end": "2022-01-12 11:18:26.016317",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/680250628555.23226",
        "start": "2022-01-12 11:18:25.709076",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 11:18:31,765 p=32101 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "429416671327.23273",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.303403",
        "end": "2022-01-12 11:18:25.788339",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/429416671327.23273",
        "start": "2022-01-12 11:18:25.484936",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 11:18:31,777 p=32101 u=moonja n=ansible | TASK [patroni-postgres : Run the patronictl command-line utility to view the cluster state with Patroni started on all three nodes,] ***
2022-01-12 11:18:31,816 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:18:31,831 p=32101 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:18:32,669 p=32101 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:18:32,675 p=32101 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:18:32,696 p=32101 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:18:32,710 p=32101 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:18:32,753 p=32101 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:18:32,772 p=32101 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:18:32,791 p=32101 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.327665",
        "end": "2022-01-12 11:18:32.652516",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 11:18:32.324851",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052138309140617795) --+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Leader  | running |  1 |           |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052138309140617795) --+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Leader  | running |  1 |           |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-12 11:18:32,792 p=32101 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.322462",
        "end": "2022-01-12 11:18:32.785339",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 11:18:32.462877",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052138309140617795) --+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Leader  | running |  1 |           |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052138309140617795) --+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Leader  | running |  1 |           |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-12 11:18:32,805 p=32101 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.311824",
        "end": "2022-01-12 11:18:32.566770",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 11:18:32.254946",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052138309140617795) --+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Leader  | running |  1 |           |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052138309140617795) --+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Leader  | running |  1 |           |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-12 11:18:32,862 p=32101 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-12 11:18:32,862 p=32101 u=moonja n=ansible | postgres-ha01              : ok=40   changed=17   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-12 11:18:32,862 p=32101 u=moonja n=ansible | postgres-ha02              : ok=39   changed=17   unreachable=0    failed=0    skipped=1    rescued=0    ignored=1   
2022-01-12 11:18:32,862 p=32101 u=moonja n=ansible | postgres-ha03              : ok=39   changed=17   unreachable=0    failed=0    skipped=1    rescued=0    ignored=1   
2022-01-12 11:18:32,862 p=32101 u=moonja n=ansible | postgres-haproxy01         : ok=20   changed=3    unreachable=0    failed=0    skipped=23   rescued=0    ignored=0   
2022-01-12 11:18:32,862 p=32101 u=moonja n=ansible | postgres-haproxy02         : ok=20   changed=3    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
2022-01-12 11:21:57,416 p=36655 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 11:21:57,425 p=36655 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 11:21:57,640 p=36655 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 11:21:57,694 p=36655 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 11:21:57,722 p=36655 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 11:21:59,956 p=36655 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:21:59,961 p=36655 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:21:59,964 p=36655 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 11:21:59,967 p=36655 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 11:21:59,970 p=36655 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:21:59,990 p=36655 u=moonja n=ansible | TASK [patroni-postgres : Stop services for patroni and etcd] **********************************************************
2022-01-12 11:22:00,014 p=36655 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=patroni) 
2022-01-12 11:22:00,015 p=36655 u=moonja n=ansible | skipping: [postgres-haproxy01] => (item=etcd) 
2022-01-12 11:22:00,030 p=36655 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=patroni) 
2022-01-12 11:22:00,031 p=36655 u=moonja n=ansible | skipping: [postgres-haproxy02] => (item=etcd) 
2022-01-12 11:22:01,163 p=36655 u=moonja n=ansible | changed: [postgres-ha02] => (item=patroni)
2022-01-12 11:22:01,177 p=36655 u=moonja n=ansible | changed: [postgres-ha03] => (item=patroni)
2022-01-12 11:22:01,701 p=36655 u=moonja n=ansible | changed: [postgres-ha02] => (item=etcd)
2022-01-12 11:22:01,819 p=36655 u=moonja n=ansible | changed: [postgres-ha03] => (item=etcd)
2022-01-12 11:22:03,726 p=36655 u=moonja n=ansible | changed: [postgres-ha01] => (item=patroni)
2022-01-12 11:22:04,510 p=36655 u=moonja n=ansible | changed: [postgres-ha01] => (item=etcd)
2022-01-12 11:22:04,527 p=36655 u=moonja n=ansible | TASK [patroni-postgres : Kill etcd process] ***************************************************************************
2022-01-12 11:22:04,551 p=36655 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:22:04,568 p=36655 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:22:11,496 p=36655 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:22:11,538 p=36655 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:22:11,545 p=36655 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:22:11,557 p=36655 u=moonja n=ansible | TASK [patroni-postgres : Delete configuration file for patroni and systemd] *******************************************
2022-01-12 11:22:12,387 p=36655 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 11:22:12,388 p=36655 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 11:22:12,389 p=36655 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 11:22:12,389 p=36655 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 11:22:12,391 p=36655 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni.yml)
2022-01-12 11:22:12,984 p=36655 u=moonja n=ansible | changed: [postgres-ha02] => (item=/etc/systemd/system/patroni.service)
2022-01-12 11:22:12,998 p=36655 u=moonja n=ansible | changed: [postgres-ha03] => (item=/etc/systemd/system/patroni.service)
2022-01-12 11:22:13,000 p=36655 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/etc/systemd/system/patroni.service)
2022-01-12 11:22:13,001 p=36655 u=moonja n=ansible | changed: [postgres-ha01] => (item=/etc/systemd/system/patroni.service)
2022-01-12 11:22:13,006 p=36655 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/etc/systemd/system/patroni.service)
2022-01-12 11:22:13,392 p=36655 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 11:22:13,413 p=36655 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 11:22:13,421 p=36655 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 11:22:13,422 p=36655 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 11:22:13,427 p=36655 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-01-12 11:22:13,804 p=36655 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 11:22:13,845 p=36655 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 11:22:13,849 p=36655 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 11:22:13,851 p=36655 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 11:22:13,863 p=36655 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/patroni_member.log)
2022-01-12 11:22:14,241 p=36655 u=moonja n=ansible | changed: [postgres-ha02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 11:22:14,280 p=36655 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 11:22:14,282 p=36655 u=moonja n=ansible | changed: [postgres-ha03] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 11:22:14,284 p=36655 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 11:22:14,292 p=36655 u=moonja n=ansible | changed: [postgres-ha01] => (item=/var/lib/pgsql/etcd.yml)
2022-01-12 11:22:14,675 p=36655 u=moonja n=ansible | ok: [postgres-ha02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 11:22:14,705 p=36655 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 11:22:14,717 p=36655 u=moonja n=ansible | ok: [postgres-ha03] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 11:22:14,719 p=36655 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 11:22:14,738 p=36655 u=moonja n=ansible | ok: [postgres-ha01] => (item=/var/lib/pgsql/etcd_logfile)
2022-01-12 11:22:14,751 p=36655 u=moonja n=ansible | TASK [patroni-postgres : Delete data directory for patroni cluster] ***************************************************
2022-01-12 11:22:15,475 p=36655 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 11:22:15,476 p=36655 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 11:22:15,518 p=36655 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:22:15,526 p=36655 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:22:15,528 p=36655 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:22:15,539 p=36655 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 11:22:15,561 p=36655 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:22:15,579 p=36655 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:22:16,563 p=36655 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:22:16,564 p=36655 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:22:16,566 p=36655 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:22:16,579 p=36655 u=moonja n=ansible | TASK [patroni-postgres : Uninstall pip modules of Patroni prerequisites on all three nodes] ***************************
2022-01-12 11:22:16,601 p=36655 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:22:16,619 p=36655 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:22:23,039 p=36655 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "709883271578.25733", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.423074", "end": "2022-01-12 11:22:17.591940", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/709883271578.25733", "start": "2022-01-12 11:22:17.168866", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 11:22:23,040 p=36655 u=moonja n=ansible | ...ignoring
2022-01-12 11:22:23,691 p=36655 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "607199507937.32320", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.432323", "end": "2022-01-12 11:22:17.667798", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/607199507937.32320", "start": "2022-01-12 11:22:17.235475", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 11:22:23,691 p=36655 u=moonja n=ansible | ...ignoring
2022-01-12 11:22:23,738 p=36655 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "967384722082.25695", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:00.430810", "end": "2022-01-12 11:22:17.827406", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/967384722082.25695", "start": "2022-01-12 11:22:17.396596", "started": 1, "stderr": "WARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.8\nUninstalling urllib3-1.26.8:\n  Successfully uninstalled urllib3-1.26.8\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.8", "Uninstalling urllib3-1.26.8:", "  Successfully uninstalled urllib3-1.26.8", "Found existing installation: PyYAML 3.13"]}
2022-01-12 11:22:23,738 p=36655 u=moonja n=ansible | ...ignoring
2022-01-12 11:22:23,748 p=36655 u=moonja n=ansible | TASK [patroni-postgres : Install wheel pip module on all three nodes] *************************************************
2022-01-12 11:22:23,787 p=36655 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:22:23,803 p=36655 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:22:30,268 p=36655 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "765684101915.32698", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:00.411493", "end": "2022-01-12 11:22:24.773088", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/765684101915.32698", "start": "2022-01-12 11:22:24.361595", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-k98wki0w/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-k98wki0w/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 11:22:30,657 p=36655 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "858828199952.26077", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:00.394676", "end": "2022-01-12 11:22:24.681567", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/858828199952.26077", "start": "2022-01-12 11:22:24.286891", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-xe4co0xx/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-xe4co0xx/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 11:22:30,659 p=36655 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "730463240878.26040", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )", "delta": "0:00:00.405357", "end": "2022-01-12 11:22:24.925019", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/730463240878.26040", "start": "2022-01-12 11:22:24.519662", "started": 1, "stderr": "ERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-1zyi0ha6/wheel'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'", "stderr_lines": ["ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel' -> '/var/tmp/pip-uninstall-1zyi0ha6/wheel'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/bin/wheel'"], "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:", "stdout_lines": ["Found existing installation: wheel 0.37.1", "Uninstalling wheel-0.37.1:"]}
2022-01-12 11:22:30,672 p=36655 u=moonja n=ansible | TASK [patroni-postgres : Uninstall typing pip module on all three nodes] **********************************************
2022-01-12 11:22:30,698 p=36655 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:22:30,714 p=36655 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:22:30,726 p=36655 u=moonja n=ansible | TASK [patroni-postgres : Uninstall setuptools rust on all three nodes] ************************************************
2022-01-12 11:22:30,756 p=36655 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:22:30,771 p=36655 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:22:30,787 p=36655 u=moonja n=ansible | TASK [patroni-postgres : Uninstall patroni module on all three nodes] *************************************************
2022-01-12 11:22:30,809 p=36655 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:22:30,821 p=36655 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:22:30,832 p=36655 u=moonja n=ansible | TASK [patroni-postgres : Uninstall wheel module on all three nodes] ***************************************************
2022-01-12 11:22:30,854 p=36655 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:22:30,865 p=36655 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:22:30,877 p=36655 u=moonja n=ansible | TASK [patroni-postgres : Uninstall psycopg2-binary module on all three nodes] *****************************************
2022-01-12 11:22:30,898 p=36655 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:22:30,910 p=36655 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:22:30,922 p=36655 u=moonja n=ansible | TASK [patroni-postgres : Delete the dependencies file of etcd  on all three nodes] ************************************
2022-01-12 11:22:30,945 p=36655 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:22:30,959 p=36655 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:22:30,970 p=36655 u=moonja n=ansible | TASK [patroni-postgres : Uninstall VMware Postgres RPM package on all hosts as root] **********************************
2022-01-12 11:22:43,618 p=36655 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 11:22:43,728 p=36655 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 11:22:43,740 p=36655 u=moonja n=ansible | TASK [patroni-postgres : Delete the vmwawre-postgres rpm file to all hosts in cluster] ********************************
2022-01-12 11:22:44,302 p=36655 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 11:22:44,304 p=36655 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 11:22:44,315 p=36655 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 11:22:44,920 p=36655 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 11:22:44,921 p=36655 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 11:22:44,933 p=36655 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 11:22:45,626 p=36655 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 11:22:45,627 p=36655 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 11:22:45,640 p=36655 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 11:22:46,775 p=36655 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 11:22:46,776 p=36655 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 11:22:46,815 p=36655 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-12 11:22:46,815 p=36655 u=moonja n=ansible | postgres-ha01              : ok=7    changed=5    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2022-01-12 11:22:46,816 p=36655 u=moonja n=ansible | postgres-ha02              : ok=7    changed=5    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2022-01-12 11:22:46,816 p=36655 u=moonja n=ansible | postgres-ha03              : ok=7    changed=5    unreachable=0    failed=1    skipped=0    rescued=0    ignored=1   
2022-01-12 11:22:46,816 p=36655 u=moonja n=ansible | postgres-haproxy01         : ok=8    changed=5    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-12 11:22:46,816 p=36655 u=moonja n=ansible | postgres-haproxy02         : ok=8    changed=5    unreachable=0    failed=0    skipped=11   rescued=0    ignored=0   
2022-01-12 11:22:53,814 p=37994 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 11:22:53,823 p=37994 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 11:22:54,043 p=37994 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 11:22:54,100 p=37994 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 11:22:54,132 p=37994 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 11:22:55,925 p=37994 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:22:55,930 p=37994 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:22:55,934 p=37994 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 11:22:55,939 p=37994 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:22:55,940 p=37994 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 11:22:55,959 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 11:22:57,106 p=37994 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:22:57,111 p=37994 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 11:22:57,114 p=37994 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:22:57,120 p=37994 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 11:22:57,137 p=37994 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:22:57,151 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 11:22:58,112 p=37994 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 11:22:58,114 p=37994 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 11:22:58,115 p=37994 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:22:58,118 p=37994 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:22:58,118 p=37994 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:22:58,133 p=37994 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 11:22:58,753 p=37994 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 11:22:58,764 p=37994 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 11:22:58,782 p=37994 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:22:58,795 p=37994 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:22:58,799 p=37994 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:22:58,811 p=37994 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:22:58,849 p=37994 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 11:22:58,866 p=37994 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 11:22:58,883 p=37994 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 11:22:58,884 p=37994 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 11:22:58,897 p=37994 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 11:22:58,908 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] **********************************
2022-01-12 11:23:00,168 p=37994 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:23:00,168 p=37994 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:23:00,170 p=37994 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:23:00,535 p=37994 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 11:23:00,536 p=37994 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 11:23:00,549 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] ************************************************
2022-01-12 11:23:07,744 p=37994 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:23:07,787 p=37994 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:23:08,107 p=37994 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:23:13,523 p=37994 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 11:23:13,531 p=37994 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 11:23:13,540 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] *******************************
2022-01-12 11:23:19,907 p=37994 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3)
2022-01-12 11:23:19,984 p=37994 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3)
2022-01-12 11:23:20,002 p=37994 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3)
2022-01-12 11:23:20,003 p=37994 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3)
2022-01-12 11:23:20,003 p=37994 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3)
2022-01-12 11:23:26,766 p=37994 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-devel)
2022-01-12 11:23:26,813 p=37994 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-devel)
2022-01-12 11:23:26,822 p=37994 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-devel)
2022-01-12 11:23:26,822 p=37994 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-devel)
2022-01-12 11:23:26,854 p=37994 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-devel)
2022-01-12 11:23:33,119 p=37994 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=gcc)
2022-01-12 11:23:33,278 p=37994 u=moonja n=ansible | ok: [postgres-ha01] => (item=gcc)
2022-01-12 11:23:33,427 p=37994 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=gcc)
2022-01-12 11:23:33,453 p=37994 u=moonja n=ansible | ok: [postgres-ha02] => (item=gcc)
2022-01-12 11:23:33,536 p=37994 u=moonja n=ansible | ok: [postgres-ha03] => (item=gcc)
2022-01-12 11:23:39,559 p=37994 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=etcd)
2022-01-12 11:23:39,636 p=37994 u=moonja n=ansible | ok: [postgres-ha01] => (item=etcd)
2022-01-12 11:23:39,661 p=37994 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=etcd)
2022-01-12 11:23:39,701 p=37994 u=moonja n=ansible | ok: [postgres-ha02] => (item=etcd)
2022-01-12 11:23:39,764 p=37994 u=moonja n=ansible | ok: [postgres-ha03] => (item=etcd)
2022-01-12 11:23:46,164 p=37994 u=moonja n=ansible | ok: [postgres-ha01] => (item=python-psycopg2)
2022-01-12 11:23:51,344 p=37994 u=moonja n=ansible | changed: [postgres-haproxy02] => (item=python-psycopg2)
2022-01-12 11:23:51,416 p=37994 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=python-psycopg2)
2022-01-12 11:23:51,469 p=37994 u=moonja n=ansible | changed: [postgres-ha02] => (item=python-psycopg2)
2022-01-12 11:23:51,594 p=37994 u=moonja n=ansible | changed: [postgres-ha03] => (item=python-psycopg2)
2022-01-12 11:23:53,013 p=37994 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-pip)
2022-01-12 11:23:57,635 p=37994 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-pip)
2022-01-12 11:23:57,655 p=37994 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-pip)
2022-01-12 11:23:57,790 p=37994 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-pip)
2022-01-12 11:23:58,702 p=37994 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-pip)
2022-01-12 11:23:59,640 p=37994 u=moonja n=ansible | ok: [postgres-ha01] => (item=python34-setuptools)
2022-01-12 11:24:04,073 p=37994 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python34-setuptools)
2022-01-12 11:24:04,090 p=37994 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python34-setuptools)
2022-01-12 11:24:04,090 p=37994 u=moonja n=ansible | ok: [postgres-ha03] => (item=python34-setuptools)
2022-01-12 11:24:05,072 p=37994 u=moonja n=ansible | ok: [postgres-ha02] => (item=python34-setuptools)
2022-01-12 11:24:06,265 p=37994 u=moonja n=ansible | ok: [postgres-ha01] => (item=python27-python-setuptools)
2022-01-12 11:24:10,285 p=37994 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python27-python-setuptools)
2022-01-12 11:24:11,025 p=37994 u=moonja n=ansible | ok: [postgres-ha03] => (item=python27-python-setuptools)
2022-01-12 11:24:11,189 p=37994 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python27-python-setuptools)
2022-01-12 11:24:11,499 p=37994 u=moonja n=ansible | ok: [postgres-ha02] => (item=python27-python-setuptools)
2022-01-12 11:24:13,559 p=37994 u=moonja n=ansible | ok: [postgres-ha01] => (item=yamllint)
2022-01-12 11:24:16,980 p=37994 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=yamllint)
2022-01-12 11:24:17,226 p=37994 u=moonja n=ansible | ok: [postgres-ha03] => (item=yamllint)
2022-01-12 11:24:18,097 p=37994 u=moonja n=ansible | ok: [postgres-ha02] => (item=yamllint)
2022-01-12 11:24:18,407 p=37994 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=yamllint)
2022-01-12 11:24:20,360 p=37994 u=moonja n=ansible | ok: [postgres-ha01] => (item=daemonize)
2022-01-12 11:24:23,968 p=37994 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=daemonize)
2022-01-12 11:24:24,062 p=37994 u=moonja n=ansible | ok: [postgres-ha03] => (item=daemonize)
2022-01-12 11:24:24,435 p=37994 u=moonja n=ansible | ok: [postgres-ha02] => (item=daemonize)
2022-01-12 11:24:24,565 p=37994 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=daemonize)
2022-01-12 11:24:24,581 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Install the dependencies of etcd  on all three nodes] ****************************************
2022-01-12 11:24:24,605 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:24:24,638 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:24:25,447 p=37994 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:24:25,448 p=37994 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:24:25,458 p=37994 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:24:25,469 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Install setuptools rust on all three nodes] **************************************************
2022-01-12 11:24:25,492 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:24:25,509 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:24:31,911 p=37994 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:24:31,912 p=37994 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:24:31,912 p=37994 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:24:31,922 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Install typing pip module on all three nodes] ************************************************
2022-01-12 11:24:31,958 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:24:31,974 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:24:38,335 p=37994 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:24:38,374 p=37994 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:24:38,735 p=37994 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:24:38,745 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Upgrade pip3 version] ************************************************************************
2022-01-12 11:24:38,767 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:24:38,784 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:24:45,119 p=37994 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:24:45,131 p=37994 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:24:45,316 p=37994 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:24:45,326 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Install wheel module on all three nodes] *****************************************************
2022-01-12 11:24:45,350 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:24:45,368 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:24:52,420 p=37994 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:24:52,462 p=37994 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:24:52,477 p=37994 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:24:52,489 p=37994 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:24:52,530 p=37994 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:24:52,551 p=37994 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:24:52,602 p=37994 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "504051782437.7020",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.635714",
        "end": "2022-01-12 11:24:46.652391",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/504051782437.7020",
        "start": "2022-01-12 11:24:46.016677",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 11:24:52,604 p=37994 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "624353790312.32209",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.623261",
        "end": "2022-01-12 11:24:46.803102",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/624353790312.32209",
        "start": "2022-01-12 11:24:46.179841",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 11:24:52,604 p=37994 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "431581802887.32245",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.619158",
        "end": "2022-01-12 11:24:46.554402",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/431581802887.32245",
        "start": "2022-01-12 11:24:45.935244",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 11:24:52,614 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Install pip modules of Patroni prerequisites on all three nodes] *****************************
2022-01-12 11:24:52,637 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:24:52,655 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:24:59,029 p=37994 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:24:59,186 p=37994 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:24:59,345 p=37994 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:24:59,355 p=37994 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:24:59,380 p=37994 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:24:59,410 p=37994 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:24:59,452 p=37994 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "674030997009.7398",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.769856",
        "end": "2022-01-12 11:24:53.982851",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/674030997009.7398",
        "start": "2022-01-12 11:24:53.212995",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 11:24:59,454 p=37994 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "222012902617.32553",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.740505",
        "end": "2022-01-12 11:24:54.112774",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/222012902617.32553",
        "start": "2022-01-12 11:24:53.372269",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 11:24:59,502 p=37994 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "539552918466.32589",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.751789",
        "end": "2022-01-12 11:24:53.890285",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/539552918466.32589",
        "start": "2022-01-12 11:24:53.138496",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 11:24:59,514 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Iinstall wheel module on all three nodes] ****************************************************
2022-01-12 11:24:59,554 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:24:59,571 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:25:05,931 p=37994 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:25:05,976 p=37994 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:25:05,993 p=37994 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:25:06,005 p=37994 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:25:06,031 p=37994 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:25:06,051 p=37994 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:25:06,103 p=37994 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "308379638073.7784",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.562138",
        "end": "2022-01-12 11:25:00.752024",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/308379638073.7784",
        "start": "2022-01-12 11:25:00.189886",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 11:25:06,106 p=37994 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "367276929464.450",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.495741",
        "end": "2022-01-12 11:25:00.841250",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/367276929464.450",
        "start": "2022-01-12 11:25:00.345509",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 11:25:06,106 p=37994 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "183028061717.500",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.495302",
        "end": "2022-01-12 11:25:00.600802",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/183028061717.500",
        "start": "2022-01-12 11:25:00.105500",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 11:25:06,117 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Install psycopg2-binary module on all three nodes] *******************************************
2022-01-12 11:25:06,171 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:25:06,187 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:25:13,423 p=37994 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:25:13,424 p=37994 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:25:13,506 p=37994 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:25:13,518 p=37994 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:25:13,558 p=37994 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:25:13,576 p=37994 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:25:13,602 p=37994 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "537296298614.8162",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.610882",
        "end": "2022-01-12 11:25:07.366758",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/537296298614.8162",
        "start": "2022-01-12 11:25:06.755876",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 11:25:13,603 p=37994 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "117356505178.855",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.547199",
        "end": "2022-01-12 11:25:07.458206",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/117356505178.855",
        "start": "2022-01-12 11:25:06.911007",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 11:25:13,609 p=37994 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "717084344273.893",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.527159",
        "end": "2022-01-12 11:25:07.207509",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/717084344273.893",
        "start": "2022-01-12 11:25:06.680350",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 11:25:13,621 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Install patroni modules on all three nodes for vmware-postgres 13.x version] *****************
2022-01-12 11:25:13,643 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:25:13,659 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:25:20,906 p=37994 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:25:20,906 p=37994 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:25:21,011 p=37994 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:25:21,022 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 11:25:21,045 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:25:21,064 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:25:21,704 p=37994 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:25:21,720 p=37994 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:25:21,721 p=37994 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:25:21,734 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Create the etcd.yml configuration file for all nodes] ****************************************
2022-01-12 11:25:21,774 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:25:21,790 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:25:23,059 p=37994 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:25:23,074 p=37994 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:25:23,086 p=37994 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:25:23,098 p=37994 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:25:23,139 p=37994 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:25:23,158 p=37994 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:25:23,176 p=37994 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "9ae4719bb01c1f3fe9f70a6e2c0044c7c41a95fe",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "c58c15d1af07ce06cb21d7da9f41a53d",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641954321.898274-43477-277391004923775/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 11:25:23,202 p=37994 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "15047e7ccbff3a953a4abe4edc1ee87eccf0c835",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "90cfbd68000432263a3d9f571742a601",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641954321.89875-43478-45290806259093/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 11:25:23,203 p=37994 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "a89b395b153fde540c5b5250ee19c5a9b4a69b60",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "50ed3a33db1def8c3d70f9d8154ad6fa",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "src": "/var/tmp/ansible-tmp-1641954321.903211-43482-15012365734368/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 11:25:23,218 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of etcd into /etc/systemd/system] *********************************
2022-01-12 11:25:23,257 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:25:23,272 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:25:24,162 p=37994 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:25:24,180 p=37994 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:25:24,180 p=37994 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:25:24,196 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Reload and start etcd through systemd] *******************************************************
2022-01-12 11:25:24,237 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:25:24,254 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:25:27,189 p=37994 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:25:27,190 p=37994 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:25:27,195 p=37994 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:25:27,208 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Lists the members and identifies the current Leader.] ****************************************
2022-01-12 11:25:27,232 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:25:27,264 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:25:27,865 p=37994 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:25:27,866 p=37994 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:25:27,866 p=37994 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:25:27,879 p=37994 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:25:27,920 p=37994 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:25:27,937 p=37994 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:25:27,957 p=37994 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.022782",
        "end": "2022-01-12 11:25:27.830923",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 11:25:27.808141",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 11:25:27,958 p=37994 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.022348",
        "end": "2022-01-12 11:25:27.994077",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 11:25:27.971729",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 11:25:28,002 p=37994 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.022446",
        "end": "2022-01-12 11:25:27.763661",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 11:25:27.741215",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 11:25:28,019 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Set data directory for patroni cluster] ******************************************************
2022-01-12 11:25:28,598 p=37994 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:25:28,600 p=37994 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:25:28,600 p=37994 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:25:29,039 p=37994 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 11:25:29,039 p=37994 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 11:25:29,051 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Create the patroni.yml configuration file for all nodes] *************************************
2022-01-12 11:25:29,074 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:25:29,093 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:25:30,162 p=37994 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:25:30,174 p=37994 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:25:30,177 p=37994 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:25:30,190 p=37994 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:25:30,229 p=37994 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:25:30,247 p=37994 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:25:30,266 p=37994 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "51ae908d437a97d0556c2798ff9e85f2c2fe36a4",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "3ed5972c5e285a612a2470a9326d2aae",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1464,
        "src": "/var/tmp/ansible-tmp-1641954329.221847-43813-105648239634567/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 11:25:30,302 p=37994 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "fc4c376c8127ad85d35b999c29d64e468d17e027",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "2086d17111d412ff8b4f28577e9ebd81",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1464,
        "src": "/var/tmp/ansible-tmp-1641954329.221558-43814-116075654826579/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 11:25:30,303 p=37994 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "ca9c09527794689ba0d2c13d70e8c3fc507d8412",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "5c3d6f6e90f788baf8ca4455d155911f",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1464,
        "src": "/var/tmp/ansible-tmp-1641954329.2265239-43818-74741739173546/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 11:25:30,318 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of patroni into /etc/systemd/system] ******************************
2022-01-12 11:25:30,359 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:25:30,375 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:25:31,683 p=37994 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:25:31,684 p=37994 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:25:31,690 p=37994 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:25:31,704 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Reload and start systemd service of patroni] *************************************************
2022-01-12 11:25:31,745 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:25:31,761 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:25:32,434 p=37994 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:25:32,439 p=37994 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:25:32,450 p=37994 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:25:32,484 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 11:25:32,503 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:25:32,513 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Remove clsuter on master] ********************************************************************
2022-01-12 11:25:32,551 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:25:32,566 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:25:32,584 p=37994 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-12 11:25:32,596 p=37994 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-12 11:25:39,352 p=37994 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:25:39,362 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 11:25:39,384 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:25:39,395 p=37994 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:25:39,437 p=37994 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:25:39,457 p=37994 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:25:39,502 p=37994 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "33953333169.10583",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n",
        "delta": "0:00:00.336030",
        "end": "2022-01-12 11:25:33.637800",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/33953333169.10583",
        "start": "2022-01-12 11:25:33.301770",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052138359744193625) --+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": ",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052138359744193625) --+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+",
            "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": "
        ]
    }
}
2022-01-12 11:25:39,503 p=37994 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:25:39,503 p=37994 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:25:39,513 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Reinitialize patroni clsuter on all node] ****************************************************
2022-01-12 11:25:39,536 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:25:39,555 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:25:46,174 p=37994 u=moonja n=ansible | fatal: [postgres-ha02]: FAILED! => {"ansible_job_id": "806487451485.3110", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n", "delta": "0:00:00.321746", "end": "2022-01-12 11:25:40.710732", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/806487451485.3110", "start": "2022-01-12 11:25:40.388986", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-12 11:25:46,174 p=37994 u=moonja n=ansible | ...ignoring
2022-01-12 11:25:46,351 p=37994 u=moonja n=ansible | fatal: [postgres-ha03]: FAILED! => {"ansible_job_id": "775716971510.3144", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n", "delta": "0:00:00.320643", "end": "2022-01-12 11:25:40.482327", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/775716971510.3144", "start": "2022-01-12 11:25:40.161684", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-12 11:25:46,351 p=37994 u=moonja n=ansible | ...ignoring
2022-01-12 11:25:47,362 p=37994 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "649526007842.10959", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n", "delta": "0:00:00.305131", "end": "2022-01-12 11:25:40.535553", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/649526007842.10959", "start": "2022-01-12 11:25:40.230422", "started": 1, "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members", "stderr_lines": ["Error: vmtz_patroni_cluster cluster doesn't have any members"], "stdout": "", "stdout_lines": []}
2022-01-12 11:25:47,362 p=37994 u=moonja n=ansible | ...ignoring
2022-01-12 11:25:47,373 p=37994 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:25:47,416 p=37994 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:25:47,434 p=37994 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:25:47,455 p=37994 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "649526007842.10959",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.305131",
        "end": "2022-01-12 11:25:40.535553",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/649526007842.10959",
        "start": "2022-01-12 11:25:40.230422",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 11:25:47,456 p=37994 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "806487451485.3110",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.321746",
        "end": "2022-01-12 11:25:40.710732",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/806487451485.3110",
        "start": "2022-01-12 11:25:40.388986",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 11:25:47,501 p=37994 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "775716971510.3144",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.320643",
        "end": "2022-01-12 11:25:40.482327",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/775716971510.3144",
        "start": "2022-01-12 11:25:40.161684",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 11:25:47,518 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 11:25:47,539 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:25:47,550 p=37994 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:25:47,590 p=37994 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:25:47,619 p=37994 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:25:47,652 p=37994 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "649526007842.10959",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.305131",
        "end": "2022-01-12 11:25:40.535553",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/649526007842.10959",
        "start": "2022-01-12 11:25:40.230422",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 11:25:47,654 p=37994 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "806487451485.3110",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.321746",
        "end": "2022-01-12 11:25:40.710732",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/806487451485.3110",
        "start": "2022-01-12 11:25:40.388986",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 11:25:47,654 p=37994 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "775716971510.3144",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.320643",
        "end": "2022-01-12 11:25:40.482327",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/775716971510.3144",
        "start": "2022-01-12 11:25:40.161684",
        "started": 1,
        "stderr": "Error: vmtz_patroni_cluster cluster doesn't have any members",
        "stderr_lines": [
            "Error: vmtz_patroni_cluster cluster doesn't have any members"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-01-12 11:25:47,664 p=37994 u=moonja n=ansible | TASK [patroni-postgres : Run the patronictl command-line utility to view the cluster state with Patroni started on all three nodes,] ***
2022-01-12 11:25:47,703 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:25:47,719 p=37994 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:25:48,441 p=37994 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:25:48,458 p=37994 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:25:48,635 p=37994 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:25:48,646 p=37994 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:25:48,674 p=37994 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:25:48,696 p=37994 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:25:48,751 p=37994 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.306341",
        "end": "2022-01-12 11:25:48.504452",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 11:25:48.198111",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-12 11:25:48,801 p=37994 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.302292",
        "end": "2022-01-12 11:25:48.597253",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 11:25:48.294961",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-12 11:25:48,802 p=37994 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.299178",
        "end": "2022-01-12 11:25:48.349012",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 11:25:48.049834",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+---------+----+-----------+\n| Member        | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |\n| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |\n+---------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+---------+----+-----------+",
            "| Member        | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (initializing) ----+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Replica | stopped |    |   unknown |",
            "| postgres-ha02 | 192.168.0.82 | Replica | stopped |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "+---------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-01-12 11:25:48,860 p=37994 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-12 11:25:48,860 p=37994 u=moonja n=ansible | postgres-ha01              : ok=40   changed=20   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-12 11:25:48,860 p=37994 u=moonja n=ansible | postgres-ha02              : ok=39   changed=20   unreachable=0    failed=0    skipped=1    rescued=0    ignored=1   
2022-01-12 11:25:48,860 p=37994 u=moonja n=ansible | postgres-ha03              : ok=39   changed=20   unreachable=0    failed=0    skipped=1    rescued=0    ignored=1   
2022-01-12 11:25:48,860 p=37994 u=moonja n=ansible | postgres-haproxy01         : ok=20   changed=6    unreachable=0    failed=0    skipped=23   rescued=0    ignored=0   
2022-01-12 11:25:48,860 p=37994 u=moonja n=ansible | postgres-haproxy02         : ok=20   changed=6    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
2022-01-12 11:29:58,475 p=44324 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 11:29:58,484 p=44324 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 11:29:58,696 p=44324 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 11:29:58,753 p=44324 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 11:29:58,782 p=44324 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 11:30:00,837 p=44324 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:30:00,841 p=44324 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:30:00,842 p=44324 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:30:00,845 p=44324 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 11:30:01,957 p=44324 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 11:30:01,978 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 11:30:02,928 p=44324 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 11:30:02,929 p=44324 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 11:30:02,929 p=44324 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:30:02,937 p=44324 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:30:03,343 p=44324 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:30:03,359 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 11:30:04,078 p=44324 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:30:04,081 p=44324 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:30:04,083 p=44324 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 11:30:04,083 p=44324 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 11:30:04,088 p=44324 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:30:04,101 p=44324 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 11:30:04,702 p=44324 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 11:30:04,729 p=44324 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:30:04,736 p=44324 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:30:04,736 p=44324 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 11:30:04,760 p=44324 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:30:04,772 p=44324 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:30:04,808 p=44324 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 11:30:04,826 p=44324 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 11:30:04,843 p=44324 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 11:30:04,843 p=44324 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 11:30:04,856 p=44324 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 11:30:04,867 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] **********************************
2022-01-12 11:30:06,484 p=44324 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 11:30:06,487 p=44324 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:30:06,487 p=44324 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:30:06,489 p=44324 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 11:30:06,492 p=44324 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:30:06,507 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] ************************************************
2022-01-12 11:30:13,806 p=44324 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:30:13,858 p=44324 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 11:30:13,869 p=44324 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:30:13,870 p=44324 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:30:14,018 p=44324 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 11:30:14,029 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] *******************************
2022-01-12 11:30:20,634 p=44324 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3)
2022-01-12 11:30:20,698 p=44324 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3)
2022-01-12 11:30:20,727 p=44324 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3)
2022-01-12 11:30:20,727 p=44324 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3)
2022-01-12 11:30:20,728 p=44324 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3)
2022-01-12 11:30:26,923 p=44324 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-devel)
2022-01-12 11:30:27,005 p=44324 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-devel)
2022-01-12 11:30:27,033 p=44324 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-devel)
2022-01-12 11:30:27,033 p=44324 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-devel)
2022-01-12 11:30:27,034 p=44324 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-devel)
2022-01-12 11:30:33,496 p=44324 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=gcc)
2022-01-12 11:30:33,557 p=44324 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=gcc)
2022-01-12 11:30:33,566 p=44324 u=moonja n=ansible | ok: [postgres-ha01] => (item=gcc)
2022-01-12 11:30:34,074 p=44324 u=moonja n=ansible | ok: [postgres-ha03] => (item=gcc)
2022-01-12 11:30:35,099 p=44324 u=moonja n=ansible | ok: [postgres-ha02] => (item=gcc)
2022-01-12 11:30:39,797 p=44324 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=etcd)
2022-01-12 11:30:39,866 p=44324 u=moonja n=ansible | ok: [postgres-ha01] => (item=etcd)
2022-01-12 11:30:40,083 p=44324 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=etcd)
2022-01-12 11:30:40,402 p=44324 u=moonja n=ansible | ok: [postgres-ha03] => (item=etcd)
2022-01-12 11:30:41,798 p=44324 u=moonja n=ansible | ok: [postgres-ha02] => (item=etcd)
2022-01-12 11:30:46,162 p=44324 u=moonja n=ansible | ok: [postgres-ha01] => (item=python-psycopg2)
2022-01-12 11:30:51,723 p=44324 u=moonja n=ansible | changed: [postgres-haproxy02] => (item=python-psycopg2)
2022-01-12 11:30:51,947 p=44324 u=moonja n=ansible | changed: [postgres-ha03] => (item=python-psycopg2)
2022-01-12 11:30:52,095 p=44324 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=python-psycopg2)
2022-01-12 11:30:52,338 p=44324 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-pip)
2022-01-12 11:30:54,100 p=44324 u=moonja n=ansible | changed: [postgres-ha02] => (item=python-psycopg2)
2022-01-12 11:30:58,133 p=44324 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-pip)
2022-01-12 11:30:58,189 p=44324 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-pip)
2022-01-12 11:30:58,258 p=44324 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-pip)
2022-01-12 11:30:58,535 p=44324 u=moonja n=ansible | ok: [postgres-ha01] => (item=python34-setuptools)
2022-01-12 11:31:00,776 p=44324 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-pip)
2022-01-12 11:31:04,463 p=44324 u=moonja n=ansible | ok: [postgres-ha03] => (item=python34-setuptools)
2022-01-12 11:31:04,547 p=44324 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python34-setuptools)
2022-01-12 11:31:05,672 p=44324 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python34-setuptools)
2022-01-12 11:31:05,715 p=44324 u=moonja n=ansible | ok: [postgres-ha01] => (item=python27-python-setuptools)
2022-01-12 11:31:07,253 p=44324 u=moonja n=ansible | ok: [postgres-ha02] => (item=python34-setuptools)
2022-01-12 11:31:10,771 p=44324 u=moonja n=ansible | ok: [postgres-ha03] => (item=python27-python-setuptools)
2022-01-12 11:31:10,914 p=44324 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python27-python-setuptools)
2022-01-12 11:31:12,167 p=44324 u=moonja n=ansible | ok: [postgres-ha01] => (item=yamllint)
2022-01-12 11:31:13,219 p=44324 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python27-python-setuptools)
2022-01-12 11:31:14,242 p=44324 u=moonja n=ansible | ok: [postgres-ha02] => (item=python27-python-setuptools)
2022-01-12 11:31:17,123 p=44324 u=moonja n=ansible | ok: [postgres-ha03] => (item=yamllint)
2022-01-12 11:31:17,192 p=44324 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=yamllint)
2022-01-12 11:31:19,144 p=44324 u=moonja n=ansible | ok: [postgres-ha01] => (item=daemonize)
2022-01-12 11:31:19,804 p=44324 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=yamllint)
2022-01-12 11:31:20,991 p=44324 u=moonja n=ansible | ok: [postgres-ha02] => (item=yamllint)
2022-01-12 11:31:23,960 p=44324 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=daemonize)
2022-01-12 11:31:24,663 p=44324 u=moonja n=ansible | ok: [postgres-ha03] => (item=daemonize)
2022-01-12 11:31:26,594 p=44324 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=daemonize)
2022-01-12 11:31:27,938 p=44324 u=moonja n=ansible | ok: [postgres-ha02] => (item=daemonize)
2022-01-12 11:31:27,951 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Install the dependencies of etcd  on all three nodes] ****************************************
2022-01-12 11:31:27,975 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:31:27,992 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:31:28,731 p=44324 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:31:28,750 p=44324 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:31:29,082 p=44324 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:31:29,094 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Install setuptools rust on all three nodes] **************************************************
2022-01-12 11:31:29,117 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:31:29,135 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:31:36,447 p=44324 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:31:36,454 p=44324 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:31:36,454 p=44324 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:31:36,465 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Install typing pip module on all three nodes] ************************************************
2022-01-12 11:31:36,492 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:31:36,510 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:31:43,469 p=44324 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:31:43,525 p=44324 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:31:43,526 p=44324 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:31:43,538 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Upgrade pip3 version] ************************************************************************
2022-01-12 11:31:43,563 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:31:43,596 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:31:50,804 p=44324 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:31:50,817 p=44324 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:31:50,817 p=44324 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:31:50,830 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Install wheel module on all three nodes] *****************************************************
2022-01-12 11:31:50,852 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:31:50,869 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:31:57,417 p=44324 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:31:57,479 p=44324 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:31:57,490 p=44324 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:31:57,501 p=44324 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:31:57,542 p=44324 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:31:57,561 p=44324 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:31:57,596 p=44324 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "403083569579.17863",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.640453",
        "end": "2022-01-12 11:31:52.404764",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/403083569579.17863",
        "start": "2022-01-12 11:31:51.764311",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 11:31:57,599 p=44324 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "533854911938.9725",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.618557",
        "end": "2022-01-12 11:31:52.549233",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/533854911938.9725",
        "start": "2022-01-12 11:31:51.930676",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 11:31:57,599 p=44324 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "23610647772.9769",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.637194",
        "end": "2022-01-12 11:31:52.287318",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/23610647772.9769",
        "start": "2022-01-12 11:31:51.650124",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 11:31:57,611 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Install pip modules of Patroni prerequisites on all three nodes] *****************************
2022-01-12 11:31:57,648 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:31:57,664 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:32:04,401 p=44324 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:32:04,444 p=44324 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:32:04,445 p=44324 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:32:04,455 p=44324 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:32:04,497 p=44324 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:32:04,515 p=44324 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:32:04,547 p=44324 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "824184417287.18242",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.769149",
        "end": "2022-01-12 11:31:59.107752",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/824184417287.18242",
        "start": "2022-01-12 11:31:58.338603",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 11:32:04,552 p=44324 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "822465469098.10079",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.765998",
        "end": "2022-01-12 11:31:59.261212",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/822465469098.10079",
        "start": "2022-01-12 11:31:58.495214",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 11:32:04,555 p=44324 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "38220872115.10119",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.733507",
        "end": "2022-01-12 11:31:59.001157",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/38220872115.10119",
        "start": "2022-01-12 11:31:58.267650",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 11:32:04,565 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Iinstall wheel module on all three nodes] ****************************************************
2022-01-12 11:32:04,604 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:32:04,618 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:32:11,767 p=44324 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:32:11,820 p=44324 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:32:11,820 p=44324 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:32:11,833 p=44324 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:32:11,875 p=44324 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:32:11,896 p=44324 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:32:11,947 p=44324 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "64876738928.18628",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.572347",
        "end": "2022-01-12 11:32:05.931591",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/64876738928.18628",
        "start": "2022-01-12 11:32:05.359244",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 11:32:11,950 p=44324 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "844087353256.10429",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.509502",
        "end": "2022-01-12 11:32:06.042351",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/844087353256.10429",
        "start": "2022-01-12 11:32:05.532849",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 11:32:11,951 p=44324 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "483659293899.10473",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.502772",
        "end": "2022-01-12 11:32:05.799264",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/483659293899.10473",
        "start": "2022-01-12 11:32:05.296492",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 11:32:11,963 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Install psycopg2-binary module on all three nodes] *******************************************
2022-01-12 11:32:12,000 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:32:12,016 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:32:19,281 p=44324 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:32:19,293 p=44324 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:32:19,293 p=44324 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:32:19,304 p=44324 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:32:19,346 p=44324 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:32:19,365 p=44324 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:32:19,395 p=44324 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "19774313551.19006",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.583325",
        "end": "2022-01-12 11:32:13.353415",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/19774313551.19006",
        "start": "2022-01-12 11:32:12.770090",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 11:32:19,397 p=44324 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "180540757535.10781",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.495708",
        "end": "2022-01-12 11:32:13.448113",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/180540757535.10781",
        "start": "2022-01-12 11:32:12.952405",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 11:32:19,397 p=44324 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "561243133427.10817",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.526684",
        "end": "2022-01-12 11:32:13.258583",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/561243133427.10817",
        "start": "2022-01-12 11:32:12.731899",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 11:32:19,410 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Install patroni modules on all three nodes for vmware-postgres 13.x version] *****************
2022-01-12 11:32:19,449 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:32:19,464 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:32:26,532 p=44324 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:32:26,587 p=44324 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:32:26,587 p=44324 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:32:26,600 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 11:32:26,626 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:32:26,646 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:32:27,543 p=44324 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:32:27,549 p=44324 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:32:27,549 p=44324 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:32:27,564 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Create the etcd.yml configuration file for all nodes] ****************************************
2022-01-12 11:32:27,587 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:32:27,606 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:32:28,989 p=44324 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:32:28,997 p=44324 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:32:29,002 p=44324 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:32:29,013 p=44324 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:32:29,037 p=44324 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:32:29,055 p=44324 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:32:29,091 p=44324 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": false,
        "checksum": "9ae4719bb01c1f3fe9f70a6e2c0044c7c41a95fe",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": {
            "after": {
                "path": "/var/lib/pgsql/etcd.yml"
            },
            "before": {
                "path": "/var/lib/pgsql/etcd.yml"
            }
        },
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "mode": "0644",
        "owner": "postgres",
        "path": "/var/lib/pgsql/etcd.yml",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "state": "file",
        "uid": 26
    }
}
2022-01-12 11:32:29,093 p=44324 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "checksum": "15047e7ccbff3a953a4abe4edc1ee87eccf0c835",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": {
            "after": {
                "path": "/var/lib/pgsql/etcd.yml"
            },
            "before": {
                "path": "/var/lib/pgsql/etcd.yml"
            }
        },
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "mode": "0644",
        "owner": "postgres",
        "path": "/var/lib/pgsql/etcd.yml",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "state": "file",
        "uid": 26
    }
}
2022-01-12 11:32:29,105 p=44324 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "checksum": "a89b395b153fde540c5b5250ee19c5a9b4a69b60",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": {
            "after": {
                "path": "/var/lib/pgsql/etcd.yml"
            },
            "before": {
                "path": "/var/lib/pgsql/etcd.yml"
            }
        },
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "mode": "0644",
        "owner": "postgres",
        "path": "/var/lib/pgsql/etcd.yml",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "state": "file",
        "uid": 26
    }
}
2022-01-12 11:32:29,117 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of etcd into /etc/systemd/system] *********************************
2022-01-12 11:32:29,138 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:32:29,171 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:32:29,966 p=44324 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:32:29,975 p=44324 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:32:29,982 p=44324 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:32:29,993 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Reload and start etcd through systemd] *******************************************************
2022-01-12 11:32:30,034 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:32:30,067 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:32:30,716 p=44324 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:32:30,753 p=44324 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:32:30,756 p=44324 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:32:30,769 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Lists the members and identifies the current Leader.] ****************************************
2022-01-12 11:32:30,808 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:32:30,824 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:32:31,602 p=44324 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:32:31,604 p=44324 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:32:31,604 p=44324 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:32:31,619 p=44324 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:32:31,663 p=44324 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:32:31,681 p=44324 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:32:31,699 p=44324 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.021436",
        "end": "2022-01-12 11:32:31.484170",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 11:32:31.462734",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 11:32:31,700 p=44324 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.019475",
        "end": "2022-01-12 11:32:31.647409",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 11:32:31.627934",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 11:32:31,713 p=44324 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.019704",
        "end": "2022-01-12 11:32:31.421869",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 11:32:31.402165",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 11:32:31,725 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Set data directory for patroni cluster] ******************************************************
2022-01-12 11:32:32,259 p=44324 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:32:32,260 p=44324 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:32:32,261 p=44324 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:32:32,483 p=44324 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 11:32:32,483 p=44324 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 11:32:32,497 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Create the patroni.yml configuration file for all nodes] *************************************
2022-01-12 11:32:32,538 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:32:32,555 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:32:33,961 p=44324 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:32:33,962 p=44324 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:32:33,962 p=44324 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:32:33,976 p=44324 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:32:34,019 p=44324 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:32:34,038 p=44324 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:32:34,056 p=44324 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "53fcae96fcdf6e2a1c84624de4f5017d7b51c286",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "539392a07ba96f292d5c586de863ffce",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1365,
        "src": "/var/tmp/ansible-tmp-1641954752.657619-48395-2521034213137/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 11:32:34,058 p=44324 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "ae64f4618ad3aba5efa6a7d42032c6df520c2e1b",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "1cfe9ecb757c5bfe60630defc9159455",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1365,
        "src": "/var/tmp/ansible-tmp-1641954752.660461-48396-120183514348946/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 11:32:34,070 p=44324 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "00c83e14268b31456464e038e22bb0220b6443ef",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "5b1928e0f4d875925be57c1ed2c006fb",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1365,
        "src": "/var/tmp/ansible-tmp-1641954752.662823-48400-185701776216903/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 11:32:34,082 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of patroni into /etc/systemd/system] ******************************
2022-01-12 11:32:34,103 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:32:34,121 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:32:35,180 p=44324 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:32:35,182 p=44324 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:32:35,187 p=44324 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:32:35,201 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Reload and start systemd service of patroni] *************************************************
2022-01-12 11:32:35,223 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:32:35,258 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:32:36,285 p=44324 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:32:36,286 p=44324 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:32:36,287 p=44324 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:32:36,303 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 11:32:36,325 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:32:36,336 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Remove clsuter on master] ********************************************************************
2022-01-12 11:32:36,375 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:32:36,421 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:32:36,441 p=44324 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-12 11:32:36,452 p=44324 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-12 11:32:43,362 p=44324 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "708361406859.21318", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n", "delta": "0:00:00.272479", "end": "2022-01-12 11:32:37.452832", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/708361406859.21318", "start": "2022-01-12 11:32:37.180353", "started": 1, "stderr": "Aborted!", "stderr_lines": ["Aborted!"], "stdout": "+---------------+--------------+---------+--------------+----+-----------+\n| Member        | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running      |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | start failed |    |   unknown |\n+---------------+--------------+---------+--------------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": This cluster currently is healthy. Please specify the master name to continue: ", "stdout_lines": ["+---------------+--------------+---------+--------------+----+-----------+", "| Member        | Host         | Role    | State        | TL | Lag in MB |", "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+", "| postgres-ha01 | 192.168.0.81 | Leader  | running      |  1 |           |", "| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |", "| postgres-ha03 | 192.168.0.83 | Replica | start failed |    |   unknown |", "+---------------+--------------+---------+--------------+----+-----------+", "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": This cluster currently is healthy. Please specify the master name to continue: "]}
2022-01-12 11:32:43,362 p=44324 u=moonja n=ansible | ...ignoring
2022-01-12 11:32:43,373 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 11:32:43,395 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:32:43,406 p=44324 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:32:43,447 p=44324 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:32:43,465 p=44324 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:32:43,484 p=44324 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "708361406859.21318",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n",
        "delta": "0:00:00.272479",
        "end": "2022-01-12 11:32:37.452832",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/708361406859.21318",
        "start": "2022-01-12 11:32:37.180353",
        "started": 1,
        "stderr": "Aborted!",
        "stderr_lines": [
            "Aborted!"
        ],
        "stdout": "+---------------+--------------+---------+--------------+----+-----------+\n| Member        | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running      |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | start failed |    |   unknown |\n+---------------+--------------+---------+--------------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": This cluster currently is healthy. Please specify the master name to continue: ",
        "stdout_lines": [
            "+---------------+--------------+---------+--------------+----+-----------+",
            "| Member        | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running      |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | start failed |    |   unknown |",
            "+---------------+--------------+---------+--------------+----+-----------+",
            "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": This cluster currently is healthy. Please specify the master name to continue: "
        ]
    }
}
2022-01-12 11:32:43,485 p=44324 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:32:43,495 p=44324 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:32:43,508 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Reinitialize patroni clsuter on all node] ****************************************************
2022-01-12 11:32:43,529 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:32:43,547 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:32:51,419 p=44324 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:32:51,793 p=44324 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:32:55,008 p=44324 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:32:55,018 p=44324 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:32:55,059 p=44324 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:32:55,078 p=44324 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:32:55,098 p=44324 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "898783113297.21694",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.323916",
        "end": "2022-01-12 11:32:44.505619",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/898783113297.21694",
        "start": "2022-01-12 11:32:44.181703",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+--------------+----+-----------+\n| Member        | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running      |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | start failed |    |   unknown |\n+---------------+--------------+---------+--------------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (I am the leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+--------------+----+-----------+",
            "| Member        | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running      |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | start failed |    |   unknown |",
            "+---------------+--------------+---------+--------------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (I am the leader, can not reinitialize)"
        ]
    }
}
2022-01-12 11:32:55,099 p=44324 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "807265101698.12916",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.338002",
        "end": "2022-01-12 11:32:44.678396",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/807265101698.12916",
        "start": "2022-01-12 11:32:44.340394",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+--------------+----+-----------+\n| Member        | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running      |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | start failed |    |   unknown |\n+---------------+--------------+---------+--------------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Success: reinitialize for member postgres-ha02",
        "stdout_lines": [
            "+---------------+--------------+---------+--------------+----+-----------+",
            "| Member        | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running      |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | start failed |    |   unknown |",
            "+---------------+--------------+---------+--------------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Success: reinitialize for member postgres-ha02"
        ]
    }
}
2022-01-12 11:32:55,111 p=44324 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "44615117114.12962",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.316971",
        "end": "2022-01-12 11:32:44.430164",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/44615117114.12962",
        "start": "2022-01-12 11:32:44.113193",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+--------------+----+-----------+\n| Member        | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running      |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | start failed |    |   unknown |\n+---------------+--------------+---------+--------------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Success: reinitialize for member postgres-ha03",
        "stdout_lines": [
            "+---------------+--------------+---------+--------------+----+-----------+",
            "| Member        | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running      |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | start failed |    |   unknown |",
            "+---------------+--------------+---------+--------------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Success: reinitialize for member postgres-ha03"
        ]
    }
}
2022-01-12 11:32:55,123 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 11:32:55,141 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:32:55,153 p=44324 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:32:55,193 p=44324 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:32:55,211 p=44324 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:32:55,232 p=44324 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "898783113297.21694",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.323916",
        "end": "2022-01-12 11:32:44.505619",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/898783113297.21694",
        "start": "2022-01-12 11:32:44.181703",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+--------------+----+-----------+\n| Member        | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running      |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | start failed |    |   unknown |\n+---------------+--------------+---------+--------------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (I am the leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+---------+--------------+----+-----------+",
            "| Member        | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running      |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | start failed |    |   unknown |",
            "+---------------+--------------+---------+--------------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (I am the leader, can not reinitialize)"
        ]
    }
}
2022-01-12 11:32:55,233 p=44324 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "807265101698.12916",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.338002",
        "end": "2022-01-12 11:32:44.678396",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/807265101698.12916",
        "start": "2022-01-12 11:32:44.340394",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+--------------+----+-----------+\n| Member        | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running      |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | start failed |    |   unknown |\n+---------------+--------------+---------+--------------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Success: reinitialize for member postgres-ha02",
        "stdout_lines": [
            "+---------------+--------------+---------+--------------+----+-----------+",
            "| Member        | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running      |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | start failed |    |   unknown |",
            "+---------------+--------------+---------+--------------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Success: reinitialize for member postgres-ha02"
        ]
    }
}
2022-01-12 11:32:55,245 p=44324 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "44615117114.12962",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.316971",
        "end": "2022-01-12 11:32:44.430164",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/44615117114.12962",
        "start": "2022-01-12 11:32:44.113193",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+--------------+----+-----------+\n| Member        | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running      |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | start failed |    |   unknown |\n+---------------+--------------+---------+--------------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Success: reinitialize for member postgres-ha03",
        "stdout_lines": [
            "+---------------+--------------+---------+--------------+----+-----------+",
            "| Member        | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running      |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | start failed |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | start failed |    |   unknown |",
            "+---------------+--------------+---------+--------------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Success: reinitialize for member postgres-ha03"
        ]
    }
}
2022-01-12 11:32:55,257 p=44324 u=moonja n=ansible | TASK [patroni-postgres : Run the patronictl command-line utility to view the cluster state with Patroni started on all three nodes,] ***
2022-01-12 11:32:55,295 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:32:55,311 p=44324 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:32:56,254 p=44324 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:32:56,260 p=44324 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:32:56,279 p=44324 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:32:56,293 p=44324 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:32:56,318 p=44324 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:32:56,356 p=44324 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:32:56,375 p=44324 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.320791",
        "end": "2022-01-12 11:32:56.241029",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 11:32:55.920238",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+------------------+----+-----------+\n| Member        | Host         | Role    | State            | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) ------+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running          |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | creating replica |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | creating replica |    |   unknown |\n+---------------+--------------+---------+------------------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+------------------+----+-----------+",
            "| Member        | Host         | Role    | State            | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) ------+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running          |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | creating replica |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | creating replica |    |   unknown |",
            "+---------------+--------------+---------+------------------+----+-----------+"
        ]
    }
}
2022-01-12 11:32:56,376 p=44324 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.323208",
        "end": "2022-01-12 11:32:56.400853",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 11:32:56.077645",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+------------------+----+-----------+\n| Member        | Host         | Role    | State            | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) ------+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running          |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | creating replica |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | creating replica |    |   unknown |\n+---------------+--------------+---------+------------------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+------------------+----+-----------+",
            "| Member        | Host         | Role    | State            | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) ------+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running          |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | creating replica |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | creating replica |    |   unknown |",
            "+---------------+--------------+---------+------------------+----+-----------+"
        ]
    }
}
2022-01-12 11:32:56,389 p=44324 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.347775",
        "end": "2022-01-12 11:32:56.196953",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 11:32:55.849178",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+------------------+----+-----------+\n| Member        | Host         | Role    | State            | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) ------+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running          |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | creating replica |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | creating replica |    |   unknown |\n+---------------+--------------+---------+------------------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+------------------+----+-----------+",
            "| Member        | Host         | Role    | State            | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) ------+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running          |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | creating replica |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | creating replica |    |   unknown |",
            "+---------------+--------------+---------+------------------+----+-----------+"
        ]
    }
}
2022-01-12 11:32:56,448 p=44324 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-12 11:32:56,448 p=44324 u=moonja n=ansible | postgres-ha01              : ok=40   changed=15   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-12 11:32:56,448 p=44324 u=moonja n=ansible | postgres-ha02              : ok=39   changed=15   unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2022-01-12 11:32:56,448 p=44324 u=moonja n=ansible | postgres-ha03              : ok=39   changed=15   unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2022-01-12 11:32:56,448 p=44324 u=moonja n=ansible | postgres-haproxy01         : ok=20   changed=3    unreachable=0    failed=0    skipped=23   rescued=0    ignored=0   
2022-01-12 11:32:56,448 p=44324 u=moonja n=ansible | postgres-haproxy02         : ok=20   changed=3    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
2022-01-12 11:35:01,874 p=49615 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be 
removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2022-01-12 11:35:01,885 p=49615 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 11:35:02,114 p=49615 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed 
in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 11:35:02,167 p=49615 u=moonja n=ansible | PLAY [all] ************************************************************************************************************
2022-01-12 11:35:02,198 p=49615 u=moonja n=ansible | TASK [Gathering Facts] ************************************************************************************************
2022-01-12 11:35:04,652 p=49615 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:35:04,654 p=49615 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 11:35:04,668 p=49615 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:35:05,123 p=49615 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:35:05,127 p=49615 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 11:35:05,144 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ******************************************************************
2022-01-12 11:35:06,143 p=49615 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 11:35:06,148 p=49615 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:35:06,151 p=49615 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:35:06,151 p=49615 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 11:35:06,178 p=49615 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:35:06,191 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ************************************************************************
2022-01-12 11:35:07,195 p=49615 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 11:35:07,197 p=49615 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:35:07,198 p=49615 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 11:35:07,204 p=49615 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:35:07,682 p=49615 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:35:07,695 p=49615 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *************************************************************************
2022-01-12 11:35:08,199 p=49615 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:35:08,200 p=49615 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 11:35:08,201 p=49615 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 11:35:08,210 p=49615 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:35:08,213 p=49615 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:35:08,227 p=49615 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:35:08,265 p=49615 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 11:35:08,283 p=49615 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 11:35:08,301 p=49615 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 11:35:08,306 p=49615 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 11:35:08,321 p=49615 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 11:35:08,336 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] **********************************
2022-01-12 11:35:10,044 p=49615 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:35:10,046 p=49615 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:35:10,047 p=49615 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 11:35:10,055 p=49615 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 11:35:10,056 p=49615 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:35:10,069 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] ************************************************
2022-01-12 11:35:17,468 p=49615 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 11:35:17,531 p=49615 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:35:17,541 p=49615 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 11:35:17,541 p=49615 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:35:17,541 p=49615 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:35:17,551 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] *******************************
2022-01-12 11:35:24,894 p=49615 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3)
2022-01-12 11:35:25,038 p=49615 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3)
2022-01-12 11:35:25,137 p=49615 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3)
2022-01-12 11:35:25,315 p=49615 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3)
2022-01-12 11:35:25,372 p=49615 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3)
2022-01-12 11:35:31,261 p=49615 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-devel)
2022-01-12 11:35:31,328 p=49615 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-devel)
2022-01-12 11:35:31,365 p=49615 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-devel)
2022-01-12 11:35:31,558 p=49615 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-devel)
2022-01-12 11:35:31,673 p=49615 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-devel)
2022-01-12 11:35:37,491 p=49615 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=gcc)
2022-01-12 11:35:37,606 p=49615 u=moonja n=ansible | ok: [postgres-ha01] => (item=gcc)
2022-01-12 11:35:37,614 p=49615 u=moonja n=ansible | ok: [postgres-ha03] => (item=gcc)
2022-01-12 11:35:37,891 p=49615 u=moonja n=ansible | ok: [postgres-ha02] => (item=gcc)
2022-01-12 11:35:38,042 p=49615 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=gcc)
2022-01-12 11:35:43,754 p=49615 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=etcd)
2022-01-12 11:35:43,831 p=49615 u=moonja n=ansible | ok: [postgres-ha01] => (item=etcd)
2022-01-12 11:35:43,839 p=49615 u=moonja n=ansible | ok: [postgres-ha03] => (item=etcd)
2022-01-12 11:35:44,160 p=49615 u=moonja n=ansible | ok: [postgres-ha02] => (item=etcd)
2022-01-12 11:35:44,298 p=49615 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=etcd)
2022-01-12 11:35:50,297 p=49615 u=moonja n=ansible | ok: [postgres-ha01] => (item=python-psycopg2)
2022-01-12 11:35:55,761 p=49615 u=moonja n=ansible | changed: [postgres-haproxy02] => (item=python-psycopg2)
2022-01-12 11:35:56,061 p=49615 u=moonja n=ansible | changed: [postgres-ha02] => (item=python-psycopg2)
2022-01-12 11:35:56,088 p=49615 u=moonja n=ansible | changed: [postgres-ha03] => (item=python-psycopg2)
2022-01-12 11:35:56,326 p=49615 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=python-psycopg2)
2022-01-12 11:35:56,539 p=49615 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-pip)
2022-01-12 11:36:02,095 p=49615 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-pip)
2022-01-12 11:36:02,273 p=49615 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-pip)
2022-01-12 11:36:02,316 p=49615 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-pip)
2022-01-12 11:36:02,604 p=49615 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-pip)
2022-01-12 11:36:02,807 p=49615 u=moonja n=ansible | ok: [postgres-ha01] => (item=python34-setuptools)
2022-01-12 11:36:08,439 p=49615 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python34-setuptools)
2022-01-12 11:36:08,502 p=49615 u=moonja n=ansible | ok: [postgres-ha02] => (item=python34-setuptools)
2022-01-12 11:36:08,566 p=49615 u=moonja n=ansible | ok: [postgres-ha03] => (item=python34-setuptools)
2022-01-12 11:36:08,938 p=49615 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python34-setuptools)
2022-01-12 11:36:09,075 p=49615 u=moonja n=ansible | ok: [postgres-ha01] => (item=python27-python-setuptools)
2022-01-12 11:36:14,802 p=49615 u=moonja n=ansible | ok: [postgres-ha02] => (item=python27-python-setuptools)
2022-01-12 11:36:14,813 p=49615 u=moonja n=ansible | ok: [postgres-ha03] => (item=python27-python-setuptools)
2022-01-12 11:36:14,981 p=49615 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python27-python-setuptools)
2022-01-12 11:36:15,147 p=49615 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python27-python-setuptools)
2022-01-12 11:36:15,324 p=49615 u=moonja n=ansible | ok: [postgres-ha01] => (item=yamllint)
2022-01-12 11:36:21,095 p=49615 u=moonja n=ansible | ok: [postgres-ha02] => (item=yamllint)
2022-01-12 11:36:21,105 p=49615 u=moonja n=ansible | ok: [postgres-ha03] => (item=yamllint)
2022-01-12 11:36:21,214 p=49615 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=yamllint)
2022-01-12 11:36:22,381 p=49615 u=moonja n=ansible | ok: [postgres-ha01] => (item=daemonize)
2022-01-12 11:36:22,513 p=49615 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=yamllint)
2022-01-12 11:36:27,469 p=49615 u=moonja n=ansible | ok: [postgres-ha03] => (item=daemonize)
2022-01-12 11:36:27,481 p=49615 u=moonja n=ansible | ok: [postgres-ha02] => (item=daemonize)
2022-01-12 11:36:27,555 p=49615 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=daemonize)
2022-01-12 11:36:29,629 p=49615 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=daemonize)
2022-01-12 11:36:29,646 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Install the dependencies of etcd  on all three nodes] ****************************************
2022-01-12 11:36:29,687 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:36:29,703 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:36:30,563 p=49615 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:36:30,580 p=49615 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:36:30,582 p=49615 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:36:30,596 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Install setuptools rust on all three nodes] **************************************************
2022-01-12 11:36:30,620 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:36:30,637 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:36:37,128 p=49615 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:36:37,143 p=49615 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:36:37,143 p=49615 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:36:37,155 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Install typing pip module on all three nodes] ************************************************
2022-01-12 11:36:37,194 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:36:37,210 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:36:43,504 p=49615 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:36:43,546 p=49615 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:36:43,680 p=49615 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:36:43,692 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Upgrade pip3 version] ************************************************************************
2022-01-12 11:36:43,715 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:36:43,748 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:36:50,727 p=49615 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:36:50,736 p=49615 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:36:51,296 p=49615 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:36:51,305 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Install wheel module on all three nodes] *****************************************************
2022-01-12 11:36:51,344 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:36:51,361 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:36:57,663 p=49615 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:36:57,701 p=49615 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:36:57,759 p=49615 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:36:57,769 p=49615 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:36:57,809 p=49615 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:36:57,828 p=49615 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:36:57,851 p=49615 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "789887885829.28538",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.637815",
        "end": "2022-01-12 11:36:52.624793",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/789887885829.28538",
        "start": "2022-01-12 11:36:51.986978",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 11:36:57,852 p=49615 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "628372426635.19261",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.616067",
        "end": "2022-01-12 11:36:52.759696",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/628372426635.19261",
        "start": "2022-01-12 11:36:52.143629",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 11:36:57,891 p=49615 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "931817856580.19302",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.631786",
        "end": "2022-01-12 11:36:52.545964",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/931817856580.19302",
        "start": "2022-01-12 11:36:51.914178",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 11:36:57,907 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Install pip modules of Patroni prerequisites on all three nodes] *****************************
2022-01-12 11:36:57,947 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:36:57,962 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:37:04,346 p=49615 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:37:04,372 p=49615 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:37:04,372 p=49615 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:37:04,385 p=49615 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:37:04,425 p=49615 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:37:04,444 p=49615 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:37:04,497 p=49615 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "529926282425.28916",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.765295",
        "end": "2022-01-12 11:36:59.384392",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/529926282425.28916",
        "start": "2022-01-12 11:36:58.619097",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 11:37:04,501 p=49615 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "484792946451.19605",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.753368",
        "end": "2022-01-12 11:36:59.530261",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/484792946451.19605",
        "start": "2022-01-12 11:36:58.776893",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 11:37:04,542 p=49615 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "922987572435.19646",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.756321",
        "end": "2022-01-12 11:36:59.303472",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/922987572435.19646",
        "start": "2022-01-12 11:36:58.547151",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 11:37:04,556 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Iinstall wheel module on all three nodes] ****************************************************
2022-01-12 11:37:04,597 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:37:04,612 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:37:11,364 p=49615 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:37:11,422 p=49615 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:37:11,423 p=49615 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:37:11,435 p=49615 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:37:11,462 p=49615 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:37:11,481 p=49615 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:37:11,541 p=49615 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "350904576413.29302",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.582909",
        "end": "2022-01-12 11:37:05.801307",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/350904576413.29302",
        "start": "2022-01-12 11:37:05.218398",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 11:37:11,544 p=49615 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "118739076547.19949",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.520287",
        "end": "2022-01-12 11:37:05.907175",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/118739076547.19949",
        "start": "2022-01-12 11:37:05.386888",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 11:37:11,545 p=49615 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "391675780091.19990",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.524410",
        "end": "2022-01-12 11:37:05.679194",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/391675780091.19990",
        "start": "2022-01-12 11:37:05.154784",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 11:37:11,558 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Install psycopg2-binary module on all three nodes] *******************************************
2022-01-12 11:37:11,600 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:37:11,615 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:37:18,003 p=49615 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:37:18,004 p=49615 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:37:18,004 p=49615 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:37:18,014 p=49615 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:37:18,054 p=49615 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:37:18,075 p=49615 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:37:18,094 p=49615 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "958193306292.29681",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.580834",
        "end": "2022-01-12 11:37:12.838555",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/958193306292.29681",
        "start": "2022-01-12 11:37:12.257721",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 11:37:18,095 p=49615 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "865718978159.20301",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.512963",
        "end": "2022-01-12 11:37:12.935143",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/865718978159.20301",
        "start": "2022-01-12 11:37:12.422180",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 11:37:18,140 p=49615 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "462232596906.20334",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.512985",
        "end": "2022-01-12 11:37:12.701559",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/462232596906.20334",
        "start": "2022-01-12 11:37:12.188574",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 11:37:18,155 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Install patroni modules on all three nodes for vmware-postgres 13.x version] *****************
2022-01-12 11:37:18,194 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:37:18,210 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:37:24,562 p=49615 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:37:24,577 p=49615 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:37:24,577 p=49615 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:37:24,590 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ************************************************
2022-01-12 11:37:24,632 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:37:24,649 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:37:25,402 p=49615 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:37:25,403 p=49615 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:37:25,403 p=49615 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:37:25,416 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Create the etcd.yml configuration file for all nodes] ****************************************
2022-01-12 11:37:25,438 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:37:25,456 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:37:26,392 p=49615 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:37:26,414 p=49615 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:37:26,416 p=49615 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:37:26,428 p=49615 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:37:26,468 p=49615 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:37:26,488 p=49615 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:37:26,506 p=49615 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": false,
        "checksum": "9ae4719bb01c1f3fe9f70a6e2c0044c7c41a95fe",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": {
            "after": {
                "path": "/var/lib/pgsql/etcd.yml"
            },
            "before": {
                "path": "/var/lib/pgsql/etcd.yml"
            }
        },
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "mode": "0644",
        "owner": "postgres",
        "path": "/var/lib/pgsql/etcd.yml",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "state": "file",
        "uid": 26
    }
}
2022-01-12 11:37:26,540 p=49615 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "checksum": "15047e7ccbff3a953a4abe4edc1ee87eccf0c835",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": {
            "after": {
                "path": "/var/lib/pgsql/etcd.yml"
            },
            "before": {
                "path": "/var/lib/pgsql/etcd.yml"
            }
        },
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "mode": "0644",
        "owner": "postgres",
        "path": "/var/lib/pgsql/etcd.yml",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "state": "file",
        "uid": 26
    }
}
2022-01-12 11:37:26,541 p=49615 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "checksum": "a89b395b153fde540c5b5250ee19c5a9b4a69b60",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": {
            "after": {
                "path": "/var/lib/pgsql/etcd.yml"
            },
            "before": {
                "path": "/var/lib/pgsql/etcd.yml"
            }
        },
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "mode": "0644",
        "owner": "postgres",
        "path": "/var/lib/pgsql/etcd.yml",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "state": "file",
        "uid": 26
    }
}
2022-01-12 11:37:26,554 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of etcd into /etc/systemd/system] *********************************
2022-01-12 11:37:26,593 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:37:26,609 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:37:27,410 p=49615 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:37:27,413 p=49615 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:37:27,416 p=49615 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:37:27,430 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Reload and start etcd through systemd] *******************************************************
2022-01-12 11:37:27,470 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:37:27,486 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:37:28,142 p=49615 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:37:28,149 p=49615 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:37:28,150 p=49615 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:37:28,163 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Lists the members and identifies the current Leader.] ****************************************
2022-01-12 11:37:28,203 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:37:28,219 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:37:28,720 p=49615 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:37:28,722 p=49615 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:37:28,722 p=49615 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:37:28,733 p=49615 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:37:28,774 p=49615 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:37:28,793 p=49615 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:37:28,840 p=49615 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.019515",
        "end": "2022-01-12 11:37:28.715388",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 11:37:28.695873",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 11:37:28,842 p=49615 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.021229",
        "end": "2022-01-12 11:37:28.876017",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 11:37:28.854788",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 11:37:28,843 p=49615 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.020157",
        "end": "2022-01-12 11:37:28.643469",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 11:37:28.623312",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 11:37:28,856 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Set data directory for patroni cluster] ******************************************************
2022-01-12 11:37:29,361 p=49615 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:37:29,363 p=49615 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 11:37:29,410 p=49615 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:37:29,418 p=49615 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:37:29,603 p=49615 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 11:37:29,615 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Create the patroni.yml configuration file for all nodes] *************************************
2022-01-12 11:37:29,637 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:37:29,669 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:37:30,914 p=49615 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:37:30,917 p=49615 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:37:31,789 p=49615 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:37:31,802 p=49615 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:37:31,844 p=49615 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:37:31,863 p=49615 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:37:31,889 p=49615 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "df406392de4ce2a86cb135150d1dc0b95a97bcca",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "377ae1b9211af4340b48869a70d79e1d",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1392,
        "src": "/var/tmp/ansible-tmp-1641955049.781887-53667-194893913954323/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 11:37:31,890 p=49615 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "c13044c5884bb8a604b13030f28b433a10fcee0a",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "db004ba1c9020fbedd6793087ed3dfc6",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1392,
        "src": "/var/tmp/ansible-tmp-1641955049.783517-53668-31434509341395/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 11:37:31,895 p=49615 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "7d24ffce2d438abd450f23a9fb6580683f6a8ed8",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "3d4be51f4e3a92076f7e7473ff7efc10",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1392,
        "src": "/var/tmp/ansible-tmp-1641955049.7866828-53672-124851579938112/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 11:37:31,907 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of patroni into /etc/systemd/system] ******************************
2022-01-12 11:37:31,928 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:37:31,960 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:37:32,707 p=49615 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:37:32,709 p=49615 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:37:32,716 p=49615 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:37:32,726 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Reload and start systemd service of patroni] *************************************************
2022-01-12 11:37:32,748 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:37:32,766 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:37:33,441 p=49615 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 11:37:33,442 p=49615 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 11:37:33,442 p=49615 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 11:37:33,454 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 11:37:33,472 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:37:33,482 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Remove clsuter on master] ********************************************************************
2022-01-12 11:37:33,521 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:37:33,535 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:37:33,553 p=49615 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-12 11:37:33,564 p=49615 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-12 11:37:40,489 p=49615 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "76972745134.31995", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n", "delta": "0:00:00.269641", "end": "2022-01-12 11:37:34.620915", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/76972745134.31995", "start": "2022-01-12 11:37:34.351274", "started": 1, "stderr": "Aborted!", "stderr_lines": ["Aborted!"], "stdout": "+---------------+--------------+--------------+---------+----+-----------+\n| Member        | Host         | Role         | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader       | running |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica      | running |  1 |         0 |\n| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  1 |         0 |\n+---------------+--------------+--------------+---------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": This cluster currently is healthy. Please specify the master name to continue: ", "stdout_lines": ["+---------------+--------------+--------------+---------+----+-----------+", "| Member        | Host         | Role         | State   | TL | Lag in MB |", "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+", "| postgres-ha01 | 192.168.0.81 | Leader       | running |  1 |           |", "| postgres-ha02 | 192.168.0.82 | Replica      | running |  1 |         0 |", "| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  1 |         0 |", "+---------------+--------------+--------------+---------+----+-----------+", "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": This cluster currently is healthy. Please specify the master name to continue: "]}
2022-01-12 11:37:40,490 p=49615 u=moonja n=ansible | ...ignoring
2022-01-12 11:37:40,502 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 11:37:40,522 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:37:40,533 p=49615 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:37:40,556 p=49615 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:37:40,575 p=49615 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:37:40,640 p=49615 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "76972745134.31995",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n",
        "delta": "0:00:00.269641",
        "end": "2022-01-12 11:37:34.620915",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/76972745134.31995",
        "start": "2022-01-12 11:37:34.351274",
        "started": 1,
        "stderr": "Aborted!",
        "stderr_lines": [
            "Aborted!"
        ],
        "stdout": "+---------------+--------------+--------------+---------+----+-----------+\n| Member        | Host         | Role         | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader       | running |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica      | running |  1 |         0 |\n| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  1 |         0 |\n+---------------+--------------+--------------+---------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": This cluster currently is healthy. Please specify the master name to continue: ",
        "stdout_lines": [
            "+---------------+--------------+--------------+---------+----+-----------+",
            "| Member        | Host         | Role         | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader       | running |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica      | running |  1 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  1 |         0 |",
            "+---------------+--------------+--------------+---------+----+-----------+",
            "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": This cluster currently is healthy. Please specify the master name to continue: "
        ]
    }
}
2022-01-12 11:37:40,642 p=49615 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:37:40,643 p=49615 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:37:40,654 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Reinitialize patroni clsuter on all node] ****************************************************
2022-01-12 11:37:40,676 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:37:40,694 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:37:47,109 p=49615 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:37:47,749 p=49615 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:37:48,460 p=49615 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:37:48,469 p=49615 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:37:48,514 p=49615 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:37:48,534 p=49615 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:37:48,590 p=49615 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "118451406107.32371",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.315734",
        "end": "2022-01-12 11:37:41.619041",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/118451406107.32371",
        "start": "2022-01-12 11:37:41.303307",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+--------------+---------+----+-----------+\n| Member        | Host         | Role         | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader       | running |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica      | running |  1 |         0 |\n| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  1 |         0 |\n+---------------+--------------+--------------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (I am the leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+--------------+---------+----+-----------+",
            "| Member        | Host         | Role         | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader       | running |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica      | running |  1 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  1 |         0 |",
            "+---------------+--------------+--------------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (I am the leader, can not reinitialize)"
        ]
    }
}
2022-01-12 11:37:48,592 p=49615 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "888762079591.22407",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.316759",
        "end": "2022-01-12 11:37:41.778619",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/888762079591.22407",
        "start": "2022-01-12 11:37:41.461860",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+--------------+---------+----+-----------+\n| Member        | Host         | Role         | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader       | running |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica      | running |  1 |         0 |\n| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  1 |         0 |\n+---------------+--------------+--------------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Success: reinitialize for member postgres-ha02",
        "stdout_lines": [
            "+---------------+--------------+--------------+---------+----+-----------+",
            "| Member        | Host         | Role         | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader       | running |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica      | running |  1 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  1 |         0 |",
            "+---------------+--------------+--------------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Success: reinitialize for member postgres-ha02"
        ]
    }
}
2022-01-12 11:37:48,593 p=49615 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "322681406285.22448",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.313643",
        "end": "2022-01-12 11:37:41.550655",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/322681406285.22448",
        "start": "2022-01-12 11:37:41.237012",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+--------------+---------+----+-----------+\n| Member        | Host         | Role         | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader       | running |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica      | running |  1 |         0 |\n| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  1 |         0 |\n+---------------+--------------+--------------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha02, postgres-ha03, postgres-ha01]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Success: reinitialize for member postgres-ha03",
        "stdout_lines": [
            "+---------------+--------------+--------------+---------+----+-----------+",
            "| Member        | Host         | Role         | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader       | running |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica      | running |  1 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  1 |         0 |",
            "+---------------+--------------+--------------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha02, postgres-ha03, postgres-ha01]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Success: reinitialize for member postgres-ha03"
        ]
    }
}
2022-01-12 11:37:48,603 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ****************
2022-01-12 11:37:48,622 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:37:48,634 p=49615 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:37:48,677 p=49615 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:37:48,696 p=49615 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:37:48,740 p=49615 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "118451406107.32371",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.315734",
        "end": "2022-01-12 11:37:41.619041",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/118451406107.32371",
        "start": "2022-01-12 11:37:41.303307",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+--------------+---------+----+-----------+\n| Member        | Host         | Role         | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader       | running |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica      | running |  1 |         0 |\n| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  1 |         0 |\n+---------------+--------------+--------------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (I am the leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+--------------+---------+----+-----------+",
            "| Member        | Host         | Role         | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader       | running |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica      | running |  1 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  1 |         0 |",
            "+---------------+--------------+--------------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (I am the leader, can not reinitialize)"
        ]
    }
}
2022-01-12 11:37:48,743 p=49615 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "888762079591.22407",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.316759",
        "end": "2022-01-12 11:37:41.778619",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/888762079591.22407",
        "start": "2022-01-12 11:37:41.461860",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+--------------+---------+----+-----------+\n| Member        | Host         | Role         | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader       | running |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica      | running |  1 |         0 |\n| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  1 |         0 |\n+---------------+--------------+--------------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Success: reinitialize for member postgres-ha02",
        "stdout_lines": [
            "+---------------+--------------+--------------+---------+----+-----------+",
            "| Member        | Host         | Role         | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader       | running |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica      | running |  1 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  1 |         0 |",
            "+---------------+--------------+--------------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Success: reinitialize for member postgres-ha02"
        ]
    }
}
2022-01-12 11:37:48,743 p=49615 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "322681406285.22448",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.313643",
        "end": "2022-01-12 11:37:41.550655",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/322681406285.22448",
        "start": "2022-01-12 11:37:41.237012",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+--------------+---------+----+-----------+\n| Member        | Host         | Role         | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader       | running |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica      | running |  1 |         0 |\n| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  1 |         0 |\n+---------------+--------------+--------------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha02, postgres-ha03, postgres-ha01]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Success: reinitialize for member postgres-ha03",
        "stdout_lines": [
            "+---------------+--------------+--------------+---------+----+-----------+",
            "| Member        | Host         | Role         | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader       | running |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica      | running |  1 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  1 |         0 |",
            "+---------------+--------------+--------------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha02, postgres-ha03, postgres-ha01]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Success: reinitialize for member postgres-ha03"
        ]
    }
}
2022-01-12 11:37:48,754 p=49615 u=moonja n=ansible | TASK [patroni-postgres : Run the patronictl command-line utility to view the cluster state with Patroni started on all three nodes,] ***
2022-01-12 11:37:48,777 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 11:37:48,794 p=49615 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 11:37:49,592 p=49615 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 11:37:49,594 p=49615 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 11:37:49,598 p=49615 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 11:37:49,608 p=49615 u=moonja n=ansible | TASK [patroni-postgres : debug] ***************************************************************************************
2022-01-12 11:37:49,649 p=49615 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:37:49,669 p=49615 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 11:37:49,689 p=49615 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.311005",
        "end": "2022-01-12 11:37:49.586107",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 11:37:49.275102",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+------------------+----+-----------+\n| Member        | Host         | Role    | State            | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) ------+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running          |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | creating replica |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | running          |  1 |         0 |\n+---------------+--------------+---------+------------------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+------------------+----+-----------+",
            "| Member        | Host         | Role    | State            | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) ------+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running          |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | creating replica |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | running          |  1 |         0 |",
            "+---------------+--------------+---------+------------------+----+-----------+"
        ]
    }
}
2022-01-12 11:37:49,690 p=49615 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.321521",
        "end": "2022-01-12 11:37:49.762034",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 11:37:49.440513",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+------------------+----+-----------+\n| Member        | Host         | Role    | State            | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) ------+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running          |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | creating replica |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | running          |  1 |         0 |\n+---------------+--------------+---------+------------------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+------------------+----+-----------+",
            "| Member        | Host         | Role    | State            | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) ------+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running          |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | creating replica |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | running          |  1 |         0 |",
            "+---------------+--------------+---------+------------------+----+-----------+"
        ]
    }
}
2022-01-12 11:37:49,739 p=49615 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.311209",
        "end": "2022-01-12 11:37:49.522285",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 11:37:49.211076",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+------------------+----+-----------+\n| Member        | Host         | Role    | State            | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) ------+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running          |  1 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | creating replica |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | running          |  1 |         0 |\n+---------------+--------------+---------+------------------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+------------------+----+-----------+",
            "| Member        | Host         | Role    | State            | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) ------+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running          |  1 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | creating replica |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | running          |  1 |         0 |",
            "+---------------+--------------+---------+------------------+----+-----------+"
        ]
    }
}
2022-01-12 11:37:49,800 p=49615 u=moonja n=ansible | PLAY RECAP ************************************************************************************************************
2022-01-12 11:37:49,800 p=49615 u=moonja n=ansible | postgres-ha01              : ok=40   changed=15   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-12 11:37:49,800 p=49615 u=moonja n=ansible | postgres-ha02              : ok=39   changed=15   unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2022-01-12 11:37:49,801 p=49615 u=moonja n=ansible | postgres-ha03              : ok=39   changed=15   unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2022-01-12 11:37:49,801 p=49615 u=moonja n=ansible | postgres-haproxy01         : ok=20   changed=3    unreachable=0    failed=0    skipped=23   rescued=0    ignored=0   
2022-01-12 11:37:49,801 p=49615 u=moonja n=ansible | postgres-haproxy02         : ok=20   changed=3    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
2022-01-12 12:23:21,437 p=62278 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be removed from ansible-core in version 2.14. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 12:23:21,450 p=62278 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 12:23:21,722 p=62278 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed in version 2.16. Deprecation warnings can be disabled by 
setting deprecation_warnings=False in ansible.cfg.
2022-01-12 12:23:21,781 p=62278 u=moonja n=ansible | PLAY [all] ***********************************************************************************************************************************************************************
2022-01-12 12:23:21,813 p=62278 u=moonja n=ansible | TASK [Gathering Facts] ***********************************************************************************************************************************************************
2022-01-12 12:23:23,608 p=62278 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 12:23:23,610 p=62278 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 12:23:23,611 p=62278 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 12:23:28,074 p=62278 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 12:23:28,076 p=62278 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 12:23:28,095 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] *****************************************************************************************************************************
2022-01-12 12:23:29,194 p=62278 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 12:23:29,200 p=62278 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 12:23:29,211 p=62278 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 12:23:29,220 p=62278 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 12:23:29,243 p=62278 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 12:23:29,258 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ***********************************************************************************************************************************
2022-01-12 12:23:30,179 p=62278 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 12:23:30,185 p=62278 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:23:30,185 p=62278 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 12:23:30,191 p=62278 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 12:23:30,191 p=62278 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:23:30,206 p=62278 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] ************************************************************************************************************************************
2022-01-12 12:23:30,876 p=62278 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 12:23:30,886 p=62278 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 12:23:30,897 p=62278 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:23:30,904 p=62278 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:23:30,909 p=62278 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 12:23:30,922 p=62278 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************
2022-01-12 12:23:30,959 p=62278 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 12:23:30,975 p=62278 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 12:23:30,993 p=62278 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 12:23:30,993 p=62278 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 12:23:31,006 p=62278 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 12:23:31,035 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] *********************************************************************************************
2022-01-12 12:23:32,666 p=62278 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 12:23:32,673 p=62278 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 12:23:32,675 p=62278 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 12:23:32,693 p=62278 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 12:23:32,697 p=62278 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 12:23:32,713 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] ***********************************************************************************************************
2022-01-12 12:23:40,193 p=62278 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 12:23:40,295 p=62278 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 12:23:40,295 p=62278 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 12:23:40,295 p=62278 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 12:23:40,295 p=62278 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 12:23:40,307 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] ******************************************************************************************
2022-01-12 12:23:47,152 p=62278 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3)
2022-01-12 12:23:47,274 p=62278 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3)
2022-01-12 12:23:47,462 p=62278 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3)
2022-01-12 12:23:47,479 p=62278 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3)
2022-01-12 12:23:47,496 p=62278 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3)
2022-01-12 12:23:53,472 p=62278 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-devel)
2022-01-12 12:23:53,769 p=62278 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-devel)
2022-01-12 12:23:53,777 p=62278 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-devel)
2022-01-12 12:23:53,791 p=62278 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-devel)
2022-01-12 12:23:54,112 p=62278 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-devel)
2022-01-12 12:23:59,789 p=62278 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=gcc)
2022-01-12 12:24:00,003 p=62278 u=moonja n=ansible | ok: [postgres-ha02] => (item=gcc)
2022-01-12 12:24:00,021 p=62278 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=gcc)
2022-01-12 12:24:00,022 p=62278 u=moonja n=ansible | ok: [postgres-ha01] => (item=gcc)
2022-01-12 12:24:00,333 p=62278 u=moonja n=ansible | ok: [postgres-ha03] => (item=gcc)
2022-01-12 12:24:06,146 p=62278 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=etcd)
2022-01-12 12:24:06,268 p=62278 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=etcd)
2022-01-12 12:24:06,284 p=62278 u=moonja n=ansible | ok: [postgres-ha02] => (item=etcd)
2022-01-12 12:24:06,285 p=62278 u=moonja n=ansible | ok: [postgres-ha01] => (item=etcd)
2022-01-12 12:24:06,591 p=62278 u=moonja n=ansible | ok: [postgres-ha03] => (item=etcd)
2022-01-12 12:24:12,578 p=62278 u=moonja n=ansible | ok: [postgres-ha01] => (item=python-psycopg2)
2022-01-12 12:24:17,806 p=62278 u=moonja n=ansible | changed: [postgres-haproxy02] => (item=python-psycopg2)
2022-01-12 12:24:17,850 p=62278 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=python-psycopg2)
2022-01-12 12:24:18,141 p=62278 u=moonja n=ansible | changed: [postgres-ha03] => (item=python-psycopg2)
2022-01-12 12:24:18,847 p=62278 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-pip)
2022-01-12 12:24:23,327 p=62278 u=moonja n=ansible | changed: [postgres-ha02] => (item=python-psycopg2)
2022-01-12 12:24:23,956 p=62278 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-pip)
2022-01-12 12:24:24,004 p=62278 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-pip)
2022-01-12 12:24:24,497 p=62278 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-pip)
2022-01-12 12:24:25,199 p=62278 u=moonja n=ansible | ok: [postgres-ha01] => (item=python34-setuptools)
2022-01-12 12:24:29,731 p=62278 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-pip)
2022-01-12 12:24:30,055 p=62278 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python34-setuptools)
2022-01-12 12:24:30,167 p=62278 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python34-setuptools)
2022-01-12 12:24:30,692 p=62278 u=moonja n=ansible | ok: [postgres-ha03] => (item=python34-setuptools)
2022-01-12 12:24:31,481 p=62278 u=moonja n=ansible | ok: [postgres-ha01] => (item=python27-python-setuptools)
2022-01-12 12:24:36,072 p=62278 u=moonja n=ansible | ok: [postgres-ha02] => (item=python34-setuptools)
2022-01-12 12:24:36,248 p=62278 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python27-python-setuptools)
2022-01-12 12:24:36,344 p=62278 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python27-python-setuptools)
2022-01-12 12:24:36,880 p=62278 u=moonja n=ansible | ok: [postgres-ha03] => (item=python27-python-setuptools)
2022-01-12 12:24:38,142 p=62278 u=moonja n=ansible | ok: [postgres-ha01] => (item=yamllint)
2022-01-12 12:24:42,551 p=62278 u=moonja n=ansible | ok: [postgres-ha02] => (item=python27-python-setuptools)
2022-01-12 12:24:42,727 p=62278 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=yamllint)
2022-01-12 12:24:42,799 p=62278 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=yamllint)
2022-01-12 12:24:43,347 p=62278 u=moonja n=ansible | ok: [postgres-ha03] => (item=yamllint)
2022-01-12 12:24:45,018 p=62278 u=moonja n=ansible | ok: [postgres-ha01] => (item=daemonize)
2022-01-12 12:24:48,851 p=62278 u=moonja n=ansible | ok: [postgres-ha02] => (item=yamllint)
2022-01-12 12:24:48,912 p=62278 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=daemonize)
2022-01-12 12:24:48,958 p=62278 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=daemonize)
2022-01-12 12:24:49,629 p=62278 u=moonja n=ansible | ok: [postgres-ha03] => (item=daemonize)
2022-01-12 12:24:55,246 p=62278 u=moonja n=ansible | ok: [postgres-ha02] => (item=daemonize)
2022-01-12 12:24:55,263 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Install the dependencies of etcd  on all three nodes] ***************************************************************************************************
2022-01-12 12:24:55,304 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:24:55,320 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:24:56,112 p=62278 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 12:24:56,288 p=62278 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 12:24:56,635 p=62278 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 12:24:56,650 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Install setuptools rust on all three nodes] *************************************************************************************************************
2022-01-12 12:24:56,675 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:24:56,694 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:25:03,048 p=62278 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:25:03,075 p=62278 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:25:03,075 p=62278 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 12:25:03,085 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Install typing pip module on all three nodes] ***********************************************************************************************************
2022-01-12 12:25:03,128 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:25:03,144 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:25:09,510 p=62278 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:25:09,522 p=62278 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:25:09,523 p=62278 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 12:25:09,535 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Upgrade pip3 version] ***********************************************************************************************************************************
2022-01-12 12:25:09,578 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:25:09,595 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:25:16,003 p=62278 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:25:16,016 p=62278 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:25:16,017 p=62278 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 12:25:16,029 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Install wheel module on all three nodes] ****************************************************************************************************************
2022-01-12 12:25:16,053 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:25:16,086 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:25:22,404 p=62278 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 12:25:22,418 p=62278 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:25:22,419 p=62278 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:25:22,431 p=62278 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************
2022-01-12 12:25:22,473 p=62278 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:25:22,495 p=62278 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:25:22,513 p=62278 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "808313221386.8913",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.651903",
        "end": "2022-01-12 12:25:17.193372",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/808313221386.8913",
        "start": "2022-01-12 12:25:16.541469",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 12:25:22,514 p=62278 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "209593731932.8193",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.616421",
        "end": "2022-01-12 12:25:17.431375",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/209593731932.8193",
        "start": "2022-01-12 12:25:16.814954",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 12:25:22,529 p=62278 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "913979106662.7979",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.650155",
        "end": "2022-01-12 12:25:16.839901",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/913979106662.7979",
        "start": "2022-01-12 12:25:16.189746",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 12:25:22,541 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Install pip modules of Patroni prerequisites on all three nodes] ****************************************************************************************
2022-01-12 12:25:22,563 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:25:22,581 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:25:28,945 p=62278 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:25:28,959 p=62278 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 12:25:28,960 p=62278 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:25:28,971 p=62278 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************
2022-01-12 12:25:29,012 p=62278 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:25:29,032 p=62278 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:25:29,053 p=62278 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "422432749481.9291",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.802396",
        "end": "2022-01-12 12:25:23.830083",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/422432749481.9291",
        "start": "2022-01-12 12:25:23.027687",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 12:25:29,055 p=62278 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "578532729383.8537",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.802104",
        "end": "2022-01-12 12:25:24.093616",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/578532729383.8537",
        "start": "2022-01-12 12:25:23.291512",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 12:25:29,067 p=62278 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "537727254062.8331",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.738049",
        "end": "2022-01-12 12:25:23.416263",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/537727254062.8331",
        "start": "2022-01-12 12:25:22.678214",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 12:25:29,079 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Iinstall wheel module on all three nodes] ***************************************************************************************************************
2022-01-12 12:25:29,120 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:25:29,136 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:25:35,494 p=62278 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:25:35,505 p=62278 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:25:35,505 p=62278 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 12:25:35,516 p=62278 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************
2022-01-12 12:25:35,561 p=62278 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:25:35,583 p=62278 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:25:35,603 p=62278 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "589491798389.9690",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.590051",
        "end": "2022-01-12 12:25:30.212305",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/589491798389.9690",
        "start": "2022-01-12 12:25:29.622254",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 12:25:35,604 p=62278 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "938093503591.8890",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.519077",
        "end": "2022-01-12 12:25:30.397933",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/938093503591.8890",
        "start": "2022-01-12 12:25:29.878856",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 12:25:35,619 p=62278 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "336096342185.8675",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.505858",
        "end": "2022-01-12 12:25:29.762354",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/336096342185.8675",
        "start": "2022-01-12 12:25:29.256496",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 12:25:35,630 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Install psycopg2-binary module on all three nodes] ******************************************************************************************************
2022-01-12 12:25:35,670 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:25:35,686 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:25:42,095 p=62278 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 12:25:42,116 p=62278 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:25:42,116 p=62278 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:25:42,127 p=62278 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************
2022-01-12 12:25:42,154 p=62278 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:25:42,176 p=62278 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:25:42,199 p=62278 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "683831556864.10068",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.582000",
        "end": "2022-01-12 12:25:36.751079",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/683831556864.10068",
        "start": "2022-01-12 12:25:36.169079",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 12:25:42,222 p=62278 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "632434699295.9234",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.527052",
        "end": "2022-01-12 12:25:36.972309",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/632434699295.9234",
        "start": "2022-01-12 12:25:36.445257",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 12:25:42,237 p=62278 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "593125530803.9019",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.524657",
        "end": "2022-01-12 12:25:36.349500",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/593125530803.9019",
        "start": "2022-01-12 12:25:35.824843",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 12:25:42,260 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Install patroni modules on all three nodes for vmware-postgres 13.x version] ****************************************************************************
2022-01-12 12:25:42,317 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:25:42,352 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:25:48,703 p=62278 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 12:25:48,760 p=62278 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:25:48,760 p=62278 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:25:48,773 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ***********************************************************************************************************
2022-01-12 12:25:48,802 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:25:48,823 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:25:49,707 p=62278 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:25:49,719 p=62278 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 12:25:49,720 p=62278 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:25:49,734 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Create the etcd.yml configuration file for all nodes] ***************************************************************************************************
2022-01-12 12:25:49,758 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:25:49,777 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:25:50,793 p=62278 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 12:25:50,794 p=62278 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 12:25:50,794 p=62278 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 12:25:50,807 p=62278 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************
2022-01-12 12:25:50,849 p=62278 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:25:50,870 p=62278 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:25:50,890 p=62278 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": false,
        "checksum": "9ae4719bb01c1f3fe9f70a6e2c0044c7c41a95fe",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": {
            "after": {
                "path": "/var/lib/pgsql/etcd.yml"
            },
            "before": {
                "path": "/var/lib/pgsql/etcd.yml"
            }
        },
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "mode": "0644",
        "owner": "postgres",
        "path": "/var/lib/pgsql/etcd.yml",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "state": "file",
        "uid": 26
    }
}
2022-01-12 12:25:50,891 p=62278 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "checksum": "15047e7ccbff3a953a4abe4edc1ee87eccf0c835",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": {
            "after": {
                "path": "/var/lib/pgsql/etcd.yml"
            },
            "before": {
                "path": "/var/lib/pgsql/etcd.yml"
            }
        },
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "mode": "0644",
        "owner": "postgres",
        "path": "/var/lib/pgsql/etcd.yml",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "state": "file",
        "uid": 26
    }
}
2022-01-12 12:25:50,906 p=62278 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "checksum": "a89b395b153fde540c5b5250ee19c5a9b4a69b60",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": {
            "after": {
                "path": "/var/lib/pgsql/etcd.yml"
            },
            "before": {
                "path": "/var/lib/pgsql/etcd.yml"
            }
        },
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "mode": "0644",
        "owner": "postgres",
        "path": "/var/lib/pgsql/etcd.yml",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "state": "file",
        "uid": 26
    }
}
2022-01-12 12:25:50,916 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of etcd into /etc/systemd/system] ********************************************************************************************
2022-01-12 12:25:50,939 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:25:50,958 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:25:51,748 p=62278 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 12:25:51,777 p=62278 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 12:25:51,780 p=62278 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 12:25:51,794 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Reload and start etcd through systemd] ******************************************************************************************************************
2022-01-12 12:25:51,818 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:25:51,837 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:25:52,473 p=62278 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 12:25:52,482 p=62278 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 12:25:52,508 p=62278 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 12:25:52,522 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Lists the members and identifies the current Leader.] ***************************************************************************************************
2022-01-12 12:25:52,547 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:25:52,581 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:25:53,078 p=62278 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 12:25:53,083 p=62278 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:25:53,085 p=62278 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:25:53,098 p=62278 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************
2022-01-12 12:25:53,140 p=62278 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:25:53,158 p=62278 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:25:53,178 p=62278 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.023592",
        "end": "2022-01-12 12:25:52.919557",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 12:25:52.895965",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 12:25:53,179 p=62278 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.035330",
        "end": "2022-01-12 12:25:53.190919",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 12:25:53.155589",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 12:25:53,192 p=62278 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.035759",
        "end": "2022-01-12 12:25:52.568522",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 12:25:52.532763",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 12:25:53,205 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Set data directory for patroni cluster] *****************************************************************************************************************
2022-01-12 12:25:53,712 p=62278 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 12:25:53,713 p=62278 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 12:25:53,717 p=62278 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 12:25:53,944 p=62278 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 12:25:53,945 p=62278 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 12:25:53,956 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Create the patroni.yml configuration file for all nodes] ************************************************************************************************
2022-01-12 12:25:53,979 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:25:53,997 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:25:55,209 p=62278 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:25:55,210 p=62278 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:25:55,212 p=62278 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 12:25:55,223 p=62278 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************
2022-01-12 12:25:55,265 p=62278 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:25:55,283 p=62278 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:25:55,302 p=62278 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "e28aaba2359c51e018035af0df9c92e5ef3650d5",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "01d2b6dc229e340a5bf0ca0546877755",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1627,
        "src": "/var/tmp/ansible-tmp-1641957954.129195-66362-249487794480222/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 12:25:55,303 p=62278 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "272a3574c0ace3a6e68f1fceb9c2503f8dbc7954",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "8f7efc7bc963adffd64243a7601b2a29",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1627,
        "src": "/var/tmp/ansible-tmp-1641957954.1313589-66363-214920315692106/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 12:25:55,318 p=62278 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "ae20caff13fc9b9c58e4adfcf67a9a8597b91f40",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "734a7883ceef7b5aeeb2c85d56046c70",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1627,
        "src": "/var/tmp/ansible-tmp-1641957954.1357892-66367-176318948663793/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 12:25:55,329 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of patroni into /etc/systemd/system] *****************************************************************************************
2022-01-12 12:25:55,368 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:25:55,385 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:25:56,219 p=62278 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 12:25:56,219 p=62278 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 12:25:56,227 p=62278 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 12:25:56,239 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Reload and start systemd service of patroni] ************************************************************************************************************
2022-01-12 12:25:56,278 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:25:56,294 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:25:56,920 p=62278 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 12:25:56,923 p=62278 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 12:25:56,931 p=62278 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 12:25:56,945 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ***************************************************************************
2022-01-12 12:25:56,963 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:25:56,974 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Remove clsuter on master] *******************************************************************************************************************************
2022-01-12 12:25:56,996 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:25:57,014 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:25:57,048 p=62278 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-12 12:25:57,058 p=62278 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-12 12:26:03,428 p=62278 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "345806466320.12385", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n", "delta": "0:00:00.267276", "end": "2022-01-12 12:25:57.807246", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/345806466320.12385", "start": "2022-01-12 12:25:57.539970", "started": 1, "stderr": "Aborted!", "stderr_lines": ["Aborted!"], "stdout": "+---------------+--------------+--------------+---------+----+-----------+\n| Member        | Host         | Role         | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |\n| postgres-ha02 | 192.168.0.82 | Replica      | running |  9 |         0 |\n| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  9 |         0 |\n+---------------+--------------+--------------+---------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": This cluster currently is healthy. Please specify the master name to continue: ", "stdout_lines": ["+---------------+--------------+--------------+---------+----+-----------+", "| Member        | Host         | Role         | State   | TL | Lag in MB |", "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+", "| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |", "| postgres-ha02 | 192.168.0.82 | Replica      | running |  9 |         0 |", "| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  9 |         0 |", "+---------------+--------------+--------------+---------+----+-----------+", "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": This cluster currently is healthy. Please specify the master name to continue: "]}
2022-01-12 12:26:03,428 p=62278 u=moonja n=ansible | ...ignoring
2022-01-12 12:26:03,437 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ***************************************************************************
2022-01-12 12:26:03,456 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:26:03,479 p=62278 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************
2022-01-12 12:26:03,531 p=62278 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:26:03,551 p=62278 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:26:03,575 p=62278 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "345806466320.12385",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n",
        "delta": "0:00:00.267276",
        "end": "2022-01-12 12:25:57.807246",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/345806466320.12385",
        "start": "2022-01-12 12:25:57.539970",
        "started": 1,
        "stderr": "Aborted!",
        "stderr_lines": [
            "Aborted!"
        ],
        "stdout": "+---------------+--------------+--------------+---------+----+-----------+\n| Member        | Host         | Role         | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |\n| postgres-ha02 | 192.168.0.82 | Replica      | running |  9 |         0 |\n| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  9 |         0 |\n+---------------+--------------+--------------+---------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": This cluster currently is healthy. Please specify the master name to continue: ",
        "stdout_lines": [
            "+---------------+--------------+--------------+---------+----+-----------+",
            "| Member        | Host         | Role         | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica      | running |  9 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  9 |         0 |",
            "+---------------+--------------+--------------+---------+----+-----------+",
            "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": This cluster currently is healthy. Please specify the master name to continue: "
        ]
    }
}
2022-01-12 12:26:03,579 p=62278 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:26:03,591 p=62278 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:26:03,609 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Reinitialize patroni clsuter on all node] ***************************************************************************************************************
2022-01-12 12:26:03,657 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:26:03,672 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:26:10,062 p=62278 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:26:10,123 p=62278 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 12:26:10,137 p=62278 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:26:10,148 p=62278 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************
2022-01-12 12:26:10,194 p=62278 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:26:10,214 p=62278 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:26:10,235 p=62278 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "661361080809.12769",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.305352",
        "end": "2022-01-12 12:26:04.374602",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/661361080809.12769",
        "start": "2022-01-12 12:26:04.069250",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+--------------+---------+----+-----------+\n| Member        | Host         | Role         | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |\n| postgres-ha02 | 192.168.0.82 | Replica      | running |  9 |         0 |\n| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  9 |         0 |\n+---------------+--------------+--------------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (I am the leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+--------------+---------+----+-----------+",
            "| Member        | Host         | Role         | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica      | running |  9 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  9 |         0 |",
            "+---------------+--------------+--------------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (I am the leader, can not reinitialize)"
        ]
    }
}
2022-01-12 12:26:10,236 p=62278 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "752495354602.11339",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.332475",
        "end": "2022-01-12 12:26:04.663117",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/752495354602.11339",
        "start": "2022-01-12 12:26:04.330642",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+--------------+---------+----+-----------+\n| Member        | Host         | Role         | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |\n| postgres-ha02 | 192.168.0.82 | Replica      | running |  9 |         0 |\n| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  9 |         0 |\n+---------------+--------------+--------------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Success: reinitialize for member postgres-ha02",
        "stdout_lines": [
            "+---------------+--------------+--------------+---------+----+-----------+",
            "| Member        | Host         | Role         | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica      | running |  9 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  9 |         0 |",
            "+---------------+--------------+--------------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Success: reinitialize for member postgres-ha02"
        ]
    }
}
2022-01-12 12:26:10,252 p=62278 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "919846204129.11123",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.340881",
        "end": "2022-01-12 12:26:04.070610",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/919846204129.11123",
        "start": "2022-01-12 12:26:03.729729",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+--------------+---------+----+-----------+\n| Member        | Host         | Role         | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |\n| postgres-ha02 | 192.168.0.82 | Replica      | running |  9 |         0 |\n| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  9 |         0 |\n+---------------+--------------+--------------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Success: reinitialize for member postgres-ha03",
        "stdout_lines": [
            "+---------------+--------------+--------------+---------+----+-----------+",
            "| Member        | Host         | Role         | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica      | running |  9 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  9 |         0 |",
            "+---------------+--------------+--------------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Success: reinitialize for member postgres-ha03"
        ]
    }
}
2022-01-12 12:26:10,263 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ***************************************************************************
2022-01-12 12:26:10,283 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:26:10,293 p=62278 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************
2022-01-12 12:26:10,335 p=62278 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:26:10,354 p=62278 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:26:10,374 p=62278 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "661361080809.12769",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.305352",
        "end": "2022-01-12 12:26:04.374602",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/661361080809.12769",
        "start": "2022-01-12 12:26:04.069250",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+--------------+---------+----+-----------+\n| Member        | Host         | Role         | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |\n| postgres-ha02 | 192.168.0.82 | Replica      | running |  9 |         0 |\n| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  9 |         0 |\n+---------------+--------------+--------------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (I am the leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+--------------+---------+----+-----------+",
            "| Member        | Host         | Role         | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica      | running |  9 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  9 |         0 |",
            "+---------------+--------------+--------------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha03, postgres-ha01, postgres-ha02]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (I am the leader, can not reinitialize)"
        ]
    }
}
2022-01-12 12:26:10,375 p=62278 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "752495354602.11339",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.332475",
        "end": "2022-01-12 12:26:04.663117",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/752495354602.11339",
        "start": "2022-01-12 12:26:04.330642",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+--------------+---------+----+-----------+\n| Member        | Host         | Role         | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |\n| postgres-ha02 | 192.168.0.82 | Replica      | running |  9 |         0 |\n| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  9 |         0 |\n+---------------+--------------+--------------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Success: reinitialize for member postgres-ha02",
        "stdout_lines": [
            "+---------------+--------------+--------------+---------+----+-----------+",
            "| Member        | Host         | Role         | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica      | running |  9 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  9 |         0 |",
            "+---------------+--------------+--------------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Success: reinitialize for member postgres-ha02"
        ]
    }
}
2022-01-12 12:26:10,387 p=62278 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "919846204129.11123",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.340881",
        "end": "2022-01-12 12:26:04.070610",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/919846204129.11123",
        "start": "2022-01-12 12:26:03.729729",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+--------------+---------+----+-----------+\n| Member        | Host         | Role         | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |\n| postgres-ha02 | 192.168.0.82 | Replica      | running |  9 |         0 |\n| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  9 |         0 |\n+---------------+--------------+--------------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Success: reinitialize for member postgres-ha03",
        "stdout_lines": [
            "+---------------+--------------+--------------+---------+----+-----------+",
            "| Member        | Host         | Role         | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica      | running |  9 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Sync Standby | running |  9 |         0 |",
            "+---------------+--------------+--------------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Success: reinitialize for member postgres-ha03"
        ]
    }
}
2022-01-12 12:26:10,399 p=62278 u=moonja n=ansible | TASK [patroni-postgres : Run the patronictl command-line utility to view the cluster state with Patroni started on all three nodes,] *********************************************
2022-01-12 12:26:10,422 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:26:10,457 p=62278 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:26:11,182 p=62278 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 12:26:11,217 p=62278 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:26:11,226 p=62278 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:26:11,238 p=62278 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************
2022-01-12 12:26:11,281 p=62278 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:26:11,299 p=62278 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:26:11,320 p=62278 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.299622",
        "end": "2022-01-12 12:26:11.021979",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 12:26:10.722357",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+------------------+----+-----------+\n| Member        | Host         | Role    | State            | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) ------+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running          |  9 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | creating replica |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | creating replica |    |   unknown |\n+---------------+--------------+---------+------------------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+------------------+----+-----------+",
            "| Member        | Host         | Role    | State            | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) ------+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running          |  9 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | creating replica |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | creating replica |    |   unknown |",
            "+---------------+--------------+---------+------------------+----+-----------+"
        ]
    }
}
2022-01-12 12:26:11,321 p=62278 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.332622",
        "end": "2022-01-12 12:26:11.327388",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 12:26:10.994766",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+------------------+----+-----------+\n| Member        | Host         | Role    | State            | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) ------+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running          |  9 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | creating replica |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | creating replica |    |   unknown |\n+---------------+--------------+---------+------------------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+------------------+----+-----------+",
            "| Member        | Host         | Role    | State            | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) ------+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running          |  9 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | creating replica |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | creating replica |    |   unknown |",
            "+---------------+--------------+---------+------------------+----+-----------+"
        ]
    }
}
2022-01-12 12:26:11,333 p=62278 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.323900",
        "end": "2022-01-12 12:26:10.711666",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 12:26:10.387766",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+---------+------------------+----+-----------+\n| Member        | Host         | Role    | State            | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) ------+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader  | running          |  9 |           |\n| postgres-ha02 | 192.168.0.82 | Replica | creating replica |    |   unknown |\n| postgres-ha03 | 192.168.0.83 | Replica | creating replica |    |   unknown |\n+---------------+--------------+---------+------------------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+---------+------------------+----+-----------+",
            "| Member        | Host         | Role    | State            | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) ------+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader  | running          |  9 |           |",
            "| postgres-ha02 | 192.168.0.82 | Replica | creating replica |    |   unknown |",
            "| postgres-ha03 | 192.168.0.83 | Replica | creating replica |    |   unknown |",
            "+---------------+--------------+---------+------------------+----+-----------+"
        ]
    }
}
2022-01-12 12:26:11,391 p=62278 u=moonja n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************
2022-01-12 12:26:11,391 p=62278 u=moonja n=ansible | postgres-ha01              : ok=40   changed=15   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-12 12:26:11,391 p=62278 u=moonja n=ansible | postgres-ha02              : ok=39   changed=16   unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2022-01-12 12:26:11,391 p=62278 u=moonja n=ansible | postgres-ha03              : ok=39   changed=16   unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2022-01-12 12:26:11,391 p=62278 u=moonja n=ansible | postgres-haproxy01         : ok=20   changed=3    unreachable=0    failed=0    skipped=23   rescued=0    ignored=0   
2022-01-12 12:26:11,391 p=62278 u=moonja n=ansible | postgres-haproxy02         : ok=20   changed=3    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
2022-01-12 12:29:26,341 p=67623 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be removed from ansible-core in version 2.14. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-01-12 12:29:26,352 p=67623 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-01-12 12:29:26,598 p=67623 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed in version 2.16. Deprecation warnings can be disabled by 
setting deprecation_warnings=False in ansible.cfg.
2022-01-12 12:29:26,654 p=67623 u=moonja n=ansible | PLAY [all] ***********************************************************************************************************************************************************************
2022-01-12 12:29:26,684 p=67623 u=moonja n=ansible | TASK [Gathering Facts] ***********************************************************************************************************************************************************
2022-01-12 12:29:28,739 p=67623 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 12:29:28,740 p=67623 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 12:29:28,744 p=67623 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 12:29:28,749 p=67623 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 12:29:28,754 p=67623 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 12:29:28,772 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] *****************************************************************************************************************************
2022-01-12 12:29:29,953 p=67623 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 12:29:29,957 p=67623 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 12:29:29,968 p=67623 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 12:29:29,969 p=67623 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 12:29:29,973 p=67623 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 12:29:29,985 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ***********************************************************************************************************************************
2022-01-12 12:29:30,906 p=67623 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:29:30,907 p=67623 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 12:29:30,912 p=67623 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 12:29:30,912 p=67623 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 12:29:30,919 p=67623 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:29:30,932 p=67623 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] ************************************************************************************************************************************
2022-01-12 12:29:31,542 p=67623 u=moonja n=ansible | changed: [postgres-haproxy01]
2022-01-12 12:29:31,542 p=67623 u=moonja n=ansible | changed: [postgres-haproxy02]
2022-01-12 12:29:31,564 p=67623 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:29:31,569 p=67623 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 12:29:31,578 p=67623 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:29:31,590 p=67623 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************
2022-01-12 12:29:31,612 p=67623 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 12:29:31,645 p=67623 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 12:29:31,662 p=67623 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 12:29:31,663 p=67623 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 12:29:31,675 p=67623 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-01-12 12:29:31,687 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] *********************************************************************************************
2022-01-12 12:29:33,222 p=67623 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 12:29:33,224 p=67623 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 12:29:33,232 p=67623 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 12:29:33,252 p=67623 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 12:29:33,253 p=67623 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 12:29:33,267 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] ***********************************************************************************************************
2022-01-12 12:29:40,647 p=67623 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 12:29:40,699 p=67623 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 12:29:40,722 p=67623 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 12:29:40,722 p=67623 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 12:29:40,770 p=67623 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 12:29:40,781 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] ******************************************************************************************
2022-01-12 12:29:47,467 p=67623 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3)
2022-01-12 12:29:47,534 p=67623 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3)
2022-01-12 12:29:47,566 p=67623 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3)
2022-01-12 12:29:47,566 p=67623 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3)
2022-01-12 12:29:47,567 p=67623 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3)
2022-01-12 12:29:53,700 p=67623 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-devel)
2022-01-12 12:29:53,739 p=67623 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-devel)
2022-01-12 12:29:53,748 p=67623 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-devel)
2022-01-12 12:29:53,772 p=67623 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-devel)
2022-01-12 12:29:53,785 p=67623 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-devel)
2022-01-12 12:29:59,980 p=67623 u=moonja n=ansible | ok: [postgres-ha03] => (item=gcc)
2022-01-12 12:30:00,042 p=67623 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=gcc)
2022-01-12 12:30:00,051 p=67623 u=moonja n=ansible | ok: [postgres-ha01] => (item=gcc)
2022-01-12 12:30:00,060 p=67623 u=moonja n=ansible | ok: [postgres-ha02] => (item=gcc)
2022-01-12 12:30:00,148 p=67623 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=gcc)
2022-01-12 12:30:06,253 p=67623 u=moonja n=ansible | ok: [postgres-ha03] => (item=etcd)
2022-01-12 12:30:06,287 p=67623 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=etcd)
2022-01-12 12:30:06,297 p=67623 u=moonja n=ansible | ok: [postgres-ha01] => (item=etcd)
2022-01-12 12:30:06,320 p=67623 u=moonja n=ansible | ok: [postgres-ha02] => (item=etcd)
2022-01-12 12:30:06,408 p=67623 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=etcd)
2022-01-12 12:30:12,482 p=67623 u=moonja n=ansible | ok: [postgres-ha01] => (item=python-psycopg2)
2022-01-12 12:30:17,848 p=67623 u=moonja n=ansible | changed: [postgres-haproxy02] => (item=python-psycopg2)
2022-01-12 12:30:17,876 p=67623 u=moonja n=ansible | changed: [postgres-ha02] => (item=python-psycopg2)
2022-01-12 12:30:18,663 p=67623 u=moonja n=ansible | ok: [postgres-ha01] => (item=python3-pip)
2022-01-12 12:30:23,183 p=67623 u=moonja n=ansible | changed: [postgres-ha03] => (item=python-psycopg2)
2022-01-12 12:30:23,224 p=67623 u=moonja n=ansible | changed: [postgres-haproxy01] => (item=python-psycopg2)
2022-01-12 12:30:24,006 p=67623 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python3-pip)
2022-01-12 12:30:24,033 p=67623 u=moonja n=ansible | ok: [postgres-ha02] => (item=python3-pip)
2022-01-12 12:30:25,136 p=67623 u=moonja n=ansible | ok: [postgres-ha01] => (item=python34-setuptools)
2022-01-12 12:30:29,913 p=67623 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python3-pip)
2022-01-12 12:30:29,937 p=67623 u=moonja n=ansible | ok: [postgres-ha03] => (item=python3-pip)
2022-01-12 12:30:30,176 p=67623 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python34-setuptools)
2022-01-12 12:30:30,185 p=67623 u=moonja n=ansible | ok: [postgres-ha02] => (item=python34-setuptools)
2022-01-12 12:30:31,831 p=67623 u=moonja n=ansible | ok: [postgres-ha01] => (item=python27-python-setuptools)
2022-01-12 12:30:36,207 p=67623 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python34-setuptools)
2022-01-12 12:30:36,356 p=67623 u=moonja n=ansible | ok: [postgres-ha02] => (item=python27-python-setuptools)
2022-01-12 12:30:36,491 p=67623 u=moonja n=ansible | ok: [postgres-ha03] => (item=python34-setuptools)
2022-01-12 12:30:36,553 p=67623 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=python27-python-setuptools)
2022-01-12 12:30:38,639 p=67623 u=moonja n=ansible | ok: [postgres-ha01] => (item=yamllint)
2022-01-12 12:30:42,534 p=67623 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=python27-python-setuptools)
2022-01-12 12:30:42,750 p=67623 u=moonja n=ansible | ok: [postgres-ha02] => (item=yamllint)
2022-01-12 12:30:42,868 p=67623 u=moonja n=ansible | ok: [postgres-ha03] => (item=python27-python-setuptools)
2022-01-12 12:30:43,304 p=67623 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=yamllint)
2022-01-12 12:30:45,573 p=67623 u=moonja n=ansible | ok: [postgres-ha01] => (item=daemonize)
2022-01-12 12:30:48,868 p=67623 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=yamllint)
2022-01-12 12:30:48,983 p=67623 u=moonja n=ansible | ok: [postgres-ha02] => (item=daemonize)
2022-01-12 12:30:49,080 p=67623 u=moonja n=ansible | ok: [postgres-ha03] => (item=yamllint)
2022-01-12 12:30:49,495 p=67623 u=moonja n=ansible | ok: [postgres-haproxy02] => (item=daemonize)
2022-01-12 12:30:55,052 p=67623 u=moonja n=ansible | ok: [postgres-haproxy01] => (item=daemonize)
2022-01-12 12:30:55,308 p=67623 u=moonja n=ansible | ok: [postgres-ha03] => (item=daemonize)
2022-01-12 12:30:55,326 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Install the dependencies of etcd  on all three nodes] ***************************************************************************************************
2022-01-12 12:30:55,353 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:30:55,388 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:30:56,118 p=67623 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 12:30:56,120 p=67623 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 12:30:57,476 p=67623 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 12:30:57,489 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Install setuptools rust on all three nodes] *************************************************************************************************************
2022-01-12 12:30:57,528 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:30:57,544 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:31:03,916 p=67623 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:31:03,930 p=67623 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 12:31:03,978 p=67623 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:31:03,987 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Install typing pip module on all three nodes] ***********************************************************************************************************
2022-01-12 12:31:04,013 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:31:04,032 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:31:10,317 p=67623 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 12:31:10,357 p=67623 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:31:11,082 p=67623 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:31:11,094 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Upgrade pip3 version] ***********************************************************************************************************************************
2022-01-12 12:31:11,118 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:31:11,137 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:31:17,450 p=67623 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:31:17,475 p=67623 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:31:17,475 p=67623 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 12:31:17,488 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Install wheel module on all three nodes] ****************************************************************************************************************
2022-01-12 12:31:17,513 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:31:17,533 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:31:23,883 p=67623 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:31:24,128 p=67623 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 12:31:24,245 p=67623 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:31:24,256 p=67623 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************
2022-01-12 12:31:24,282 p=67623 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:31:24,302 p=67623 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:31:24,351 p=67623 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "26277613000.20034",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.631910",
        "end": "2022-01-12 12:31:18.666263",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/26277613000.20034",
        "start": "2022-01-12 12:31:18.034353",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 12:31:24,352 p=67623 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "292397754076.17717",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.622528",
        "end": "2022-01-12 12:31:18.909093",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/292397754076.17717",
        "start": "2022-01-12 12:31:18.286565",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 12:31:24,353 p=67623 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "747783198196.7718",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.630153",
        "end": "2022-01-12 12:31:18.919802",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/747783198196.7718",
        "start": "2022-01-12 12:31:18.289649",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 12:31:24,366 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Install pip modules of Patroni prerequisites on all three nodes] ****************************************************************************************
2022-01-12 12:31:24,388 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:31:24,406 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:31:30,788 p=67623 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:31:30,801 p=67623 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 12:31:30,802 p=67623 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:31:30,814 p=67623 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************
2022-01-12 12:31:30,868 p=67623 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:31:30,893 p=67623 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:31:30,952 p=67623 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "306796142584.20412",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.774936",
        "end": "2022-01-12 12:31:25.632863",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/306796142584.20412",
        "start": "2022-01-12 12:31:24.857927",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 12:31:30,955 p=67623 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "902761270990.18069",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.755399",
        "end": "2022-01-12 12:31:25.875283",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/902761270990.18069",
        "start": "2022-01-12 12:31:25.119884",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 12:31:30,957 p=67623 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "540740523413.8062",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.774777",
        "end": "2022-01-12 12:31:25.887361",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/540740523413.8062",
        "start": "2022-01-12 12:31:25.112584",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)\nRequirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)\nRequirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.6)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.26.0)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.1)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.2.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (3.0)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /usr/local/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.8.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.2)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2021.5.30)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.4)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.1.0)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.1)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.0.2)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.0)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (57.1.0)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.1.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.4.8)",
            "Requirement already satisfied: cachetools<5.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.7.2)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.2.2)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.10.0.2)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.5.0)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.1.1)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.14.6)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.20)"
        ]
    }
}
2022-01-12 12:31:30,968 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Iinstall wheel module on all three nodes] ***************************************************************************************************************
2022-01-12 12:31:31,009 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:31:31,027 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:31:37,351 p=67623 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 12:31:37,352 p=67623 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:31:37,352 p=67623 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:31:37,364 p=67623 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************
2022-01-12 12:31:37,408 p=67623 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:31:37,429 p=67623 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:31:37,451 p=67623 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "352812437658.20790",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.575506",
        "end": "2022-01-12 12:31:32.104407",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/352812437658.20790",
        "start": "2022-01-12 12:31:31.528901",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 12:31:37,452 p=67623 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "883123594199.18413",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.517412",
        "end": "2022-01-12 12:31:32.280800",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/883123594199.18413",
        "start": "2022-01-12 12:31:31.763388",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 12:31:37,463 p=67623 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "465779491549.8406",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:00.507063",
        "end": "2022-01-12 12:31:32.289893",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/465779491549.8406",
        "start": "2022-01-12 12:31:31.782830",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)",
        "stdout_lines": [
            "Requirement already satisfied: wheel in /usr/local/lib/python3.6/site-packages (0.37.1)"
        ]
    }
}
2022-01-12 12:31:37,475 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Install psycopg2-binary module on all three nodes] ******************************************************************************************************
2022-01-12 12:31:37,498 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:31:37,516 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:31:43,900 p=67623 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:31:43,927 p=67623 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:31:43,928 p=67623 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 12:31:43,940 p=67623 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************
2022-01-12 12:31:43,966 p=67623 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:31:43,984 p=67623 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:31:44,052 p=67623 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "86065141767.21168",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.573461",
        "end": "2022-01-12 12:31:38.578360",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/86065141767.21168",
        "start": "2022-01-12 12:31:38.004899",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 12:31:44,055 p=67623 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "402355751421.18757",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.505803",
        "end": "2022-01-12 12:31:38.760133",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/402355751421.18757",
        "start": "2022-01-12 12:31:38.254330",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 12:31:44,055 p=67623 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "870920114573.8750",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:00.502844",
        "end": "2022-01-12 12:31:38.757353",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/870920114573.8750",
        "start": "2022-01-12 12:31:38.254509",
        "started": 1,
        "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)",
        "stdout_lines": [
            "Requirement already satisfied: psycopg2-binary in /usr/local/lib64/python3.6/site-packages (2.9.3)"
        ]
    }
}
2022-01-12 12:31:44,066 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Install patroni modules on all three nodes for vmware-postgres 13.x version] ****************************************************************************
2022-01-12 12:31:44,105 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:31:44,121 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:31:50,422 p=67623 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:31:50,480 p=67623 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 12:31:50,481 p=67623 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:31:50,494 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ***********************************************************************************************************
2022-01-12 12:31:50,521 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:31:50,540 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:31:51,306 p=67623 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 12:31:51,323 p=67623 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:31:51,324 p=67623 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 12:31:51,340 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Create the etcd.yml configuration file for all nodes] ***************************************************************************************************
2022-01-12 12:31:51,383 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:31:51,399 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:31:52,279 p=67623 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 12:31:52,291 p=67623 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 12:31:52,291 p=67623 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 12:31:52,304 p=67623 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************
2022-01-12 12:31:52,329 p=67623 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:31:52,348 p=67623 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:31:52,387 p=67623 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": false,
        "checksum": "9ae4719bb01c1f3fe9f70a6e2c0044c7c41a95fe",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": {
            "after": {
                "path": "/var/lib/pgsql/etcd.yml"
            },
            "before": {
                "path": "/var/lib/pgsql/etcd.yml"
            }
        },
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "mode": "0644",
        "owner": "postgres",
        "path": "/var/lib/pgsql/etcd.yml",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "state": "file",
        "uid": 26
    }
}
2022-01-12 12:31:52,388 p=67623 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "checksum": "15047e7ccbff3a953a4abe4edc1ee87eccf0c835",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": {
            "after": {
                "path": "/var/lib/pgsql/etcd.yml"
            },
            "before": {
                "path": "/var/lib/pgsql/etcd.yml"
            }
        },
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "mode": "0644",
        "owner": "postgres",
        "path": "/var/lib/pgsql/etcd.yml",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "state": "file",
        "uid": 26
    }
}
2022-01-12 12:31:52,400 p=67623 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "checksum": "a89b395b153fde540c5b5250ee19c5a9b4a69b60",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": {
            "after": {
                "path": "/var/lib/pgsql/etcd.yml"
            },
            "before": {
                "path": "/var/lib/pgsql/etcd.yml"
            }
        },
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "mode": "0644",
        "owner": "postgres",
        "path": "/var/lib/pgsql/etcd.yml",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 488,
        "state": "file",
        "uid": 26
    }
}
2022-01-12 12:31:52,414 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of etcd into /etc/systemd/system] ********************************************************************************************
2022-01-12 12:31:52,456 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:31:52,472 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:31:53,233 p=67623 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 12:31:53,235 p=67623 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 12:31:53,241 p=67623 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 12:31:53,254 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Reload and start etcd through systemd] ******************************************************************************************************************
2022-01-12 12:31:53,280 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:31:53,301 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:31:53,949 p=67623 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 12:31:53,949 p=67623 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 12:31:53,950 p=67623 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 12:31:53,961 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Lists the members and identifies the current Leader.] ***************************************************************************************************
2022-01-12 12:31:53,985 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:31:54,005 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:31:54,707 p=67623 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 12:31:54,711 p=67623 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:31:54,716 p=67623 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:31:54,728 p=67623 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************
2022-01-12 12:31:54,773 p=67623 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:31:54,795 p=67623 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:31:54,814 p=67623 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.021133",
        "end": "2022-01-12 12:31:54.544081",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 12:31:54.522948",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 12:31:54,816 p=67623 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.025078",
        "end": "2022-01-12 12:31:54.811701",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 12:31:54.786623",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 12:31:54,830 p=67623 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.034869",
        "end": "2022-01-12 12:31:54.821138",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 12:31:54.786269",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379\n7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379\nf8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379",
        "stdout_lines": [
            "14ea8f772fa5197, started, <postgres-ha02>, http://192.168.0.82:2380, http://192.168.0.82:2379",
            "7894cfd255567386, started, <postgres-ha03>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "f8f02439b1db49ac, started, <postgres-ha01>, http://192.168.0.81:2380, http://192.168.0.81:2379"
        ]
    }
}
2022-01-12 12:31:54,842 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Set data directory for patroni cluster] *****************************************************************************************************************
2022-01-12 12:31:55,349 p=67623 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 12:31:55,353 p=67623 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 12:31:55,355 p=67623 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 12:31:55,645 p=67623 u=moonja n=ansible | ok: [postgres-haproxy02]
2022-01-12 12:31:55,646 p=67623 u=moonja n=ansible | ok: [postgres-haproxy01]
2022-01-12 12:31:55,658 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Create the patroni.yml configuration file for all nodes] ************************************************************************************************
2022-01-12 12:31:55,682 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:31:55,702 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:31:56,954 p=67623 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:31:56,955 p=67623 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 12:31:56,955 p=67623 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:31:56,966 p=67623 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************
2022-01-12 12:31:57,008 p=67623 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:31:57,028 p=67623 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:31:57,046 p=67623 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "checksum": "4015b1b56e2a6b6200efd9a23d3ec6430152d119",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "4204fb9874a60159b53e4da08e12d33f",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1628,
        "src": "/var/tmp/ansible-tmp-1641958315.8231978-71718-236261864575846/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 12:31:57,047 p=67623 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "checksum": "58c0a938720d6ae010c79f84b74a96e77d7800f5",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "2fd415e400c4a14a90df9a44ea3d642b",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1628,
        "src": "/var/tmp/ansible-tmp-1641958315.825526-71719-32669471609288/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 12:31:57,060 p=67623 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "checksum": "b0ad03f90dc741a60e6efc80a71a77f06d2d69ec",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "62e2a577f6c0e0f10b9fda7adefd8405",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 1628,
        "src": "/var/tmp/ansible-tmp-1641958315.8365939-71723-188129864161577/source",
        "state": "file",
        "uid": 26
    }
}
2022-01-12 12:31:57,072 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of patroni into /etc/systemd/system] *****************************************************************************************
2022-01-12 12:31:57,095 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:31:57,113 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:31:57,903 p=67623 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 12:31:57,903 p=67623 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 12:31:57,903 p=67623 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 12:31:57,915 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Reload and start systemd service of patroni] ************************************************************************************************************
2022-01-12 12:31:57,939 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:31:57,958 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:31:58,589 p=67623 u=moonja n=ansible | ok: [postgres-ha02]
2022-01-12 12:31:58,591 p=67623 u=moonja n=ansible | ok: [postgres-ha01]
2022-01-12 12:31:58,592 p=67623 u=moonja n=ansible | ok: [postgres-ha03]
2022-01-12 12:31:58,607 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ***************************************************************************
2022-01-12 12:31:58,627 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:31:58,638 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Remove clsuter on master] *******************************************************************************************************************************
2022-01-12 12:31:58,660 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:31:58,680 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:31:58,712 p=67623 u=moonja n=ansible | skipping: [postgres-ha02]
2022-01-12 12:31:58,723 p=67623 u=moonja n=ansible | skipping: [postgres-ha03]
2022-01-12 12:32:05,571 p=67623 u=moonja n=ansible | fatal: [postgres-ha01]: FAILED! => {"ansible_job_id": "512140437687.23477", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n", "delta": "0:00:00.266873", "end": "2022-01-12 12:31:59.622639", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/512140437687.23477", "start": "2022-01-12 12:31:59.355766", "started": 1, "stderr": "Aborted!", "stderr_lines": ["Aborted!"], "stdout": "+---------------+--------------+--------------+---------+----+-----------+\n| Member        | Host         | Role         | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |\n| postgres-ha02 | 192.168.0.82 | Sync Standby | running |  9 |         0 |\n| postgres-ha03 | 192.168.0.83 | Replica      | running |  9 |         0 |\n+---------------+--------------+--------------+---------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": This cluster currently is healthy. Please specify the master name to continue: ", "stdout_lines": ["+---------------+--------------+--------------+---------+----+-----------+", "| Member        | Host         | Role         | State   | TL | Lag in MB |", "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+", "| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |", "| postgres-ha02 | 192.168.0.82 | Sync Standby | running |  9 |         0 |", "| postgres-ha03 | 192.168.0.83 | Replica      | running |  9 |         0 |", "+---------------+--------------+--------------+---------+----+-----------+", "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": This cluster currently is healthy. Please specify the master name to continue: "]}
2022-01-12 12:32:05,571 p=67623 u=moonja n=ansible | ...ignoring
2022-01-12 12:32:05,581 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ***************************************************************************
2022-01-12 12:32:05,603 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:32:05,615 p=67623 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************
2022-01-12 12:32:05,659 p=67623 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:32:05,679 p=67623 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:32:05,698 p=67623 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "512140437687.23477",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n",
        "delta": "0:00:00.266873",
        "end": "2022-01-12 12:31:59.622639",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/512140437687.23477",
        "start": "2022-01-12 12:31:59.355766",
        "started": 1,
        "stderr": "Aborted!",
        "stderr_lines": [
            "Aborted!"
        ],
        "stdout": "+---------------+--------------+--------------+---------+----+-----------+\n| Member        | Host         | Role         | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |\n| postgres-ha02 | 192.168.0.82 | Sync Standby | running |  9 |         0 |\n| postgres-ha03 | 192.168.0.83 | Replica      | running |  9 |         0 |\n+---------------+--------------+--------------+---------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": This cluster currently is healthy. Please specify the master name to continue: ",
        "stdout_lines": [
            "+---------------+--------------+--------------+---------+----+-----------+",
            "| Member        | Host         | Role         | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |",
            "| postgres-ha02 | 192.168.0.82 | Sync Standby | running |  9 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Replica      | running |  9 |         0 |",
            "+---------------+--------------+--------------+---------+----+-----------+",
            "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": This cluster currently is healthy. Please specify the master name to continue: "
        ]
    }
}
2022-01-12 12:32:05,699 p=67623 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:32:05,711 p=67623 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:32:05,723 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Reinitialize patroni clsuter on all node] ***************************************************************************************************************
2022-01-12 12:32:05,746 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:32:05,780 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:32:11,998 p=67623 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:32:12,072 p=67623 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:32:12,072 p=67623 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 12:32:12,084 p=67623 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************
2022-01-12 12:32:12,129 p=67623 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:32:12,150 p=67623 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:32:12,171 p=67623 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "176738273246.23861",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.314709",
        "end": "2022-01-12 12:32:06.547634",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/176738273246.23861",
        "start": "2022-01-12 12:32:06.232925",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+--------------+---------+----+-----------+\n| Member        | Host         | Role         | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |\n| postgres-ha02 | 192.168.0.82 | Sync Standby | running |  9 |         0 |\n| postgres-ha03 | 192.168.0.83 | Replica      | running |  9 |         0 |\n+---------------+--------------+--------------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (I am the leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+--------------+---------+----+-----------+",
            "| Member        | Host         | Role         | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |",
            "| postgres-ha02 | 192.168.0.82 | Sync Standby | running |  9 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Replica      | running |  9 |         0 |",
            "+---------------+--------------+--------------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (I am the leader, can not reinitialize)"
        ]
    }
}
2022-01-12 12:32:12,172 p=67623 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "763691968479.20863",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.310455",
        "end": "2022-01-12 12:32:06.806340",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/763691968479.20863",
        "start": "2022-01-12 12:32:06.495885",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+--------------+---------+----+-----------+\n| Member        | Host         | Role         | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |\n| postgres-ha02 | 192.168.0.82 | Sync Standby | running |  9 |         0 |\n| postgres-ha03 | 192.168.0.83 | Replica      | running |  9 |         0 |\n+---------------+--------------+--------------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Success: reinitialize for member postgres-ha02",
        "stdout_lines": [
            "+---------------+--------------+--------------+---------+----+-----------+",
            "| Member        | Host         | Role         | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |",
            "| postgres-ha02 | 192.168.0.82 | Sync Standby | running |  9 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Replica      | running |  9 |         0 |",
            "+---------------+--------------+--------------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Success: reinitialize for member postgres-ha02"
        ]
    }
}
2022-01-12 12:32:12,185 p=67623 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "489842439850.10856",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.347974",
        "end": "2022-01-12 12:32:06.811449",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/489842439850.10856",
        "start": "2022-01-12 12:32:06.463475",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+--------------+---------+----+-----------+\n| Member        | Host         | Role         | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |\n| postgres-ha02 | 192.168.0.82 | Sync Standby | running |  9 |         0 |\n| postgres-ha03 | 192.168.0.83 | Replica      | running |  9 |         0 |\n+---------------+--------------+--------------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Success: reinitialize for member postgres-ha03",
        "stdout_lines": [
            "+---------------+--------------+--------------+---------+----+-----------+",
            "| Member        | Host         | Role         | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |",
            "| postgres-ha02 | 192.168.0.82 | Sync Standby | running |  9 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Replica      | running |  9 |         0 |",
            "+---------------+--------------+--------------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Success: reinitialize for member postgres-ha03"
        ]
    }
}
2022-01-12 12:32:12,198 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ***************************************************************************
2022-01-12 12:32:12,217 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:32:12,228 p=67623 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************
2022-01-12 12:32:12,268 p=67623 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:32:12,288 p=67623 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:32:12,307 p=67623 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "ansible_job_id": "176738273246.23861",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha01\ny\ny\nEOF\n",
        "delta": "0:00:00.314709",
        "end": "2022-01-12 12:32:06.547634",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/176738273246.23861",
        "start": "2022-01-12 12:32:06.232925",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+--------------+---------+----+-----------+\n| Member        | Host         | Role         | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |\n| postgres-ha02 | 192.168.0.82 | Sync Standby | running |  9 |         0 |\n| postgres-ha03 | 192.168.0.83 | Replica      | running |  9 |         0 |\n+---------------+--------------+--------------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (I am the leader, can not reinitialize)",
        "stdout_lines": [
            "+---------------+--------------+--------------+---------+----+-----------+",
            "| Member        | Host         | Role         | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |",
            "| postgres-ha02 | 192.168.0.82 | Sync Standby | running |  9 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Replica      | running |  9 |         0 |",
            "+---------------+--------------+--------------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha01? [y/N]: Failed: reinitialize for member postgres-ha01, status code=503, (I am the leader, can not reinitialize)"
        ]
    }
}
2022-01-12 12:32:12,308 p=67623 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "ansible_job_id": "763691968479.20863",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha02\ny\ny\nEOF\n",
        "delta": "0:00:00.310455",
        "end": "2022-01-12 12:32:06.806340",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/763691968479.20863",
        "start": "2022-01-12 12:32:06.495885",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+--------------+---------+----+-----------+\n| Member        | Host         | Role         | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |\n| postgres-ha02 | 192.168.0.82 | Sync Standby | running |  9 |         0 |\n| postgres-ha03 | 192.168.0.83 | Replica      | running |  9 |         0 |\n+---------------+--------------+--------------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Success: reinitialize for member postgres-ha02",
        "stdout_lines": [
            "+---------------+--------------+--------------+---------+----+-----------+",
            "| Member        | Host         | Role         | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |",
            "| postgres-ha02 | 192.168.0.82 | Sync Standby | running |  9 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Replica      | running |  9 |         0 |",
            "+---------------+--------------+--------------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha02? [y/N]: Success: reinitialize for member postgres-ha02"
        ]
    }
}
2022-01-12 12:32:12,323 p=67623 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "ansible_job_id": "489842439850.10856",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\npostgres-ha03\ny\ny\nEOF\n",
        "delta": "0:00:00.347974",
        "end": "2022-01-12 12:32:06.811449",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/489842439850.10856",
        "start": "2022-01-12 12:32:06.463475",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+--------------+---------+----+-----------+\n| Member        | Host         | Role         | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |\n| postgres-ha02 | 192.168.0.82 | Sync Standby | running |  9 |         0 |\n| postgres-ha03 | 192.168.0.83 | Replica      | running |  9 |         0 |\n+---------------+--------------+--------------+---------+----+-----------+\nWhich member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Success: reinitialize for member postgres-ha03",
        "stdout_lines": [
            "+---------------+--------------+--------------+---------+----+-----------+",
            "| Member        | Host         | Role         | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |",
            "| postgres-ha02 | 192.168.0.82 | Sync Standby | running |  9 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Replica      | running |  9 |         0 |",
            "+---------------+--------------+--------------+---------+----+-----------+",
            "Which member do you want to reinitialize [postgres-ha01, postgres-ha02, postgres-ha03]? []: Are you sure you want to reinitialize members postgres-ha03? [y/N]: Success: reinitialize for member postgres-ha03"
        ]
    }
}
2022-01-12 12:32:12,338 p=67623 u=moonja n=ansible | TASK [patroni-postgres : Run the patronictl command-line utility to view the cluster state with Patroni started on all three nodes,] *********************************************
2022-01-12 12:32:12,361 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy01]
2022-01-12 12:32:12,382 p=67623 u=moonja n=ansible | skipping: [postgres-haproxy02]
2022-01-12 12:32:13,132 p=67623 u=moonja n=ansible | changed: [postgres-ha01]
2022-01-12 12:32:13,135 p=67623 u=moonja n=ansible | changed: [postgres-ha02]
2022-01-12 12:32:13,145 p=67623 u=moonja n=ansible | changed: [postgres-ha03]
2022-01-12 12:32:13,157 p=67623 u=moonja n=ansible | TASK [patroni-postgres : debug] **************************************************************************************************************************************************
2022-01-12 12:32:13,200 p=67623 u=moonja n=ansible | ok: [postgres-haproxy01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:32:13,221 p=67623 u=moonja n=ansible | ok: [postgres-haproxy02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-01-12 12:32:13,242 p=67623 u=moonja n=ansible | ok: [postgres-ha01] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.327563",
        "end": "2022-01-12 12:32:12.970729",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 12:32:12.643166",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+--------------+---------+----+-----------+\n| Member        | Host         | Role         | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |\n| postgres-ha02 | 192.168.0.82 | Sync Standby | running |  9 |         0 |\n| postgres-ha03 | 192.168.0.83 | Replica      | running |  9 |         0 |\n+---------------+--------------+--------------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+--------------+---------+----+-----------+",
            "| Member        | Host         | Role         | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |",
            "| postgres-ha02 | 192.168.0.82 | Sync Standby | running |  9 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Replica      | running |  9 |         0 |",
            "+---------------+--------------+--------------+---------+----+-----------+"
        ]
    }
}
2022-01-12 12:32:13,243 p=67623 u=moonja n=ansible | ok: [postgres-ha02] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.325114",
        "end": "2022-01-12 12:32:13.243369",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 12:32:12.918255",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+--------------+---------+----+-----------+\n| Member        | Host         | Role         | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |\n| postgres-ha02 | 192.168.0.82 | Sync Standby | running |  9 |         0 |\n| postgres-ha03 | 192.168.0.83 | Replica      | running |  9 |         0 |\n+---------------+--------------+--------------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+--------------+---------+----+-----------+",
            "| Member        | Host         | Role         | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |",
            "| postgres-ha02 | 192.168.0.82 | Sync Standby | running |  9 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Replica      | running |  9 |         0 |",
            "+---------------+--------------+--------------+---------+----+-----------+"
        ]
    }
}
2022-01-12 12:32:13,256 p=67623 u=moonja n=ansible | ok: [postgres-ha03] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.321068",
        "end": "2022-01-12 12:32:13.250033",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-01-12 12:32:12.928965",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+---------------+--------------+--------------+---------+----+-----------+\n| Member        | Host         | Role         | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+\n| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |\n| postgres-ha02 | 192.168.0.82 | Sync Standby | running |  9 |         0 |\n| postgres-ha03 | 192.168.0.83 | Replica      | running |  9 |         0 |\n+---------------+--------------+--------------+---------+----+-----------+",
        "stdout_lines": [
            "+---------------+--------------+--------------+---------+----+-----------+",
            "| Member        | Host         | Role         | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7052140212533005031) --+----+-----------+",
            "| postgres-ha01 | 192.168.0.81 | Leader       | running |  9 |           |",
            "| postgres-ha02 | 192.168.0.82 | Sync Standby | running |  9 |         0 |",
            "| postgres-ha03 | 192.168.0.83 | Replica      | running |  9 |         0 |",
            "+---------------+--------------+--------------+---------+----+-----------+"
        ]
    }
}
2022-01-12 12:32:13,318 p=67623 u=moonja n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************
2022-01-12 12:32:13,319 p=67623 u=moonja n=ansible | postgres-ha01              : ok=40   changed=15   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
2022-01-12 12:32:13,319 p=67623 u=moonja n=ansible | postgres-ha02              : ok=39   changed=15   unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2022-01-12 12:32:13,319 p=67623 u=moonja n=ansible | postgres-ha03              : ok=39   changed=16   unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2022-01-12 12:32:13,319 p=67623 u=moonja n=ansible | postgres-haproxy01         : ok=20   changed=3    unreachable=0    failed=0    skipped=23   rescued=0    ignored=0   
2022-01-12 12:32:13,319 p=67623 u=moonja n=ansible | postgres-haproxy02         : ok=20   changed=3    unreachable=0    failed=0    skipped=20   rescued=0    ignored=0   
