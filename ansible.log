
2022-05-24 11:45:57,629 p=89984 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being 
removed. This feature will be removed from ansible-core in version 2.14. Deprecation 
warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-05-24 11:45:57,640 p=89984 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see
details

2022-05-24 11:45:57,860 p=89984 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This
 feature will be removed in version 2.16. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2022-05-24 11:45:57,911 p=89984 u=moonja n=ansible | PLAY [all] **********************************************************************************
2022-05-24 11:45:57,938 p=89984 u=moonja n=ansible | TASK [Gathering Facts] **********************************************************************
2022-05-24 11:45:59,302 p=89984 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 11:45:59,731 p=89984 u=moonja n=ansible | ok: [co7-node03]
2022-05-24 11:45:59,738 p=89984 u=moonja n=ansible | ok: [co7-node02]
2022-05-24 11:45:59,744 p=89984 u=moonja n=ansible | ok: [co7-master]
2022-05-24 11:45:59,761 p=89984 u=moonja n=ansible | TASK [pgbackrest : Copy the vmwawre-postgres rpm file to all hosts in cluster] **************
2022-05-24 11:45:59,781 p=89984 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 11:45:59,795 p=89984 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 11:45:59,811 p=89984 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 11:46:00,937 p=89984 u=moonja n=ansible | ok: [co7-master]
2022-05-24 11:46:00,948 p=89984 u=moonja n=ansible | TASK [pgbackrest : Install VMware Postgres on all hosts as root] ****************************
2022-05-24 11:46:00,982 p=89984 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 11:46:00,997 p=89984 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 11:46:00,998 p=89984 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 11:46:07,769 p=89984 u=moonja n=ansible | ok: [co7-master]
2022-05-24 11:46:07,777 p=89984 u=moonja n=ansible | TASK [pgbackrest : Edit patroni.yml for pgBackrest] *****************************************
2022-05-24 11:46:07,865 p=89984 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  listen: '192.168.0.81:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'}) 
2022-05-24 11:46:07,866 p=89984 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  connect_address: '192.168.0.81:5432'", 'line': "  connect_address: '192.168.0.81:5532'", 'state': 'present'}) 
2022-05-24 11:46:07,867 p=89984 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'}) 
2022-05-24 11:46:08,359 p=89984 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  listen: '192.168.0.84:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 11:46:08,361 p=89984 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  listen: '192.168.0.83:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 11:46:08,361 p=89984 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  listen: '192.168.0.85:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 11:46:08,682 p=89984 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  connect_address: '192.168.0.84:5432'", 'line': "  connect_address: '192.168.0.84:5532'", 'state': 'present'})
2022-05-24 11:46:08,685 p=89984 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  connect_address: '192.168.0.83:5432'", 'line': "  connect_address: '192.168.0.83:5532'", 'state': 'present'})
2022-05-24 11:46:08,686 p=89984 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  connect_address: '192.168.0.85:5432'", 'line': "  connect_address: '192.168.0.85:5532'", 'state': 'present'})
2022-05-24 11:46:08,987 p=89984 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 11:46:08,988 p=89984 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 11:46:08,989 p=89984 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 11:46:08,998 p=89984 u=moonja n=ansible | TASK [pgbackrest : Edit patroni.yml for pgBackrest] *****************************************
2022-05-24 11:46:09,066 p=89984 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'}) 
2022-05-24 11:46:09,067 p=89984 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'}) 
2022-05-24 11:46:09,452 p=89984 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 11:46:09,456 p=89984 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 11:46:09,457 p=89984 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 11:46:09,795 p=89984 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 11:46:09,799 p=89984 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 11:46:09,802 p=89984 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 11:46:09,813 p=89984 u=moonja n=ansible | TASK [pgbackrest : Create directories and files in all nodes] *******************************
2022-05-24 11:46:10,408 p=89984 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 11:46:10,410 p=89984 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 11:46:10,421 p=89984 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 11:46:10,422 p=89984 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 11:46:10,804 p=89984 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 11:46:10,804 p=89984 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 11:46:10,806 p=89984 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 11:46:10,806 p=89984 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 11:46:11,243 p=89984 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 11:46:11,246 p=89984 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 11:46:11,247 p=89984 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 11:46:11,249 p=89984 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 11:46:11,766 p=89984 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 11:46:11,767 p=89984 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 11:46:11,780 p=89984 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 11:46:11,782 p=89984 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 11:46:12,070 p=89984 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 11:46:12,084 p=89984 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 11:46:12,106 p=89984 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 11:46:12,111 p=89984 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 11:46:12,383 p=89984 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 11:46:12,389 p=89984 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 11:46:12,434 p=89984 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 11:46:12,434 p=89984 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 11:46:12,448 p=89984 u=moonja n=ansible | TASK [pgbackrest : Allow ssh connection for postgres user in SELinux policy] ****************
2022-05-24 11:46:13,023 p=89984 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 11:46:13,030 p=89984 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 11:46:13,041 p=89984 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 11:46:13,053 p=89984 u=moonja n=ansible | changed: [co7-master]
2022-05-24 11:46:13,063 p=89984 u=moonja n=ansible | TASK [pgbackrest : Exchange ssh keys to allow password-less login between all nodes] ********
2022-05-24 11:46:13,536 p=89984 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 11:46:13,583 p=89984 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 11:46:13,609 p=89984 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 11:46:13,927 p=89984 u=moonja n=ansible | changed: [co7-master]
2022-05-24 11:46:13,945 p=89984 u=moonja n=ansible | TASK [pgbackrest : Copy ssh keys repostory node to postgres nodes] **************************
2022-05-24 11:46:14,027 p=89984 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 11:46:14,871 p=89984 u=moonja n=ansible | changed: [co7-node01 -> co7-master(None)]
2022-05-24 11:46:15,605 p=89984 u=moonja n=ansible | changed: [co7-node02 -> co7-master(None)]
2022-05-24 11:46:15,606 p=89984 u=moonja n=ansible | changed: [co7-node03 -> co7-master(None)]
2022-05-24 11:46:15,643 p=89984 u=moonja n=ansible | TASK [pgbackrest : Copy ssh keys postgres nodes to repostory node] **************************
2022-05-24 11:46:15,661 p=89984 u=moonja n=ansible | skipping: [co7-node01] => (item=01) 
2022-05-24 11:46:15,667 p=89984 u=moonja n=ansible | skipping: [co7-node01] => (item=02) 
2022-05-24 11:46:15,667 p=89984 u=moonja n=ansible | skipping: [co7-node01] => (item=03) 
2022-05-24 11:46:15,701 p=89984 u=moonja n=ansible | skipping: [co7-node02] => (item=01) 
2022-05-24 11:46:15,704 p=89984 u=moonja n=ansible | skipping: [co7-node02] => (item=02) 
2022-05-24 11:46:15,704 p=89984 u=moonja n=ansible | skipping: [co7-node02] => (item=03) 
2022-05-24 11:46:15,741 p=89984 u=moonja n=ansible | skipping: [co7-node03] => (item=01) 
2022-05-24 11:46:15,743 p=89984 u=moonja n=ansible | skipping: [co7-node03] => (item=02) 
2022-05-24 11:46:15,744 p=89984 u=moonja n=ansible | skipping: [co7-node03] => (item=03) 
2022-05-24 11:46:17,287 p=89984 u=moonja n=ansible | changed: [co7-master -> co7-node01(None)] => (item=01)
2022-05-24 11:46:18,734 p=89984 u=moonja n=ansible | ok: [co7-master -> co7-node02(None)] => (item=02)
2022-05-24 11:46:20,140 p=89984 u=moonja n=ansible | ok: [co7-master -> co7-node03(None)] => (item=03)
2022-05-24 11:46:20,160 p=89984 u=moonja n=ansible | TASK [pgbackrest : The ssh-keyscan for known_hosts file] ************************************
2022-05-24 11:46:20,242 p=89984 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 11:46:20,542 p=89984 u=moonja n=ansible | changed: [co7-node02 -> co7-master(None)]
2022-05-24 11:46:20,564 p=89984 u=moonja n=ansible | changed: [co7-node01 -> co7-master(None)]
2022-05-24 11:46:20,631 p=89984 u=moonja n=ansible | changed: [co7-node03 -> co7-master(None)]
2022-05-24 11:46:20,638 p=89984 u=moonja n=ansible | TASK [pgbackrest : The ssh-keyscan for known_hosts file] ************************************
2022-05-24 11:46:20,698 p=89984 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 11:46:21,039 p=89984 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 11:46:21,065 p=89984 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 11:46:21,067 p=89984 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 11:46:21,084 p=89984 u=moonja n=ansible | TASK [pgbackrest : Input key] ***************************************************************
2022-05-24 11:46:21,174 p=89984 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 11:46:21,492 p=89984 u=moonja n=ansible | changed: [co7-node02 -> co7-master(None)] => (item=co7-node02 ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBKOiG3ubpx4pRAU6ZMg5W5JOC/6ryHoSTKsMz8tC/RTGxcvmvpyaUeE4r4imIAyucmKUo2Y721KvbW5g1/Kjt+o=)
2022-05-24 11:46:21,494 p=89984 u=moonja n=ansible | changed: [co7-node01 -> co7-master(None)] => (item=co7-node01 ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBLoXGv1czw5vny45YMnnJnK14bCFNpqV5ZvrL0U+g+64T1YUr6eqXWdDTcTX1DZUTnFC9HAby0cS6zZGQvRfXiY=)
2022-05-24 11:46:21,514 p=89984 u=moonja n=ansible | changed: [co7-node03 -> co7-master(None)] => (item=co7-node03 ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBCw3T4DjyF88OSwmXjXK1z6SzO1qm3YMTAQdeIlBzoQJxAQ2qiaSnZZzGQk7B5ODmS4UFh80grvzm2WjWS3cyyM=)
2022-05-24 11:46:21,524 p=89984 u=moonja n=ansible | TASK [pgbackrest : Input key] ***************************************************************
2022-05-24 11:46:21,584 p=89984 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 11:46:21,867 p=89984 u=moonja n=ansible | changed: [co7-node01] => (item=co7-master ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBH5R4iPHfdOTR6op3EHkF+lB1ezHrv7PiAK5tc8EmmThK795DDwtDOYKx1zFbnnGQgyQM8tCPrSBHMZD0y+72Yg=)
2022-05-24 11:46:21,871 p=89984 u=moonja n=ansible | changed: [co7-node02] => (item=co7-master ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBH5R4iPHfdOTR6op3EHkF+lB1ezHrv7PiAK5tc8EmmThK795DDwtDOYKx1zFbnnGQgyQM8tCPrSBHMZD0y+72Yg=)
2022-05-24 11:46:21,872 p=89984 u=moonja n=ansible | changed: [co7-node03] => (item=co7-master ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBH5R4iPHfdOTR6op3EHkF+lB1ezHrv7PiAK5tc8EmmThK795DDwtDOYKx1zFbnnGQgyQM8tCPrSBHMZD0y+72Yg=)
2022-05-24 11:46:21,883 p=89984 u=moonja n=ansible | TASK [pgbackrest : Create repository location] **********************************************
2022-05-24 11:46:21,904 p=89984 u=moonja n=ansible | skipping: [co7-node01] => (item={'path': '/var/lib/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '750'}) 
2022-05-24 11:46:21,915 p=89984 u=moonja n=ansible | skipping: [co7-node02] => (item={'path': '/var/lib/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '750'}) 
2022-05-24 11:46:21,937 p=89984 u=moonja n=ansible | skipping: [co7-node03] => (item={'path': '/var/lib/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '750'}) 
2022-05-24 11:46:22,241 p=89984 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '750'})
2022-05-24 11:46:22,251 p=89984 u=moonja n=ansible | TASK [pgbackrest : Configure pgbackrest.conf for patroni nodes] *****************************
2022-05-24 11:46:22,310 p=89984 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 11:46:23,130 p=89984 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 11:46:23,137 p=89984 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 11:46:23,140 p=89984 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 11:46:23,150 p=89984 u=moonja n=ansible | TASK [pgbackrest : Configure pgbackrest.conf for repository node] ***************************
2022-05-24 11:46:23,170 p=89984 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 11:46:23,187 p=89984 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 11:46:23,203 p=89984 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 11:46:23,879 p=89984 u=moonja n=ansible | changed: [co7-master]
2022-05-24 11:46:23,889 p=89984 u=moonja n=ansible | TASK [pgbackrest : Reload and start systemd service of patroni] *****************************
2022-05-24 11:46:23,948 p=89984 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 11:46:25,276 p=89984 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 11:46:25,279 p=89984 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 11:46:26,147 p=89984 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 11:46:26,159 p=89984 u=moonja n=ansible | TASK [pgbackrest : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ***
2022-05-24 11:46:26,176 p=91291 u=moonja n=ansible | Pausing for 60 seconds
2022-05-24 11:46:26,177 p=91291 u=moonja n=ansible | (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort)
2022-05-24 11:47:26,181 p=89984 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 11:47:26,192 p=89984 u=moonja n=ansible | TASK [pgbackrest : meta] ********************************************************************
2022-05-24 11:47:26,201 p=89984 u=moonja n=ansible | PLAY RECAP **********************************************************************************
2022-05-24 11:47:26,201 p=89984 u=moonja n=ansible | co7-master                 : ok=9    changed=6    unreachable=0    failed=0    skipped=9    rescued=0    ignored=0   
2022-05-24 11:47:26,202 p=89984 u=moonja n=ansible | co7-node01                 : ok=14   changed=12   unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 11:47:26,202 p=89984 u=moonja n=ansible | co7-node02                 : ok=13   changed=12   unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 11:47:26,202 p=89984 u=moonja n=ansible | co7-node03                 : ok=13   changed=12   unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 11:51:54,495 p=92659 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be removed from ansible-core in 
version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-05-24 11:51:54,505 p=92659 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-05-24 11:51:54,734 p=92659 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed in version 2.16. Deprecation
 warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-05-24 11:51:54,791 p=92659 u=moonja n=ansible | PLAY [all] ***************************************************************************************************************************************
2022-05-24 11:51:54,818 p=92659 u=moonja n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2022-05-24 11:51:56,207 p=92659 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 11:51:56,640 p=92659 u=moonja n=ansible | ok: [co7-master]
2022-05-24 11:51:56,671 p=92659 u=moonja n=ansible | ok: [co7-node02]
2022-05-24 11:51:56,679 p=92659 u=moonja n=ansible | ok: [co7-node03]
2022-05-24 11:51:56,696 p=92659 u=moonja n=ansible | TASK [pgbackrest : Stop the stanza on the repository host (only needs to be done on this host)] **************************************************
2022-05-24 11:51:56,731 p=92659 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 11:51:56,746 p=92659 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 11:51:56,747 p=92659 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 11:51:57,316 p=92659 u=moonja n=ansible | changed: [co7-master]
2022-05-24 11:51:57,326 p=92659 u=moonja n=ansible | TASK [pgbackrest : debug] ************************************************************************************************************************
2022-05-24 11:51:57,360 p=92659 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:51:57,374 p=92659 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:51:57,377 p=92659 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:51:57,389 p=92659 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": true,
        "cmd": [
            "/usr/bin/pgbackrest",
            "--stanza=main",
            "--log-level-console=info",
            "stop"
        ],
        "delta": "0:00:00.005817",
        "end": "2022-05-24 11:51:57.639992",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 11:51:57.634175",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "2022-05-24 11:51:57.639 P00   INFO: stop command begin 2.31: --exec-id=11328-c3b71709 --log-level-console=info --pg1-host=192.168.0.83 --pg2-host=192.168.0.84 --pg3-host=192.168.0.85 --repo1-path=/var/lib/pgbackrest --stanza=main\n2022-05-24 11:51:57.639 P00   INFO: stop command end: completed successfully (1ms)",
        "stdout_lines": [
            "2022-05-24 11:51:57.639 P00   INFO: stop command begin 2.31: --exec-id=11328-c3b71709 --log-level-console=info --pg1-host=192.168.0.83 --pg2-host=192.168.0.84 --pg3-host=192.168.0.85 --repo1-path=/var/lib/pgbackrest --stanza=main",
            "2022-05-24 11:51:57.639 P00   INFO: stop command end: completed successfully (1ms)"
        ]
    }
}
2022-05-24 11:51:57,399 p=92659 u=moonja n=ansible | TASK [pgbackrest : Delete main.stop file for pgbackrest] *****************************************************************************************
2022-05-24 11:51:57,420 p=92659 u=moonja n=ansible | skipping: [co7-node01] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 11:51:57,436 p=92659 u=moonja n=ansible | skipping: [co7-node02] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 11:51:57,451 p=92659 u=moonja n=ansible | skipping: [co7-node03] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 11:51:58,148 p=92659 u=moonja n=ansible | changed: [co7-master] => (item=/tmp/pgbackrest/main.stop)
2022-05-24 11:51:58,161 p=92659 u=moonja n=ansible | TASK [pgbackrest : Delete the stanza on the repository host (only needs to be done on this host)] ************************************************
2022-05-24 11:51:58,184 p=92659 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 11:51:58,202 p=92659 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 11:51:58,223 p=92659 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 11:51:58,572 p=92659 u=moonja n=ansible | changed: [co7-master]
2022-05-24 11:51:58,579 p=92659 u=moonja n=ansible | TASK [pgbackrest : debug] ************************************************************************************************************************
2022-05-24 11:51:58,613 p=92659 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:51:58,628 p=92659 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:51:58,630 p=92659 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:51:59,235 p=92659 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": true,
        "cmd": [
            "/usr/bin/pgbackrest",
            "--stanza=main",
            "--log-level-console=info",
            "stanza-delete",
            "--force"
        ],
        "delta": "0:00:00.005527",
        "end": "2022-05-24 11:51:58.898987",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 11:51:58.893460",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "2022-05-24 11:51:58.898 P00   INFO: stanza-delete command begin 2.31: --exec-id=11483-d030f3a2 --force --log-level-console=info --pg1-host=192.168.0.83 --pg2-host=192.168.0.84 --pg3-host=192.168.0.85 --pg1-path=/var/lib/pgsql/patroni_data --pg2-path=/var/lib/pgsql/patroni_data --pg3-path=/var/lib/pgsql/patroni_data --pg1-port=5532 --pg2-port=5532 --pg3-port=5532 --pg1-socket-path=/var/lib/pgsql/patroni_data --pg2-socket-path=/var/lib/pgsql/patroni_data --pg3-socket-path=/var/lib/pgsql/patroni_data --repo1-path=/var/lib/pgbackrest --stanza=main\n2022-05-24 11:51:58.898 P00   INFO: stanza-delete command end: completed successfully (1ms)",
        "stdout_lines": [
            "2022-05-24 11:51:58.898 P00   INFO: stanza-delete command begin 2.31: --exec-id=11483-d030f3a2 --force --log-level-console=info --pg1-host=192.168.0.83 --pg2-host=192.168.0.84 --pg3-host=192.168.0.85 --pg1-path=/var/lib/pgsql/patroni_data --pg2-path=/var/lib/pgsql/patroni_data --pg3-path=/var/lib/pgsql/patroni_data --pg1-port=5532 --pg2-port=5532 --pg3-port=5532 --pg1-socket-path=/var/lib/pgsql/patroni_data --pg2-socket-path=/var/lib/pgsql/patroni_data --pg3-socket-path=/var/lib/pgsql/patroni_data --repo1-path=/var/lib/pgbackrest --stanza=main",
            "2022-05-24 11:51:58.898 P00   INFO: stanza-delete command end: completed successfully (1ms)"
        ]
    }
}
2022-05-24 11:51:59,245 p=92659 u=moonja n=ansible | TASK [pgbackrest : Kill process of pgbackrest on repository] *************************************************************************************
2022-05-24 11:51:59,279 p=92659 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 11:51:59,296 p=92659 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 11:51:59,297 p=92659 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 11:51:59,735 p=92659 u=moonja n=ansible | fatal: [co7-master]: FAILED! => {"changed": false, "cmd": "killall pgbackrest", "msg": "[Errno 2] No such file or directory", "rc": 2, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2022-05-24 11:51:59,736 p=92659 u=moonja n=ansible | ...ignoring
2022-05-24 11:51:59,744 p=92659 u=moonja n=ansible | TASK [pgbackrest : debug] ************************************************************************************************************************
2022-05-24 11:51:59,778 p=92659 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:51:59,796 p=92659 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:51:59,797 p=92659 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:51:59,810 p=92659 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "cmd": "killall pgbackrest",
        "failed": true,
        "msg": "[Errno 2] No such file or directory",
        "rc": 2,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-05-24 11:51:59,820 p=92659 u=moonja n=ansible | TASK [pgbackrest : Delete configuration file for pgbackrest] *************************************************************************************
2022-05-24 11:52:00,214 p=92659 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 11:52:00,222 p=92659 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 11:52:00,229 p=92659 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 11:52:00,233 p=92659 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 11:52:00,245 p=92659 u=moonja n=ansible | TASK [pgbackrest : Delete repository location for pgbackrest] ************************************************************************************
2022-05-24 11:52:00,268 p=92659 u=moonja n=ansible | skipping: [co7-node01] => (item=/var/lib/pgbackrest) 
2022-05-24 11:52:00,285 p=92659 u=moonja n=ansible | skipping: [co7-node02] => (item=/var/lib/pgbackrest) 
2022-05-24 11:52:00,301 p=92659 u=moonja n=ansible | skipping: [co7-node03] => (item=/var/lib/pgbackrest) 
2022-05-24 11:52:00,754 p=92659 u=moonja n=ansible | changed: [co7-master] => (item=/var/lib/pgbackrest)
2022-05-24 11:52:00,764 p=92659 u=moonja n=ansible | TASK [pgbackrest : Delete ssh keys to allow password-less login between all nodes] ***************************************************************
2022-05-24 11:52:01,168 p=92659 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/id_rsa)
2022-05-24 11:52:01,172 p=92659 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/id_rsa)
2022-05-24 11:52:01,182 p=92659 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/id_rsa)
2022-05-24 11:52:01,182 p=92659 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/id_rsa)
2022-05-24 11:52:01,490 p=92659 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/id_rsa.pub)
2022-05-24 11:52:01,494 p=92659 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/id_rsa.pub)
2022-05-24 11:52:01,504 p=92659 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/id_rsa.pub)
2022-05-24 11:52:01,509 p=92659 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/id_rsa.pub)
2022-05-24 11:52:01,799 p=92659 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/authorized_keys)
2022-05-24 11:52:01,805 p=92659 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/authorized_keys)
2022-05-24 11:52:01,807 p=92659 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/authorized_keys)
2022-05-24 11:52:01,817 p=92659 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/authorized_keys)
2022-05-24 11:52:02,102 p=92659 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh)
2022-05-24 11:52:02,107 p=92659 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh)
2022-05-24 11:52:02,111 p=92659 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh)
2022-05-24 11:52:02,114 p=92659 u=moonja n=ansible | changed: [co7-master] => (item=.ssh)
2022-05-24 11:52:02,125 p=92659 u=moonja n=ansible | TASK [pgbackrest : Delete directories and files in all nodes] ************************************************************************************
2022-05-24 11:52:02,503 p=92659 u=moonja n=ansible | changed: [co7-node03] => (item=/var/log/pgbackrest)
2022-05-24 11:52:02,504 p=92659 u=moonja n=ansible | changed: [co7-node02] => (item=/var/log/pgbackrest)
2022-05-24 11:52:02,544 p=92659 u=moonja n=ansible | changed: [co7-node01] => (item=/var/log/pgbackrest)
2022-05-24 11:52:02,545 p=92659 u=moonja n=ansible | changed: [co7-master] => (item=/var/log/pgbackrest)
2022-05-24 11:52:02,811 p=92659 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest/conf.d)
2022-05-24 11:52:02,811 p=92659 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest/conf.d)
2022-05-24 11:52:02,812 p=92659 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest/conf.d)
2022-05-24 11:52:02,824 p=92659 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest/conf.d)
2022-05-24 11:52:03,146 p=92659 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest)
2022-05-24 11:52:03,157 p=92659 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest)
2022-05-24 11:52:03,158 p=92659 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest)
2022-05-24 11:52:03,164 p=92659 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest)
2022-05-24 11:52:03,175 p=92659 u=moonja n=ansible | TASK [pgbackrest : Delete lines for pgbackrest in patroni.yml] ***********************************************************************************
2022-05-24 11:52:03,244 p=92659 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'}) 
2022-05-24 11:52:03,245 p=92659 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_command:*', 'state': 'absent'}) 
2022-05-24 11:52:03,648 p=92659 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 11:52:03,652 p=92659 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 11:52:03,653 p=92659 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 11:52:03,954 p=92659 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 11:52:03,959 p=92659 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 11:52:03,962 p=92659 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 11:52:03,973 p=92659 u=moonja n=ansible | TASK [pgbackrest : Return previous values in patroni.yml for pgBackrest] *************************************************************************
2022-05-24 11:52:04,069 p=92659 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.81:5432'", 'state': 'present'}) 
2022-05-24 11:52:04,070 p=92659 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  connect_address: '192.168.0.81:5532'", 'line': "  connect_address: '192.168.0.81:5432'", 'state': 'present'}) 
2022-05-24 11:52:04,071 p=92659 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'}) 
2022-05-24 11:52:04,335 p=92659 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.84:5432'", 'state': 'present'})
2022-05-24 11:52:04,347 p=92659 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.83:5432'", 'state': 'present'})
2022-05-24 11:52:04,372 p=92659 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.85:5432'", 'state': 'present'})
2022-05-24 11:52:04,652 p=92659 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  connect_address: '192.168.0.84:5532'", 'line': "  connect_address: '192.168.0.84:5432'", 'state': 'present'})
2022-05-24 11:52:04,661 p=92659 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  connect_address: '192.168.0.83:5532'", 'line': "  connect_address: '192.168.0.83:5432'", 'state': 'present'})
2022-05-24 11:52:04,737 p=92659 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  connect_address: '192.168.0.85:5532'", 'line': "  connect_address: '192.168.0.85:5432'", 'state': 'present'})
2022-05-24 11:52:05,313 p=92659 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 11:52:05,331 p=92659 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 11:52:05,447 p=92659 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 11:52:05,462 p=92659 u=moonja n=ansible | TASK [pgbackrest : Reload and start systemd service of patroni] **********************************************************************************
2022-05-24 11:52:05,525 p=92659 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 11:52:06,612 p=92659 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 11:52:06,740 p=92659 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 11:52:07,143 p=92659 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 11:52:07,154 p=92659 u=moonja n=ansible | TASK [pgbackrest : Check the config on each of the two postgres hosts] ***************************************************************************
2022-05-24 11:52:07,218 p=92659 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 11:52:07,797 p=92659 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 11:52:07,819 p=92659 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 11:52:07,846 p=92659 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 11:52:07,856 p=92659 u=moonja n=ansible | TASK [pgbackrest : debug] ************************************************************************************************************************
2022-05-24 11:52:07,895 p=92659 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.324350",
        "end": "2022-05-24 11:52:07.757171",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 11:52:07.432821",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+\n| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 11:52:07,911 p=92659 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.324567",
        "end": "2022-05-24 11:52:08.010886",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 11:52:07.686319",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+\n| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 11:52:07,912 p=92659 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.342417",
        "end": "2022-05-24 11:52:07.669682",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 11:52:07.327265",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+\n| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 11:52:07,923 p=92659 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:52:07,967 p=92659 u=moonja n=ansible | PLAY RECAP ***************************************************************************************************************************************
2022-05-24 11:52:07,967 p=92659 u=moonja n=ansible | co7-master                 : ok=13   changed=7    unreachable=0    failed=0    skipped=4    rescued=0    ignored=1   
2022-05-24 11:52:07,968 p=92659 u=moonja n=ansible | co7-node01                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 11:52:07,968 p=92659 u=moonja n=ansible | co7-node02                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 11:52:07,968 p=92659 u=moonja n=ansible | co7-node03                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 11:52:08,573 p=93819 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be removed from ansible-core in 
version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-05-24 11:52:08,587 p=93819 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-05-24 11:52:08,842 p=93819 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed in version 2.16. Deprecation
 warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-05-24 11:52:08,899 p=93819 u=moonja n=ansible | PLAY [all] ***************************************************************************************************************************************
2022-05-24 11:52:08,929 p=93819 u=moonja n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2022-05-24 11:52:10,270 p=93819 u=moonja n=ansible | ok: [co7-node03]
2022-05-24 11:52:10,271 p=93819 u=moonja n=ansible | ok: [co7-node02]
2022-05-24 11:52:10,276 p=93819 u=moonja n=ansible | ok: [co7-master]
2022-05-24 11:52:10,278 p=93819 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 11:52:10,296 p=93819 u=moonja n=ansible | TASK [pgbackrest : Copy the vmwawre-postgres rpm file to all hosts in cluster] *******************************************************************
2022-05-24 11:52:10,329 p=93819 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 11:52:10,344 p=93819 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 11:52:10,345 p=93819 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 11:52:11,422 p=93819 u=moonja n=ansible | ok: [co7-master]
2022-05-24 11:52:11,432 p=93819 u=moonja n=ansible | TASK [pgbackrest : Install VMware Postgres on all hosts as root] *********************************************************************************
2022-05-24 11:52:11,466 p=93819 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 11:52:11,481 p=93819 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 11:52:11,481 p=93819 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 11:52:18,161 p=93819 u=moonja n=ansible | ok: [co7-master]
2022-05-24 11:52:18,169 p=93819 u=moonja n=ansible | TASK [pgbackrest : Edit patroni.yml for pgBackrest] **********************************************************************************************
2022-05-24 11:52:18,311 p=93819 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  listen: '192.168.0.81:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'}) 
2022-05-24 11:52:18,313 p=93819 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  connect_address: '192.168.0.81:5432'", 'line': "  connect_address: '192.168.0.81:5532'", 'state': 'present'}) 
2022-05-24 11:52:18,314 p=93819 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'}) 
2022-05-24 11:52:18,779 p=93819 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  listen: '192.168.0.85:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 11:52:18,781 p=93819 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  listen: '192.168.0.83:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 11:52:18,781 p=93819 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  listen: '192.168.0.84:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 11:52:19,072 p=93819 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  connect_address: '192.168.0.85:5432'", 'line': "  connect_address: '192.168.0.85:5532'", 'state': 'present'})
2022-05-24 11:52:19,074 p=93819 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  connect_address: '192.168.0.84:5432'", 'line': "  connect_address: '192.168.0.84:5532'", 'state': 'present'})
2022-05-24 11:52:19,074 p=93819 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  connect_address: '192.168.0.83:5432'", 'line': "  connect_address: '192.168.0.83:5532'", 'state': 'present'})
2022-05-24 11:52:19,397 p=93819 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 11:52:19,402 p=93819 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 11:52:19,404 p=93819 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 11:52:19,414 p=93819 u=moonja n=ansible | TASK [pgbackrest : Edit patroni.yml for pgBackrest] **********************************************************************************************
2022-05-24 11:52:19,480 p=93819 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'}) 
2022-05-24 11:52:19,481 p=93819 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'}) 
2022-05-24 11:52:19,768 p=93819 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 11:52:19,780 p=93819 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 11:52:19,780 p=93819 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 11:52:20,046 p=93819 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 11:52:20,077 p=93819 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 11:52:20,078 p=93819 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 11:52:20,088 p=93819 u=moonja n=ansible | TASK [pgbackrest : Create directories and files in all nodes] ************************************************************************************
2022-05-24 11:52:20,672 p=93819 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 11:52:20,674 p=93819 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 11:52:20,675 p=93819 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 11:52:20,680 p=93819 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 11:52:20,992 p=93819 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 11:52:20,993 p=93819 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 11:52:20,994 p=93819 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 11:52:20,995 p=93819 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 11:52:21,303 p=93819 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 11:52:21,305 p=93819 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 11:52:21,317 p=93819 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 11:52:21,319 p=93819 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 11:52:21,604 p=93819 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 11:52:21,604 p=93819 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 11:52:21,616 p=93819 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 11:52:21,620 p=93819 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 11:52:21,902 p=93819 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 11:52:21,903 p=93819 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 11:52:21,921 p=93819 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 11:52:21,923 p=93819 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 11:52:22,202 p=93819 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 11:52:22,226 p=93819 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 11:52:22,237 p=93819 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 11:52:22,247 p=93819 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 11:52:22,261 p=93819 u=moonja n=ansible | TASK [pgbackrest : Allow ssh connection for postgres user in SELinux policy] *********************************************************************
2022-05-24 11:52:22,811 p=93819 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 11:52:22,812 p=93819 u=moonja n=ansible | changed: [co7-master]
2022-05-24 11:52:22,812 p=93819 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 11:52:22,812 p=93819 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 11:52:22,823 p=93819 u=moonja n=ansible | TASK [pgbackrest : Exchange ssh keys to allow password-less login between all nodes] *************************************************************
2022-05-24 11:52:23,392 p=93819 u=moonja n=ansible | changed: [co7-master]
2022-05-24 11:52:23,411 p=93819 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 11:52:23,520 p=93819 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 11:52:23,528 p=93819 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 11:52:23,545 p=93819 u=moonja n=ansible | TASK [pgbackrest : Copy ssh keys repostory node to postgres nodes] *******************************************************************************
2022-05-24 11:52:23,627 p=93819 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 11:52:24,531 p=93819 u=moonja n=ansible | changed: [co7-node01 -> co7-master(None)]
2022-05-24 11:52:25,186 p=93819 u=moonja n=ansible | changed: [co7-node02 -> co7-master(None)]
2022-05-24 11:52:25,192 p=93819 u=moonja n=ansible | changed: [co7-node03 -> co7-master(None)]
2022-05-24 11:52:25,226 p=93819 u=moonja n=ansible | TASK [pgbackrest : Copy ssh keys postgres nodes to repostory node] *******************************************************************************
2022-05-24 11:52:25,246 p=93819 u=moonja n=ansible | skipping: [co7-node01] => (item=01) 
2022-05-24 11:52:25,252 p=93819 u=moonja n=ansible | skipping: [co7-node01] => (item=02) 
2022-05-24 11:52:25,253 p=93819 u=moonja n=ansible | skipping: [co7-node01] => (item=03) 
2022-05-24 11:52:25,287 p=93819 u=moonja n=ansible | skipping: [co7-node02] => (item=01) 
2022-05-24 11:52:25,290 p=93819 u=moonja n=ansible | skipping: [co7-node02] => (item=02) 
2022-05-24 11:52:25,291 p=93819 u=moonja n=ansible | skipping: [co7-node02] => (item=03) 
2022-05-24 11:52:25,329 p=93819 u=moonja n=ansible | skipping: [co7-node03] => (item=01) 
2022-05-24 11:52:25,332 p=93819 u=moonja n=ansible | skipping: [co7-node03] => (item=02) 
2022-05-24 11:52:25,332 p=93819 u=moonja n=ansible | skipping: [co7-node03] => (item=03) 
2022-05-24 11:52:26,839 p=93819 u=moonja n=ansible | changed: [co7-master -> co7-node01(None)] => (item=01)
2022-05-24 11:52:28,172 p=93819 u=moonja n=ansible | ok: [co7-master -> co7-node02(None)] => (item=02)
2022-05-24 11:52:29,579 p=93819 u=moonja n=ansible | ok: [co7-master -> co7-node03(None)] => (item=03)
2022-05-24 11:52:29,601 p=93819 u=moonja n=ansible | TASK [pgbackrest : The ssh-keyscan for known_hosts file] *****************************************************************************************
2022-05-24 11:52:29,682 p=93819 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 11:52:29,958 p=93819 u=moonja n=ansible | changed: [co7-node02 -> co7-master(None)]
2022-05-24 11:52:29,962 p=93819 u=moonja n=ansible | changed: [co7-node01 -> co7-master(None)]
2022-05-24 11:52:30,022 p=93819 u=moonja n=ansible | changed: [co7-node03 -> co7-master(None)]
2022-05-24 11:52:30,055 p=93819 u=moonja n=ansible | TASK [pgbackrest : The ssh-keyscan for known_hosts file] *****************************************************************************************
2022-05-24 11:52:30,074 p=93819 u=moonja n=ansible | skipping: [co7-node01] => (item=01) 
2022-05-24 11:52:30,077 p=93819 u=moonja n=ansible | skipping: [co7-node01] => (item=02) 
2022-05-24 11:52:30,078 p=93819 u=moonja n=ansible | skipping: [co7-node01] => (item=03) 
2022-05-24 11:52:30,116 p=93819 u=moonja n=ansible | skipping: [co7-node02] => (item=01) 
2022-05-24 11:52:30,118 p=93819 u=moonja n=ansible | skipping: [co7-node02] => (item=02) 
2022-05-24 11:52:30,122 p=93819 u=moonja n=ansible | skipping: [co7-node02] => (item=03) 
2022-05-24 11:52:30,156 p=93819 u=moonja n=ansible | skipping: [co7-node03] => (item=01) 
2022-05-24 11:52:30,159 p=93819 u=moonja n=ansible | skipping: [co7-node03] => (item=02) 
2022-05-24 11:52:30,160 p=93819 u=moonja n=ansible | skipping: [co7-node03] => (item=03) 
2022-05-24 11:52:30,670 p=93819 u=moonja n=ansible | changed: [co7-master -> co7-node01(None)] => (item=01)
2022-05-24 11:52:31,071 p=93819 u=moonja n=ansible | changed: [co7-master -> co7-node02(None)] => (item=02)
2022-05-24 11:52:31,485 p=93819 u=moonja n=ansible | changed: [co7-master -> co7-node03(None)] => (item=03)
2022-05-24 11:52:31,504 p=93819 u=moonja n=ansible | TASK [pgbackrest : Input key] ********************************************************************************************************************
2022-05-24 11:52:31,590 p=93819 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 11:52:31,880 p=93819 u=moonja n=ansible | changed: [co7-node01 -> co7-master(None)] => (item=co7-node01 ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBLoXGv1czw5vny45YMnnJnK14bCFNpqV5ZvrL0U+g+64T1YUr6eqXWdDTcTX1DZUTnFC9HAby0cS6zZGQvRfXiY=)
2022-05-24 11:52:31,900 p=93819 u=moonja n=ansible | changed: [co7-node03 -> co7-master(None)] => (item=co7-node03 ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBCw3T4DjyF88OSwmXjXK1z6SzO1qm3YMTAQdeIlBzoQJxAQ2qiaSnZZzGQk7B5ODmS4UFh80grvzm2WjWS3cyyM=)
2022-05-24 11:52:31,963 p=93819 u=moonja n=ansible | changed: [co7-node02 -> co7-master(None)] => (item=co7-node02 ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBKOiG3ubpx4pRAU6ZMg5W5JOC/6ryHoSTKsMz8tC/RTGxcvmvpyaUeE4r4imIAyucmKUo2Y721KvbW5g1/Kjt+o=)
2022-05-24 11:52:31,974 p=93819 u=moonja n=ansible | TASK [pgbackrest : Input key] ********************************************************************************************************************
2022-05-24 11:52:31,995 p=93819 u=moonja n=ansible | fatal: [co7-node01]: FAILED! => {"msg": "'dict object' has no attribute 'stdout_lines'"}
2022-05-24 11:52:32,012 p=93819 u=moonja n=ansible | fatal: [co7-node02]: FAILED! => {"msg": "'dict object' has no attribute 'stdout_lines'"}
2022-05-24 11:52:32,029 p=93819 u=moonja n=ansible | fatal: [co7-node03]: FAILED! => {"msg": "'dict object' has no attribute 'stdout_lines'"}
2022-05-24 11:52:32,041 p=93819 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 11:52:32,051 p=93819 u=moonja n=ansible | TASK [pgbackrest : Create repository location] ***************************************************************************************************
2022-05-24 11:52:32,459 p=93819 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '750'})
2022-05-24 11:52:32,469 p=93819 u=moonja n=ansible | TASK [pgbackrest : Configure pgbackrest.conf for patroni nodes] **********************************************************************************
2022-05-24 11:52:32,485 p=93819 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 11:52:32,494 p=93819 u=moonja n=ansible | TASK [pgbackrest : Configure pgbackrest.conf for repository node] ********************************************************************************
2022-05-24 11:52:33,533 p=93819 u=moonja n=ansible | changed: [co7-master]
2022-05-24 11:52:33,544 p=93819 u=moonja n=ansible | TASK [pgbackrest : Reload and start systemd service of patroni] **********************************************************************************
2022-05-24 11:52:33,562 p=93819 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 11:52:33,572 p=93819 u=moonja n=ansible | TASK [pgbackrest : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] *************************************************
2022-05-24 11:52:33,587 p=93819 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 11:52:33,596 p=93819 u=moonja n=ansible | TASK [pgbackrest : meta] *************************************************************************************************************************
2022-05-24 11:52:33,604 p=93819 u=moonja n=ansible | PLAY RECAP ***************************************************************************************************************************************
2022-05-24 11:52:33,604 p=93819 u=moonja n=ansible | co7-master                 : ok=10   changed=7    unreachable=0    failed=0    skipped=9    rescued=0    ignored=0   
2022-05-24 11:52:33,604 p=93819 u=moonja n=ansible | co7-node01                 : ok=9    changed=8    unreachable=0    failed=1    skipped=4    rescued=0    ignored=0   
2022-05-24 11:52:33,604 p=93819 u=moonja n=ansible | co7-node02                 : ok=9    changed=8    unreachable=0    failed=1    skipped=4    rescued=0    ignored=0   
2022-05-24 11:52:33,604 p=93819 u=moonja n=ansible | co7-node03                 : ok=9    changed=8    unreachable=0    failed=1    skipped=4    rescued=0    ignored=0   
2022-05-24 11:52:59,723 p=95010 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be removed from ansible-core in 
version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-05-24 11:52:59,735 p=95010 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-05-24 11:52:59,973 p=95010 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed in version 2.16. Deprecation
 warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-05-24 11:53:00,042 p=95010 u=moonja n=ansible | PLAY [all] ***************************************************************************************************************************************
2022-05-24 11:53:00,070 p=95010 u=moonja n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2022-05-24 11:53:01,325 p=95010 u=moonja n=ansible | ok: [co7-node03]
2022-05-24 11:53:01,331 p=95010 u=moonja n=ansible | ok: [co7-master]
2022-05-24 11:53:01,338 p=95010 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 11:53:01,347 p=95010 u=moonja n=ansible | ok: [co7-node02]
2022-05-24 11:53:01,365 p=95010 u=moonja n=ansible | TASK [pgbackrest : Stop the stanza on the repository host (only needs to be done on this host)] **************************************************
2022-05-24 11:53:01,385 p=95010 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 11:53:01,399 p=95010 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 11:53:01,416 p=95010 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 11:53:01,955 p=95010 u=moonja n=ansible | changed: [co7-master]
2022-05-24 11:53:01,964 p=95010 u=moonja n=ansible | TASK [pgbackrest : debug] ************************************************************************************************************************
2022-05-24 11:53:01,998 p=95010 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:53:02,014 p=95010 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:53:02,015 p=95010 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:53:02,027 p=95010 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": true,
        "cmd": [
            "/usr/bin/pgbackrest",
            "--stanza=main",
            "--log-level-console=info",
            "stop"
        ],
        "delta": "0:00:00.005944",
        "end": "2022-05-24 11:53:02.282291",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 11:53:02.276347",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "2022-05-24 11:53:02.281 P00   INFO: stop command begin 2.31: --exec-id=14541-d3aac21b --log-level-console=info --pg1-host=192.168.0.83 --pg2-host=192.168.0.84 --pg3-host=192.168.0.85 --repo1-path=/var/lib/pgbackrest --stanza=main\n2022-05-24 11:53:02.281 P00   INFO: stop command end: completed successfully (1ms)",
        "stdout_lines": [
            "2022-05-24 11:53:02.281 P00   INFO: stop command begin 2.31: --exec-id=14541-d3aac21b --log-level-console=info --pg1-host=192.168.0.83 --pg2-host=192.168.0.84 --pg3-host=192.168.0.85 --repo1-path=/var/lib/pgbackrest --stanza=main",
            "2022-05-24 11:53:02.281 P00   INFO: stop command end: completed successfully (1ms)"
        ]
    }
}
2022-05-24 11:53:02,036 p=95010 u=moonja n=ansible | TASK [pgbackrest : Delete main.stop file for pgbackrest] *****************************************************************************************
2022-05-24 11:53:02,056 p=95010 u=moonja n=ansible | skipping: [co7-node01] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 11:53:02,074 p=95010 u=moonja n=ansible | skipping: [co7-node02] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 11:53:02,090 p=95010 u=moonja n=ansible | skipping: [co7-node03] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 11:53:02,748 p=95010 u=moonja n=ansible | changed: [co7-master] => (item=/tmp/pgbackrest/main.stop)
2022-05-24 11:53:02,761 p=95010 u=moonja n=ansible | TASK [pgbackrest : Delete the stanza on the repository host (only needs to be done on this host)] ************************************************
2022-05-24 11:53:02,780 p=95010 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 11:53:02,796 p=95010 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 11:53:02,811 p=95010 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 11:53:03,156 p=95010 u=moonja n=ansible | changed: [co7-master]
2022-05-24 11:53:03,165 p=95010 u=moonja n=ansible | TASK [pgbackrest : debug] ************************************************************************************************************************
2022-05-24 11:53:03,198 p=95010 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:53:03,214 p=95010 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:53:03,215 p=95010 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:53:03,229 p=95010 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": true,
        "cmd": [
            "/usr/bin/pgbackrest",
            "--stanza=main",
            "--log-level-console=info",
            "stanza-delete",
            "--force"
        ],
        "delta": "0:00:00.005431",
        "end": "2022-05-24 11:53:03.481922",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 11:53:03.476491",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "2022-05-24 11:53:03.481 P00   INFO: stanza-delete command begin 2.31: --exec-id=14696-314bc25d --force --log-level-console=info --pg1-host=192.168.0.83 --pg2-host=192.168.0.84 --pg3-host=192.168.0.85 --pg1-path=/var/lib/pgsql/patroni_data --pg2-path=/var/lib/pgsql/patroni_data --pg3-path=/var/lib/pgsql/patroni_data --pg1-port=5532 --pg2-port=5532 --pg3-port=5532 --pg1-socket-path=/var/lib/pgsql/patroni_data --pg2-socket-path=/var/lib/pgsql/patroni_data --pg3-socket-path=/var/lib/pgsql/patroni_data --repo1-path=/var/lib/pgbackrest --stanza=main\n2022-05-24 11:53:03.481 P00   INFO: stanza-delete command end: completed successfully (1ms)",
        "stdout_lines": [
            "2022-05-24 11:53:03.481 P00   INFO: stanza-delete command begin 2.31: --exec-id=14696-314bc25d --force --log-level-console=info --pg1-host=192.168.0.83 --pg2-host=192.168.0.84 --pg3-host=192.168.0.85 --pg1-path=/var/lib/pgsql/patroni_data --pg2-path=/var/lib/pgsql/patroni_data --pg3-path=/var/lib/pgsql/patroni_data --pg1-port=5532 --pg2-port=5532 --pg3-port=5532 --pg1-socket-path=/var/lib/pgsql/patroni_data --pg2-socket-path=/var/lib/pgsql/patroni_data --pg3-socket-path=/var/lib/pgsql/patroni_data --repo1-path=/var/lib/pgbackrest --stanza=main",
            "2022-05-24 11:53:03.481 P00   INFO: stanza-delete command end: completed successfully (1ms)"
        ]
    }
}
2022-05-24 11:53:03,239 p=95010 u=moonja n=ansible | TASK [pgbackrest : Kill process of pgbackrest on repository] *************************************************************************************
2022-05-24 11:53:03,258 p=95010 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 11:53:03,273 p=95010 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 11:53:03,288 p=95010 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 11:53:03,768 p=95010 u=moonja n=ansible | fatal: [co7-master]: FAILED! => {"changed": false, "cmd": "killall pgbackrest", "msg": "[Errno 2] No such file or directory", "rc": 2, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2022-05-24 11:53:03,768 p=95010 u=moonja n=ansible | ...ignoring
2022-05-24 11:53:03,776 p=95010 u=moonja n=ansible | TASK [pgbackrest : debug] ************************************************************************************************************************
2022-05-24 11:53:03,810 p=95010 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:53:03,824 p=95010 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:53:03,826 p=95010 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:53:03,839 p=95010 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "cmd": "killall pgbackrest",
        "failed": true,
        "msg": "[Errno 2] No such file or directory",
        "rc": 2,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-05-24 11:53:03,848 p=95010 u=moonja n=ansible | TASK [pgbackrest : Delete configuration file for pgbackrest] *************************************************************************************
2022-05-24 11:53:04,199 p=95010 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 11:53:04,202 p=95010 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 11:53:04,206 p=95010 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 11:53:04,220 p=95010 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 11:53:04,231 p=95010 u=moonja n=ansible | TASK [pgbackrest : Delete repository location for pgbackrest] ************************************************************************************
2022-05-24 11:53:04,251 p=95010 u=moonja n=ansible | skipping: [co7-node01] => (item=/var/lib/pgbackrest) 
2022-05-24 11:53:04,269 p=95010 u=moonja n=ansible | skipping: [co7-node02] => (item=/var/lib/pgbackrest) 
2022-05-24 11:53:04,288 p=95010 u=moonja n=ansible | skipping: [co7-node03] => (item=/var/lib/pgbackrest) 
2022-05-24 11:53:04,832 p=95010 u=moonja n=ansible | changed: [co7-master] => (item=/var/lib/pgbackrest)
2022-05-24 11:53:04,843 p=95010 u=moonja n=ansible | TASK [pgbackrest : Delete ssh keys to allow password-less login between all nodes] ***************************************************************
2022-05-24 11:53:05,211 p=95010 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/id_rsa)
2022-05-24 11:53:05,212 p=95010 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/id_rsa)
2022-05-24 11:53:05,219 p=95010 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/id_rsa)
2022-05-24 11:53:05,222 p=95010 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/id_rsa)
2022-05-24 11:53:05,502 p=95010 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/id_rsa.pub)
2022-05-24 11:53:05,521 p=95010 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/id_rsa.pub)
2022-05-24 11:53:05,528 p=95010 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/id_rsa.pub)
2022-05-24 11:53:05,538 p=95010 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/id_rsa.pub)
2022-05-24 11:53:05,804 p=95010 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/authorized_keys)
2022-05-24 11:53:05,842 p=95010 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/authorized_keys)
2022-05-24 11:53:05,842 p=95010 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/authorized_keys)
2022-05-24 11:53:05,851 p=95010 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/authorized_keys)
2022-05-24 11:53:06,109 p=95010 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh)
2022-05-24 11:53:06,156 p=95010 u=moonja n=ansible | changed: [co7-master] => (item=.ssh)
2022-05-24 11:53:06,157 p=95010 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh)
2022-05-24 11:53:06,160 p=95010 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh)
2022-05-24 11:53:06,171 p=95010 u=moonja n=ansible | TASK [pgbackrest : Delete directories and files in all nodes] ************************************************************************************
2022-05-24 11:53:06,556 p=95010 u=moonja n=ansible | changed: [co7-node02] => (item=/var/log/pgbackrest)
2022-05-24 11:53:06,575 p=95010 u=moonja n=ansible | changed: [co7-node01] => (item=/var/log/pgbackrest)
2022-05-24 11:53:06,577 p=95010 u=moonja n=ansible | changed: [co7-master] => (item=/var/log/pgbackrest)
2022-05-24 11:53:06,597 p=95010 u=moonja n=ansible | changed: [co7-node03] => (item=/var/log/pgbackrest)
2022-05-24 11:53:06,858 p=95010 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest/conf.d)
2022-05-24 11:53:06,893 p=95010 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest/conf.d)
2022-05-24 11:53:06,917 p=95010 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest/conf.d)
2022-05-24 11:53:06,924 p=95010 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest/conf.d)
2022-05-24 11:53:07,169 p=95010 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest)
2022-05-24 11:53:07,222 p=95010 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest)
2022-05-24 11:53:07,246 p=95010 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest)
2022-05-24 11:53:07,261 p=95010 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest)
2022-05-24 11:53:07,272 p=95010 u=moonja n=ansible | TASK [pgbackrest : Delete lines for pgbackrest in patroni.yml] ***********************************************************************************
2022-05-24 11:53:07,341 p=95010 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'}) 
2022-05-24 11:53:07,342 p=95010 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_command:*', 'state': 'absent'}) 
2022-05-24 11:53:07,821 p=95010 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 11:53:07,822 p=95010 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 11:53:07,822 p=95010 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 11:53:08,115 p=95010 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 11:53:08,117 p=95010 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 11:53:08,122 p=95010 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 11:53:08,132 p=95010 u=moonja n=ansible | TASK [pgbackrest : Return previous values in patroni.yml for pgBackrest] *************************************************************************
2022-05-24 11:53:08,225 p=95010 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.81:5432'", 'state': 'present'}) 
2022-05-24 11:53:08,226 p=95010 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  connect_address: '192.168.0.81:5532'", 'line': "  connect_address: '192.168.0.81:5432'", 'state': 'present'}) 
2022-05-24 11:53:08,227 p=95010 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'}) 
2022-05-24 11:53:08,529 p=95010 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.84:5432'", 'state': 'present'})
2022-05-24 11:53:08,537 p=95010 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.83:5432'", 'state': 'present'})
2022-05-24 11:53:08,541 p=95010 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.85:5432'", 'state': 'present'})
2022-05-24 11:53:08,855 p=95010 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  connect_address: '192.168.0.84:5532'", 'line': "  connect_address: '192.168.0.84:5432'", 'state': 'present'})
2022-05-24 11:53:08,867 p=95010 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  connect_address: '192.168.0.85:5532'", 'line': "  connect_address: '192.168.0.85:5432'", 'state': 'present'})
2022-05-24 11:53:08,868 p=95010 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  connect_address: '192.168.0.83:5532'", 'line': "  connect_address: '192.168.0.83:5432'", 'state': 'present'})
2022-05-24 11:53:09,163 p=95010 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 11:53:09,191 p=95010 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 11:53:09,192 p=95010 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 11:53:09,202 p=95010 u=moonja n=ansible | TASK [pgbackrest : Reload and start systemd service of patroni] **********************************************************************************
2022-05-24 11:53:09,264 p=95010 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 11:53:10,341 p=95010 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 11:53:10,799 p=95010 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 11:53:11,093 p=95010 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 11:53:11,103 p=95010 u=moonja n=ansible | TASK [pgbackrest : Check the config on each of the two postgres hosts] ***************************************************************************
2022-05-24 11:53:11,189 p=95010 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 11:53:11,789 p=95010 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 11:53:11,799 p=95010 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 11:53:11,814 p=95010 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 11:53:11,826 p=95010 u=moonja n=ansible | TASK [pgbackrest : debug] ************************************************************************************************************************
2022-05-24 11:53:11,874 p=95010 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.315235",
        "end": "2022-05-24 11:53:11.745529",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 11:53:11.430294",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+\n| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 11:53:11,893 p=95010 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.320243",
        "end": "2022-05-24 11:53:11.989447",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 11:53:11.669204",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+\n| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 11:53:11,894 p=95010 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.317937",
        "end": "2022-05-24 11:53:11.639197",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 11:53:11.321260",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+\n| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 11:53:11,904 p=95010 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:53:11,952 p=95010 u=moonja n=ansible | PLAY RECAP ***************************************************************************************************************************************
2022-05-24 11:53:11,953 p=95010 u=moonja n=ansible | co7-master                 : ok=13   changed=7    unreachable=0    failed=0    skipped=4    rescued=0    ignored=1   
2022-05-24 11:53:11,953 p=95010 u=moonja n=ansible | co7-node01                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 11:53:11,953 p=95010 u=moonja n=ansible | co7-node02                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 11:53:11,953 p=95010 u=moonja n=ansible | co7-node03                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 11:53:15,814 p=96049 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be removed from ansible-core in 
version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-05-24 11:53:15,824 p=96049 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-05-24 11:53:16,050 p=96049 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed in version 2.16. Deprecation
 warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-05-24 11:53:16,112 p=96049 u=moonja n=ansible | PLAY [all] ***************************************************************************************************************************************
2022-05-24 11:53:16,138 p=96049 u=moonja n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************
2022-05-24 11:53:17,456 p=96049 u=moonja n=ansible | ok: [co7-node03]
2022-05-24 11:53:17,468 p=96049 u=moonja n=ansible | ok: [co7-master]
2022-05-24 11:53:17,470 p=96049 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 11:53:17,478 p=96049 u=moonja n=ansible | ok: [co7-node02]
2022-05-24 11:53:17,496 p=96049 u=moonja n=ansible | TASK [pgbackrest : Copy the vmwawre-postgres rpm file to all hosts in cluster] *******************************************************************
2022-05-24 11:53:17,530 p=96049 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 11:53:17,544 p=96049 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 11:53:17,545 p=96049 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 11:53:18,607 p=96049 u=moonja n=ansible | ok: [co7-master]
2022-05-24 11:53:18,617 p=96049 u=moonja n=ansible | TASK [pgbackrest : Install VMware Postgres on all hosts as root] *********************************************************************************
2022-05-24 11:53:18,637 p=96049 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 11:53:18,654 p=96049 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 11:53:18,674 p=96049 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 11:53:25,770 p=96049 u=moonja n=ansible | ok: [co7-master]
2022-05-24 11:53:25,779 p=96049 u=moonja n=ansible | TASK [pgbackrest : Edit patroni.yml for pgBackrest] **********************************************************************************************
2022-05-24 11:53:25,875 p=96049 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  listen: '192.168.0.81:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'}) 
2022-05-24 11:53:25,878 p=96049 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  connect_address: '192.168.0.81:5432'", 'line': "  connect_address: '192.168.0.81:5532'", 'state': 'present'}) 
2022-05-24 11:53:25,878 p=96049 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'}) 
2022-05-24 11:53:26,383 p=96049 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  listen: '192.168.0.83:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 11:53:26,394 p=96049 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  listen: '192.168.0.84:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 11:53:26,395 p=96049 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  listen: '192.168.0.85:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 11:53:26,679 p=96049 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  connect_address: '192.168.0.83:5432'", 'line': "  connect_address: '192.168.0.83:5532'", 'state': 'present'})
2022-05-24 11:53:26,688 p=96049 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  connect_address: '192.168.0.84:5432'", 'line': "  connect_address: '192.168.0.84:5532'", 'state': 'present'})
2022-05-24 11:53:26,697 p=96049 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  connect_address: '192.168.0.85:5432'", 'line': "  connect_address: '192.168.0.85:5532'", 'state': 'present'})
2022-05-24 11:53:26,979 p=96049 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 11:53:27,012 p=96049 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 11:53:27,013 p=96049 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 11:53:27,023 p=96049 u=moonja n=ansible | TASK [pgbackrest : Edit patroni.yml for pgBackrest] **********************************************************************************************
2022-05-24 11:53:27,096 p=96049 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'}) 
2022-05-24 11:53:27,097 p=96049 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'}) 
2022-05-24 11:53:27,394 p=96049 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 11:53:27,395 p=96049 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 11:53:27,396 p=96049 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 11:53:27,705 p=96049 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 11:53:27,706 p=96049 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 11:53:27,732 p=96049 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 11:53:27,763 p=96049 u=moonja n=ansible | TASK [pgbackrest : Create directories and files in all nodes] ************************************************************************************
2022-05-24 11:53:28,327 p=96049 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 11:53:28,332 p=96049 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 11:53:28,333 p=96049 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 11:53:28,335 p=96049 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 11:53:28,986 p=96049 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 11:53:29,007 p=96049 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 11:53:29,025 p=96049 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 11:53:29,026 p=96049 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 11:53:29,497 p=96049 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 11:53:29,502 p=96049 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 11:53:29,504 p=96049 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 11:53:29,506 p=96049 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 11:53:30,171 p=96049 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 11:53:30,178 p=96049 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 11:53:30,180 p=96049 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 11:53:30,181 p=96049 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 11:53:30,562 p=96049 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 11:53:30,563 p=96049 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 11:53:30,564 p=96049 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 11:53:30,564 p=96049 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 11:53:30,885 p=96049 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 11:53:30,888 p=96049 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 11:53:30,889 p=96049 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 11:53:30,892 p=96049 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 11:53:30,903 p=96049 u=moonja n=ansible | TASK [pgbackrest : Allow ssh connection for postgres user in SELinux policy] *********************************************************************
2022-05-24 11:53:31,427 p=96049 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 11:53:31,428 p=96049 u=moonja n=ansible | changed: [co7-master]
2022-05-24 11:53:31,428 p=96049 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 11:53:31,430 p=96049 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 11:53:31,439 p=96049 u=moonja n=ansible | TASK [pgbackrest : Exchange ssh keys to allow password-less login between all nodes] *************************************************************
2022-05-24 11:53:31,888 p=96049 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 11:53:32,114 p=96049 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 11:53:32,120 p=96049 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 11:53:32,458 p=96049 u=moonja n=ansible | changed: [co7-master]
2022-05-24 11:53:32,475 p=96049 u=moonja n=ansible | TASK [pgbackrest : Copy ssh keys repostory node to postgres nodes] *******************************************************************************
2022-05-24 11:53:32,556 p=96049 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 11:53:33,437 p=96049 u=moonja n=ansible | changed: [co7-node01 -> co7-master(None)]
2022-05-24 11:53:34,088 p=96049 u=moonja n=ansible | changed: [co7-node03 -> co7-master(None)]
2022-05-24 11:53:34,133 p=96049 u=moonja n=ansible | changed: [co7-node02 -> co7-master(None)]
2022-05-24 11:53:34,168 p=96049 u=moonja n=ansible | TASK [pgbackrest : Copy ssh keys postgres nodes to repostory node] *******************************************************************************
2022-05-24 11:53:34,186 p=96049 u=moonja n=ansible | skipping: [co7-node01] => (item=01) 
2022-05-24 11:53:34,192 p=96049 u=moonja n=ansible | skipping: [co7-node01] => (item=02) 
2022-05-24 11:53:34,193 p=96049 u=moonja n=ansible | skipping: [co7-node01] => (item=03) 
2022-05-24 11:53:34,226 p=96049 u=moonja n=ansible | skipping: [co7-node02] => (item=01) 
2022-05-24 11:53:34,229 p=96049 u=moonja n=ansible | skipping: [co7-node02] => (item=02) 
2022-05-24 11:53:34,229 p=96049 u=moonja n=ansible | skipping: [co7-node02] => (item=03) 
2022-05-24 11:53:34,266 p=96049 u=moonja n=ansible | skipping: [co7-node03] => (item=01) 
2022-05-24 11:53:34,269 p=96049 u=moonja n=ansible | skipping: [co7-node03] => (item=02) 
2022-05-24 11:53:34,269 p=96049 u=moonja n=ansible | skipping: [co7-node03] => (item=03) 
2022-05-24 11:53:35,787 p=96049 u=moonja n=ansible | changed: [co7-master -> co7-node01(None)] => (item=01)
2022-05-24 11:53:37,263 p=96049 u=moonja n=ansible | changed: [co7-master -> co7-node02(None)] => (item=02)
2022-05-24 11:53:38,606 p=96049 u=moonja n=ansible | changed: [co7-master -> co7-node03(None)] => (item=03)
2022-05-24 11:53:38,622 p=96049 u=moonja n=ansible | TASK [pgbackrest : The ssh-keyscan for known_hosts file] *****************************************************************************************
2022-05-24 11:53:38,702 p=96049 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 11:53:39,033 p=96049 u=moonja n=ansible | changed: [co7-node01 -> co7-master(None)]
2022-05-24 11:53:39,049 p=96049 u=moonja n=ansible | changed: [co7-node03 -> co7-master(None)]
2022-05-24 11:53:39,049 p=96049 u=moonja n=ansible | changed: [co7-node02 -> co7-master(None)]
2022-05-24 11:53:39,079 p=96049 u=moonja n=ansible | TASK [pgbackrest : The ssh-keyscan for known_hosts file] *****************************************************************************************
2022-05-24 11:53:39,098 p=96049 u=moonja n=ansible | skipping: [co7-node01] => (item=01) 
2022-05-24 11:53:39,102 p=96049 u=moonja n=ansible | skipping: [co7-node01] => (item=02) 
2022-05-24 11:53:39,102 p=96049 u=moonja n=ansible | skipping: [co7-node01] => (item=03) 
2022-05-24 11:53:39,139 p=96049 u=moonja n=ansible | skipping: [co7-node02] => (item=01) 
2022-05-24 11:53:39,146 p=96049 u=moonja n=ansible | skipping: [co7-node02] => (item=02) 
2022-05-24 11:53:39,147 p=96049 u=moonja n=ansible | skipping: [co7-node02] => (item=03) 
2022-05-24 11:53:39,179 p=96049 u=moonja n=ansible | skipping: [co7-node03] => (item=01) 
2022-05-24 11:53:39,182 p=96049 u=moonja n=ansible | skipping: [co7-node03] => (item=02) 
2022-05-24 11:53:39,182 p=96049 u=moonja n=ansible | skipping: [co7-node03] => (item=03) 
2022-05-24 11:53:39,620 p=96049 u=moonja n=ansible | changed: [co7-master -> co7-node01(None)] => (item=01)
2022-05-24 11:53:39,989 p=96049 u=moonja n=ansible | changed: [co7-master -> co7-node02(None)] => (item=02)
2022-05-24 11:53:40,386 p=96049 u=moonja n=ansible | changed: [co7-master -> co7-node03(None)] => (item=03)
2022-05-24 11:53:40,405 p=96049 u=moonja n=ansible | TASK [pgbackrest : Input key] ********************************************************************************************************************
2022-05-24 11:53:40,494 p=96049 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 11:53:40,764 p=96049 u=moonja n=ansible | changed: [co7-node01 -> co7-master(None)] => (item=co7-node01 ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBLoXGv1czw5vny45YMnnJnK14bCFNpqV5ZvrL0U+g+64T1YUr6eqXWdDTcTX1DZUTnFC9HAby0cS6zZGQvRfXiY=)
2022-05-24 11:53:40,777 p=96049 u=moonja n=ansible | changed: [co7-node03 -> co7-master(None)] => (item=co7-node03 ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBCw3T4DjyF88OSwmXjXK1z6SzO1qm3YMTAQdeIlBzoQJxAQ2qiaSnZZzGQk7B5ODmS4UFh80grvzm2WjWS3cyyM=)
2022-05-24 11:53:40,844 p=96049 u=moonja n=ansible | changed: [co7-node02 -> co7-master(None)] => (item=co7-node02 ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBKOiG3ubpx4pRAU6ZMg5W5JOC/6ryHoSTKsMz8tC/RTGxcvmvpyaUeE4r4imIAyucmKUo2Y721KvbW5g1/Kjt+o=)
2022-05-24 11:53:40,854 p=96049 u=moonja n=ansible | TASK [pgbackrest : Input key] ********************************************************************************************************************
2022-05-24 11:53:40,875 p=96049 u=moonja n=ansible | fatal: [co7-node01]: FAILED! => {"msg": "'dict object' has no attribute 'stdout_lines'"}
2022-05-24 11:53:40,892 p=96049 u=moonja n=ansible | fatal: [co7-node02]: FAILED! => {"msg": "'dict object' has no attribute 'stdout_lines'"}
2022-05-24 11:53:40,908 p=96049 u=moonja n=ansible | fatal: [co7-node03]: FAILED! => {"msg": "'dict object' has no attribute 'stdout_lines'"}
2022-05-24 11:53:40,923 p=96049 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 11:53:40,932 p=96049 u=moonja n=ansible | TASK [pgbackrest : Create repository location] ***************************************************************************************************
2022-05-24 11:53:41,269 p=96049 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '750'})
2022-05-24 11:53:41,279 p=96049 u=moonja n=ansible | TASK [pgbackrest : Configure pgbackrest.conf for patroni nodes] **********************************************************************************
2022-05-24 11:53:41,294 p=96049 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 11:53:41,303 p=96049 u=moonja n=ansible | TASK [pgbackrest : Configure pgbackrest.conf for repository node] ********************************************************************************
2022-05-24 11:53:42,349 p=96049 u=moonja n=ansible | changed: [co7-master]
2022-05-24 11:53:42,379 p=96049 u=moonja n=ansible | TASK [pgbackrest : Reload and start systemd service of patroni] **********************************************************************************
2022-05-24 11:53:42,395 p=96049 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 11:53:42,404 p=96049 u=moonja n=ansible | TASK [pgbackrest : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] *************************************************
2022-05-24 11:53:42,420 p=96049 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 11:53:42,429 p=96049 u=moonja n=ansible | TASK [pgbackrest : meta] *************************************************************************************************************************
2022-05-24 11:53:42,437 p=96049 u=moonja n=ansible | PLAY RECAP ***************************************************************************************************************************************
2022-05-24 11:53:42,437 p=96049 u=moonja n=ansible | co7-master                 : ok=10   changed=7    unreachable=0    failed=0    skipped=9    rescued=0    ignored=0   
2022-05-24 11:53:42,437 p=96049 u=moonja n=ansible | co7-node01                 : ok=9    changed=8    unreachable=0    failed=1    skipped=4    rescued=0    ignored=0   
2022-05-24 11:53:42,437 p=96049 u=moonja n=ansible | co7-node02                 : ok=9    changed=8    unreachable=0    failed=1    skipped=4    rescued=0    ignored=0   
2022-05-24 11:53:42,438 p=96049 u=moonja n=ansible | co7-node03                 : ok=9    changed=8    unreachable=0    failed=1    skipped=4    rescued=0    ignored=0   
2022-05-24 11:57:56,917 p=97686 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be removed from ansible-core in version 2.14. Deprecation warnings can be 
disabled by setting deprecation_warnings=False in ansible.cfg.
2022-05-24 11:57:56,927 p=97686 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-05-24 11:57:57,157 p=97686 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed in version 2.16. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2022-05-24 11:57:57,206 p=97686 u=moonja n=ansible | PLAY [all] ***********************************************************************************************************************************************************************************
2022-05-24 11:57:57,233 p=97686 u=moonja n=ansible | TASK [Gathering Facts] ***********************************************************************************************************************************************************************
2022-05-24 11:57:58,605 p=97686 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 11:57:59,034 p=97686 u=moonja n=ansible | ok: [co7-master]
2022-05-24 11:57:59,037 p=97686 u=moonja n=ansible | ok: [co7-node02]
2022-05-24 11:57:59,064 p=97686 u=moonja n=ansible | ok: [co7-node03]
2022-05-24 11:57:59,081 p=97686 u=moonja n=ansible | TASK [pgbackrest : Stop the stanza on the repository host (only needs to be done on this host)] **********************************************************************************************
2022-05-24 11:57:59,113 p=97686 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 11:57:59,128 p=97686 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 11:57:59,129 p=97686 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 11:57:59,724 p=97686 u=moonja n=ansible | changed: [co7-master]
2022-05-24 11:57:59,733 p=97686 u=moonja n=ansible | TASK [pgbackrest : debug] ********************************************************************************************************************************************************************
2022-05-24 11:57:59,767 p=97686 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:57:59,783 p=97686 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:57:59,785 p=97686 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:57:59,797 p=97686 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": true,
        "cmd": [
            "/usr/bin/pgbackrest",
            "--stanza=main",
            "--log-level-console=info",
            "stop"
        ],
        "delta": "0:00:00.005856",
        "end": "2022-05-24 11:58:00.056542",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 11:58:00.050686",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "2022-05-24 11:58:00.056 P00   INFO: stop command begin 2.31: --exec-id=17907-6db68044 --log-level-console=info --pg1-host=192.168.0.83 --pg2-host=192.168.0.84 --pg3-host=192.168.0.85 --repo1-path=/var/lib/pgbackrest --stanza=main\n2022-05-24 11:58:00.056 P00   INFO: stop command end: completed successfully (2ms)",
        "stdout_lines": [
            "2022-05-24 11:58:00.056 P00   INFO: stop command begin 2.31: --exec-id=17907-6db68044 --log-level-console=info --pg1-host=192.168.0.83 --pg2-host=192.168.0.84 --pg3-host=192.168.0.85 --repo1-path=/var/lib/pgbackrest --stanza=main",
            "2022-05-24 11:58:00.056 P00   INFO: stop command end: completed successfully (2ms)"
        ]
    }
}
2022-05-24 11:57:59,806 p=97686 u=moonja n=ansible | TASK [pgbackrest : Delete main.stop file for pgbackrest] *************************************************************************************************************************************
2022-05-24 11:57:59,828 p=97686 u=moonja n=ansible | skipping: [co7-node01] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 11:57:59,843 p=97686 u=moonja n=ansible | skipping: [co7-node02] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 11:57:59,859 p=97686 u=moonja n=ansible | skipping: [co7-node03] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 11:58:00,422 p=97686 u=moonja n=ansible | changed: [co7-master] => (item=/tmp/pgbackrest/main.stop)
2022-05-24 11:58:00,433 p=97686 u=moonja n=ansible | TASK [pgbackrest : Delete the stanza on the repository host (only needs to be done on this host)] ********************************************************************************************
2022-05-24 11:58:00,466 p=97686 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 11:58:00,482 p=97686 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 11:58:00,482 p=97686 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 11:58:00,780 p=97686 u=moonja n=ansible | changed: [co7-master]
2022-05-24 11:58:00,789 p=97686 u=moonja n=ansible | TASK [pgbackrest : debug] ********************************************************************************************************************************************************************
2022-05-24 11:58:00,820 p=97686 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:58:00,838 p=97686 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:58:00,840 p=97686 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:58:00,853 p=97686 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": true,
        "cmd": [
            "/usr/bin/pgbackrest",
            "--stanza=main",
            "--log-level-console=info",
            "stanza-delete",
            "--force"
        ],
        "delta": "0:00:00.005875",
        "end": "2022-05-24 11:58:01.117222",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 11:58:01.111347",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "2022-05-24 11:58:01.116 P00   INFO: stanza-delete command begin 2.31: --exec-id=18063-bf1d78ef --force --log-level-console=info --pg1-host=192.168.0.83 --pg2-host=192.168.0.84 --pg3-host=192.168.0.85 --pg1-path=/var/lib/pgsql/patroni_data --pg2-path=/var/lib/pgsql/patroni_data --pg3-path=/var/lib/pgsql/patroni_data --pg1-port=5532 --pg2-port=5532 --pg3-port=5532 --pg1-socket-path=/var/lib/pgsql/patroni_data --pg2-socket-path=/var/lib/pgsql/patroni_data --pg3-socket-path=/var/lib/pgsql/patroni_data --repo1-path=/var/lib/pgbackrest --stanza=main\n2022-05-24 11:58:01.116 P00   INFO: stanza-delete command end: completed successfully (1ms)",
        "stdout_lines": [
            "2022-05-24 11:58:01.116 P00   INFO: stanza-delete command begin 2.31: --exec-id=18063-bf1d78ef --force --log-level-console=info --pg1-host=192.168.0.83 --pg2-host=192.168.0.84 --pg3-host=192.168.0.85 --pg1-path=/var/lib/pgsql/patroni_data --pg2-path=/var/lib/pgsql/patroni_data --pg3-path=/var/lib/pgsql/patroni_data --pg1-port=5532 --pg2-port=5532 --pg3-port=5532 --pg1-socket-path=/var/lib/pgsql/patroni_data --pg2-socket-path=/var/lib/pgsql/patroni_data --pg3-socket-path=/var/lib/pgsql/patroni_data --repo1-path=/var/lib/pgbackrest --stanza=main",
            "2022-05-24 11:58:01.116 P00   INFO: stanza-delete command end: completed successfully (1ms)"
        ]
    }
}
2022-05-24 11:58:00,861 p=97686 u=moonja n=ansible | TASK [pgbackrest : Kill process of pgbackrest on repository] *********************************************************************************************************************************
2022-05-24 11:58:00,894 p=97686 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 11:58:00,909 p=97686 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 11:58:00,910 p=97686 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 11:58:01,246 p=97686 u=moonja n=ansible | fatal: [co7-master]: FAILED! => {"changed": false, "cmd": "killall pgbackrest", "msg": "[Errno 2] No such file or directory", "rc": 2, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2022-05-24 11:58:01,246 p=97686 u=moonja n=ansible | ...ignoring
2022-05-24 11:58:01,254 p=97686 u=moonja n=ansible | TASK [pgbackrest : debug] ********************************************************************************************************************************************************************
2022-05-24 11:58:01,288 p=97686 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:58:01,305 p=97686 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:58:01,306 p=97686 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:58:01,318 p=97686 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "cmd": "killall pgbackrest",
        "failed": true,
        "msg": "[Errno 2] No such file or directory",
        "rc": 2,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-05-24 11:58:01,328 p=97686 u=moonja n=ansible | TASK [pgbackrest : Delete configuration file for pgbackrest] *********************************************************************************************************************************
2022-05-24 11:58:01,698 p=97686 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 11:58:01,723 p=97686 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 11:58:01,725 p=97686 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 11:58:01,740 p=97686 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 11:58:01,751 p=97686 u=moonja n=ansible | TASK [pgbackrest : Delete repository location for pgbackrest] ********************************************************************************************************************************
2022-05-24 11:58:01,774 p=97686 u=moonja n=ansible | skipping: [co7-node01] => (item=/var/lib/pgbackrest) 
2022-05-24 11:58:01,790 p=97686 u=moonja n=ansible | skipping: [co7-node02] => (item=/var/lib/pgbackrest) 
2022-05-24 11:58:01,806 p=97686 u=moonja n=ansible | skipping: [co7-node03] => (item=/var/lib/pgbackrest) 
2022-05-24 11:58:02,206 p=97686 u=moonja n=ansible | changed: [co7-master] => (item=/var/lib/pgbackrest)
2022-05-24 11:58:02,217 p=97686 u=moonja n=ansible | TASK [pgbackrest : Delete ssh keys to allow password-less login between all nodes] ***********************************************************************************************************
2022-05-24 11:58:02,553 p=97686 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/id_rsa)
2022-05-24 11:58:02,581 p=97686 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/id_rsa)
2022-05-24 11:58:02,585 p=97686 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/id_rsa)
2022-05-24 11:58:02,631 p=97686 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/id_rsa)
2022-05-24 11:58:02,858 p=97686 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/id_rsa.pub)
2022-05-24 11:58:02,878 p=97686 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/id_rsa.pub)
2022-05-24 11:58:02,930 p=97686 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/id_rsa.pub)
2022-05-24 11:58:02,931 p=97686 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/id_rsa.pub)
2022-05-24 11:58:03,156 p=97686 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/authorized_keys)
2022-05-24 11:58:03,184 p=97686 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/authorized_keys)
2022-05-24 11:58:03,229 p=97686 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/authorized_keys)
2022-05-24 11:58:03,245 p=97686 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/authorized_keys)
2022-05-24 11:58:03,458 p=97686 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh)
2022-05-24 11:58:03,515 p=97686 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh)
2022-05-24 11:58:03,526 p=97686 u=moonja n=ansible | changed: [co7-master] => (item=.ssh)
2022-05-24 11:58:03,542 p=97686 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh)
2022-05-24 11:58:03,551 p=97686 u=moonja n=ansible | TASK [pgbackrest : Delete directories and files in all nodes] ********************************************************************************************************************************
2022-05-24 11:58:03,875 p=97686 u=moonja n=ansible | changed: [co7-node01] => (item=/var/log/pgbackrest)
2022-05-24 11:58:03,889 p=97686 u=moonja n=ansible | changed: [co7-node02] => (item=/var/log/pgbackrest)
2022-05-24 11:58:03,907 p=97686 u=moonja n=ansible | changed: [co7-node03] => (item=/var/log/pgbackrest)
2022-05-24 11:58:03,923 p=97686 u=moonja n=ansible | changed: [co7-master] => (item=/var/log/pgbackrest)
2022-05-24 11:58:04,173 p=97686 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest/conf.d)
2022-05-24 11:58:04,179 p=97686 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest/conf.d)
2022-05-24 11:58:04,198 p=97686 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest/conf.d)
2022-05-24 11:58:04,214 p=97686 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest/conf.d)
2022-05-24 11:58:04,464 p=97686 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest)
2022-05-24 11:58:04,485 p=97686 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest)
2022-05-24 11:58:04,486 p=97686 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest)
2022-05-24 11:58:04,532 p=97686 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest)
2022-05-24 11:58:04,543 p=97686 u=moonja n=ansible | TASK [pgbackrest : Delete lines for pgbackrest in patroni.yml] *******************************************************************************************************************************
2022-05-24 11:58:04,613 p=97686 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'}) 
2022-05-24 11:58:04,614 p=97686 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_command:*', 'state': 'absent'}) 
2022-05-24 11:58:05,126 p=97686 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 11:58:05,133 p=97686 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 11:58:05,134 p=97686 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 11:58:05,402 p=97686 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 11:58:05,429 p=97686 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 11:58:05,430 p=97686 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 11:58:05,440 p=97686 u=moonja n=ansible | TASK [pgbackrest : Return previous values in patroni.yml for pgBackrest] *********************************************************************************************************************
2022-05-24 11:58:05,528 p=97686 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.81:5432'", 'state': 'present'}) 
2022-05-24 11:58:05,529 p=97686 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  connect_address: '192.168.0.81:5532'", 'line': "  connect_address: '192.168.0.81:5432'", 'state': 'present'}) 
2022-05-24 11:58:05,530 p=97686 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'}) 
2022-05-24 11:58:05,831 p=97686 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.85:5432'", 'state': 'present'})
2022-05-24 11:58:05,831 p=97686 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.84:5432'", 'state': 'present'})
2022-05-24 11:58:05,832 p=97686 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.83:5432'", 'state': 'present'})
2022-05-24 11:58:06,157 p=97686 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  connect_address: '192.168.0.84:5532'", 'line': "  connect_address: '192.168.0.84:5432'", 'state': 'present'})
2022-05-24 11:58:06,157 p=97686 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  connect_address: '192.168.0.83:5532'", 'line': "  connect_address: '192.168.0.83:5432'", 'state': 'present'})
2022-05-24 11:58:06,159 p=97686 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  connect_address: '192.168.0.85:5532'", 'line': "  connect_address: '192.168.0.85:5432'", 'state': 'present'})
2022-05-24 11:58:06,480 p=97686 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 11:58:06,483 p=97686 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 11:58:06,486 p=97686 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 11:58:06,496 p=97686 u=moonja n=ansible | TASK [pgbackrest : Reload and start systemd service of patroni] ******************************************************************************************************************************
2022-05-24 11:58:06,557 p=97686 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 11:58:07,585 p=97686 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 11:58:08,108 p=97686 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 11:58:08,392 p=97686 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 11:58:08,404 p=97686 u=moonja n=ansible | TASK [pgbackrest : Check the config on each of the two postgres hosts] ***********************************************************************************************************************
2022-05-24 11:58:08,465 p=97686 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 11:58:09,039 p=97686 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 11:58:09,051 p=97686 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 11:58:09,066 p=97686 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 11:58:09,076 p=97686 u=moonja n=ansible | TASK [pgbackrest : debug] ********************************************************************************************************************************************************************
2022-05-24 11:58:09,112 p=97686 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.311347",
        "end": "2022-05-24 11:58:08.999755",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 11:58:08.688408",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+\n| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 11:58:09,128 p=97686 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.314209",
        "end": "2022-05-24 11:58:09.254288",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 11:58:08.940079",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+\n| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 11:58:09,129 p=97686 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.320010",
        "end": "2022-05-24 11:58:08.900669",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 11:58:08.580659",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+\n| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 11:58:09,141 p=97686 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 11:58:09,185 p=97686 u=moonja n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************************
2022-05-24 11:58:09,185 p=97686 u=moonja n=ansible | co7-master                 : ok=13   changed=7    unreachable=0    failed=0    skipped=4    rescued=0    ignored=1   
2022-05-24 11:58:09,185 p=97686 u=moonja n=ansible | co7-node01                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 11:58:09,185 p=97686 u=moonja n=ansible | co7-node02                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 11:58:09,185 p=97686 u=moonja n=ansible | co7-node03                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 12:03:01,991 p=2539 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2022-05-24 12:03:02,001 p=2539 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-05-24 12:03:02,228 p=2539 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-05-24 12:03:02,281 p=2539 u=moonja n=ansible | PLAY [all] *************************************************************************************************************************************************************************************************************************
2022-05-24 12:03:02,305 p=2539 u=moonja n=ansible | TASK [Gathering Facts] *************************************************************************************************************************************************************************************************************
2022-05-24 12:03:03,767 p=2539 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 12:03:04,165 p=2539 u=moonja n=ansible | ok: [co7-node02]
2022-05-24 12:03:04,167 p=2539 u=moonja n=ansible | ok: [co7-node03]
2022-05-24 12:03:04,176 p=2539 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:03:04,194 p=2539 u=moonja n=ansible | TASK [pgbackrest : Copy the vmwawre-postgres rpm file to all hosts in cluster] *****************************************************************************************************************************************************
2022-05-24 12:03:04,214 p=2539 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:03:04,229 p=2539 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:03:04,246 p=2539 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:03:05,218 p=2539 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:03:05,229 p=2539 u=moonja n=ansible | TASK [pgbackrest : Install VMware Postgres on all hosts as root] *******************************************************************************************************************************************************************
2022-05-24 12:03:05,263 p=2539 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:03:05,279 p=2539 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:03:05,280 p=2539 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:03:11,874 p=2539 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:03:11,882 p=2539 u=moonja n=ansible | TASK [pgbackrest : Edit patroni.yml for pgBackrest] ********************************************************************************************************************************************************************************
2022-05-24 12:03:11,973 p=2539 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  listen: '192.168.0.81:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'}) 
2022-05-24 12:03:11,975 p=2539 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  connect_address: '192.168.0.81:5432'", 'line': "  connect_address: '192.168.0.81:5532'", 'state': 'present'}) 
2022-05-24 12:03:11,975 p=2539 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'}) 
2022-05-24 12:03:12,423 p=2539 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  listen: '192.168.0.84:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 12:03:12,425 p=2539 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  listen: '192.168.0.83:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 12:03:12,426 p=2539 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  listen: '192.168.0.85:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 12:03:12,718 p=2539 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  connect_address: '192.168.0.83:5432'", 'line': "  connect_address: '192.168.0.83:5532'", 'state': 'present'})
2022-05-24 12:03:12,723 p=2539 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  connect_address: '192.168.0.85:5432'", 'line': "  connect_address: '192.168.0.85:5532'", 'state': 'present'})
2022-05-24 12:03:12,724 p=2539 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  connect_address: '192.168.0.84:5432'", 'line': "  connect_address: '192.168.0.84:5532'", 'state': 'present'})
2022-05-24 12:03:13,000 p=2539 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 12:03:13,012 p=2539 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 12:03:13,013 p=2539 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 12:03:13,023 p=2539 u=moonja n=ansible | TASK [pgbackrest : Edit patroni.yml for pgBackrest] ********************************************************************************************************************************************************************************
2022-05-24 12:03:13,091 p=2539 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'}) 
2022-05-24 12:03:13,092 p=2539 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'}) 
2022-05-24 12:03:13,375 p=2539 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 12:03:13,407 p=2539 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 12:03:13,413 p=2539 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 12:03:13,663 p=2539 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 12:03:13,682 p=2539 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 12:03:13,699 p=2539 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 12:03:13,709 p=2539 u=moonja n=ansible | TASK [pgbackrest : Create directories and files in all nodes] **********************************************************************************************************************************************************************
2022-05-24 12:03:14,258 p=2539 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:03:14,261 p=2539 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:03:14,263 p=2539 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:03:14,267 p=2539 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:03:14,555 p=2539 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:03:14,566 p=2539 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:03:14,581 p=2539 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:03:14,586 p=2539 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:03:14,868 p=2539 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 12:03:14,872 p=2539 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 12:03:14,886 p=2539 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 12:03:14,886 p=2539 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 12:03:15,173 p=2539 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:03:15,179 p=2539 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:03:15,189 p=2539 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:03:15,190 p=2539 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:03:15,474 p=2539 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 12:03:15,479 p=2539 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 12:03:15,491 p=2539 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 12:03:15,504 p=2539 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 12:03:15,775 p=2539 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:03:15,784 p=2539 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:03:15,795 p=2539 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:03:15,799 p=2539 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:03:15,812 p=2539 u=moonja n=ansible | TASK [pgbackrest : Allow ssh connection for postgres user in SELinux policy] *******************************************************************************************************************************************************
2022-05-24 12:03:16,395 p=2539 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:03:16,396 p=2539 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:03:16,403 p=2539 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:03:16,404 p=2539 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:03:16,414 p=2539 u=moonja n=ansible | TASK [pgbackrest : Exchange ssh keys to allow password-less login between all nodes] ***********************************************************************************************************************************************
2022-05-24 12:03:17,028 p=2539 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:03:17,081 p=2539 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:03:17,147 p=2539 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:03:17,180 p=2539 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:03:17,197 p=2539 u=moonja n=ansible | TASK [pgbackrest : Copy ssh keys repostory node to postgres nodes] *****************************************************************************************************************************************************************
2022-05-24 12:03:17,277 p=2539 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:03:18,079 p=2539 u=moonja n=ansible | changed: [co7-node01 -> co7-master(None)]
2022-05-24 12:03:18,833 p=2539 u=moonja n=ansible | changed: [co7-node03 -> co7-master(None)]
2022-05-24 12:03:19,047 p=2539 u=moonja n=ansible | changed: [co7-node02 -> co7-master(None)]
2022-05-24 12:03:19,082 p=2539 u=moonja n=ansible | TASK [pgbackrest : Copy ssh keys postgres nodes to repostory node] *****************************************************************************************************************************************************************
2022-05-24 12:03:19,102 p=2539 u=moonja n=ansible | skipping: [co7-node01] => (item=01) 
2022-05-24 12:03:19,109 p=2539 u=moonja n=ansible | skipping: [co7-node01] => (item=02) 
2022-05-24 12:03:19,110 p=2539 u=moonja n=ansible | skipping: [co7-node01] => (item=03) 
2022-05-24 12:03:19,144 p=2539 u=moonja n=ansible | skipping: [co7-node02] => (item=01) 
2022-05-24 12:03:19,147 p=2539 u=moonja n=ansible | skipping: [co7-node02] => (item=02) 
2022-05-24 12:03:19,147 p=2539 u=moonja n=ansible | skipping: [co7-node02] => (item=03) 
2022-05-24 12:03:19,184 p=2539 u=moonja n=ansible | skipping: [co7-node03] => (item=01) 
2022-05-24 12:03:19,188 p=2539 u=moonja n=ansible | skipping: [co7-node03] => (item=02) 
2022-05-24 12:03:19,188 p=2539 u=moonja n=ansible | skipping: [co7-node03] => (item=03) 
2022-05-24 12:03:20,687 p=2539 u=moonja n=ansible | changed: [co7-master -> co7-node01(None)] => (item=01)
2022-05-24 12:03:22,042 p=2539 u=moonja n=ansible | ok: [co7-master -> co7-node02(None)] => (item=02)
2022-05-24 12:03:23,367 p=2539 u=moonja n=ansible | changed: [co7-master -> co7-node03(None)] => (item=03)
2022-05-24 12:03:23,379 p=2539 u=moonja n=ansible | TASK [pgbackrest : meta] ***********************************************************************************************************************************************************************************************************
2022-05-24 12:03:23,388 p=2539 u=moonja n=ansible | PLAY RECAP *************************************************************************************************************************************************************************************************************************
2022-05-24 12:03:23,388 p=2539 u=moonja n=ansible | co7-master                 : ok=7    changed=4    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
2022-05-24 12:03:23,388 p=2539 u=moonja n=ansible | co7-node01                 : ok=7    changed=6    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
2022-05-24 12:03:23,388 p=2539 u=moonja n=ansible | co7-node02                 : ok=7    changed=6    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
2022-05-24 12:03:23,389 p=2539 u=moonja n=ansible | co7-node03                 : ok=7    changed=6    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
2022-05-24 12:06:01,774 p=4007 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature 
will be removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2022-05-24 12:06:01,784 p=4007 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-05-24 12:06:02,008 p=4007 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be 
removed in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2022-05-24 12:06:02,063 p=4007 u=moonja n=ansible | PLAY [all] *****************************************************************************************************
2022-05-24 12:06:02,088 p=4007 u=moonja n=ansible | TASK [Gathering Facts] *****************************************************************************************
2022-05-24 12:06:03,448 p=4007 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 12:06:03,925 p=4007 u=moonja n=ansible | ok: [co7-node02]
2022-05-24 12:06:03,930 p=4007 u=moonja n=ansible | ok: [co7-node03]
2022-05-24 12:06:03,938 p=4007 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:06:03,955 p=4007 u=moonja n=ansible | TASK [pgbackrest : Stop the stanza on the repository host (only needs to be done on this host)] ****************
2022-05-24 12:06:03,989 p=4007 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:06:04,005 p=4007 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:06:04,005 p=4007 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:06:04,425 p=4007 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:06:04,435 p=4007 u=moonja n=ansible | TASK [pgbackrest : debug] **************************************************************************************
2022-05-24 12:06:04,469 p=4007 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:06:04,491 p=4007 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:06:04,492 p=4007 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:06:04,506 p=4007 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": true,
        "cmd": [
            "/usr/bin/pgbackrest",
            "--stanza=main",
            "--log-level-console=info",
            "stop"
        ],
        "delta": "0:00:00.006173",
        "end": "2022-05-24 12:06:04.806764",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:06:04.800591",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "2022-05-24 12:06:04.806 P00   INFO: stop command begin 2.31: --exec-id=20579-1ecb473d --log-level-console=info --stanza=main\n2022-05-24 12:06:04.806 P00   INFO: stop command end: completed successfully (2ms)",
        "stdout_lines": [
            "2022-05-24 12:06:04.806 P00   INFO: stop command begin 2.31: --exec-id=20579-1ecb473d --log-level-console=info --stanza=main",
            "2022-05-24 12:06:04.806 P00   INFO: stop command end: completed successfully (2ms)"
        ]
    }
}
2022-05-24 12:06:04,516 p=4007 u=moonja n=ansible | TASK [pgbackrest : Delete main.stop file for pgbackrest] *******************************************************
2022-05-24 12:06:04,539 p=4007 u=moonja n=ansible | skipping: [co7-node01] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 12:06:04,555 p=4007 u=moonja n=ansible | skipping: [co7-node02] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 12:06:04,570 p=4007 u=moonja n=ansible | skipping: [co7-node03] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 12:06:05,041 p=4007 u=moonja n=ansible | changed: [co7-master] => (item=/tmp/pgbackrest/main.stop)
2022-05-24 12:06:05,053 p=4007 u=moonja n=ansible | TASK [pgbackrest : Delete the stanza on the repository host (only needs to be done on this host)] **************
2022-05-24 12:06:05,086 p=4007 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:06:05,102 p=4007 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:06:05,103 p=4007 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:06:05,397 p=4007 u=moonja n=ansible | fatal: [co7-master]: FAILED! => {"changed": true, "cmd": ["/usr/bin/pgbackrest", "--stanza=main", "--log-level-console=info", "stanza-delete", "--force"], "delta": "0:00:00.004963", "end": "2022-05-24 12:06:05.782689", "msg": "non-zero return code", "rc": 37, "start": "2022-05-24 12:06:05.777726", "stderr": "ERROR: [037]: stanza-delete command requires option: pg1-path\n       HINT: does this stanza exist?", "stderr_lines": ["ERROR: [037]: stanza-delete command requires option: pg1-path", "       HINT: does this stanza exist?"], "stdout": "", "stdout_lines": []}
2022-05-24 12:06:05,397 p=4007 u=moonja n=ansible | ...ignoring
2022-05-24 12:06:05,406 p=4007 u=moonja n=ansible | TASK [pgbackrest : debug] **************************************************************************************
2022-05-24 12:06:05,519 p=4007 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:06:05,536 p=4007 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:06:05,537 p=4007 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:06:05,555 p=4007 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": true,
        "cmd": [
            "/usr/bin/pgbackrest",
            "--stanza=main",
            "--log-level-console=info",
            "stanza-delete",
            "--force"
        ],
        "delta": "0:00:00.004963",
        "end": "2022-05-24 12:06:05.782689",
        "failed": true,
        "msg": "non-zero return code",
        "rc": 37,
        "start": "2022-05-24 12:06:05.777726",
        "stderr": "ERROR: [037]: stanza-delete command requires option: pg1-path\n       HINT: does this stanza exist?",
        "stderr_lines": [
            "ERROR: [037]: stanza-delete command requires option: pg1-path",
            "       HINT: does this stanza exist?"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-05-24 12:06:05,565 p=4007 u=moonja n=ansible | TASK [pgbackrest : Kill process of pgbackrest on repository] ***************************************************
2022-05-24 12:06:05,600 p=4007 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:06:05,616 p=4007 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:06:05,617 p=4007 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:06:05,969 p=4007 u=moonja n=ansible | fatal: [co7-master]: FAILED! => {"changed": false, "cmd": "killall pgbackrest", "msg": "[Errno 2] No such file or directory", "rc": 2, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2022-05-24 12:06:05,969 p=4007 u=moonja n=ansible | ...ignoring
2022-05-24 12:06:05,978 p=4007 u=moonja n=ansible | TASK [pgbackrest : debug] **************************************************************************************
2022-05-24 12:06:06,013 p=4007 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:06:06,032 p=4007 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:06:06,033 p=4007 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:06:06,046 p=4007 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "cmd": "killall pgbackrest",
        "failed": true,
        "msg": "[Errno 2] No such file or directory",
        "rc": 2,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-05-24 12:06:06,056 p=4007 u=moonja n=ansible | TASK [pgbackrest : Delete configuration file for pgbackrest] ***************************************************
2022-05-24 12:06:06,481 p=4007 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 12:06:06,483 p=4007 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 12:06:06,485 p=4007 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 12:06:06,485 p=4007 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 12:06:06,497 p=4007 u=moonja n=ansible | TASK [pgbackrest : Delete repository location for pgbackrest] **************************************************
2022-05-24 12:06:06,519 p=4007 u=moonja n=ansible | skipping: [co7-node01] => (item=/var/lib/pgbackrest) 
2022-05-24 12:06:06,537 p=4007 u=moonja n=ansible | skipping: [co7-node02] => (item=/var/lib/pgbackrest) 
2022-05-24 12:06:06,555 p=4007 u=moonja n=ansible | skipping: [co7-node03] => (item=/var/lib/pgbackrest) 
2022-05-24 12:06:07,081 p=4007 u=moonja n=ansible | ok: [co7-master] => (item=/var/lib/pgbackrest)
2022-05-24 12:06:07,093 p=4007 u=moonja n=ansible | TASK [pgbackrest : Delete ssh keys to allow password-less login between all nodes] *****************************
2022-05-24 12:06:07,451 p=4007 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/id_rsa)
2022-05-24 12:06:07,461 p=4007 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/id_rsa)
2022-05-24 12:06:07,472 p=4007 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/id_rsa)
2022-05-24 12:06:07,473 p=4007 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/id_rsa)
2022-05-24 12:06:07,743 p=4007 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/id_rsa.pub)
2022-05-24 12:06:07,753 p=4007 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/id_rsa.pub)
2022-05-24 12:06:07,784 p=4007 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/id_rsa.pub)
2022-05-24 12:06:07,786 p=4007 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/id_rsa.pub)
2022-05-24 12:06:08,098 p=4007 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/authorized_keys)
2022-05-24 12:06:08,100 p=4007 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/authorized_keys)
2022-05-24 12:06:08,133 p=4007 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/authorized_keys)
2022-05-24 12:06:08,143 p=4007 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/authorized_keys)
2022-05-24 12:06:08,439 p=4007 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh)
2022-05-24 12:06:08,441 p=4007 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh)
2022-05-24 12:06:08,460 p=4007 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh)
2022-05-24 12:06:08,468 p=4007 u=moonja n=ansible | changed: [co7-master] => (item=.ssh)
2022-05-24 12:06:08,479 p=4007 u=moonja n=ansible | TASK [pgbackrest : Delete directories and files in all nodes] **************************************************
2022-05-24 12:06:08,845 p=4007 u=moonja n=ansible | changed: [co7-node01] => (item=/var/log/pgbackrest)
2022-05-24 12:06:08,858 p=4007 u=moonja n=ansible | changed: [co7-master] => (item=/var/log/pgbackrest)
2022-05-24 12:06:08,860 p=4007 u=moonja n=ansible | changed: [co7-node02] => (item=/var/log/pgbackrest)
2022-05-24 12:06:08,861 p=4007 u=moonja n=ansible | changed: [co7-node03] => (item=/var/log/pgbackrest)
2022-05-24 12:06:09,189 p=4007 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest/conf.d)
2022-05-24 12:06:09,205 p=4007 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest/conf.d)
2022-05-24 12:06:09,215 p=4007 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest/conf.d)
2022-05-24 12:06:09,220 p=4007 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest/conf.d)
2022-05-24 12:06:09,482 p=4007 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest)
2022-05-24 12:06:09,491 p=4007 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest)
2022-05-24 12:06:09,507 p=4007 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest)
2022-05-24 12:06:09,512 p=4007 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest)
2022-05-24 12:06:09,523 p=4007 u=moonja n=ansible | TASK [pgbackrest : Delete lines for pgbackrest in patroni.yml] *************************************************
2022-05-24 12:06:09,594 p=4007 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'}) 
2022-05-24 12:06:09,595 p=4007 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_command:*', 'state': 'absent'}) 
2022-05-24 12:06:10,067 p=4007 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 12:06:10,073 p=4007 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 12:06:10,074 p=4007 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 12:06:10,426 p=4007 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 12:06:10,436 p=4007 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 12:06:10,438 p=4007 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 12:06:10,450 p=4007 u=moonja n=ansible | TASK [pgbackrest : Return previous values in patroni.yml for pgBackrest] ***************************************
2022-05-24 12:06:10,540 p=4007 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.81:5432'", 'state': 'present'}) 
2022-05-24 12:06:10,541 p=4007 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  connect_address: '192.168.0.81:5532'", 'line': "  connect_address: '192.168.0.81:5432'", 'state': 'present'}) 
2022-05-24 12:06:10,542 p=4007 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'}) 
2022-05-24 12:06:10,798 p=4007 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.83:5432'", 'state': 'present'})
2022-05-24 12:06:10,804 p=4007 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.84:5432'", 'state': 'present'})
2022-05-24 12:06:10,856 p=4007 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.85:5432'", 'state': 'present'})
2022-05-24 12:06:11,159 p=4007 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  connect_address: '192.168.0.83:5532'", 'line': "  connect_address: '192.168.0.83:5432'", 'state': 'present'})
2022-05-24 12:06:11,168 p=4007 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  connect_address: '192.168.0.84:5532'", 'line': "  connect_address: '192.168.0.84:5432'", 'state': 'present'})
2022-05-24 12:06:11,199 p=4007 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  connect_address: '192.168.0.85:5532'", 'line': "  connect_address: '192.168.0.85:5432'", 'state': 'present'})
2022-05-24 12:06:11,479 p=4007 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 12:06:11,480 p=4007 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 12:06:11,518 p=4007 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 12:06:11,529 p=4007 u=moonja n=ansible | TASK [pgbackrest : Reload and start systemd service of patroni] ************************************************
2022-05-24 12:06:11,590 p=4007 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:06:12,662 p=4007 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:06:12,960 p=4007 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:06:13,332 p=4007 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:06:13,359 p=4007 u=moonja n=ansible | TASK [pgbackrest : Check the config on each of the two postgres hosts] *****************************************
2022-05-24 12:06:13,425 p=4007 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:06:14,021 p=4007 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:06:14,023 p=4007 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:06:14,026 p=4007 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:06:14,036 p=4007 u=moonja n=ansible | TASK [pgbackrest : debug] **************************************************************************************
2022-05-24 12:06:14,073 p=4007 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.315906",
        "end": "2022-05-24 12:06:14.019457",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:06:13.703551",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+\n| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 12:06:14,091 p=4007 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.315999",
        "end": "2022-05-24 12:06:14.256736",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:06:13.940737",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+\n| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 12:06:14,091 p=4007 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.309019",
        "end": "2022-05-24 12:06:13.894754",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:06:13.585735",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+\n| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 12:06:14,103 p=4007 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:06:14,148 p=4007 u=moonja n=ansible | PLAY RECAP *****************************************************************************************************
2022-05-24 12:06:14,148 p=4007 u=moonja n=ansible | co7-master                 : ok=13   changed=6    unreachable=0    failed=0    skipped=4    rescued=0    ignored=2   
2022-05-24 12:06:14,148 p=4007 u=moonja n=ansible | co7-node01                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 12:06:14,148 p=4007 u=moonja n=ansible | co7-node02                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 12:06:14,148 p=4007 u=moonja n=ansible | co7-node03                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 12:06:14,731 p=4996 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature 
will be removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2022-05-24 12:06:14,740 p=4996 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-05-24 12:06:14,966 p=4996 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be 
removed in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2022-05-24 12:06:15,019 p=4996 u=moonja n=ansible | PLAY [all] *****************************************************************************************************
2022-05-24 12:06:15,043 p=4996 u=moonja n=ansible | TASK [Gathering Facts] *****************************************************************************************
2022-05-24 12:06:16,282 p=4996 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 12:06:16,302 p=4996 u=moonja n=ansible | ok: [co7-node02]
2022-05-24 12:06:16,304 p=4996 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:06:16,305 p=4996 u=moonja n=ansible | ok: [co7-node03]
2022-05-24 12:06:16,324 p=4996 u=moonja n=ansible | TASK [pgbackrest : Copy the vmwawre-postgres rpm file to all hosts in cluster] *********************************
2022-05-24 12:06:16,359 p=4996 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:06:16,375 p=4996 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:06:16,375 p=4996 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:06:17,398 p=4996 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:06:17,409 p=4996 u=moonja n=ansible | TASK [pgbackrest : Install VMware Postgres on all hosts as root] ***********************************************
2022-05-24 12:06:17,443 p=4996 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:06:17,459 p=4996 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:06:17,460 p=4996 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:06:24,124 p=4996 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:06:24,133 p=4996 u=moonja n=ansible | TASK [pgbackrest : Edit patroni.yml for pgBackrest] ************************************************************
2022-05-24 12:06:24,231 p=4996 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  listen: '192.168.0.81:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'}) 
2022-05-24 12:06:24,232 p=4996 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  connect_address: '192.168.0.81:5432'", 'line': "  connect_address: '192.168.0.81:5532'", 'state': 'present'}) 
2022-05-24 12:06:24,233 p=4996 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'}) 
2022-05-24 12:06:24,789 p=4996 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  listen: '192.168.0.85:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 12:06:24,830 p=4996 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  listen: '192.168.0.83:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 12:06:24,833 p=4996 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  listen: '192.168.0.84:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 12:06:25,220 p=4996 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  connect_address: '192.168.0.85:5432'", 'line': "  connect_address: '192.168.0.85:5532'", 'state': 'present'})
2022-05-24 12:06:25,239 p=4996 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  connect_address: '192.168.0.84:5432'", 'line': "  connect_address: '192.168.0.84:5532'", 'state': 'present'})
2022-05-24 12:06:25,295 p=4996 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  connect_address: '192.168.0.83:5432'", 'line': "  connect_address: '192.168.0.83:5532'", 'state': 'present'})
2022-05-24 12:06:25,585 p=4996 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 12:06:25,609 p=4996 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 12:06:25,659 p=4996 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 12:06:25,669 p=4996 u=moonja n=ansible | TASK [pgbackrest : Edit patroni.yml for pgBackrest] ************************************************************
2022-05-24 12:06:25,741 p=4996 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'}) 
2022-05-24 12:06:25,742 p=4996 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'}) 
2022-05-24 12:06:26,007 p=4996 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 12:06:26,010 p=4996 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 12:06:26,027 p=4996 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 12:06:26,319 p=4996 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 12:06:26,319 p=4996 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 12:06:26,335 p=4996 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 12:06:26,346 p=4996 u=moonja n=ansible | TASK [pgbackrest : Create directories and files in all nodes] **************************************************
2022-05-24 12:06:26,952 p=4996 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:06:26,952 p=4996 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:06:26,973 p=4996 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:06:26,975 p=4996 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:06:27,297 p=4996 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:06:27,298 p=4996 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:06:27,316 p=4996 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:06:27,318 p=4996 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:06:27,630 p=4996 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 12:06:27,631 p=4996 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 12:06:27,639 p=4996 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 12:06:27,640 p=4996 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 12:06:27,934 p=4996 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:06:27,935 p=4996 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:06:27,949 p=4996 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:06:27,949 p=4996 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:06:28,330 p=4996 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 12:06:28,331 p=4996 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 12:06:28,346 p=4996 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 12:06:28,347 p=4996 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 12:06:28,627 p=4996 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:06:28,630 p=4996 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:06:28,640 p=4996 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:06:28,648 p=4996 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:06:28,661 p=4996 u=moonja n=ansible | TASK [pgbackrest : Allow ssh connection for postgres user in SELinux policy] ***********************************
2022-05-24 12:06:29,215 p=4996 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:06:29,216 p=4996 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:06:29,231 p=4996 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:06:29,241 p=4996 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:06:29,255 p=4996 u=moonja n=ansible | TASK [pgbackrest : Exchange ssh keys to allow password-less login between all nodes] ***************************
2022-05-24 12:06:29,813 p=4996 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:06:29,966 p=4996 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:06:30,124 p=4996 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:06:30,530 p=4996 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:06:30,550 p=4996 u=moonja n=ansible | TASK [pgbackrest : Copy ssh keys repostory node to postgres nodes] *********************************************
2022-05-24 12:06:30,633 p=4996 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:06:31,458 p=4996 u=moonja n=ansible | changed: [co7-node01 -> co7-master(None)]
2022-05-24 12:06:32,248 p=4996 u=moonja n=ansible | changed: [co7-node02 -> co7-master(None)]
2022-05-24 12:06:32,250 p=4996 u=moonja n=ansible | changed: [co7-node03 -> co7-master(None)]
2022-05-24 12:06:32,284 p=4996 u=moonja n=ansible | TASK [pgbackrest : Copy ssh keys postgres nodes to repostory node] *********************************************
2022-05-24 12:06:32,303 p=4996 u=moonja n=ansible | skipping: [co7-node01] => (item=01) 
2022-05-24 12:06:32,306 p=4996 u=moonja n=ansible | skipping: [co7-node01] => (item=02) 
2022-05-24 12:06:32,309 p=4996 u=moonja n=ansible | skipping: [co7-node01] => (item=03) 
2022-05-24 12:06:32,342 p=4996 u=moonja n=ansible | skipping: [co7-node02] => (item=01) 
2022-05-24 12:06:32,345 p=4996 u=moonja n=ansible | skipping: [co7-node02] => (item=02) 
2022-05-24 12:06:32,345 p=4996 u=moonja n=ansible | skipping: [co7-node02] => (item=03) 
2022-05-24 12:06:32,382 p=4996 u=moonja n=ansible | skipping: [co7-node03] => (item=01) 
2022-05-24 12:06:32,385 p=4996 u=moonja n=ansible | skipping: [co7-node03] => (item=02) 
2022-05-24 12:06:32,385 p=4996 u=moonja n=ansible | skipping: [co7-node03] => (item=03) 
2022-05-24 12:06:33,777 p=4996 u=moonja n=ansible | ok: [co7-master -> co7-node01(None)] => (item=01)
2022-05-24 12:06:35,255 p=4996 u=moonja n=ansible | ok: [co7-master -> co7-node02(None)] => (item=02)
2022-05-24 12:06:36,664 p=4996 u=moonja n=ansible | ok: [co7-master -> co7-node03(None)] => (item=03)
2022-05-24 12:06:36,675 p=4996 u=moonja n=ansible | TASK [pgbackrest : meta] ***************************************************************************************
2022-05-24 12:06:36,682 p=4996 u=moonja n=ansible | PLAY RECAP *****************************************************************************************************
2022-05-24 12:06:36,682 p=4996 u=moonja n=ansible | co7-master                 : ok=7    changed=3    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
2022-05-24 12:06:36,683 p=4996 u=moonja n=ansible | co7-node01                 : ok=7    changed=6    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
2022-05-24 12:06:36,683 p=4996 u=moonja n=ansible | co7-node02                 : ok=7    changed=6    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
2022-05-24 12:06:36,683 p=4996 u=moonja n=ansible | co7-node03                 : ok=7    changed=6    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
2022-05-24 12:10:21,167 p=8696 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature 
will be removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2022-05-24 12:10:21,181 p=8696 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-05-24 12:10:21,430 p=8696 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be 
removed in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2022-05-24 12:10:21,485 p=8696 u=moonja n=ansible | PLAY [all] *****************************************************************************************************
2022-05-24 12:10:21,509 p=8696 u=moonja n=ansible | TASK [Gathering Facts] *****************************************************************************************
2022-05-24 12:10:22,907 p=8696 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 12:10:23,454 p=8696 u=moonja n=ansible | ok: [co7-node02]
2022-05-24 12:10:23,456 p=8696 u=moonja n=ansible | ok: [co7-node03]
2022-05-24 12:10:23,459 p=8696 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:10:23,476 p=8696 u=moonja n=ansible | TASK [pgbackrest : Stop the stanza on the repository host (only needs to be done on this host)] ****************
2022-05-24 12:10:23,495 p=8696 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:10:23,510 p=8696 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:10:23,526 p=8696 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:10:24,104 p=8696 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:10:24,114 p=8696 u=moonja n=ansible | TASK [pgbackrest : debug] **************************************************************************************
2022-05-24 12:10:24,149 p=8696 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:10:24,165 p=8696 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:10:24,166 p=8696 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:10:24,179 p=8696 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": true,
        "cmd": [
            "/usr/bin/pgbackrest",
            "--stanza=main",
            "--log-level-console=info",
            "stop"
        ],
        "delta": "0:00:00.006064",
        "end": "2022-05-24 12:10:24.499574",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:10:24.493510",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "2022-05-24 12:10:24.499 P00   INFO: stop command begin 2.31: --exec-id=23173-a26ab24f --log-level-console=info --stanza=main\n2022-05-24 12:10:24.499 P00   INFO: stop command end: completed successfully (2ms)",
        "stdout_lines": [
            "2022-05-24 12:10:24.499 P00   INFO: stop command begin 2.31: --exec-id=23173-a26ab24f --log-level-console=info --stanza=main",
            "2022-05-24 12:10:24.499 P00   INFO: stop command end: completed successfully (2ms)"
        ]
    }
}
2022-05-24 12:10:24,189 p=8696 u=moonja n=ansible | TASK [pgbackrest : Delete main.stop file for pgbackrest] *******************************************************
2022-05-24 12:10:24,210 p=8696 u=moonja n=ansible | skipping: [co7-node01] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 12:10:24,226 p=8696 u=moonja n=ansible | skipping: [co7-node02] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 12:10:24,242 p=8696 u=moonja n=ansible | skipping: [co7-node03] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 12:10:24,959 p=8696 u=moonja n=ansible | changed: [co7-master] => (item=/tmp/pgbackrest/main.stop)
2022-05-24 12:10:24,973 p=8696 u=moonja n=ansible | TASK [pgbackrest : Delete the stanza on the repository host (only needs to be done on this host)] **************
2022-05-24 12:10:25,009 p=8696 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:10:25,024 p=8696 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:10:25,026 p=8696 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:10:25,491 p=8696 u=moonja n=ansible | fatal: [co7-master]: FAILED! => {"changed": true, "cmd": ["/usr/bin/pgbackrest", "--stanza=main", "--log-level-console=info", "stanza-delete", "--force"], "delta": "0:00:00.004818", "end": "2022-05-24 12:10:25.885810", "msg": "non-zero return code", "rc": 37, "start": "2022-05-24 12:10:25.880992", "stderr": "ERROR: [037]: stanza-delete command requires option: pg1-path\n       HINT: does this stanza exist?", "stderr_lines": ["ERROR: [037]: stanza-delete command requires option: pg1-path", "       HINT: does this stanza exist?"], "stdout": "", "stdout_lines": []}
2022-05-24 12:10:25,491 p=8696 u=moonja n=ansible | ...ignoring
2022-05-24 12:10:25,499 p=8696 u=moonja n=ansible | TASK [pgbackrest : debug] **************************************************************************************
2022-05-24 12:10:25,535 p=8696 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:10:25,550 p=8696 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:10:25,551 p=8696 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:10:25,565 p=8696 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": true,
        "cmd": [
            "/usr/bin/pgbackrest",
            "--stanza=main",
            "--log-level-console=info",
            "stanza-delete",
            "--force"
        ],
        "delta": "0:00:00.004818",
        "end": "2022-05-24 12:10:25.885810",
        "failed": true,
        "msg": "non-zero return code",
        "rc": 37,
        "start": "2022-05-24 12:10:25.880992",
        "stderr": "ERROR: [037]: stanza-delete command requires option: pg1-path\n       HINT: does this stanza exist?",
        "stderr_lines": [
            "ERROR: [037]: stanza-delete command requires option: pg1-path",
            "       HINT: does this stanza exist?"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-05-24 12:10:25,574 p=8696 u=moonja n=ansible | TASK [pgbackrest : Kill process of pgbackrest on repository] ***************************************************
2022-05-24 12:10:25,609 p=8696 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:10:25,626 p=8696 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:10:25,626 p=8696 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:10:26,120 p=8696 u=moonja n=ansible | fatal: [co7-master]: FAILED! => {"changed": false, "cmd": "killall pgbackrest", "msg": "[Errno 2] No such file or directory", "rc": 2, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2022-05-24 12:10:26,120 p=8696 u=moonja n=ansible | ...ignoring
2022-05-24 12:10:26,129 p=8696 u=moonja n=ansible | TASK [pgbackrest : debug] **************************************************************************************
2022-05-24 12:10:26,165 p=8696 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:10:26,181 p=8696 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:10:26,182 p=8696 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:10:26,194 p=8696 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "cmd": "killall pgbackrest",
        "failed": true,
        "msg": "[Errno 2] No such file or directory",
        "rc": 2,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-05-24 12:10:26,204 p=8696 u=moonja n=ansible | TASK [pgbackrest : Delete configuration file for pgbackrest] ***************************************************
2022-05-24 12:10:26,628 p=8696 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 12:10:26,629 p=8696 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 12:10:26,643 p=8696 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 12:10:26,651 p=8696 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 12:10:26,662 p=8696 u=moonja n=ansible | TASK [pgbackrest : Delete repository location for pgbackrest] **************************************************
2022-05-24 12:10:26,684 p=8696 u=moonja n=ansible | skipping: [co7-node01] => (item=/var/lib/pgbackrest) 
2022-05-24 12:10:26,699 p=8696 u=moonja n=ansible | skipping: [co7-node02] => (item=/var/lib/pgbackrest) 
2022-05-24 12:10:26,716 p=8696 u=moonja n=ansible | skipping: [co7-node03] => (item=/var/lib/pgbackrest) 
2022-05-24 12:10:27,195 p=8696 u=moonja n=ansible | ok: [co7-master] => (item=/var/lib/pgbackrest)
2022-05-24 12:10:27,207 p=8696 u=moonja n=ansible | TASK [pgbackrest : Delete ssh keys to allow password-less login between all nodes] *****************************
2022-05-24 12:10:27,563 p=8696 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/id_rsa)
2022-05-24 12:10:27,568 p=8696 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/id_rsa)
2022-05-24 12:10:27,583 p=8696 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/id_rsa)
2022-05-24 12:10:27,604 p=8696 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/id_rsa)
2022-05-24 12:10:27,860 p=8696 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/id_rsa.pub)
2022-05-24 12:10:27,867 p=8696 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/id_rsa.pub)
2022-05-24 12:10:27,874 p=8696 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/id_rsa.pub)
2022-05-24 12:10:27,899 p=8696 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/id_rsa.pub)
2022-05-24 12:10:28,189 p=8696 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/authorized_keys)
2022-05-24 12:10:28,192 p=8696 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/authorized_keys)
2022-05-24 12:10:28,200 p=8696 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/authorized_keys)
2022-05-24 12:10:28,238 p=8696 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/authorized_keys)
2022-05-24 12:10:28,512 p=8696 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh)
2022-05-24 12:10:28,534 p=8696 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh)
2022-05-24 12:10:28,539 p=8696 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh)
2022-05-24 12:10:28,589 p=8696 u=moonja n=ansible | changed: [co7-master] => (item=.ssh)
2022-05-24 12:10:28,600 p=8696 u=moonja n=ansible | TASK [pgbackrest : Delete directories and files in all nodes] **************************************************
2022-05-24 12:10:28,949 p=8696 u=moonja n=ansible | changed: [co7-node01] => (item=/var/log/pgbackrest)
2022-05-24 12:10:28,950 p=8696 u=moonja n=ansible | changed: [co7-node02] => (item=/var/log/pgbackrest)
2022-05-24 12:10:29,066 p=8696 u=moonja n=ansible | changed: [co7-node03] => (item=/var/log/pgbackrest)
2022-05-24 12:10:29,091 p=8696 u=moonja n=ansible | changed: [co7-master] => (item=/var/log/pgbackrest)
2022-05-24 12:10:29,275 p=8696 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest/conf.d)
2022-05-24 12:10:29,276 p=8696 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest/conf.d)
2022-05-24 12:10:29,369 p=8696 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest/conf.d)
2022-05-24 12:10:29,426 p=8696 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest/conf.d)
2022-05-24 12:10:29,575 p=8696 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest)
2022-05-24 12:10:29,579 p=8696 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest)
2022-05-24 12:10:29,672 p=8696 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest)
2022-05-24 12:10:29,721 p=8696 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest)
2022-05-24 12:10:29,733 p=8696 u=moonja n=ansible | TASK [pgbackrest : Delete lines for pgbackrest in patroni.yml] *************************************************
2022-05-24 12:10:29,802 p=8696 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'}) 
2022-05-24 12:10:29,803 p=8696 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_command:*', 'state': 'absent'}) 
2022-05-24 12:10:30,340 p=8696 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 12:10:30,341 p=8696 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 12:10:30,343 p=8696 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 12:10:30,683 p=8696 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 12:10:30,684 p=8696 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 12:10:30,685 p=8696 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 12:10:30,695 p=8696 u=moonja n=ansible | TASK [pgbackrest : Return previous values in patroni.yml for pgBackrest] ***************************************
2022-05-24 12:10:30,789 p=8696 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.81:5432'", 'state': 'present'}) 
2022-05-24 12:10:30,790 p=8696 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  connect_address: '192.168.0.81:5532'", 'line': "  connect_address: '192.168.0.81:5432'", 'state': 'present'}) 
2022-05-24 12:10:30,791 p=8696 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'}) 
2022-05-24 12:10:31,125 p=8696 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.83:5432'", 'state': 'present'})
2022-05-24 12:10:31,143 p=8696 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.84:5432'", 'state': 'present'})
2022-05-24 12:10:31,144 p=8696 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.85:5432'", 'state': 'present'})
2022-05-24 12:10:31,425 p=8696 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  connect_address: '192.168.0.84:5532'", 'line': "  connect_address: '192.168.0.84:5432'", 'state': 'present'})
2022-05-24 12:10:31,429 p=8696 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  connect_address: '192.168.0.83:5532'", 'line': "  connect_address: '192.168.0.83:5432'", 'state': 'present'})
2022-05-24 12:10:31,487 p=8696 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  connect_address: '192.168.0.85:5532'", 'line': "  connect_address: '192.168.0.85:5432'", 'state': 'present'})
2022-05-24 12:10:31,837 p=8696 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 12:10:31,839 p=8696 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 12:10:31,854 p=8696 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 12:10:31,866 p=8696 u=moonja n=ansible | TASK [pgbackrest : Reload and start systemd service of patroni] ************************************************
2022-05-24 12:10:31,930 p=8696 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:10:33,376 p=8696 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:10:33,509 p=8696 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:10:34,532 p=8696 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:10:34,542 p=8696 u=moonja n=ansible | TASK [pgbackrest : Check the config on each of the two postgres hosts] *****************************************
2022-05-24 12:10:34,604 p=8696 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:10:35,194 p=8696 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:10:35,252 p=8696 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:10:35,266 p=8696 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:10:35,275 p=8696 u=moonja n=ansible | TASK [pgbackrest : debug] **************************************************************************************
2022-05-24 12:10:35,313 p=8696 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.308269",
        "end": "2022-05-24 12:10:35.218674",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:10:34.910405",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+\n| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 12:10:35,330 p=8696 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.379737",
        "end": "2022-05-24 12:10:35.530905",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:10:35.151168",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+\n| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 12:10:35,331 p=8696 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.344157",
        "end": "2022-05-24 12:10:35.134279",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:10:34.790122",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+\n| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 12:10:35,342 p=8696 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:10:35,388 p=8696 u=moonja n=ansible | PLAY RECAP *****************************************************************************************************
2022-05-24 12:10:35,389 p=8696 u=moonja n=ansible | co7-master                 : ok=13   changed=6    unreachable=0    failed=0    skipped=4    rescued=0    ignored=2   
2022-05-24 12:10:35,389 p=8696 u=moonja n=ansible | co7-node01                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 12:10:35,389 p=8696 u=moonja n=ansible | co7-node02                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 12:10:35,389 p=8696 u=moonja n=ansible | co7-node03                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 12:18:50,241 p=12597 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature 
will be removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2022-05-24 12:18:50,253 p=12597 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-05-24 12:18:50,482 p=12597 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be 
removed in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2022-05-24 12:18:50,539 p=12597 u=moonja n=ansible | PLAY [all] *****************************************************************************************************
2022-05-24 12:18:50,565 p=12597 u=moonja n=ansible | TASK [Gathering Facts] *****************************************************************************************
2022-05-24 12:18:51,950 p=12597 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 12:18:52,464 p=12597 u=moonja n=ansible | ok: [co7-node03]
2022-05-24 12:18:52,467 p=12597 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:18:52,468 p=12597 u=moonja n=ansible | ok: [co7-node02]
2022-05-24 12:18:52,487 p=12597 u=moonja n=ansible | TASK [pgbackrest : Copy the vmwawre-postgres rpm file to all hosts in cluster] *********************************
2022-05-24 12:18:52,508 p=12597 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:18:52,523 p=12597 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:18:52,538 p=12597 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:18:53,709 p=12597 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:18:53,721 p=12597 u=moonja n=ansible | TASK [pgbackrest : Install VMware Postgres on all hosts as root] ***********************************************
2022-05-24 12:18:53,740 p=12597 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:18:53,771 p=12597 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:18:53,772 p=12597 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:19:00,565 p=12597 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:19:00,573 p=12597 u=moonja n=ansible | TASK [pgbackrest : Edit patroni.yml for pgBackrest] ************************************************************
2022-05-24 12:19:00,732 p=12597 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  listen: '192.168.0.81:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'}) 
2022-05-24 12:19:00,732 p=12597 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  connect_address: '192.168.0.81:5432'", 'line': "  connect_address: '192.168.0.81:5532'", 'state': 'present'}) 
2022-05-24 12:19:00,733 p=12597 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'}) 
2022-05-24 12:19:01,163 p=12597 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  listen: '192.168.0.85:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 12:19:01,165 p=12597 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  listen: '192.168.0.84:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 12:19:01,176 p=12597 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  listen: '192.168.0.83:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 12:19:01,453 p=12597 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  connect_address: '192.168.0.84:5432'", 'line': "  connect_address: '192.168.0.84:5532'", 'state': 'present'})
2022-05-24 12:19:01,461 p=12597 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  connect_address: '192.168.0.85:5432'", 'line': "  connect_address: '192.168.0.85:5532'", 'state': 'present'})
2022-05-24 12:19:01,476 p=12597 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  connect_address: '192.168.0.83:5432'", 'line': "  connect_address: '192.168.0.83:5532'", 'state': 'present'})
2022-05-24 12:19:01,736 p=12597 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 12:19:01,743 p=12597 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 12:19:01,755 p=12597 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 12:19:01,765 p=12597 u=moonja n=ansible | TASK [pgbackrest : Edit patroni.yml for pgBackrest] ************************************************************
2022-05-24 12:19:01,835 p=12597 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'}) 
2022-05-24 12:19:01,836 p=12597 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'}) 
2022-05-24 12:19:02,146 p=12597 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 12:19:02,148 p=12597 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 12:19:02,148 p=12597 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 12:19:02,434 p=12597 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 12:19:02,435 p=12597 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 12:19:02,437 p=12597 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 12:19:02,449 p=12597 u=moonja n=ansible | TASK [pgbackrest : Create directories and files in all nodes] **************************************************
2022-05-24 12:19:02,986 p=12597 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:19:02,987 p=12597 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:19:03,005 p=12597 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:19:03,009 p=12597 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:19:03,289 p=12597 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:19:03,292 p=12597 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:19:03,304 p=12597 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:19:03,317 p=12597 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:19:03,645 p=12597 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 12:19:03,646 p=12597 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 12:19:03,681 p=12597 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 12:19:03,702 p=12597 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 12:19:03,962 p=12597 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:19:03,988 p=12597 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:19:04,012 p=12597 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:19:04,014 p=12597 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:19:04,326 p=12597 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 12:19:04,333 p=12597 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 12:19:04,379 p=12597 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 12:19:04,386 p=12597 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 12:19:04,638 p=12597 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:19:04,658 p=12597 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:19:04,739 p=12597 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:19:04,746 p=12597 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:19:04,759 p=12597 u=moonja n=ansible | TASK [pgbackrest : Allow ssh connection for postgres user in SELinux policy] ***********************************
2022-05-24 12:19:05,384 p=12597 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:19:05,392 p=12597 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:19:05,394 p=12597 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:19:05,398 p=12597 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:19:05,409 p=12597 u=moonja n=ansible | TASK [pgbackrest : Exchange ssh keys to allow password-less login between all nodes] ***************************
2022-05-24 12:19:05,918 p=12597 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:19:06,126 p=12597 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:19:06,177 p=12597 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:19:06,304 p=12597 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:19:06,318 p=12597 u=moonja n=ansible | TASK [pgbackrest : Fetch the keyfile from the node to master] **************************************************
2022-05-24 12:19:06,709 p=12597 u=moonja n=ansible | fatal: [co7-node03]: FAILED! => {"changed": false, "file": "/var/lib/pgsql/.ssh/id_rsa.pub", "msg": "Failed to get information on remote file (/var/lib/pgsql/.ssh/id_rsa.pub): Permission denied"}
2022-05-24 12:19:06,710 p=12597 u=moonja n=ansible | fatal: [co7-node01]: FAILED! => {"changed": false, "file": "/var/lib/pgsql/.ssh/id_rsa.pub", "msg": "Failed to get information on remote file (/var/lib/pgsql/.ssh/id_rsa.pub): Permission denied"}
2022-05-24 12:19:06,710 p=12597 u=moonja n=ansible | fatal: [co7-master]: FAILED! => {"changed": false, "file": "/var/lib/pgsql/.ssh/id_rsa.pub", "msg": "Failed to get information on remote file (/var/lib/pgsql/.ssh/id_rsa.pub): Permission denied"}
2022-05-24 12:19:06,712 p=12597 u=moonja n=ansible | fatal: [co7-node02]: FAILED! => {"changed": false, "file": "/var/lib/pgsql/.ssh/id_rsa.pub", "msg": "Failed to get information on remote file (/var/lib/pgsql/.ssh/id_rsa.pub): Permission denied"}
2022-05-24 12:19:06,715 p=12597 u=moonja n=ansible | PLAY RECAP *****************************************************************************************************
2022-05-24 12:19:06,715 p=12597 u=moonja n=ansible | co7-master                 : ok=6    changed=3    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2022-05-24 12:19:06,715 p=12597 u=moonja n=ansible | co7-node01                 : ok=6    changed=5    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2022-05-24 12:19:06,715 p=12597 u=moonja n=ansible | co7-node02                 : ok=6    changed=5    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2022-05-24 12:19:06,715 p=12597 u=moonja n=ansible | co7-node03                 : ok=6    changed=5    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
2022-05-24 12:25:00,048 p=14405 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature 
will be removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2022-05-24 12:25:00,060 p=14405 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-05-24 12:25:00,338 p=14405 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be 
removed in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2022-05-24 12:25:00,395 p=14405 u=moonja n=ansible | PLAY [all] *****************************************************************************************************
2022-05-24 12:25:00,420 p=14405 u=moonja n=ansible | TASK [Gathering Facts] *****************************************************************************************
2022-05-24 12:25:01,801 p=14405 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 12:25:02,278 p=14405 u=moonja n=ansible | ok: [co7-node03]
2022-05-24 12:25:02,314 p=14405 u=moonja n=ansible | ok: [co7-node02]
2022-05-24 12:25:02,315 p=14405 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:25:02,332 p=14405 u=moonja n=ansible | TASK [pgbackrest : Stop the stanza on the repository host (only needs to be done on this host)] ****************
2022-05-24 12:25:02,365 p=14405 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:25:02,381 p=14405 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:25:02,381 p=14405 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:25:02,991 p=14405 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:25:03,002 p=14405 u=moonja n=ansible | TASK [pgbackrest : debug] **************************************************************************************
2022-05-24 12:25:03,036 p=14405 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:25:03,052 p=14405 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:25:03,053 p=14405 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:25:03,066 p=14405 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": true,
        "cmd": [
            "/usr/bin/pgbackrest",
            "--stanza=main",
            "--log-level-console=info",
            "stop"
        ],
        "delta": "0:00:00.006130",
        "end": "2022-05-24 12:25:03.414741",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:25:03.408611",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "2022-05-24 12:25:03.414 P00   INFO: stop command begin 2.31: --exec-id=25499-30ea566f --log-level-console=info --stanza=main\n2022-05-24 12:25:03.414 P00   INFO: stop command end: completed successfully (2ms)",
        "stdout_lines": [
            "2022-05-24 12:25:03.414 P00   INFO: stop command begin 2.31: --exec-id=25499-30ea566f --log-level-console=info --stanza=main",
            "2022-05-24 12:25:03.414 P00   INFO: stop command end: completed successfully (2ms)"
        ]
    }
}
2022-05-24 12:25:03,075 p=14405 u=moonja n=ansible | TASK [pgbackrest : Delete main.stop file for pgbackrest] *******************************************************
2022-05-24 12:25:03,095 p=14405 u=moonja n=ansible | skipping: [co7-node01] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 12:25:03,111 p=14405 u=moonja n=ansible | skipping: [co7-node02] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 12:25:03,126 p=14405 u=moonja n=ansible | skipping: [co7-node03] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 12:25:03,723 p=14405 u=moonja n=ansible | changed: [co7-master] => (item=/tmp/pgbackrest/main.stop)
2022-05-24 12:25:03,735 p=14405 u=moonja n=ansible | TASK [pgbackrest : Delete the stanza on the repository host (only needs to be done on this host)] **************
2022-05-24 12:25:03,769 p=14405 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:25:03,785 p=14405 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:25:03,785 p=14405 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:25:04,135 p=14405 u=moonja n=ansible | fatal: [co7-master]: FAILED! => {"changed": true, "cmd": ["/usr/bin/pgbackrest", "--stanza=main", "--log-level-console=info", "stanza-delete", "--force"], "delta": "0:00:00.005036", "end": "2022-05-24 12:25:04.557920", "msg": "non-zero return code", "rc": 37, "start": "2022-05-24 12:25:04.552884", "stderr": "ERROR: [037]: stanza-delete command requires option: pg1-path\n       HINT: does this stanza exist?", "stderr_lines": ["ERROR: [037]: stanza-delete command requires option: pg1-path", "       HINT: does this stanza exist?"], "stdout": "", "stdout_lines": []}
2022-05-24 12:25:04,135 p=14405 u=moonja n=ansible | ...ignoring
2022-05-24 12:25:04,145 p=14405 u=moonja n=ansible | TASK [pgbackrest : debug] **************************************************************************************
2022-05-24 12:25:04,179 p=14405 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:25:04,195 p=14405 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:25:04,198 p=14405 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:25:04,209 p=14405 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": true,
        "cmd": [
            "/usr/bin/pgbackrest",
            "--stanza=main",
            "--log-level-console=info",
            "stanza-delete",
            "--force"
        ],
        "delta": "0:00:00.005036",
        "end": "2022-05-24 12:25:04.557920",
        "failed": true,
        "msg": "non-zero return code",
        "rc": 37,
        "start": "2022-05-24 12:25:04.552884",
        "stderr": "ERROR: [037]: stanza-delete command requires option: pg1-path\n       HINT: does this stanza exist?",
        "stderr_lines": [
            "ERROR: [037]: stanza-delete command requires option: pg1-path",
            "       HINT: does this stanza exist?"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-05-24 12:25:04,219 p=14405 u=moonja n=ansible | TASK [pgbackrest : Kill process of pgbackrest on repository] ***************************************************
2022-05-24 12:25:04,253 p=14405 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:25:04,269 p=14405 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:25:04,270 p=14405 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:25:04,721 p=14405 u=moonja n=ansible | fatal: [co7-master]: FAILED! => {"changed": false, "cmd": "killall pgbackrest", "msg": "[Errno 2] No such file or directory", "rc": 2, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2022-05-24 12:25:04,721 p=14405 u=moonja n=ansible | ...ignoring
2022-05-24 12:25:04,731 p=14405 u=moonja n=ansible | TASK [pgbackrest : debug] **************************************************************************************
2022-05-24 12:25:04,766 p=14405 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:25:04,783 p=14405 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:25:04,784 p=14405 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:25:04,797 p=14405 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "cmd": "killall pgbackrest",
        "failed": true,
        "msg": "[Errno 2] No such file or directory",
        "rc": 2,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-05-24 12:25:04,806 p=14405 u=moonja n=ansible | TASK [pgbackrest : Delete configuration file for pgbackrest] ***************************************************
2022-05-24 12:25:05,141 p=14405 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 12:25:05,142 p=14405 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 12:25:05,154 p=14405 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 12:25:05,172 p=14405 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 12:25:05,182 p=14405 u=moonja n=ansible | TASK [pgbackrest : Delete repository location for pgbackrest] **************************************************
2022-05-24 12:25:05,205 p=14405 u=moonja n=ansible | skipping: [co7-node01] => (item=/var/lib/pgbackrest) 
2022-05-24 12:25:05,222 p=14405 u=moonja n=ansible | skipping: [co7-node02] => (item=/var/lib/pgbackrest) 
2022-05-24 12:25:05,238 p=14405 u=moonja n=ansible | skipping: [co7-node03] => (item=/var/lib/pgbackrest) 
2022-05-24 12:25:05,610 p=14405 u=moonja n=ansible | ok: [co7-master] => (item=/var/lib/pgbackrest)
2022-05-24 12:25:05,621 p=14405 u=moonja n=ansible | TASK [pgbackrest : Delete ssh keys to allow password-less login between all nodes] *****************************
2022-05-24 12:25:05,995 p=14405 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/id_rsa)
2022-05-24 12:25:05,996 p=14405 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/id_rsa)
2022-05-24 12:25:06,002 p=14405 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/id_rsa)
2022-05-24 12:25:06,013 p=14405 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/id_rsa)
2022-05-24 12:25:06,285 p=14405 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/id_rsa.pub)
2022-05-24 12:25:06,286 p=14405 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/id_rsa.pub)
2022-05-24 12:25:06,303 p=14405 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/id_rsa.pub)
2022-05-24 12:25:06,307 p=14405 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/id_rsa.pub)
2022-05-24 12:25:06,586 p=14405 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/authorized_keys)
2022-05-24 12:25:06,586 p=14405 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/authorized_keys)
2022-05-24 12:25:06,608 p=14405 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/authorized_keys)
2022-05-24 12:25:06,614 p=14405 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/authorized_keys)
2022-05-24 12:25:06,878 p=14405 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh)
2022-05-24 12:25:06,892 p=14405 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh)
2022-05-24 12:25:06,897 p=14405 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh)
2022-05-24 12:25:06,915 p=14405 u=moonja n=ansible | changed: [co7-master] => (item=.ssh)
2022-05-24 12:25:06,926 p=14405 u=moonja n=ansible | TASK [pgbackrest : Delete directories and files in all nodes] **************************************************
2022-05-24 12:25:07,288 p=14405 u=moonja n=ansible | changed: [co7-node01] => (item=/var/log/pgbackrest)
2022-05-24 12:25:07,310 p=14405 u=moonja n=ansible | changed: [co7-node03] => (item=/var/log/pgbackrest)
2022-05-24 12:25:07,316 p=14405 u=moonja n=ansible | changed: [co7-node02] => (item=/var/log/pgbackrest)
2022-05-24 12:25:07,331 p=14405 u=moonja n=ansible | changed: [co7-master] => (item=/var/log/pgbackrest)
2022-05-24 12:25:07,581 p=14405 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest/conf.d)
2022-05-24 12:25:07,623 p=14405 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest/conf.d)
2022-05-24 12:25:07,623 p=14405 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest/conf.d)
2022-05-24 12:25:07,633 p=14405 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest/conf.d)
2022-05-24 12:25:07,866 p=14405 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest)
2022-05-24 12:25:07,918 p=14405 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest)
2022-05-24 12:25:07,919 p=14405 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest)
2022-05-24 12:25:07,926 p=14405 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest)
2022-05-24 12:25:07,938 p=14405 u=moonja n=ansible | TASK [pgbackrest : Delete lines for pgbackrest in patroni.yml] *************************************************
2022-05-24 12:25:08,007 p=14405 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'}) 
2022-05-24 12:25:08,008 p=14405 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_command:*', 'state': 'absent'}) 
2022-05-24 12:25:08,476 p=14405 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 12:25:08,478 p=14405 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 12:25:08,478 p=14405 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 12:25:08,770 p=14405 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 12:25:08,771 p=14405 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 12:25:08,774 p=14405 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 12:25:08,783 p=14405 u=moonja n=ansible | TASK [pgbackrest : Return previous values in patroni.yml for pgBackrest] ***************************************
2022-05-24 12:25:08,876 p=14405 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.81:5432'", 'state': 'present'}) 
2022-05-24 12:25:08,877 p=14405 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  connect_address: '192.168.0.81:5532'", 'line': "  connect_address: '192.168.0.81:5432'", 'state': 'present'}) 
2022-05-24 12:25:08,877 p=14405 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'}) 
2022-05-24 12:25:09,170 p=14405 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.83:5432'", 'state': 'present'})
2022-05-24 12:25:09,171 p=14405 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.85:5432'", 'state': 'present'})
2022-05-24 12:25:09,172 p=14405 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.84:5432'", 'state': 'present'})
2022-05-24 12:25:09,460 p=14405 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  connect_address: '192.168.0.84:5532'", 'line': "  connect_address: '192.168.0.84:5432'", 'state': 'present'})
2022-05-24 12:25:09,461 p=14405 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  connect_address: '192.168.0.85:5532'", 'line': "  connect_address: '192.168.0.85:5432'", 'state': 'present'})
2022-05-24 12:25:09,462 p=14405 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  connect_address: '192.168.0.83:5532'", 'line': "  connect_address: '192.168.0.83:5432'", 'state': 'present'})
2022-05-24 12:25:09,744 p=14405 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 12:25:09,755 p=14405 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 12:25:09,756 p=14405 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 12:25:09,767 p=14405 u=moonja n=ansible | TASK [pgbackrest : Reload and start systemd service of patroni] ************************************************
2022-05-24 12:25:09,828 p=14405 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:25:12,402 p=14405 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:25:13,117 p=14405 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:25:13,301 p=14405 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:25:13,311 p=14405 u=moonja n=ansible | TASK [pgbackrest : Check the config on each of the two postgres hosts] *****************************************
2022-05-24 12:25:13,372 p=14405 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:25:13,923 p=14405 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:25:14,018 p=14405 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:25:14,470 p=14405 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:25:14,479 p=14405 u=moonja n=ansible | TASK [pgbackrest : debug] **************************************************************************************
2022-05-24 12:25:14,518 p=14405 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.306525",
        "end": "2022-05-24 12:25:13.986853",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:25:13.680328",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+\n| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 12:25:14,535 p=14405 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.360582",
        "end": "2022-05-24 12:25:14.296319",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:25:13.935737",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+\n| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 12:25:14,536 p=14405 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.354148",
        "end": "2022-05-24 12:25:13.945132",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:25:13.590984",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+\n| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 12:25:14,549 p=14405 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:25:14,594 p=14405 u=moonja n=ansible | PLAY RECAP *****************************************************************************************************
2022-05-24 12:25:14,594 p=14405 u=moonja n=ansible | co7-master                 : ok=13   changed=6    unreachable=0    failed=0    skipped=4    rescued=0    ignored=2   
2022-05-24 12:25:14,594 p=14405 u=moonja n=ansible | co7-node01                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 12:25:14,595 p=14405 u=moonja n=ansible | co7-node02                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 12:25:14,595 p=14405 u=moonja n=ansible | co7-node03                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 12:25:19,309 p=15396 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature 
will be removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2022-05-24 12:25:19,318 p=15396 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-05-24 12:25:19,557 p=15396 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be 
removed in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2022-05-24 12:25:19,611 p=15396 u=moonja n=ansible | PLAY [all] *****************************************************************************************************
2022-05-24 12:25:19,637 p=15396 u=moonja n=ansible | TASK [Gathering Facts] *****************************************************************************************
2022-05-24 12:25:20,976 p=15396 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 12:25:20,978 p=15396 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:25:20,980 p=15396 u=moonja n=ansible | ok: [co7-node03]
2022-05-24 12:25:20,981 p=15396 u=moonja n=ansible | ok: [co7-node02]
2022-05-24 12:25:20,999 p=15396 u=moonja n=ansible | TASK [pgbackrest : Copy the vmwawre-postgres rpm file to all hosts in cluster] *********************************
2022-05-24 12:25:21,018 p=15396 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:25:21,048 p=15396 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:25:21,050 p=15396 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:25:22,131 p=15396 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:25:22,143 p=15396 u=moonja n=ansible | TASK [pgbackrest : Install VMware Postgres on all hosts as root] ***********************************************
2022-05-24 12:25:22,177 p=15396 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:25:22,193 p=15396 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:25:22,194 p=15396 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:25:28,874 p=15396 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:25:28,927 p=15396 u=moonja n=ansible | TASK [pgbackrest : Edit patroni.yml for pgBackrest] ************************************************************
2022-05-24 12:25:29,161 p=15396 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  listen: '192.168.0.81:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'}) 
2022-05-24 12:25:29,165 p=15396 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  connect_address: '192.168.0.81:5432'", 'line': "  connect_address: '192.168.0.81:5532'", 'state': 'present'}) 
2022-05-24 12:25:29,166 p=15396 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'}) 
2022-05-24 12:25:29,703 p=15396 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  listen: '192.168.0.84:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 12:25:29,704 p=15396 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  listen: '192.168.0.83:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 12:25:29,707 p=15396 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  listen: '192.168.0.85:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 12:25:30,000 p=15396 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  connect_address: '192.168.0.83:5432'", 'line': "  connect_address: '192.168.0.83:5532'", 'state': 'present'})
2022-05-24 12:25:30,006 p=15396 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  connect_address: '192.168.0.84:5432'", 'line': "  connect_address: '192.168.0.84:5532'", 'state': 'present'})
2022-05-24 12:25:30,008 p=15396 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  connect_address: '192.168.0.85:5432'", 'line': "  connect_address: '192.168.0.85:5532'", 'state': 'present'})
2022-05-24 12:25:30,296 p=15396 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 12:25:30,303 p=15396 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 12:25:30,307 p=15396 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 12:25:30,318 p=15396 u=moonja n=ansible | TASK [pgbackrest : Edit patroni.yml for pgBackrest] ************************************************************
2022-05-24 12:25:30,387 p=15396 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'}) 
2022-05-24 12:25:30,388 p=15396 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'}) 
2022-05-24 12:25:30,676 p=15396 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 12:25:30,676 p=15396 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 12:25:30,679 p=15396 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 12:25:30,970 p=15396 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 12:25:30,978 p=15396 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 12:25:30,979 p=15396 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 12:25:30,990 p=15396 u=moonja n=ansible | TASK [pgbackrest : Create directories and files in all nodes] **************************************************
2022-05-24 12:25:31,582 p=15396 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:25:31,583 p=15396 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:25:31,599 p=15396 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:25:31,602 p=15396 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:25:31,887 p=15396 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:25:31,889 p=15396 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:25:31,902 p=15396 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:25:31,903 p=15396 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:25:32,189 p=15396 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 12:25:32,201 p=15396 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 12:25:32,208 p=15396 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 12:25:32,226 p=15396 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 12:25:32,508 p=15396 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:25:32,510 p=15396 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:25:32,511 p=15396 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:25:32,547 p=15396 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:25:32,828 p=15396 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 12:25:32,829 p=15396 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 12:25:32,844 p=15396 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 12:25:32,886 p=15396 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 12:25:33,138 p=15396 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:25:33,139 p=15396 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:25:33,146 p=15396 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:25:33,201 p=15396 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:25:33,214 p=15396 u=moonja n=ansible | TASK [pgbackrest : Allow ssh connection for postgres user in SELinux policy] ***********************************
2022-05-24 12:25:33,756 p=15396 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:25:33,757 p=15396 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:25:33,757 p=15396 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:25:33,757 p=15396 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:25:33,766 p=15396 u=moonja n=ansible | TASK [pgbackrest : Exchange ssh keys to allow password-less login between all nodes] ***************************
2022-05-24 12:25:34,238 p=15396 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:25:34,297 p=15396 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:25:34,572 p=15396 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:25:34,692 p=15396 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:25:34,704 p=15396 u=moonja n=ansible | TASK [pgbackrest : Fetch the keyfile from the node to master] **************************************************
2022-05-24 12:25:35,267 p=15396 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:25:35,269 p=15396 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:25:35,269 p=15396 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:25:35,269 p=15396 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:25:35,280 p=15396 u=moonja n=ansible | TASK [pgbackrest : Copy the key add to authorized_keys using Ansible module] ***********************************
2022-05-24 12:25:35,296 p=16282 u=moonja n=ansible | [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or {% %}.
Found: {{ item != ansible_hostname }}

2022-05-24 12:25:35,303 p=15396 u=moonja n=ansible | skipping: [co7-node01] => (item=co7-node01) 
2022-05-24 12:25:35,311 p=16283 u=moonja n=ansible | [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or {% %}.
Found: {{ item != ansible_hostname }}

2022-05-24 12:25:35,327 p=16284 u=moonja n=ansible | [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or {% %}.
Found: {{ item != ansible_hostname }}

2022-05-24 12:25:35,343 p=16289 u=moonja n=ansible | [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or {% %}.
Found: {{ item != ansible_hostname }}

2022-05-24 12:25:35,938 p=15396 u=moonja n=ansible | changed: [co7-master] => (item=co7-node01)
2022-05-24 12:25:36,406 p=15396 u=moonja n=ansible | changed: [co7-master] => (item=co7-node02)
2022-05-24 12:25:36,823 p=15396 u=moonja n=ansible | changed: [co7-master] => (item=co7-node03)
2022-05-24 12:25:36,824 p=15396 u=moonja n=ansible | skipping: [co7-master] => (item=co7-master) 
2022-05-24 12:25:38,556 p=15396 u=moonja n=ansible | changed: [co7-node02] => (item=co7-node01)
2022-05-24 12:25:38,559 p=15396 u=moonja n=ansible | skipping: [co7-node02] => (item=co7-node02) 
2022-05-24 12:25:38,562 p=15396 u=moonja n=ansible | changed: [co7-node03] => (item=co7-node01)
2022-05-24 12:25:38,858 p=15396 u=moonja n=ansible | changed: [co7-node01] => (item=co7-node02)
2022-05-24 12:25:38,923 p=15396 u=moonja n=ansible | changed: [co7-node02] => (item=co7-node03)
2022-05-24 12:25:38,933 p=15396 u=moonja n=ansible | changed: [co7-node03] => (item=co7-node02)
2022-05-24 12:25:38,934 p=15396 u=moonja n=ansible | skipping: [co7-node03] => (item=co7-node03) 
2022-05-24 12:25:39,244 p=15396 u=moonja n=ansible | changed: [co7-node01] => (item=co7-node03)
2022-05-24 12:25:39,275 p=15396 u=moonja n=ansible | changed: [co7-node02] => (item=co7-master)
2022-05-24 12:25:39,285 p=15396 u=moonja n=ansible | changed: [co7-node03] => (item=co7-master)
2022-05-24 12:25:39,614 p=15396 u=moonja n=ansible | changed: [co7-node01] => (item=co7-master)
2022-05-24 12:25:39,625 p=15396 u=moonja n=ansible | TASK [pgbackrest : meta] ***************************************************************************************
2022-05-24 12:25:39,633 p=15396 u=moonja n=ansible | PLAY RECAP *****************************************************************************************************
2022-05-24 12:25:39,633 p=15396 u=moonja n=ansible | co7-master                 : ok=8    changed=5    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2022-05-24 12:25:39,633 p=15396 u=moonja n=ansible | co7-node01                 : ok=8    changed=7    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2022-05-24 12:25:39,633 p=15396 u=moonja n=ansible | co7-node02                 : ok=8    changed=7    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2022-05-24 12:25:39,634 p=15396 u=moonja n=ansible | co7-node03                 : ok=8    changed=7    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2022-05-24 12:25:52,841 p=16492 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature 
will be removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2022-05-24 12:25:52,850 p=16492 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-05-24 12:25:53,075 p=16492 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be 
removed in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2022-05-24 12:25:53,134 p=16492 u=moonja n=ansible | PLAY [all] *****************************************************************************************************
2022-05-24 12:25:53,162 p=16492 u=moonja n=ansible | TASK [Gathering Facts] *****************************************************************************************
2022-05-24 12:25:54,381 p=16492 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:25:54,385 p=16492 u=moonja n=ansible | ok: [co7-node03]
2022-05-24 12:25:54,386 p=16492 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 12:25:54,389 p=16492 u=moonja n=ansible | ok: [co7-node02]
2022-05-24 12:25:54,406 p=16492 u=moonja n=ansible | TASK [pgbackrest : Stop the stanza on the repository host (only needs to be done on this host)] ****************
2022-05-24 12:25:54,426 p=16492 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:25:54,442 p=16492 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:25:54,458 p=16492 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:25:55,067 p=16492 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:25:55,078 p=16492 u=moonja n=ansible | TASK [pgbackrest : debug] **************************************************************************************
2022-05-24 12:25:55,112 p=16492 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:25:55,129 p=16492 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:25:55,131 p=16492 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:25:55,143 p=16492 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": true,
        "cmd": [
            "/usr/bin/pgbackrest",
            "--stanza=main",
            "--log-level-console=info",
            "stop"
        ],
        "delta": "0:00:00.005288",
        "end": "2022-05-24 12:25:55.491818",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:25:55.486530",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "2022-05-24 12:25:55.491 P00   INFO: stop command begin 2.31: --exec-id=28053-4ccfea20 --log-level-console=info --stanza=main\n2022-05-24 12:25:55.491 P00   INFO: stop command end: completed successfully (1ms)",
        "stdout_lines": [
            "2022-05-24 12:25:55.491 P00   INFO: stop command begin 2.31: --exec-id=28053-4ccfea20 --log-level-console=info --stanza=main",
            "2022-05-24 12:25:55.491 P00   INFO: stop command end: completed successfully (1ms)"
        ]
    }
}
2022-05-24 12:25:55,153 p=16492 u=moonja n=ansible | TASK [pgbackrest : Delete main.stop file for pgbackrest] *******************************************************
2022-05-24 12:25:55,174 p=16492 u=moonja n=ansible | skipping: [co7-node01] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 12:25:55,191 p=16492 u=moonja n=ansible | skipping: [co7-node02] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 12:25:55,208 p=16492 u=moonja n=ansible | skipping: [co7-node03] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 12:25:55,896 p=16492 u=moonja n=ansible | changed: [co7-master] => (item=/tmp/pgbackrest/main.stop)
2022-05-24 12:25:55,908 p=16492 u=moonja n=ansible | TASK [pgbackrest : Delete the stanza on the repository host (only needs to be done on this host)] **************
2022-05-24 12:25:55,942 p=16492 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:25:55,957 p=16492 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:25:55,959 p=16492 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:25:56,387 p=16492 u=moonja n=ansible | fatal: [co7-master]: FAILED! => {"changed": true, "cmd": ["/usr/bin/pgbackrest", "--stanza=main", "--log-level-console=info", "stanza-delete", "--force"], "delta": "0:00:00.004721", "end": "2022-05-24 12:25:56.810866", "msg": "non-zero return code", "rc": 37, "start": "2022-05-24 12:25:56.806145", "stderr": "ERROR: [037]: stanza-delete command requires option: pg1-path\n       HINT: does this stanza exist?", "stderr_lines": ["ERROR: [037]: stanza-delete command requires option: pg1-path", "       HINT: does this stanza exist?"], "stdout": "", "stdout_lines": []}
2022-05-24 12:25:56,387 p=16492 u=moonja n=ansible | ...ignoring
2022-05-24 12:25:56,398 p=16492 u=moonja n=ansible | TASK [pgbackrest : debug] **************************************************************************************
2022-05-24 12:25:56,433 p=16492 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:25:56,449 p=16492 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:25:56,450 p=16492 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:25:56,464 p=16492 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": true,
        "cmd": [
            "/usr/bin/pgbackrest",
            "--stanza=main",
            "--log-level-console=info",
            "stanza-delete",
            "--force"
        ],
        "delta": "0:00:00.004721",
        "end": "2022-05-24 12:25:56.810866",
        "failed": true,
        "msg": "non-zero return code",
        "rc": 37,
        "start": "2022-05-24 12:25:56.806145",
        "stderr": "ERROR: [037]: stanza-delete command requires option: pg1-path\n       HINT: does this stanza exist?",
        "stderr_lines": [
            "ERROR: [037]: stanza-delete command requires option: pg1-path",
            "       HINT: does this stanza exist?"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-05-24 12:25:56,474 p=16492 u=moonja n=ansible | TASK [pgbackrest : Kill process of pgbackrest on repository] ***************************************************
2022-05-24 12:25:56,507 p=16492 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:25:56,522 p=16492 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:25:56,523 p=16492 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:25:56,945 p=16492 u=moonja n=ansible | fatal: [co7-master]: FAILED! => {"changed": false, "cmd": "killall pgbackrest", "msg": "[Errno 2] No such file or directory", "rc": 2, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2022-05-24 12:25:56,945 p=16492 u=moonja n=ansible | ...ignoring
2022-05-24 12:25:56,954 p=16492 u=moonja n=ansible | TASK [pgbackrest : debug] **************************************************************************************
2022-05-24 12:25:56,988 p=16492 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:25:57,004 p=16492 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:25:57,006 p=16492 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:25:57,017 p=16492 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "cmd": "killall pgbackrest",
        "failed": true,
        "msg": "[Errno 2] No such file or directory",
        "rc": 2,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-05-24 12:25:57,027 p=16492 u=moonja n=ansible | TASK [pgbackrest : Delete configuration file for pgbackrest] ***************************************************
2022-05-24 12:25:57,372 p=16492 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 12:25:57,373 p=16492 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 12:25:57,410 p=16492 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 12:25:57,423 p=16492 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 12:25:57,434 p=16492 u=moonja n=ansible | TASK [pgbackrest : Delete repository location for pgbackrest] **************************************************
2022-05-24 12:25:57,456 p=16492 u=moonja n=ansible | skipping: [co7-node01] => (item=/var/lib/pgbackrest) 
2022-05-24 12:25:57,473 p=16492 u=moonja n=ansible | skipping: [co7-node02] => (item=/var/lib/pgbackrest) 
2022-05-24 12:25:57,489 p=16492 u=moonja n=ansible | skipping: [co7-node03] => (item=/var/lib/pgbackrest) 
2022-05-24 12:25:57,977 p=16492 u=moonja n=ansible | ok: [co7-master] => (item=/var/lib/pgbackrest)
2022-05-24 12:25:57,989 p=16492 u=moonja n=ansible | TASK [pgbackrest : Delete ssh keys to allow password-less login between all nodes] *****************************
2022-05-24 12:25:58,369 p=16492 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/id_rsa)
2022-05-24 12:25:58,370 p=16492 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/id_rsa)
2022-05-24 12:25:58,373 p=16492 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/id_rsa)
2022-05-24 12:25:58,382 p=16492 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/id_rsa)
2022-05-24 12:25:58,675 p=16492 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/id_rsa.pub)
2022-05-24 12:25:58,678 p=16492 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/id_rsa.pub)
2022-05-24 12:25:58,688 p=16492 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/id_rsa.pub)
2022-05-24 12:25:58,700 p=16492 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/id_rsa.pub)
2022-05-24 12:25:58,974 p=16492 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/authorized_keys)
2022-05-24 12:25:58,985 p=16492 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/authorized_keys)
2022-05-24 12:25:58,987 p=16492 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/authorized_keys)
2022-05-24 12:25:58,991 p=16492 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/authorized_keys)
2022-05-24 12:25:59,280 p=16492 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh)
2022-05-24 12:25:59,281 p=16492 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh)
2022-05-24 12:25:59,295 p=16492 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh)
2022-05-24 12:25:59,331 p=16492 u=moonja n=ansible | changed: [co7-master] => (item=.ssh)
2022-05-24 12:25:59,366 p=16492 u=moonja n=ansible | TASK [pgbackrest : Delete directories and files in all nodes] **************************************************
2022-05-24 12:25:59,728 p=16492 u=moonja n=ansible | changed: [co7-node01] => (item=/var/log/pgbackrest)
2022-05-24 12:25:59,736 p=16492 u=moonja n=ansible | changed: [co7-node03] => (item=/var/log/pgbackrest)
2022-05-24 12:25:59,736 p=16492 u=moonja n=ansible | changed: [co7-node02] => (item=/var/log/pgbackrest)
2022-05-24 12:25:59,743 p=16492 u=moonja n=ansible | changed: [co7-master] => (item=/var/log/pgbackrest)
2022-05-24 12:26:00,012 p=16492 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest/conf.d)
2022-05-24 12:26:00,031 p=16492 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest/conf.d)
2022-05-24 12:26:00,039 p=16492 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest/conf.d)
2022-05-24 12:26:00,040 p=16492 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest/conf.d)
2022-05-24 12:26:00,367 p=16492 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest)
2022-05-24 12:26:00,385 p=16492 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest)
2022-05-24 12:26:00,386 p=16492 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest)
2022-05-24 12:26:00,392 p=16492 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest)
2022-05-24 12:26:00,404 p=16492 u=moonja n=ansible | TASK [pgbackrest : Delete lines for pgbackrest in patroni.yml] *************************************************
2022-05-24 12:26:00,470 p=16492 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'}) 
2022-05-24 12:26:00,471 p=16492 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_command:*', 'state': 'absent'}) 
2022-05-24 12:26:00,899 p=16492 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 12:26:00,901 p=16492 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 12:26:00,905 p=16492 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 12:26:01,199 p=16492 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 12:26:01,206 p=16492 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 12:26:01,211 p=16492 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 12:26:01,222 p=16492 u=moonja n=ansible | TASK [pgbackrest : Return previous values in patroni.yml for pgBackrest] ***************************************
2022-05-24 12:26:01,315 p=16492 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.81:5432'", 'state': 'present'}) 
2022-05-24 12:26:01,316 p=16492 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  connect_address: '192.168.0.81:5532'", 'line': "  connect_address: '192.168.0.81:5432'", 'state': 'present'}) 
2022-05-24 12:26:01,316 p=16492 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'}) 
2022-05-24 12:26:01,566 p=16492 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.83:5432'", 'state': 'present'})
2022-05-24 12:26:01,578 p=16492 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.84:5432'", 'state': 'present'})
2022-05-24 12:26:01,610 p=16492 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.85:5432'", 'state': 'present'})
2022-05-24 12:26:01,878 p=16492 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  connect_address: '192.168.0.83:5532'", 'line': "  connect_address: '192.168.0.83:5432'", 'state': 'present'})
2022-05-24 12:26:01,879 p=16492 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  connect_address: '192.168.0.84:5532'", 'line': "  connect_address: '192.168.0.84:5432'", 'state': 'present'})
2022-05-24 12:26:01,898 p=16492 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  connect_address: '192.168.0.85:5532'", 'line': "  connect_address: '192.168.0.85:5432'", 'state': 'present'})
2022-05-24 12:26:02,168 p=16492 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 12:26:02,173 p=16492 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 12:26:02,185 p=16492 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 12:26:02,195 p=16492 u=moonja n=ansible | TASK [pgbackrest : Reload and start systemd service of patroni] ************************************************
2022-05-24 12:26:02,258 p=16492 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:26:03,376 p=16492 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:26:03,668 p=16492 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:26:03,960 p=16492 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:26:03,970 p=16492 u=moonja n=ansible | TASK [pgbackrest : Check the config on each of the two postgres hosts] *****************************************
2022-05-24 12:26:04,029 p=16492 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:26:04,616 p=16492 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:26:04,630 p=16492 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:26:04,687 p=16492 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:26:04,698 p=16492 u=moonja n=ansible | TASK [pgbackrest : debug] **************************************************************************************
2022-05-24 12:26:04,734 p=16492 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.322586",
        "end": "2022-05-24 12:26:04.678115",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:26:04.355529",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+\n| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 12:26:04,752 p=16492 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.363589",
        "end": "2022-05-24 12:26:04.964470",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:26:04.600881",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+\n| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 12:26:04,753 p=16492 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.318823",
        "end": "2022-05-24 12:26:04.561259",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:26:04.242436",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+\n| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 12:26:04,764 p=16492 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:26:04,808 p=16492 u=moonja n=ansible | PLAY RECAP *****************************************************************************************************
2022-05-24 12:26:04,808 p=16492 u=moonja n=ansible | co7-master                 : ok=13   changed=6    unreachable=0    failed=0    skipped=4    rescued=0    ignored=2   
2022-05-24 12:26:04,808 p=16492 u=moonja n=ansible | co7-node01                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 12:26:04,809 p=16492 u=moonja n=ansible | co7-node02                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 12:26:04,809 p=16492 u=moonja n=ansible | co7-node03                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 12:26:05,373 p=17457 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature 
will be removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2022-05-24 12:26:05,381 p=17457 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-05-24 12:26:05,606 p=17457 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be 
removed in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2022-05-24 12:26:05,659 p=17457 u=moonja n=ansible | PLAY [all] *****************************************************************************************************
2022-05-24 12:26:05,684 p=17457 u=moonja n=ansible | TASK [Gathering Facts] *****************************************************************************************
2022-05-24 12:26:06,847 p=17457 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:26:06,848 p=17457 u=moonja n=ansible | ok: [co7-node02]
2022-05-24 12:26:06,866 p=17457 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 12:26:06,871 p=17457 u=moonja n=ansible | ok: [co7-node03]
2022-05-24 12:26:06,888 p=17457 u=moonja n=ansible | TASK [pgbackrest : Copy the vmwawre-postgres rpm file to all hosts in cluster] *********************************
2022-05-24 12:26:06,921 p=17457 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:26:06,936 p=17457 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:26:06,937 p=17457 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:26:07,748 p=17457 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:26:07,759 p=17457 u=moonja n=ansible | TASK [pgbackrest : Install VMware Postgres on all hosts as root] ***********************************************
2022-05-24 12:26:07,778 p=17457 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:26:07,793 p=17457 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:26:07,809 p=17457 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:26:14,837 p=17457 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:26:14,845 p=17457 u=moonja n=ansible | TASK [pgbackrest : Edit patroni.yml for pgBackrest] ************************************************************
2022-05-24 12:26:14,936 p=17457 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  listen: '192.168.0.81:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'}) 
2022-05-24 12:26:14,937 p=17457 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  connect_address: '192.168.0.81:5432'", 'line': "  connect_address: '192.168.0.81:5532'", 'state': 'present'}) 
2022-05-24 12:26:14,937 p=17457 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'}) 
2022-05-24 12:26:15,425 p=17457 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  listen: '192.168.0.85:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 12:26:15,427 p=17457 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  listen: '192.168.0.83:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 12:26:15,435 p=17457 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  listen: '192.168.0.84:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 12:26:15,740 p=17457 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  connect_address: '192.168.0.85:5432'", 'line': "  connect_address: '192.168.0.85:5532'", 'state': 'present'})
2022-05-24 12:26:15,744 p=17457 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  connect_address: '192.168.0.83:5432'", 'line': "  connect_address: '192.168.0.83:5532'", 'state': 'present'})
2022-05-24 12:26:15,745 p=17457 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  connect_address: '192.168.0.84:5432'", 'line': "  connect_address: '192.168.0.84:5532'", 'state': 'present'})
2022-05-24 12:26:16,025 p=17457 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 12:26:16,047 p=17457 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 12:26:16,048 p=17457 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 12:26:16,057 p=17457 u=moonja n=ansible | TASK [pgbackrest : Edit patroni.yml for pgBackrest] ************************************************************
2022-05-24 12:26:16,125 p=17457 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'}) 
2022-05-24 12:26:16,126 p=17457 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'}) 
2022-05-24 12:26:16,423 p=17457 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 12:26:16,425 p=17457 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 12:26:16,429 p=17457 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 12:26:16,768 p=17457 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 12:26:16,768 p=17457 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 12:26:16,770 p=17457 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 12:26:16,781 p=17457 u=moonja n=ansible | TASK [pgbackrest : Create directories and files in all nodes] **************************************************
2022-05-24 12:26:17,426 p=17457 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:26:17,430 p=17457 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:26:17,431 p=17457 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:26:17,432 p=17457 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:26:17,738 p=17457 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:26:17,741 p=17457 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:26:17,744 p=17457 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:26:17,748 p=17457 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:26:18,063 p=17457 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 12:26:18,066 p=17457 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 12:26:18,067 p=17457 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 12:26:18,068 p=17457 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 12:26:18,403 p=17457 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:26:18,404 p=17457 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:26:18,406 p=17457 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:26:18,414 p=17457 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:26:18,716 p=17457 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 12:26:18,716 p=17457 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 12:26:18,725 p=17457 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 12:26:18,729 p=17457 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 12:26:19,030 p=17457 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:26:19,031 p=17457 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:26:19,031 p=17457 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:26:19,037 p=17457 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:26:19,049 p=17457 u=moonja n=ansible | TASK [pgbackrest : Allow ssh connection for postgres user in SELinux policy] ***********************************
2022-05-24 12:26:19,592 p=17457 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:26:19,597 p=17457 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:26:19,597 p=17457 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:26:19,604 p=17457 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:26:19,614 p=17457 u=moonja n=ansible | TASK [pgbackrest : Exchange ssh keys to allow password-less login between all nodes] ***************************
2022-05-24 12:26:20,123 p=17457 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:26:20,387 p=17457 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:26:20,612 p=17457 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:26:20,624 p=17457 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:26:20,634 p=17457 u=moonja n=ansible | TASK [pgbackrest : Fetch the keyfile from the node to master] **************************************************
2022-05-24 12:26:21,149 p=17457 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:26:21,149 p=17457 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:26:21,150 p=17457 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:26:21,159 p=17457 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:26:21,168 p=17457 u=moonja n=ansible | TASK [pgbackrest : Copy the key add to authorized_keys using Ansible module] ***********************************
2022-05-24 12:26:21,184 p=18344 u=moonja n=ansible | [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or {% %}.
Found: {{ item != ansible_hostname }}

2022-05-24 12:26:21,192 p=17457 u=moonja n=ansible | skipping: [co7-node01] => (item=co7-node01) 
2022-05-24 12:26:21,199 p=18345 u=moonja n=ansible | [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or {% %}.
Found: {{ item != ansible_hostname }}

2022-05-24 12:26:21,216 p=18347 u=moonja n=ansible | [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or {% %}.
Found: {{ item != ansible_hostname }}

2022-05-24 12:26:21,231 p=18351 u=moonja n=ansible | [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or {% %}.
Found: {{ item != ansible_hostname }}

2022-05-24 12:26:21,842 p=17457 u=moonja n=ansible | changed: [co7-master] => (item=co7-node01)
2022-05-24 12:26:21,843 p=17457 u=moonja n=ansible | changed: [co7-node01] => (item=co7-node02)
2022-05-24 12:26:21,843 p=17457 u=moonja n=ansible | changed: [co7-node02] => (item=co7-node01)
2022-05-24 12:26:21,844 p=17457 u=moonja n=ansible | changed: [co7-node03] => (item=co7-node01)
2022-05-24 12:26:21,847 p=17457 u=moonja n=ansible | skipping: [co7-node02] => (item=co7-node02) 
2022-05-24 12:26:22,209 p=17457 u=moonja n=ansible | changed: [co7-master] => (item=co7-node02)
2022-05-24 12:26:22,216 p=17457 u=moonja n=ansible | changed: [co7-node02] => (item=co7-node03)
2022-05-24 12:26:22,219 p=17457 u=moonja n=ansible | changed: [co7-node03] => (item=co7-node02)
2022-05-24 12:26:22,219 p=17457 u=moonja n=ansible | skipping: [co7-node03] => (item=co7-node03) 
2022-05-24 12:26:22,223 p=17457 u=moonja n=ansible | changed: [co7-node01] => (item=co7-node03)
2022-05-24 12:26:22,561 p=17457 u=moonja n=ansible | changed: [co7-master] => (item=co7-node03)
2022-05-24 12:26:22,562 p=17457 u=moonja n=ansible | skipping: [co7-master] => (item=co7-master) 
2022-05-24 12:26:22,565 p=17457 u=moonja n=ansible | changed: [co7-node02] => (item=co7-master)
2022-05-24 12:26:22,583 p=17457 u=moonja n=ansible | changed: [co7-node03] => (item=co7-master)
2022-05-24 12:26:22,588 p=17457 u=moonja n=ansible | changed: [co7-node01] => (item=co7-master)
2022-05-24 12:26:22,600 p=17457 u=moonja n=ansible | TASK [pgbackrest : meta] ***************************************************************************************
2022-05-24 12:26:22,608 p=17457 u=moonja n=ansible | PLAY RECAP *****************************************************************************************************
2022-05-24 12:26:22,608 p=17457 u=moonja n=ansible | co7-master                 : ok=8    changed=5    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2022-05-24 12:26:22,608 p=17457 u=moonja n=ansible | co7-node01                 : ok=8    changed=7    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2022-05-24 12:26:22,608 p=17457 u=moonja n=ansible | co7-node02                 : ok=8    changed=7    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2022-05-24 12:26:22,608 p=17457 u=moonja n=ansible | co7-node03                 : ok=8    changed=7    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2022-05-24 12:29:16,398 p=20756 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature 
will be removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2022-05-24 12:29:16,408 p=20756 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-05-24 12:29:16,654 p=20756 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be 
removed in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2022-05-24 12:29:16,710 p=20756 u=moonja n=ansible | PLAY [all] *****************************************************************************************************
2022-05-24 12:29:16,735 p=20756 u=moonja n=ansible | TASK [Gathering Facts] *****************************************************************************************
2022-05-24 12:29:18,141 p=20756 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 12:29:18,576 p=20756 u=moonja n=ansible | ok: [co7-node02]
2022-05-24 12:29:18,577 p=20756 u=moonja n=ansible | ok: [co7-node03]
2022-05-24 12:29:18,580 p=20756 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:29:18,597 p=20756 u=moonja n=ansible | TASK [pgbackrest : Stop the stanza on the repository host (only needs to be done on this host)] ****************
2022-05-24 12:29:18,630 p=20756 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:29:18,645 p=20756 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:29:18,647 p=20756 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:29:19,304 p=20756 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:29:19,317 p=20756 u=moonja n=ansible | TASK [pgbackrest : debug] **************************************************************************************
2022-05-24 12:29:19,356 p=20756 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:29:19,372 p=20756 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:29:19,374 p=20756 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:29:19,385 p=20756 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": true,
        "cmd": [
            "/usr/bin/pgbackrest",
            "--stanza=main",
            "--log-level-console=info",
            "stop"
        ],
        "delta": "0:00:00.005540",
        "end": "2022-05-24 12:29:19.697172",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:29:19.691632",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "2022-05-24 12:29:19.696 P00   INFO: stop command begin 2.31: --exec-id=30743-60e18951 --log-level-console=info --stanza=main\n2022-05-24 12:29:19.696 P00   INFO: stop command end: completed successfully (1ms)",
        "stdout_lines": [
            "2022-05-24 12:29:19.696 P00   INFO: stop command begin 2.31: --exec-id=30743-60e18951 --log-level-console=info --stanza=main",
            "2022-05-24 12:29:19.696 P00   INFO: stop command end: completed successfully (1ms)"
        ]
    }
}
2022-05-24 12:29:19,395 p=20756 u=moonja n=ansible | TASK [pgbackrest : Delete main.stop file for pgbackrest] *******************************************************
2022-05-24 12:29:19,417 p=20756 u=moonja n=ansible | skipping: [co7-node01] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 12:29:19,432 p=20756 u=moonja n=ansible | skipping: [co7-node02] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 12:29:19,447 p=20756 u=moonja n=ansible | skipping: [co7-node03] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 12:29:20,088 p=20756 u=moonja n=ansible | changed: [co7-master] => (item=/tmp/pgbackrest/main.stop)
2022-05-24 12:29:20,100 p=20756 u=moonja n=ansible | TASK [pgbackrest : Delete the stanza on the repository host (only needs to be done on this host)] **************
2022-05-24 12:29:20,134 p=20756 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:29:20,150 p=20756 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:29:20,151 p=20756 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:29:20,689 p=20756 u=moonja n=ansible | fatal: [co7-master]: FAILED! => {"changed": true, "cmd": ["/usr/bin/pgbackrest", "--stanza=main", "--log-level-console=info", "stanza-delete", "--force"], "delta": "0:00:00.004936", "end": "2022-05-24 12:29:21.123671", "msg": "non-zero return code", "rc": 37, "start": "2022-05-24 12:29:21.118735", "stderr": "ERROR: [037]: stanza-delete command requires option: pg1-path\n       HINT: does this stanza exist?", "stderr_lines": ["ERROR: [037]: stanza-delete command requires option: pg1-path", "       HINT: does this stanza exist?"], "stdout": "", "stdout_lines": []}
2022-05-24 12:29:20,689 p=20756 u=moonja n=ansible | ...ignoring
2022-05-24 12:29:20,698 p=20756 u=moonja n=ansible | TASK [pgbackrest : debug] **************************************************************************************
2022-05-24 12:29:20,737 p=20756 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:29:20,755 p=20756 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:29:20,755 p=20756 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:29:20,768 p=20756 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": true,
        "cmd": [
            "/usr/bin/pgbackrest",
            "--stanza=main",
            "--log-level-console=info",
            "stanza-delete",
            "--force"
        ],
        "delta": "0:00:00.004936",
        "end": "2022-05-24 12:29:21.123671",
        "failed": true,
        "msg": "non-zero return code",
        "rc": 37,
        "start": "2022-05-24 12:29:21.118735",
        "stderr": "ERROR: [037]: stanza-delete command requires option: pg1-path\n       HINT: does this stanza exist?",
        "stderr_lines": [
            "ERROR: [037]: stanza-delete command requires option: pg1-path",
            "       HINT: does this stanza exist?"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-05-24 12:29:20,778 p=20756 u=moonja n=ansible | TASK [pgbackrest : Kill process of pgbackrest on repository] ***************************************************
2022-05-24 12:29:20,797 p=20756 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:29:20,814 p=20756 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:29:20,830 p=20756 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:29:21,287 p=20756 u=moonja n=ansible | fatal: [co7-master]: FAILED! => {"changed": false, "cmd": "killall pgbackrest", "msg": "[Errno 2] No such file or directory", "rc": 2, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2022-05-24 12:29:21,287 p=20756 u=moonja n=ansible | ...ignoring
2022-05-24 12:29:21,296 p=20756 u=moonja n=ansible | TASK [pgbackrest : debug] **************************************************************************************
2022-05-24 12:29:21,331 p=20756 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:29:21,348 p=20756 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:29:21,350 p=20756 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:29:21,361 p=20756 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "cmd": "killall pgbackrest",
        "failed": true,
        "msg": "[Errno 2] No such file or directory",
        "rc": 2,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-05-24 12:29:21,371 p=20756 u=moonja n=ansible | TASK [pgbackrest : Delete configuration file for pgbackrest] ***************************************************
2022-05-24 12:29:21,720 p=20756 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 12:29:21,722 p=20756 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 12:29:21,731 p=20756 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 12:29:21,743 p=20756 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 12:29:21,755 p=20756 u=moonja n=ansible | TASK [pgbackrest : Delete repository location for pgbackrest] **************************************************
2022-05-24 12:29:21,777 p=20756 u=moonja n=ansible | skipping: [co7-node01] => (item=/var/lib/pgbackrest) 
2022-05-24 12:29:21,793 p=20756 u=moonja n=ansible | skipping: [co7-node02] => (item=/var/lib/pgbackrest) 
2022-05-24 12:29:21,809 p=20756 u=moonja n=ansible | skipping: [co7-node03] => (item=/var/lib/pgbackrest) 
2022-05-24 12:29:22,231 p=20756 u=moonja n=ansible | ok: [co7-master] => (item=/var/lib/pgbackrest)
2022-05-24 12:29:22,243 p=20756 u=moonja n=ansible | TASK [pgbackrest : Delete ssh keys to allow password-less login between all nodes] *****************************
2022-05-24 12:29:22,610 p=20756 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/id_rsa)
2022-05-24 12:29:22,621 p=20756 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/id_rsa)
2022-05-24 12:29:22,622 p=20756 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/id_rsa)
2022-05-24 12:29:22,622 p=20756 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/id_rsa)
2022-05-24 12:29:22,916 p=20756 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/id_rsa.pub)
2022-05-24 12:29:22,934 p=20756 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/id_rsa.pub)
2022-05-24 12:29:22,935 p=20756 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/id_rsa.pub)
2022-05-24 12:29:22,935 p=20756 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/id_rsa.pub)
2022-05-24 12:29:23,249 p=20756 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/authorized_keys)
2022-05-24 12:29:23,269 p=20756 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/authorized_keys)
2022-05-24 12:29:23,283 p=20756 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/authorized_keys)
2022-05-24 12:29:23,286 p=20756 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/authorized_keys)
2022-05-24 12:29:23,562 p=20756 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh)
2022-05-24 12:29:23,563 p=20756 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh)
2022-05-24 12:29:23,586 p=20756 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh)
2022-05-24 12:29:23,600 p=20756 u=moonja n=ansible | changed: [co7-master] => (item=.ssh)
2022-05-24 12:29:23,611 p=20756 u=moonja n=ansible | TASK [pgbackrest : Delete directories and files in all nodes] **************************************************
2022-05-24 12:29:24,027 p=20756 u=moonja n=ansible | changed: [co7-node01] => (item=/var/log/pgbackrest)
2022-05-24 12:29:24,032 p=20756 u=moonja n=ansible | changed: [co7-node02] => (item=/var/log/pgbackrest)
2022-05-24 12:29:24,055 p=20756 u=moonja n=ansible | changed: [co7-node03] => (item=/var/log/pgbackrest)
2022-05-24 12:29:24,067 p=20756 u=moonja n=ansible | changed: [co7-master] => (item=/var/log/pgbackrest)
2022-05-24 12:29:24,321 p=20756 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest/conf.d)
2022-05-24 12:29:24,336 p=20756 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest/conf.d)
2022-05-24 12:29:24,350 p=20756 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest/conf.d)
2022-05-24 12:29:24,365 p=20756 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest/conf.d)
2022-05-24 12:29:24,611 p=20756 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest)
2022-05-24 12:29:24,660 p=20756 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest)
2022-05-24 12:29:24,667 p=20756 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest)
2022-05-24 12:29:24,686 p=20756 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest)
2022-05-24 12:29:24,696 p=20756 u=moonja n=ansible | TASK [pgbackrest : Delete lines for pgbackrest in patroni.yml] *************************************************
2022-05-24 12:29:24,772 p=20756 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'}) 
2022-05-24 12:29:24,773 p=20756 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_command:*', 'state': 'absent'}) 
2022-05-24 12:29:25,274 p=20756 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 12:29:25,275 p=20756 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 12:29:25,277 p=20756 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 12:29:25,577 p=20756 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 12:29:25,589 p=20756 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 12:29:25,594 p=20756 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 12:29:25,604 p=20756 u=moonja n=ansible | TASK [pgbackrest : Return previous values in patroni.yml for pgBackrest] ***************************************
2022-05-24 12:29:25,698 p=20756 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.81:5432'", 'state': 'present'}) 
2022-05-24 12:29:25,699 p=20756 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  connect_address: '192.168.0.81:5532'", 'line': "  connect_address: '192.168.0.81:5432'", 'state': 'present'}) 
2022-05-24 12:29:25,699 p=20756 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'}) 
2022-05-24 12:29:26,018 p=20756 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.85:5432'", 'state': 'present'})
2022-05-24 12:29:26,023 p=20756 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.84:5432'", 'state': 'present'})
2022-05-24 12:29:26,023 p=20756 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.83:5432'", 'state': 'present'})
2022-05-24 12:29:26,324 p=20756 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  connect_address: '192.168.0.83:5532'", 'line': "  connect_address: '192.168.0.83:5432'", 'state': 'present'})
2022-05-24 12:29:26,328 p=20756 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  connect_address: '192.168.0.84:5532'", 'line': "  connect_address: '192.168.0.84:5432'", 'state': 'present'})
2022-05-24 12:29:26,331 p=20756 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  connect_address: '192.168.0.85:5532'", 'line': "  connect_address: '192.168.0.85:5432'", 'state': 'present'})
2022-05-24 12:29:26,615 p=20756 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 12:29:26,618 p=20756 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 12:29:26,624 p=20756 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 12:29:26,634 p=20756 u=moonja n=ansible | TASK [pgbackrest : Reload and start systemd service of patroni] ************************************************
2022-05-24 12:29:26,696 p=20756 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:29:27,961 p=20756 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:29:28,531 p=20756 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:29:29,338 p=20756 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:29:29,354 p=20756 u=moonja n=ansible | TASK [pgbackrest : Check the config on each of the two postgres hosts] *****************************************
2022-05-24 12:29:29,422 p=20756 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:29:30,015 p=20756 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:29:30,050 p=20756 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:29:30,075 p=20756 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:29:30,087 p=20756 u=moonja n=ansible | TASK [pgbackrest : debug] **************************************************************************************
2022-05-24 12:29:30,132 p=20756 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.313403",
        "end": "2022-05-24 12:29:30.078244",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:29:29.764841",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+\n| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 12:29:30,149 p=20756 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.353643",
        "end": "2022-05-24 12:29:30.382427",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:29:30.028784",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+\n| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 12:29:30,150 p=20756 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.326103",
        "end": "2022-05-24 12:29:29.984455",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:29:29.658352",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+\n| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 12:29:30,162 p=20756 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:29:30,209 p=20756 u=moonja n=ansible | PLAY RECAP *****************************************************************************************************
2022-05-24 12:29:30,209 p=20756 u=moonja n=ansible | co7-master                 : ok=13   changed=6    unreachable=0    failed=0    skipped=4    rescued=0    ignored=2   
2022-05-24 12:29:30,209 p=20756 u=moonja n=ansible | co7-node01                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 12:29:30,209 p=20756 u=moonja n=ansible | co7-node02                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 12:29:30,209 p=20756 u=moonja n=ansible | co7-node03                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 12:36:48,695 p=22683 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature 
will be removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2022-05-24 12:36:48,706 p=22683 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-05-24 12:36:48,939 p=22683 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be 
removed in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2022-05-24 12:36:48,995 p=22683 u=moonja n=ansible | PLAY [all] *****************************************************************************************************
2022-05-24 12:36:49,020 p=22683 u=moonja n=ansible | TASK [Gathering Facts] *****************************************************************************************
2022-05-24 12:36:50,393 p=22683 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 12:36:50,815 p=22683 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:36:50,816 p=22683 u=moonja n=ansible | ok: [co7-node03]
2022-05-24 12:36:50,859 p=22683 u=moonja n=ansible | ok: [co7-node02]
2022-05-24 12:36:50,878 p=22683 u=moonja n=ansible | TASK [pgbackrest : Copy the vmwawre-postgres rpm file to all hosts in cluster] *********************************
2022-05-24 12:36:50,912 p=22683 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:36:50,928 p=22683 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:36:50,929 p=22683 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:36:51,969 p=22683 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:36:51,980 p=22683 u=moonja n=ansible | TASK [pgbackrest : Install VMware Postgres on all hosts as root] ***********************************************
2022-05-24 12:36:52,000 p=22683 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:36:52,016 p=22683 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:36:52,032 p=22683 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:36:58,641 p=22683 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:36:58,649 p=22683 u=moonja n=ansible | TASK [pgbackrest : Edit patroni.yml for pgBackrest] ************************************************************
2022-05-24 12:36:58,737 p=22683 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  listen: '192.168.0.81:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'}) 
2022-05-24 12:36:58,738 p=22683 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  connect_address: '192.168.0.81:5432'", 'line': "  connect_address: '192.168.0.81:5532'", 'state': 'present'}) 
2022-05-24 12:36:58,739 p=22683 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'}) 
2022-05-24 12:36:59,255 p=22683 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  listen: '192.168.0.85:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 12:36:59,261 p=22683 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  listen: '192.168.0.84:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 12:36:59,261 p=22683 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  listen: '192.168.0.83:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 12:36:59,549 p=22683 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  connect_address: '192.168.0.85:5432'", 'line': "  connect_address: '192.168.0.85:5532'", 'state': 'present'})
2022-05-24 12:36:59,570 p=22683 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  connect_address: '192.168.0.83:5432'", 'line': "  connect_address: '192.168.0.83:5532'", 'state': 'present'})
2022-05-24 12:36:59,571 p=22683 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  connect_address: '192.168.0.84:5432'", 'line': "  connect_address: '192.168.0.84:5532'", 'state': 'present'})
2022-05-24 12:36:59,845 p=22683 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 12:36:59,887 p=22683 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 12:36:59,899 p=22683 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 12:36:59,908 p=22683 u=moonja n=ansible | TASK [pgbackrest : Edit patroni.yml for pgBackrest] ************************************************************
2022-05-24 12:36:59,977 p=22683 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'}) 
2022-05-24 12:36:59,978 p=22683 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'}) 
2022-05-24 12:37:00,300 p=22683 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 12:37:00,303 p=22683 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 12:37:00,305 p=22683 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 12:37:00,581 p=22683 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 12:37:00,591 p=22683 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 12:37:00,594 p=22683 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 12:37:00,605 p=22683 u=moonja n=ansible | TASK [pgbackrest : Create directories and files in all nodes] **************************************************
2022-05-24 12:37:01,220 p=22683 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:37:01,222 p=22683 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:37:01,232 p=22683 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:37:01,233 p=22683 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:37:01,526 p=22683 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:37:01,528 p=22683 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:37:01,528 p=22683 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:37:01,538 p=22683 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 12:37:01,832 p=22683 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 12:37:01,842 p=22683 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 12:37:01,843 p=22683 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 12:37:01,854 p=22683 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 12:37:02,154 p=22683 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:37:02,159 p=22683 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:37:02,160 p=22683 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:37:02,161 p=22683 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:37:02,479 p=22683 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 12:37:02,482 p=22683 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 12:37:02,483 p=22683 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 12:37:02,484 p=22683 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 12:37:03,030 p=22683 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:37:03,035 p=22683 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:37:03,038 p=22683 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:37:03,039 p=22683 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 12:37:03,052 p=22683 u=moonja n=ansible | TASK [pgbackrest : Allow ssh connection for postgres user in SELinux policy] ***********************************
2022-05-24 12:37:03,727 p=22683 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:37:03,729 p=22683 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:37:03,737 p=22683 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:37:03,739 p=22683 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:37:03,750 p=22683 u=moonja n=ansible | TASK [pgbackrest : Exchange ssh keys to allow password-less login between all nodes] ***************************
2022-05-24 12:37:04,464 p=22683 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:37:04,501 p=22683 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:37:04,554 p=22683 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:37:04,714 p=22683 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:37:04,726 p=22683 u=moonja n=ansible | TASK [pgbackrest : Fetch the keyfile from the node to master] **************************************************
2022-05-24 12:37:05,231 p=22683 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:37:05,232 p=22683 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:37:05,233 p=22683 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:37:05,235 p=22683 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:37:05,244 p=22683 u=moonja n=ansible | TASK [pgbackrest : Copy the key add to authorized_keys using Ansible module] ***********************************
2022-05-24 12:37:05,260 p=23581 u=moonja n=ansible | [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or {% %}.
Found: {{ item != ansible_hostname }}

2022-05-24 12:37:05,268 p=22683 u=moonja n=ansible | skipping: [co7-node01] => (item=co7-node01) 
2022-05-24 12:37:05,275 p=23582 u=moonja n=ansible | [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or {% %}.
Found: {{ item != ansible_hostname }}

2022-05-24 12:37:05,291 p=23584 u=moonja n=ansible | [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or {% %}.
Found: {{ item != ansible_hostname }}

2022-05-24 12:37:05,307 p=23587 u=moonja n=ansible | [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or {% %}.
Found: {{ item != ansible_hostname }}

2022-05-24 12:37:05,899 p=22683 u=moonja n=ansible | changed: [co7-node02] => (item=co7-node01)
2022-05-24 12:37:05,901 p=22683 u=moonja n=ansible | changed: [co7-node03] => (item=co7-node01)
2022-05-24 12:37:05,901 p=22683 u=moonja n=ansible | changed: [co7-master] => (item=co7-node01)
2022-05-24 12:37:05,902 p=22683 u=moonja n=ansible | skipping: [co7-node02] => (item=co7-node02) 
2022-05-24 12:37:05,904 p=22683 u=moonja n=ansible | changed: [co7-node01] => (item=co7-node02)
2022-05-24 12:37:06,260 p=22683 u=moonja n=ansible | changed: [co7-node02] => (item=co7-node03)
2022-05-24 12:37:06,275 p=22683 u=moonja n=ansible | changed: [co7-node03] => (item=co7-node02)
2022-05-24 12:37:06,275 p=22683 u=moonja n=ansible | skipping: [co7-node03] => (item=co7-node03) 
2022-05-24 12:37:06,277 p=22683 u=moonja n=ansible | changed: [co7-node01] => (item=co7-node03)
2022-05-24 12:37:06,289 p=22683 u=moonja n=ansible | changed: [co7-master] => (item=co7-node02)
2022-05-24 12:37:06,629 p=22683 u=moonja n=ansible | changed: [co7-node01] => (item=co7-master)
2022-05-24 12:37:06,641 p=22683 u=moonja n=ansible | changed: [co7-master] => (item=co7-node03)
2022-05-24 12:37:06,642 p=22683 u=moonja n=ansible | skipping: [co7-master] => (item=co7-master) 
2022-05-24 12:37:06,658 p=22683 u=moonja n=ansible | changed: [co7-node02] => (item=co7-master)
2022-05-24 12:37:06,670 p=22683 u=moonja n=ansible | changed: [co7-node03] => (item=co7-master)
2022-05-24 12:37:06,688 p=22683 u=moonja n=ansible | TASK [pgbackrest : The ssh-keyscan for known_hosts file] *******************************************************
2022-05-24 12:37:06,770 p=22683 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:37:07,080 p=22683 u=moonja n=ansible | changed: [co7-node01 -> co7-master(None)]
2022-05-24 12:37:07,096 p=22683 u=moonja n=ansible | changed: [co7-node02 -> co7-master(None)]
2022-05-24 12:37:07,170 p=22683 u=moonja n=ansible | changed: [co7-node03 -> co7-master(None)]
2022-05-24 12:37:07,181 p=22683 u=moonja n=ansible | TASK [pgbackrest : The ssh-keyscan for known_hosts file] *******************************************************
2022-05-24 12:37:07,244 p=22683 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:37:07,562 p=22683 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:37:07,563 p=22683 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:37:07,573 p=22683 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:37:07,593 p=22683 u=moonja n=ansible | TASK [pgbackrest : Input key] **********************************************************************************
2022-05-24 12:37:07,685 p=22683 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:37:07,914 p=22683 u=moonja n=ansible | changed: [co7-node01 -> co7-master(None)] => (item=co7-node01 ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBLoXGv1czw5vny45YMnnJnK14bCFNpqV5ZvrL0U+g+64T1YUr6eqXWdDTcTX1DZUTnFC9HAby0cS6zZGQvRfXiY=)
2022-05-24 12:37:07,936 p=22683 u=moonja n=ansible | changed: [co7-node02 -> co7-master(None)] => (item=co7-node02 ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBKOiG3ubpx4pRAU6ZMg5W5JOC/6ryHoSTKsMz8tC/RTGxcvmvpyaUeE4r4imIAyucmKUo2Y721KvbW5g1/Kjt+o=)
2022-05-24 12:37:08,004 p=22683 u=moonja n=ansible | changed: [co7-node03 -> co7-master(None)] => (item=co7-node03 ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBCw3T4DjyF88OSwmXjXK1z6SzO1qm3YMTAQdeIlBzoQJxAQ2qiaSnZZzGQk7B5ODmS4UFh80grvzm2WjWS3cyyM=)
2022-05-24 12:37:08,014 p=22683 u=moonja n=ansible | TASK [pgbackrest : Input key] **********************************************************************************
2022-05-24 12:37:08,077 p=22683 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:37:08,365 p=22683 u=moonja n=ansible | changed: [co7-node03] => (item=co7-master ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBH5R4iPHfdOTR6op3EHkF+lB1ezHrv7PiAK5tc8EmmThK795DDwtDOYKx1zFbnnGQgyQM8tCPrSBHMZD0y+72Yg=)
2022-05-24 12:37:08,398 p=22683 u=moonja n=ansible | changed: [co7-node01] => (item=co7-master ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBH5R4iPHfdOTR6op3EHkF+lB1ezHrv7PiAK5tc8EmmThK795DDwtDOYKx1zFbnnGQgyQM8tCPrSBHMZD0y+72Yg=)
2022-05-24 12:37:08,398 p=22683 u=moonja n=ansible | changed: [co7-node02] => (item=co7-master ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBH5R4iPHfdOTR6op3EHkF+lB1ezHrv7PiAK5tc8EmmThK795DDwtDOYKx1zFbnnGQgyQM8tCPrSBHMZD0y+72Yg=)
2022-05-24 12:37:08,409 p=22683 u=moonja n=ansible | TASK [pgbackrest : meta] ***************************************************************************************
2022-05-24 12:37:08,418 p=22683 u=moonja n=ansible | PLAY RECAP *****************************************************************************************************
2022-05-24 12:37:08,418 p=22683 u=moonja n=ansible | co7-master                 : ok=8    changed=5    unreachable=0    failed=0    skipped=6    rescued=0    ignored=0   
2022-05-24 12:37:08,418 p=22683 u=moonja n=ansible | co7-node01                 : ok=12   changed=11   unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2022-05-24 12:37:08,418 p=22683 u=moonja n=ansible | co7-node02                 : ok=12   changed=11   unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2022-05-24 12:37:08,418 p=22683 u=moonja n=ansible | co7-node03                 : ok=12   changed=11   unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
2022-05-24 12:39:08,655 p=24164 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature 
will be removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2022-05-24 12:39:08,663 p=24164 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-05-24 12:39:08,888 p=24164 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be 
removed in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2022-05-24 12:39:08,941 p=24164 u=moonja n=ansible | PLAY [all] *****************************************************************************************************
2022-05-24 12:39:08,965 p=24164 u=moonja n=ansible | TASK [Gathering Facts] *****************************************************************************************
2022-05-24 12:39:10,442 p=24164 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 12:39:10,874 p=24164 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:39:10,875 p=24164 u=moonja n=ansible | ok: [co7-node03]
2022-05-24 12:39:10,891 p=24164 u=moonja n=ansible | ok: [co7-node02]
2022-05-24 12:39:10,909 p=24164 u=moonja n=ansible | TASK [pgbackrest : Stop the stanza on the repository host (only needs to be done on this host)] ****************
2022-05-24 12:39:10,944 p=24164 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:39:10,958 p=24164 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:39:10,960 p=24164 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:39:11,588 p=24164 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:39:11,599 p=24164 u=moonja n=ansible | TASK [pgbackrest : debug] **************************************************************************************
2022-05-24 12:39:11,634 p=24164 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:39:11,652 p=24164 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:39:11,653 p=24164 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:39:11,664 p=24164 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": true,
        "cmd": [
            "/usr/bin/pgbackrest",
            "--stanza=main",
            "--log-level-console=info",
            "stop"
        ],
        "delta": "0:00:00.005716",
        "end": "2022-05-24 12:39:12.048674",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:39:12.042958",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "2022-05-24 12:39:12.048 P00   INFO: stop command begin 2.31: --exec-id=1503-88688cbe --log-level-console=info --stanza=main\n2022-05-24 12:39:12.048 P00   INFO: stop command end: completed successfully (2ms)",
        "stdout_lines": [
            "2022-05-24 12:39:12.048 P00   INFO: stop command begin 2.31: --exec-id=1503-88688cbe --log-level-console=info --stanza=main",
            "2022-05-24 12:39:12.048 P00   INFO: stop command end: completed successfully (2ms)"
        ]
    }
}
2022-05-24 12:39:11,674 p=24164 u=moonja n=ansible | TASK [pgbackrest : Delete main.stop file for pgbackrest] *******************************************************
2022-05-24 12:39:11,695 p=24164 u=moonja n=ansible | skipping: [co7-node01] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 12:39:11,713 p=24164 u=moonja n=ansible | skipping: [co7-node02] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 12:39:11,728 p=24164 u=moonja n=ansible | skipping: [co7-node03] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 12:39:12,283 p=24164 u=moonja n=ansible | changed: [co7-master] => (item=/tmp/pgbackrest/main.stop)
2022-05-24 12:39:12,295 p=24164 u=moonja n=ansible | TASK [pgbackrest : Delete the stanza on the repository host (only needs to be done on this host)] **************
2022-05-24 12:39:12,329 p=24164 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:39:12,345 p=24164 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:39:12,345 p=24164 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:39:12,733 p=24164 u=moonja n=ansible | fatal: [co7-master]: FAILED! => {"changed": true, "cmd": ["/usr/bin/pgbackrest", "--stanza=main", "--log-level-console=info", "stanza-delete", "--force"], "delta": "0:00:00.004610", "end": "2022-05-24 12:39:13.193714", "msg": "non-zero return code", "rc": 37, "start": "2022-05-24 12:39:13.189104", "stderr": "ERROR: [037]: stanza-delete command requires option: pg1-path\n       HINT: does this stanza exist?", "stderr_lines": ["ERROR: [037]: stanza-delete command requires option: pg1-path", "       HINT: does this stanza exist?"], "stdout": "", "stdout_lines": []}
2022-05-24 12:39:12,733 p=24164 u=moonja n=ansible | ...ignoring
2022-05-24 12:39:12,742 p=24164 u=moonja n=ansible | TASK [pgbackrest : debug] **************************************************************************************
2022-05-24 12:39:12,777 p=24164 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:39:12,792 p=24164 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:39:12,795 p=24164 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:39:12,808 p=24164 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": true,
        "cmd": [
            "/usr/bin/pgbackrest",
            "--stanza=main",
            "--log-level-console=info",
            "stanza-delete",
            "--force"
        ],
        "delta": "0:00:00.004610",
        "end": "2022-05-24 12:39:13.193714",
        "failed": true,
        "msg": "non-zero return code",
        "rc": 37,
        "start": "2022-05-24 12:39:13.189104",
        "stderr": "ERROR: [037]: stanza-delete command requires option: pg1-path\n       HINT: does this stanza exist?",
        "stderr_lines": [
            "ERROR: [037]: stanza-delete command requires option: pg1-path",
            "       HINT: does this stanza exist?"
        ],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-05-24 12:39:12,818 p=24164 u=moonja n=ansible | TASK [pgbackrest : Kill process of pgbackrest on repository] ***************************************************
2022-05-24 12:39:12,852 p=24164 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:39:12,868 p=24164 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:39:12,870 p=24164 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:39:13,225 p=24164 u=moonja n=ansible | fatal: [co7-master]: FAILED! => {"changed": false, "cmd": "killall pgbackrest", "msg": "[Errno 2] No such file or directory", "rc": 2, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2022-05-24 12:39:13,225 p=24164 u=moonja n=ansible | ...ignoring
2022-05-24 12:39:13,235 p=24164 u=moonja n=ansible | TASK [pgbackrest : debug] **************************************************************************************
2022-05-24 12:39:13,271 p=24164 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:39:13,288 p=24164 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:39:13,289 p=24164 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:39:13,301 p=24164 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "cmd": "killall pgbackrest",
        "failed": true,
        "msg": "[Errno 2] No such file or directory",
        "rc": 2,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-05-24 12:39:13,311 p=24164 u=moonja n=ansible | TASK [pgbackrest : Delete configuration file for pgbackrest] ***************************************************
2022-05-24 12:39:13,700 p=24164 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 12:39:13,702 p=24164 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 12:39:13,703 p=24164 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 12:39:13,704 p=24164 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 12:39:13,713 p=24164 u=moonja n=ansible | TASK [pgbackrest : Delete repository location for pgbackrest] **************************************************
2022-05-24 12:39:13,736 p=24164 u=moonja n=ansible | skipping: [co7-node01] => (item=/var/lib/pgbackrest) 
2022-05-24 12:39:13,753 p=24164 u=moonja n=ansible | skipping: [co7-node02] => (item=/var/lib/pgbackrest) 
2022-05-24 12:39:13,769 p=24164 u=moonja n=ansible | skipping: [co7-node03] => (item=/var/lib/pgbackrest) 
2022-05-24 12:39:14,263 p=24164 u=moonja n=ansible | ok: [co7-master] => (item=/var/lib/pgbackrest)
2022-05-24 12:39:14,274 p=24164 u=moonja n=ansible | TASK [pgbackrest : Delete ssh keys to allow password-less login between all nodes] *****************************
2022-05-24 12:39:14,618 p=24164 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/id_rsa)
2022-05-24 12:39:14,623 p=24164 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/id_rsa)
2022-05-24 12:39:14,633 p=24164 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/id_rsa)
2022-05-24 12:39:14,634 p=24164 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/id_rsa)
2022-05-24 12:39:14,923 p=24164 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/id_rsa.pub)
2022-05-24 12:39:14,930 p=24164 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/id_rsa.pub)
2022-05-24 12:39:14,935 p=24164 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/id_rsa.pub)
2022-05-24 12:39:14,935 p=24164 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/id_rsa.pub)
2022-05-24 12:39:15,223 p=24164 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/authorized_keys)
2022-05-24 12:39:15,230 p=24164 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/authorized_keys)
2022-05-24 12:39:15,242 p=24164 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/authorized_keys)
2022-05-24 12:39:15,243 p=24164 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/authorized_keys)
2022-05-24 12:39:15,516 p=24164 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh)
2022-05-24 12:39:15,520 p=24164 u=moonja n=ansible | changed: [co7-master] => (item=.ssh)
2022-05-24 12:39:15,549 p=24164 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh)
2022-05-24 12:39:15,550 p=24164 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh)
2022-05-24 12:39:15,561 p=24164 u=moonja n=ansible | TASK [pgbackrest : Delete directories and files in all nodes] **************************************************
2022-05-24 12:39:15,927 p=24164 u=moonja n=ansible | changed: [co7-node01] => (item=/var/log/pgbackrest)
2022-05-24 12:39:15,929 p=24164 u=moonja n=ansible | changed: [co7-node02] => (item=/var/log/pgbackrest)
2022-05-24 12:39:15,942 p=24164 u=moonja n=ansible | changed: [co7-node03] => (item=/var/log/pgbackrest)
2022-05-24 12:39:15,943 p=24164 u=moonja n=ansible | changed: [co7-master] => (item=/var/log/pgbackrest)
2022-05-24 12:39:16,256 p=24164 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest/conf.d)
2022-05-24 12:39:16,257 p=24164 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest/conf.d)
2022-05-24 12:39:16,258 p=24164 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest/conf.d)
2022-05-24 12:39:16,259 p=24164 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest/conf.d)
2022-05-24 12:39:16,561 p=24164 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest)
2022-05-24 12:39:16,561 p=24164 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest)
2022-05-24 12:39:16,563 p=24164 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest)
2022-05-24 12:39:16,566 p=24164 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest)
2022-05-24 12:39:16,577 p=24164 u=moonja n=ansible | TASK [pgbackrest : Delete lines for pgbackrest in patroni.yml] *************************************************
2022-05-24 12:39:16,651 p=24164 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'}) 
2022-05-24 12:39:16,652 p=24164 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_command:*', 'state': 'absent'}) 
2022-05-24 12:39:17,063 p=24164 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 12:39:17,065 p=24164 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 12:39:17,065 p=24164 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 12:39:17,390 p=24164 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 12:39:17,395 p=24164 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 12:39:17,398 p=24164 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 12:39:17,408 p=24164 u=moonja n=ansible | TASK [pgbackrest : Return previous values in patroni.yml for pgBackrest] ***************************************
2022-05-24 12:39:17,501 p=24164 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.81:5432'", 'state': 'present'}) 
2022-05-24 12:39:17,502 p=24164 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  connect_address: '192.168.0.81:5532'", 'line': "  connect_address: '192.168.0.81:5432'", 'state': 'present'}) 
2022-05-24 12:39:17,503 p=24164 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'}) 
2022-05-24 12:39:17,819 p=24164 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.85:5432'", 'state': 'present'})
2022-05-24 12:39:17,825 p=24164 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.84:5432'", 'state': 'present'})
2022-05-24 12:39:17,826 p=24164 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.83:5432'", 'state': 'present'})
2022-05-24 12:39:18,112 p=24164 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  connect_address: '192.168.0.85:5532'", 'line': "  connect_address: '192.168.0.85:5432'", 'state': 'present'})
2022-05-24 12:39:18,129 p=24164 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  connect_address: '192.168.0.83:5532'", 'line': "  connect_address: '192.168.0.83:5432'", 'state': 'present'})
2022-05-24 12:39:18,129 p=24164 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  connect_address: '192.168.0.84:5532'", 'line': "  connect_address: '192.168.0.84:5432'", 'state': 'present'})
2022-05-24 12:39:18,408 p=24164 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 12:39:18,436 p=24164 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 12:39:18,437 p=24164 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 12:39:18,448 p=24164 u=moonja n=ansible | TASK [pgbackrest : Reload and start systemd service of patroni] ************************************************
2022-05-24 12:39:18,511 p=24164 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:39:19,726 p=24164 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:39:20,223 p=24164 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:39:20,387 p=24164 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:39:20,397 p=24164 u=moonja n=ansible | TASK [pgbackrest : Check the config on each of the two postgres hosts] *****************************************
2022-05-24 12:39:20,458 p=24164 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:39:21,066 p=24164 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:39:21,145 p=24164 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:39:21,159 p=24164 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:39:21,168 p=24164 u=moonja n=ansible | TASK [pgbackrest : debug] **************************************************************************************
2022-05-24 12:39:21,206 p=24164 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.324731",
        "end": "2022-05-24 12:39:21.159335",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:39:20.834604",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+\n| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 12:39:21,223 p=24164 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.368861",
        "end": "2022-05-24 12:39:21.476339",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:39:21.107478",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+\n| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 12:39:21,224 p=24164 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.375759",
        "end": "2022-05-24 12:39:21.125513",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:39:20.749754",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+\n| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7100059749563893968) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 12:39:21,236 p=24164 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:39:21,280 p=24164 u=moonja n=ansible | PLAY RECAP *****************************************************************************************************
2022-05-24 12:39:21,280 p=24164 u=moonja n=ansible | co7-master                 : ok=13   changed=6    unreachable=0    failed=0    skipped=4    rescued=0    ignored=2   
2022-05-24 12:39:21,281 p=24164 u=moonja n=ansible | co7-node01                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 12:39:21,281 p=24164 u=moonja n=ansible | co7-node02                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 12:39:21,281 p=24164 u=moonja n=ansible | co7-node03                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 12:40:14,194 p=25991 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature 
will be removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2022-05-24 12:40:14,204 p=25991 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-05-24 12:40:14,445 p=25991 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be 
removed in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2022-05-24 12:40:14,509 p=25991 u=moonja n=ansible | PLAY [all] *****************************************************************************************************
2022-05-24 12:40:14,542 p=25991 u=moonja n=ansible | TASK [Gathering Facts] *****************************************************************************************
2022-05-24 12:40:15,886 p=25991 u=moonja n=ansible | ok: [co7-node02]
2022-05-24 12:40:15,890 p=25991 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:40:15,891 p=25991 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 12:40:15,892 p=25991 u=moonja n=ansible | ok: [co7-node03]
2022-05-24 12:40:15,909 p=25991 u=moonja n=ansible | TASK [patroni-postgres : Stop services for patroni and etcd] ***************************************************
2022-05-24 12:40:15,977 p=25991 u=moonja n=ansible | skipping: [co7-master] => (item=patroni) 
2022-05-24 12:40:15,978 p=25991 u=moonja n=ansible | skipping: [co7-master] => (item=etcd) 
2022-05-24 12:40:17,196 p=25991 u=moonja n=ansible | changed: [co7-node02] => (item=patroni)
2022-05-24 12:40:17,471 p=25991 u=moonja n=ansible | changed: [co7-node03] => (item=patroni)
2022-05-24 12:40:17,620 p=25991 u=moonja n=ansible | ok: [co7-node02] => (item=etcd)
2022-05-24 12:40:17,740 p=25991 u=moonja n=ansible | changed: [co7-node01] => (item=patroni)
2022-05-24 12:40:17,818 p=25991 u=moonja n=ansible | ok: [co7-node03] => (item=etcd)
2022-05-24 12:40:18,070 p=25991 u=moonja n=ansible | ok: [co7-node01] => (item=etcd)
2022-05-24 12:40:18,082 p=25991 u=moonja n=ansible | TASK [patroni-postgres : Kill etcd process] ********************************************************************
2022-05-24 12:40:18,146 p=25991 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:40:24,691 p=25991 u=moonja n=ansible | fatal: [co7-node01]: FAILED! => {"ansible_job_id": "579809384907.16565", "changed": true, "cmd": "( killall etcd )", "delta": "0:00:00.002914", "end": "2022-05-24 12:40:19.125621", "finished": 1, "msg": "non-zero return code", "rc": 127, "results_file": "/var/lib/pgsql/.ansible_async/579809384907.16565", "start": "2022-05-24 12:40:19.122707", "started": 1, "stderr": "/bin/sh: killall: command not found", "stderr_lines": ["/bin/sh: killall: command not found"], "stdout": "", "stdout_lines": []}
2022-05-24 12:40:24,691 p=25991 u=moonja n=ansible | ...ignoring
2022-05-24 12:40:24,700 p=25991 u=moonja n=ansible | fatal: [co7-node03]: FAILED! => {"ansible_job_id": "376806698016.6781", "changed": true, "cmd": "( killall etcd )", "delta": "0:00:00.003931", "end": "2022-05-24 12:40:18.961854", "finished": 1, "msg": "non-zero return code", "rc": 127, "results_file": "/var/lib/pgsql/.ansible_async/376806698016.6781", "start": "2022-05-24 12:40:18.957923", "started": 1, "stderr": "/bin/sh: killall: command not found", "stderr_lines": ["/bin/sh: killall: command not found"], "stdout": "", "stdout_lines": []}
2022-05-24 12:40:24,700 p=25991 u=moonja n=ansible | ...ignoring
2022-05-24 12:40:24,700 p=25991 u=moonja n=ansible | fatal: [co7-node02]: FAILED! => {"ansible_job_id": "308417573876.16382", "changed": true, "cmd": "( killall etcd )", "delta": "0:00:00.003293", "end": "2022-05-24 12:40:19.326815", "finished": 1, "msg": "non-zero return code", "rc": 127, "results_file": "/var/lib/pgsql/.ansible_async/308417573876.16382", "start": "2022-05-24 12:40:19.323522", "started": 1, "stderr": "/bin/sh: killall: command not found", "stderr_lines": ["/bin/sh: killall: command not found"], "stdout": "", "stdout_lines": []}
2022-05-24 12:40:24,700 p=25991 u=moonja n=ansible | ...ignoring
2022-05-24 12:40:24,709 p=25991 u=moonja n=ansible | TASK [patroni-postgres : Delete configuration file for patroni and systemd] ************************************
2022-05-24 12:40:25,283 p=25991 u=moonja n=ansible | changed: [co7-node02] => (item=/var/lib/pgsql/patroni.yml)
2022-05-24 12:40:25,283 p=25991 u=moonja n=ansible | changed: [co7-node03] => (item=/var/lib/pgsql/patroni.yml)
2022-05-24 12:40:25,323 p=25991 u=moonja n=ansible | changed: [co7-node01] => (item=/var/lib/pgsql/patroni.yml)
2022-05-24 12:40:25,324 p=25991 u=moonja n=ansible | ok: [co7-master] => (item=/var/lib/pgsql/patroni.yml)
2022-05-24 12:40:25,606 p=25991 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/systemd/system/patroni.service)
2022-05-24 12:40:25,607 p=25991 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/systemd/system/patroni.service)
2022-05-24 12:40:25,640 p=25991 u=moonja n=ansible | ok: [co7-master] => (item=/etc/systemd/system/patroni.service)
2022-05-24 12:40:25,642 p=25991 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/systemd/system/patroni.service)
2022-05-24 12:40:25,915 p=25991 u=moonja n=ansible | ok: [co7-node02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-05-24 12:40:25,923 p=25991 u=moonja n=ansible | ok: [co7-node03] => (item=/var/lib/pgsql/postgresql0.yml)
2022-05-24 12:40:25,958 p=25991 u=moonja n=ansible | ok: [co7-master] => (item=/var/lib/pgsql/postgresql0.yml)
2022-05-24 12:40:25,960 p=25991 u=moonja n=ansible | ok: [co7-node01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-05-24 12:40:26,224 p=25991 u=moonja n=ansible | ok: [co7-node03] => (item=/var/lib/pgsql/patroni_member.log)
2022-05-24 12:40:26,225 p=25991 u=moonja n=ansible | ok: [co7-node02] => (item=/var/lib/pgsql/patroni_member.log)
2022-05-24 12:40:26,264 p=25991 u=moonja n=ansible | ok: [co7-master] => (item=/var/lib/pgsql/patroni_member.log)
2022-05-24 12:40:26,264 p=25991 u=moonja n=ansible | ok: [co7-node01] => (item=/var/lib/pgsql/patroni_member.log)
2022-05-24 12:40:26,669 p=25991 u=moonja n=ansible | changed: [co7-node03] => (item=/var/lib/pgsql/etcd.yml)
2022-05-24 12:40:26,670 p=25991 u=moonja n=ansible | changed: [co7-node02] => (item=/var/lib/pgsql/etcd.yml)
2022-05-24 12:40:26,701 p=25991 u=moonja n=ansible | ok: [co7-master] => (item=/var/lib/pgsql/etcd.yml)
2022-05-24 12:40:26,702 p=25991 u=moonja n=ansible | changed: [co7-node01] => (item=/var/lib/pgsql/etcd.yml)
2022-05-24 12:40:26,972 p=25991 u=moonja n=ansible | ok: [co7-node03] => (item=/var/lib/pgsql/etcd_logfile)
2022-05-24 12:40:27,002 p=25991 u=moonja n=ansible | ok: [co7-master] => (item=/var/lib/pgsql/etcd_logfile)
2022-05-24 12:40:27,006 p=25991 u=moonja n=ansible | ok: [co7-node02] => (item=/var/lib/pgsql/etcd_logfile)
2022-05-24 12:40:27,032 p=25991 u=moonja n=ansible | ok: [co7-node01] => (item=/var/lib/pgsql/etcd_logfile)
2022-05-24 12:40:27,045 p=25991 u=moonja n=ansible | TASK [patroni-postgres : Delete data directory for patroni cluster] ********************************************
2022-05-24 12:40:27,415 p=25991 u=moonja n=ansible | changed: [co7-node01] => (item=backups)
2022-05-24 12:40:27,421 p=25991 u=moonja n=ansible | changed: [co7-node02] => (item=backups)
2022-05-24 12:40:27,429 p=25991 u=moonja n=ansible | changed: [co7-node03] => (item=backups)
2022-05-24 12:40:27,436 p=25991 u=moonja n=ansible | changed: [co7-master] => (item=backups)
2022-05-24 12:40:27,717 p=25991 u=moonja n=ansible | changed: [co7-node01] => (item=data)
2022-05-24 12:40:27,726 p=25991 u=moonja n=ansible | changed: [co7-node02] => (item=data)
2022-05-24 12:40:27,733 p=25991 u=moonja n=ansible | changed: [co7-node03] => (item=data)
2022-05-24 12:40:27,757 p=25991 u=moonja n=ansible | changed: [co7-master] => (item=data)
2022-05-24 12:40:28,043 p=25991 u=moonja n=ansible | changed: [co7-master] => (item=patroni_data)
2022-05-24 12:40:28,061 p=25991 u=moonja n=ansible | changed: [co7-node03] => (item=patroni_data)
2022-05-24 12:40:29,131 p=25991 u=moonja n=ansible | changed: [co7-node01] => (item=patroni_data)
2022-05-24 12:40:29,139 p=25991 u=moonja n=ansible | changed: [co7-node02] => (item=patroni_data)
2022-05-24 12:40:29,151 p=25991 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] *****************************************
2022-05-24 12:40:29,214 p=25991 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:40:29,507 p=25991 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:40:29,509 p=25991 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:40:29,509 p=25991 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:40:29,519 p=25991 u=moonja n=ansible | TASK [patroni-postgres : Uninstall pip modules of Patroni prerequisites on all three nodes] ********************
2022-05-24 12:40:29,580 p=25991 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:40:40,932 p=25991 u=moonja n=ansible | fatal: [co7-node02]: FAILED! => {"ansible_job_id": "740582907542.17371", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:08.486341", "end": "2022-05-24 12:40:38.975461", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/740582907542.17371", "start": "2022-05-24 12:40:30.489120", "started": 1, "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nWARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.", "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.", "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.", "WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.9\nUninstalling urllib3-1.26.9:\n  Successfully uninstalled urllib3-1.26.9\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.9", "Uninstalling urllib3-1.26.9:", "  Successfully uninstalled urllib3-1.26.9", "Found existing installation: PyYAML 3.13"]}
2022-05-24 12:40:40,933 p=25991 u=moonja n=ansible | ...ignoring
2022-05-24 12:40:40,944 p=25991 u=moonja n=ansible | fatal: [co7-node03]: FAILED! => {"ansible_job_id": "371604805310.7770", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:08.254953", "end": "2022-05-24 12:40:38.420228", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/371604805310.7770", "start": "2022-05-24 12:40:30.165275", "started": 1, "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nWARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.", "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.", "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.", "WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.9\nUninstalling urllib3-1.26.9:\n  Successfully uninstalled urllib3-1.26.9\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.9", "Uninstalling urllib3-1.26.9:", "  Successfully uninstalled urllib3-1.26.9", "Found existing installation: PyYAML 3.13"]}
2022-05-24 12:40:40,944 p=25991 u=moonja n=ansible | ...ignoring
2022-05-24 12:40:40,956 p=25991 u=moonja n=ansible | fatal: [co7-node01]: FAILED! => {"ansible_job_id": "90279720639.17554", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:08.401886", "end": "2022-05-24 12:40:38.768351", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/90279720639.17554", "start": "2022-05-24 12:40:30.366465", "started": 1, "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nWARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.", "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.", "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.", "WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.9\nUninstalling urllib3-1.26.9:\n  Successfully uninstalled urllib3-1.26.9\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.9", "Uninstalling urllib3-1.26.9:", "  Successfully uninstalled urllib3-1.26.9", "Found existing installation: PyYAML 3.13"]}
2022-05-24 12:40:40,956 p=25991 u=moonja n=ansible | ...ignoring
2022-05-24 12:40:40,966 p=25991 u=moonja n=ansible | TASK [patroni-postgres : debug] ********************************************************************************
2022-05-24 12:40:41,007 p=25991 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "ansible_job_id": "90279720639.17554",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )",
        "delta": "0:00:08.401886",
        "end": "2022-05-24 12:40:38.768351",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/root/.ansible_async/90279720639.17554",
        "start": "2022-05-24 12:40:30.366465",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nWARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "WARNING: Skipping boto as it is not installed.",
            "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."
        ],
        "stdout": "Found existing installation: urllib3 1.26.9\nUninstalling urllib3-1.26.9:\n  Successfully uninstalled urllib3-1.26.9\nFound existing installation: PyYAML 3.13",
        "stdout_lines": [
            "Found existing installation: urllib3 1.26.9",
            "Uninstalling urllib3-1.26.9:",
            "  Successfully uninstalled urllib3-1.26.9",
            "Found existing installation: PyYAML 3.13"
        ]
    }
}
2022-05-24 12:40:41,025 p=25991 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "ansible_job_id": "740582907542.17371",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )",
        "delta": "0:00:08.486341",
        "end": "2022-05-24 12:40:38.975461",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/root/.ansible_async/740582907542.17371",
        "start": "2022-05-24 12:40:30.489120",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nWARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "WARNING: Skipping boto as it is not installed.",
            "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."
        ],
        "stdout": "Found existing installation: urllib3 1.26.9\nUninstalling urllib3-1.26.9:\n  Successfully uninstalled urllib3-1.26.9\nFound existing installation: PyYAML 3.13",
        "stdout_lines": [
            "Found existing installation: urllib3 1.26.9",
            "Uninstalling urllib3-1.26.9:",
            "  Successfully uninstalled urllib3-1.26.9",
            "Found existing installation: PyYAML 3.13"
        ]
    }
}
2022-05-24 12:40:41,026 p=25991 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "ansible_job_id": "371604805310.7770",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )",
        "delta": "0:00:08.254953",
        "end": "2022-05-24 12:40:38.420228",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/root/.ansible_async/371604805310.7770",
        "start": "2022-05-24 12:40:30.165275",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nWARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "WARNING: Skipping boto as it is not installed.",
            "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."
        ],
        "stdout": "Found existing installation: urllib3 1.26.9\nUninstalling urllib3-1.26.9:\n  Successfully uninstalled urllib3-1.26.9\nFound existing installation: PyYAML 3.13",
        "stdout_lines": [
            "Found existing installation: urllib3 1.26.9",
            "Uninstalling urllib3-1.26.9:",
            "  Successfully uninstalled urllib3-1.26.9",
            "Found existing installation: PyYAML 3.13"
        ]
    }
}
2022-05-24 12:40:41,038 p=25991 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:40:41,049 p=25991 u=moonja n=ansible | TASK [patroni-postgres : UnInstall wheel pip module on all three nodes] ****************************************
2022-05-24 12:40:41,112 p=25991 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:40:47,064 p=25991 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:40:47,065 p=25991 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:40:47,065 p=25991 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:40:47,075 p=25991 u=moonja n=ansible | TASK [patroni-postgres : debug] ********************************************************************************
2022-05-24 12:40:47,118 p=25991 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "ansible_job_id": "674127590314.17829",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )",
        "delta": "0:00:00.801733",
        "end": "2022-05-24 12:40:42.451464",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/674127590314.17829",
        "start": "2022-05-24 12:40:41.649731",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly."
        ],
        "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:\n  Successfully uninstalled wheel-0.37.1",
        "stdout_lines": [
            "Found existing installation: wheel 0.37.1",
            "Uninstalling wheel-0.37.1:",
            "  Successfully uninstalled wheel-0.37.1"
        ]
    }
}
2022-05-24 12:40:47,135 p=25991 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "ansible_job_id": "678753634190.17646",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )",
        "delta": "0:00:00.832285",
        "end": "2022-05-24 12:40:42.723484",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/678753634190.17646",
        "start": "2022-05-24 12:40:41.891199",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly."
        ],
        "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:\n  Successfully uninstalled wheel-0.37.1",
        "stdout_lines": [
            "Found existing installation: wheel 0.37.1",
            "Uninstalling wheel-0.37.1:",
            "  Successfully uninstalled wheel-0.37.1"
        ]
    }
}
2022-05-24 12:40:47,136 p=25991 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "ansible_job_id": "674384786466.8045",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )",
        "delta": "0:00:00.818159",
        "end": "2022-05-24 12:40:42.345168",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/674384786466.8045",
        "start": "2022-05-24 12:40:41.527009",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly."
        ],
        "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:\n  Successfully uninstalled wheel-0.37.1",
        "stdout_lines": [
            "Found existing installation: wheel 0.37.1",
            "Uninstalling wheel-0.37.1:",
            "  Successfully uninstalled wheel-0.37.1"
        ]
    }
}
2022-05-24 12:40:47,147 p=25991 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:40:47,158 p=25991 u=moonja n=ansible | TASK [patroni-postgres : Uninstall typing pip module on all three nodes] ***************************************
2022-05-24 12:40:47,221 p=25991 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:40:53,168 p=25991 u=moonja n=ansible | fatal: [co7-node03]: FAILED! => {"ansible_job_id": "143060244927.8270", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall typing -y )", "delta": "0:00:01.250001", "end": "2022-05-24 12:40:48.891372", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/143060244927.8270", "start": "2022-05-24 12:40:47.641371", "started": 1, "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc' -> '/var/tmp/pip-uninstall-1pjicp39/typing.cpython-36.pyc'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc'", "stderr_lines": ["WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.", "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.", "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.", "ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc' -> '/var/tmp/pip-uninstall-1pjicp39/typing.cpython-36.pyc'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc'"], "stdout": "Found existing installation: typing 3.7.4.3\nUninstalling typing-3.7.4.3:", "stdout_lines": ["Found existing installation: typing 3.7.4.3", "Uninstalling typing-3.7.4.3:"]}
2022-05-24 12:40:53,213 p=25991 u=moonja n=ansible | ...ignoring
2022-05-24 12:40:53,230 p=25991 u=moonja n=ansible | fatal: [co7-node01]: FAILED! => {"ansible_job_id": "908452701716.18054", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall typing -y )", "delta": "0:00:01.295525", "end": "2022-05-24 12:40:49.067492", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/908452701716.18054", "start": "2022-05-24 12:40:47.771967", "started": 1, "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc' -> '/var/tmp/pip-uninstall-uxpw6cf7/typing.cpython-36.pyc'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc'", "stderr_lines": ["WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.", "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.", "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.", "ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc' -> '/var/tmp/pip-uninstall-uxpw6cf7/typing.cpython-36.pyc'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc'"], "stdout": "Found existing installation: typing 3.7.4.3\nUninstalling typing-3.7.4.3:", "stdout_lines": ["Found existing installation: typing 3.7.4.3", "Uninstalling typing-3.7.4.3:"]}
2022-05-24 12:40:53,230 p=25991 u=moonja n=ansible | ...ignoring
2022-05-24 12:40:53,230 p=25991 u=moonja n=ansible | fatal: [co7-node02]: FAILED! => {"ansible_job_id": "280475821022.17872", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall typing -y )", "delta": "0:00:01.283165", "end": "2022-05-24 12:40:49.285648", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/280475821022.17872", "start": "2022-05-24 12:40:48.002483", "started": 1, "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc' -> '/var/tmp/pip-uninstall-r3qyr_fz/typing.cpython-36.pyc'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc'", "stderr_lines": ["WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.", "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.", "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.", "ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc' -> '/var/tmp/pip-uninstall-r3qyr_fz/typing.cpython-36.pyc'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc'"], "stdout": "Found existing installation: typing 3.7.4.3\nUninstalling typing-3.7.4.3:", "stdout_lines": ["Found existing installation: typing 3.7.4.3", "Uninstalling typing-3.7.4.3:"]}
2022-05-24 12:40:53,231 p=25991 u=moonja n=ansible | ...ignoring
2022-05-24 12:40:53,240 p=25991 u=moonja n=ansible | TASK [patroni-postgres : debug] ********************************************************************************
2022-05-24 12:40:53,283 p=25991 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "ansible_job_id": "908452701716.18054",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall typing -y )",
        "delta": "0:00:01.295525",
        "end": "2022-05-24 12:40:49.067492",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 2,
        "results_file": "/var/lib/pgsql/.ansible_async/908452701716.18054",
        "start": "2022-05-24 12:40:47.771967",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc' -> '/var/tmp/pip-uninstall-uxpw6cf7/typing.cpython-36.pyc'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc'",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "ERROR: Exception:",
            "Traceback (most recent call last):",
            "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move",
            "    os.rename(src, real_dst)",
            "PermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc' -> '/var/tmp/pip-uninstall-uxpw6cf7/typing.cpython-36.pyc'",
            "",
            "During handling of the above exception, another exception occurred:",
            "",
            "Traceback (most recent call last):",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper",
            "    status = run_func(*args)",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run",
            "    verbose=self.verbosity > 0,",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall",
            "    uninstalled_pathset.remove(auto_confirm, verbose)",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove",
            "    moved.stash(path)",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash",
            "    renames(path, new_path)",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames",
            "    shutil.move(old, new)",
            "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move",
            "    os.unlink(src)",
            "PermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc'"
        ],
        "stdout": "Found existing installation: typing 3.7.4.3\nUninstalling typing-3.7.4.3:",
        "stdout_lines": [
            "Found existing installation: typing 3.7.4.3",
            "Uninstalling typing-3.7.4.3:"
        ]
    }
}
2022-05-24 12:40:53,304 p=25991 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "ansible_job_id": "280475821022.17872",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall typing -y )",
        "delta": "0:00:01.283165",
        "end": "2022-05-24 12:40:49.285648",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 2,
        "results_file": "/var/lib/pgsql/.ansible_async/280475821022.17872",
        "start": "2022-05-24 12:40:48.002483",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc' -> '/var/tmp/pip-uninstall-r3qyr_fz/typing.cpython-36.pyc'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc'",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "ERROR: Exception:",
            "Traceback (most recent call last):",
            "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move",
            "    os.rename(src, real_dst)",
            "PermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc' -> '/var/tmp/pip-uninstall-r3qyr_fz/typing.cpython-36.pyc'",
            "",
            "During handling of the above exception, another exception occurred:",
            "",
            "Traceback (most recent call last):",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper",
            "    status = run_func(*args)",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run",
            "    verbose=self.verbosity > 0,",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall",
            "    uninstalled_pathset.remove(auto_confirm, verbose)",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove",
            "    moved.stash(path)",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash",
            "    renames(path, new_path)",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames",
            "    shutil.move(old, new)",
            "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move",
            "    os.unlink(src)",
            "PermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc'"
        ],
        "stdout": "Found existing installation: typing 3.7.4.3\nUninstalling typing-3.7.4.3:",
        "stdout_lines": [
            "Found existing installation: typing 3.7.4.3",
            "Uninstalling typing-3.7.4.3:"
        ]
    }
}
2022-05-24 12:40:53,305 p=25991 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "ansible_job_id": "143060244927.8270",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall typing -y )",
        "delta": "0:00:01.250001",
        "end": "2022-05-24 12:40:48.891372",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 2,
        "results_file": "/var/lib/pgsql/.ansible_async/143060244927.8270",
        "start": "2022-05-24 12:40:47.641371",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc' -> '/var/tmp/pip-uninstall-1pjicp39/typing.cpython-36.pyc'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc'",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "ERROR: Exception:",
            "Traceback (most recent call last):",
            "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move",
            "    os.rename(src, real_dst)",
            "PermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc' -> '/var/tmp/pip-uninstall-1pjicp39/typing.cpython-36.pyc'",
            "",
            "During handling of the above exception, another exception occurred:",
            "",
            "Traceback (most recent call last):",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper",
            "    status = run_func(*args)",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run",
            "    verbose=self.verbosity > 0,",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall",
            "    uninstalled_pathset.remove(auto_confirm, verbose)",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove",
            "    moved.stash(path)",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash",
            "    renames(path, new_path)",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames",
            "    shutil.move(old, new)",
            "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move",
            "    os.unlink(src)",
            "PermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc'"
        ],
        "stdout": "Found existing installation: typing 3.7.4.3\nUninstalling typing-3.7.4.3:",
        "stdout_lines": [
            "Found existing installation: typing 3.7.4.3",
            "Uninstalling typing-3.7.4.3:"
        ]
    }
}
2022-05-24 12:40:53,316 p=25991 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:40:53,328 p=25991 u=moonja n=ansible | TASK [patroni-postgres : Uninstall setuptools rust on all three nodes] *****************************************
2022-05-24 12:40:53,391 p=25991 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:40:59,400 p=25991 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:40:59,400 p=25991 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:40:59,400 p=25991 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:40:59,410 p=25991 u=moonja n=ansible | TASK [patroni-postgres : Uninstall patroni module on all three nodes] ******************************************
2022-05-24 12:40:59,476 p=25991 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:41:05,489 p=25991 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:41:05,490 p=25991 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:41:05,490 p=25991 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:41:05,500 p=25991 u=moonja n=ansible | TASK [patroni-postgres : Uninstall pyopenssl module on all three nodes] ****************************************
2022-05-24 12:41:05,543 p=25991 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:41:05,561 p=25991 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:41:05,562 p=25991 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:41:05,574 p=25991 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:41:05,584 p=25991 u=moonja n=ansible | TASK [patroni-postgres : Uninstall pyrsistent module on all three nodes] ***************************************
2022-05-24 12:41:05,605 p=25991 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:41:05,638 p=25991 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:41:05,640 p=25991 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:41:05,650 p=25991 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:41:05,661 p=25991 u=moonja n=ansible | TASK [patroni-postgres : Uninstall wheel module on all three nodes] ********************************************
2022-05-24 12:41:05,725 p=25991 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:41:11,674 p=25991 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:41:11,736 p=25991 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:41:11,737 p=25991 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:41:11,747 p=25991 u=moonja n=ansible | TASK [patroni-postgres : Uninstall psycopg2-binary module on all three nodes] **********************************
2022-05-24 12:41:11,817 p=25991 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:41:17,767 p=25991 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:41:17,788 p=25991 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:41:17,789 p=25991 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:41:17,798 p=25991 u=moonja n=ansible | TASK [patroni-postgres : Delete the dependencies file of etcd  on all three nodes] *****************************
2022-05-24 12:41:17,865 p=25991 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:41:18,178 p=25991 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:41:18,191 p=25991 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:41:18,195 p=25991 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:41:18,207 p=25991 u=moonja n=ansible | TASK [patroni-postgres : Uninstall RPM packages of the etcd and Patroni prerequisites on all three nodes] ******
2022-05-24 12:42:01,422 p=25991 u=moonja n=ansible | changed: [co7-master] => (item=python3)
2022-05-24 12:42:07,565 p=25991 u=moonja n=ansible | ok: [co7-master] => (item=python3-devel)
2022-05-24 12:42:29,764 p=25991 u=moonja n=ansible | changed: [co7-master] => (item=gcc)
2022-05-24 12:42:51,821 p=25991 u=moonja n=ansible | changed: [co7-master] => (item=etcd)
2022-05-24 12:43:09,439 p=25991 u=moonja n=ansible | changed: [co7-node03] => (item=python3)
2022-05-24 12:43:14,009 p=25991 u=moonja n=ansible | changed: [co7-master] => (item=python-psycopg2)
2022-05-24 12:43:14,706 p=25991 u=moonja n=ansible | changed: [co7-node02] => (item=python3)
2022-05-24 12:43:15,361 p=25991 u=moonja n=ansible | ok: [co7-node03] => (item=python3-devel)
2022-05-24 12:43:20,056 p=25991 u=moonja n=ansible | ok: [co7-master] => (item=python3-pip)
2022-05-24 12:43:21,195 p=25991 u=moonja n=ansible | changed: [co7-node01] => (item=python3)
2022-05-24 12:43:21,405 p=25991 u=moonja n=ansible | ok: [co7-node02] => (item=python3-devel)
2022-05-24 12:43:26,761 p=25991 u=moonja n=ansible | changed: [co7-node03] => (item=gcc)
2022-05-24 12:43:27,236 p=25991 u=moonja n=ansible | ok: [co7-node01] => (item=python3-devel)
2022-05-24 12:43:31,159 p=25991 u=moonja n=ansible | changed: [co7-master] => (item=python34-setuptools)
2022-05-24 12:43:37,154 p=25991 u=moonja n=ansible | ok: [co7-master] => (item=python27-python-setuptools)
2022-05-24 12:43:37,925 p=25991 u=moonja n=ansible | changed: [co7-node03] => (item=etcd)
2022-05-24 12:43:38,234 p=25991 u=moonja n=ansible | changed: [co7-node02] => (item=gcc)
2022-05-24 12:43:43,266 p=25991 u=moonja n=ansible | ok: [co7-master] => (item=yamllint)
2022-05-24 12:43:44,586 p=25991 u=moonja n=ansible | changed: [co7-node01] => (item=gcc)
2022-05-24 12:43:54,497 p=25991 u=moonja n=ansible | changed: [co7-master] => (item=daemonize)
2022-05-24 12:43:54,509 p=25991 u=moonja n=ansible | changed: [co7-node03] => (item=python-psycopg2)
2022-05-24 12:43:54,681 p=25991 u=moonja n=ansible | changed: [co7-node02] => (item=etcd)
2022-05-24 12:43:55,986 p=25991 u=moonja n=ansible | changed: [co7-node01] => (item=etcd)
2022-05-24 12:44:00,620 p=25991 u=moonja n=ansible | ok: [co7-node03] => (item=python3-pip)
2022-05-24 12:44:06,096 p=25991 u=moonja n=ansible | changed: [co7-node02] => (item=python-psycopg2)
2022-05-24 12:44:07,608 p=25991 u=moonja n=ansible | changed: [co7-node01] => (item=python-psycopg2)
2022-05-24 12:44:12,007 p=25991 u=moonja n=ansible | ok: [co7-node02] => (item=python3-pip)
2022-05-24 12:44:13,735 p=25991 u=moonja n=ansible | ok: [co7-node01] => (item=python3-pip)
2022-05-24 12:44:17,219 p=25991 u=moonja n=ansible | changed: [co7-node03] => (item=python34-setuptools)
2022-05-24 12:44:23,380 p=25991 u=moonja n=ansible | ok: [co7-node03] => (item=python27-python-setuptools)
2022-05-24 12:44:28,463 p=25991 u=moonja n=ansible | changed: [co7-node02] => (item=python34-setuptools)
2022-05-24 12:44:29,441 p=25991 u=moonja n=ansible | ok: [co7-node03] => (item=yamllint)
2022-05-24 12:44:30,327 p=25991 u=moonja n=ansible | changed: [co7-node01] => (item=python34-setuptools)
2022-05-24 12:44:34,689 p=25991 u=moonja n=ansible | ok: [co7-node02] => (item=python27-python-setuptools)
2022-05-24 12:44:35,560 p=25991 u=moonja n=ansible | changed: [co7-node03] => (item=daemonize)
2022-05-24 12:44:36,685 p=25991 u=moonja n=ansible | ok: [co7-node01] => (item=python27-python-setuptools)
2022-05-24 12:44:40,871 p=25991 u=moonja n=ansible | ok: [co7-node02] => (item=yamllint)
2022-05-24 12:44:42,905 p=25991 u=moonja n=ansible | ok: [co7-node01] => (item=yamllint)
2022-05-24 12:44:52,666 p=25991 u=moonja n=ansible | changed: [co7-node02] => (item=daemonize)
2022-05-24 12:44:54,489 p=25991 u=moonja n=ansible | changed: [co7-node01] => (item=daemonize)
2022-05-24 12:44:54,500 p=25991 u=moonja n=ansible | TASK [patroni-postgres : Uninstall VMware Postgres RPM package on all hosts as root] ***************************
2022-05-24 12:45:16,557 p=25991 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:45:16,726 p=25991 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:45:17,351 p=25991 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:45:17,528 p=25991 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:45:17,541 p=25991 u=moonja n=ansible | TASK [patroni-postgres : Delete the vmwawre-postgres rpm file to all hosts in cluster] *************************
2022-05-24 12:45:17,894 p=25991 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:45:17,903 p=25991 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:45:17,917 p=25991 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:45:18,018 p=25991 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:45:18,031 p=25991 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] ******************************************************************
2022-05-24 12:45:19,385 p=25991 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:45:19,432 p=25991 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:45:19,475 p=25991 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:45:19,520 p=25991 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:45:19,531 p=25991 u=moonja n=ansible | TASK [patroni-postgres : debug] ********************************************************************************
2022-05-24 12:45:19,570 p=25991 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-05-24 12:45:19,588 p=25991 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-05-24 12:45:19,591 p=25991 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-05-24 12:45:19,603 p=25991 u=moonja n=ansible | ok: [co7-master] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-05-24 12:45:19,614 p=25991 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] *****************************************************************
2022-05-24 12:45:19,949 p=25991 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:45:19,959 p=25991 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:45:19,960 p=25991 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:45:19,989 p=25991 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:45:20,002 p=25991 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ***********************************************************
2022-05-24 12:45:20,870 p=25991 u=moonja n=ansible | ok: [co7-node03]
2022-05-24 12:45:20,919 p=25991 u=moonja n=ansible | ok: [co7-node02]
2022-05-24 12:45:20,988 p=25991 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:45:20,992 p=25991 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 12:45:21,038 p=25991 u=moonja n=ansible | PLAY RECAP *****************************************************************************************************
2022-05-24 12:45:21,038 p=25991 u=moonja n=ansible | co7-master                 : ok=13   changed=6    unreachable=0    failed=0    skipped=13   rescued=0    ignored=0   
2022-05-24 12:45:21,038 p=25991 u=moonja n=ansible | co7-node01                 : ok=24   changed=18   unreachable=0    failed=0    skipped=2    rescued=0    ignored=3   
2022-05-24 12:45:21,038 p=25991 u=moonja n=ansible | co7-node02                 : ok=24   changed=18   unreachable=0    failed=0    skipped=2    rescued=0    ignored=3   
2022-05-24 12:45:21,038 p=25991 u=moonja n=ansible | co7-node03                 : ok=24   changed=18   unreachable=0    failed=0    skipped=2    rescued=0    ignored=3   
2022-05-24 12:48:53,502 p=31792 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature 
will be removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2022-05-24 12:48:53,511 p=31792 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-05-24 12:48:53,733 p=31792 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be 
removed in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2022-05-24 12:48:53,794 p=31792 u=moonja n=ansible | PLAY [all] *****************************************************************************************************
2022-05-24 12:48:53,830 p=31792 u=moonja n=ansible | TASK [Gathering Facts] *****************************************************************************************
2022-05-24 12:48:55,186 p=31792 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 12:48:55,614 p=31792 u=moonja n=ansible | ok: [co7-node03]
2022-05-24 12:48:55,615 p=31792 u=moonja n=ansible | ok: [co7-node02]
2022-05-24 12:48:55,616 p=31792 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:48:55,633 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Install rpm packages of firewalld] ****************************************************
2022-05-24 12:48:56,379 p=31792 u=moonja n=ansible | ok: [co7-master] => (item=firewalld)
2022-05-24 12:48:56,381 p=31792 u=moonja n=ansible | ok: [co7-node03] => (item=firewalld)
2022-05-24 12:48:56,382 p=31792 u=moonja n=ansible | ok: [co7-node02] => (item=firewalld)
2022-05-24 12:48:56,385 p=31792 u=moonja n=ansible | ok: [co7-node01] => (item=firewalld)
2022-05-24 12:48:56,396 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ***********************************************************
2022-05-24 12:48:57,143 p=31792 u=moonja n=ansible | ok: [co7-node03]
2022-05-24 12:48:57,146 p=31792 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:48:57,151 p=31792 u=moonja n=ansible | ok: [co7-node02]
2022-05-24 12:48:57,154 p=31792 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 12:48:57,165 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] *****************************************************************
2022-05-24 12:48:57,759 p=31792 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:48:57,760 p=31792 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:48:57,760 p=31792 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:48:57,761 p=31792 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:48:57,770 p=31792 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] ******************************************************************
2022-05-24 12:48:58,116 p=31792 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:48:58,131 p=31792 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:48:58,139 p=31792 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:48:58,154 p=31792 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:48:58,165 p=31792 u=moonja n=ansible | TASK [patroni-postgres : debug] ********************************************************************************
2022-05-24 12:48:58,202 p=31792 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-05-24 12:48:58,218 p=31792 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-05-24 12:48:58,221 p=31792 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-05-24 12:48:58,232 p=31792 u=moonja n=ansible | ok: [co7-master] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-05-24 12:48:58,242 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Install the 'Development tools' package group for VMware Postgres Dependencies] *******
2022-05-24 12:49:10,042 p=31792 u=moonja n=ansible | ok: [co7-master]
2022-05-24 12:49:10,043 p=31792 u=moonja n=ansible | ok: [co7-node03]
2022-05-24 12:49:10,983 p=31792 u=moonja n=ansible | ok: [co7-node02]
2022-05-24 12:49:12,639 p=31792 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 12:49:12,648 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Install the perl package for VMware Postgres Dependencies] ****************************
2022-05-24 12:49:18,681 p=31792 u=moonja n=ansible | ok: [co7-node02] => (item=perl)
2022-05-24 12:49:18,743 p=31792 u=moonja n=ansible | ok: [co7-node03] => (item=perl)
2022-05-24 12:49:19,656 p=31792 u=moonja n=ansible | ok: [co7-master] => (item=perl)
2022-05-24 12:49:19,689 p=31792 u=moonja n=ansible | ok: [co7-node01] => (item=perl)
2022-05-24 12:49:24,766 p=31792 u=moonja n=ansible | ok: [co7-node03] => (item=readline-devel)
2022-05-24 12:49:24,766 p=31792 u=moonja n=ansible | ok: [co7-node02] => (item=readline-devel)
2022-05-24 12:49:25,648 p=31792 u=moonja n=ansible | ok: [co7-node01] => (item=readline-devel)
2022-05-24 12:49:25,679 p=31792 u=moonja n=ansible | ok: [co7-master] => (item=readline-devel)
2022-05-24 12:49:30,828 p=31792 u=moonja n=ansible | ok: [co7-node02] => (item=libicu-devel)
2022-05-24 12:49:30,855 p=31792 u=moonja n=ansible | ok: [co7-node03] => (item=libicu-devel)
2022-05-24 12:49:31,608 p=31792 u=moonja n=ansible | ok: [co7-node01] => (item=libicu-devel)
2022-05-24 12:49:31,746 p=31792 u=moonja n=ansible | ok: [co7-master] => (item=libicu-devel)
2022-05-24 12:49:36,748 p=31792 u=moonja n=ansible | ok: [co7-node02] => (item=perl-libs)
2022-05-24 12:49:36,799 p=31792 u=moonja n=ansible | ok: [co7-node03] => (item=perl-libs)
2022-05-24 12:49:37,576 p=31792 u=moonja n=ansible | ok: [co7-node01] => (item=perl-libs)
2022-05-24 12:49:37,621 p=31792 u=moonja n=ansible | ok: [co7-master] => (item=perl-libs)
2022-05-24 12:49:37,632 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] ***************************
2022-05-24 12:49:39,089 p=31792 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:49:39,094 p=31792 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:49:39,095 p=31792 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:49:39,100 p=31792 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:49:39,110 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] *****************************************
2022-05-24 12:50:01,187 p=31792 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:50:01,198 p=31792 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:50:01,198 p=31792 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:50:01,198 p=31792 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:50:01,207 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] ************************
2022-05-24 12:50:49,740 p=31792 u=moonja n=ansible | changed: [co7-node01] => (item=python3)
2022-05-24 12:50:50,298 p=31792 u=moonja n=ansible | changed: [co7-node02] => (item=python3)
2022-05-24 12:50:50,615 p=31792 u=moonja n=ansible | changed: [co7-node03] => (item=python3)
2022-05-24 12:50:50,679 p=31792 u=moonja n=ansible | changed: [co7-master] => (item=python3)
2022-05-24 12:51:44,706 p=31792 u=moonja n=ansible | changed: [co7-node02] => (item=python3-devel)
2022-05-24 12:51:49,198 p=31792 u=moonja n=ansible | changed: [co7-node01] => (item=python3-devel)
2022-05-24 12:51:50,387 p=31792 u=moonja n=ansible | changed: [co7-master] => (item=python3-devel)
2022-05-24 12:51:51,759 p=31792 u=moonja n=ansible | changed: [co7-node03] => (item=python3-devel)
2022-05-24 12:52:06,559 p=31792 u=moonja n=ansible | changed: [co7-node02] => (item=gcc)
2022-05-24 12:52:16,967 p=31792 u=moonja n=ansible | changed: [co7-node01] => (item=gcc)
2022-05-24 12:52:17,411 p=31792 u=moonja n=ansible | changed: [co7-master] => (item=gcc)
2022-05-24 12:52:19,185 p=31792 u=moonja n=ansible | changed: [co7-node03] => (item=gcc)
2022-05-24 12:52:35,019 p=31792 u=moonja n=ansible | changed: [co7-node02] => (item=etcd)
2022-05-24 12:52:49,381 p=31792 u=moonja n=ansible | changed: [co7-node01] => (item=etcd)
2022-05-24 12:52:51,780 p=31792 u=moonja n=ansible | changed: [co7-master] => (item=etcd)
2022-05-24 12:52:57,150 p=31792 u=moonja n=ansible | changed: [co7-node03] => (item=etcd)
2022-05-24 12:52:57,481 p=31792 u=moonja n=ansible | changed: [co7-node02] => (item=python-psycopg2)
2022-05-24 12:53:03,493 p=31792 u=moonja n=ansible | ok: [co7-node02] => (item=python3-pip)
2022-05-24 12:53:06,182 p=31792 u=moonja n=ansible | changed: [co7-node01] => (item=python-psycopg2)
2022-05-24 12:53:08,364 p=31792 u=moonja n=ansible | changed: [co7-node03] => (item=python-psycopg2)
2022-05-24 12:53:09,165 p=31792 u=moonja n=ansible | changed: [co7-master] => (item=python-psycopg2)
2022-05-24 12:53:12,566 p=31792 u=moonja n=ansible | ok: [co7-node01] => (item=python3-pip)
2022-05-24 12:53:14,695 p=31792 u=moonja n=ansible | ok: [co7-node03] => (item=python3-pip)
2022-05-24 12:53:15,229 p=31792 u=moonja n=ansible | ok: [co7-master] => (item=python3-pip)
2022-05-24 12:53:20,035 p=31792 u=moonja n=ansible | changed: [co7-node02] => (item=python34-setuptools)
2022-05-24 12:53:29,452 p=31792 u=moonja n=ansible | changed: [co7-node01] => (item=python34-setuptools)
2022-05-24 12:53:41,895 p=31792 u=moonja n=ansible | changed: [co7-node03] => (item=python34-setuptools)
2022-05-24 12:53:43,221 p=31792 u=moonja n=ansible | changed: [co7-master] => (item=python34-setuptools)
2022-05-24 12:54:03,914 p=31792 u=moonja n=ansible | changed: [co7-node02] => (item=yamllint)
2022-05-24 12:54:18,402 p=31792 u=moonja n=ansible | changed: [co7-node01] => (item=yamllint)
2022-05-24 12:54:19,589 p=31792 u=moonja n=ansible | changed: [co7-node03] => (item=yamllint)
2022-05-24 12:54:20,746 p=31792 u=moonja n=ansible | changed: [co7-master] => (item=yamllint)
2022-05-24 12:54:21,782 p=31792 u=moonja n=ansible | changed: [co7-node02] => (item=daemonize)
2022-05-24 12:54:35,269 p=31792 u=moonja n=ansible | changed: [co7-node01] => (item=daemonize)
2022-05-24 12:54:36,461 p=31792 u=moonja n=ansible | changed: [co7-node03] => (item=daemonize)
2022-05-24 12:54:38,750 p=31792 u=moonja n=ansible | changed: [co7-master] => (item=daemonize)
2022-05-24 12:54:38,764 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Install the dependencies of etcd  on all three nodes] *********************************
2022-05-24 12:54:38,830 p=31792 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:54:39,439 p=31792 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:54:39,441 p=31792 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:54:39,441 p=31792 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:54:39,452 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Install setuptools rust on all three nodes] *******************************************
2022-05-24 12:54:39,517 p=31792 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:54:45,742 p=31792 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:54:45,763 p=31792 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:54:45,763 p=31792 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:54:45,771 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Install typing pip module on all three nodes] *****************************************
2022-05-24 12:54:45,834 p=31792 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:54:51,804 p=31792 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:54:51,854 p=31792 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:54:51,854 p=31792 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:54:51,864 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Upgrade pip3 version] *****************************************************************
2022-05-24 12:54:51,930 p=31792 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:54:58,307 p=31792 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:54:58,570 p=31792 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:54:58,745 p=31792 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:54:58,754 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Install wheel module on all three nodes] **********************************************
2022-05-24 12:54:58,820 p=31792 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:55:04,702 p=31792 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:55:04,702 p=31792 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:55:04,742 p=31792 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:55:04,753 p=31792 u=moonja n=ansible | TASK [patroni-postgres : debug] ********************************************************************************
2022-05-24 12:55:04,797 p=31792 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "ansible_job_id": "216072391123.30729",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:03.501408",
        "end": "2022-05-24 12:55:02.725846",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/216072391123.30729",
        "start": "2022-05-24 12:54:59.224438",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\n  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-05-24 12:55:04,844 p=31792 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "ansible_job_id": "594549585047.30403",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:03.486065",
        "end": "2022-05-24 12:55:02.938319",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/594549585047.30403",
        "start": "2022-05-24 12:54:59.452254",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\n  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-05-24 12:55:04,848 p=31792 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "ansible_job_id": "532479965634.20800",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:03.451343",
        "end": "2022-05-24 12:55:02.572258",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/532479965634.20800",
        "start": "2022-05-24 12:54:59.120915",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\n  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-05-24 12:55:04,848 p=31792 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:55:04,859 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Install pip modules of Patroni prerequisites on all three nodes] **********************
2022-05-24 12:55:04,920 p=31792 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:55:10,934 p=31792 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:55:10,935 p=31792 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:55:10,935 p=31792 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:55:10,946 p=31792 u=moonja n=ansible | TASK [patroni-postgres : debug] ********************************************************************************
2022-05-24 12:55:10,988 p=31792 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "ansible_job_id": "757945160070.30954",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.787081",
        "end": "2022-05-24 12:55:06.127572",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/757945160070.30954",
        "start": "2022-05-24 12:55:05.340491",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.9)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.27.1)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.4)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.5.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (4.2)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.9.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.3)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.12)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2022.5.18)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.2.1)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.3)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: pytz-deprecation-shim in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.1.0.post0)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (59.6.0)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.6.6)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (37.0.2)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.4.0)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: cachetools<6.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.4)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.8)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.4.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /usr/local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.1.1)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.6.0)\nRequirement already satisfied: tzdata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pytz-deprecation-shim->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (2022.1)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.2.0)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.15.0)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.21)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.9)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.27.1)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.4)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.5.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (4.2)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.9.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.3)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.12)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2022.5.18)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.2.1)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.3)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: pytz-deprecation-shim in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.1.0.post0)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (59.6.0)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.6.6)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (37.0.2)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.4.0)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: cachetools<6.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.4)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.8)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.4.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /usr/local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.1.1)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.6.0)",
            "Requirement already satisfied: tzdata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pytz-deprecation-shim->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (2022.1)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.2.0)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.15.0)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.21)"
        ]
    }
}
2022-05-24 12:55:11,006 p=31792 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "ansible_job_id": "573396819349.30628",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.801615",
        "end": "2022-05-24 12:55:06.360326",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/573396819349.30628",
        "start": "2022-05-24 12:55:05.558711",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.9)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.27.1)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.4)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.5.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (4.2)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.9.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2022.5.18)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.12)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.3)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.2.1)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.3)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: pytz-deprecation-shim in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.1.0.post0)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.1)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.6.6)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (59.6.0)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.4.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (37.0.2)\nRequirement already satisfied: cachetools<6.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.4)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.8)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.4.0)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.6.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /usr/local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.1.1)\nRequirement already satisfied: tzdata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pytz-deprecation-shim->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (2022.1)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.2.0)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.15.0)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.21)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.9)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.27.1)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.4)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.5.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (4.2)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.9.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2022.5.18)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.12)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.3)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.2.1)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.3)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: pytz-deprecation-shim in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.1.0.post0)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.1)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.6.6)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (59.6.0)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.4.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (37.0.2)",
            "Requirement already satisfied: cachetools<6.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.4)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.8)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.4.0)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.6.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /usr/local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.1.1)",
            "Requirement already satisfied: tzdata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pytz-deprecation-shim->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (2022.1)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.2.0)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.15.0)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.21)"
        ]
    }
}
2022-05-24 12:55:11,013 p=31792 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "ansible_job_id": "854577837016.21025",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.778284",
        "end": "2022-05-24 12:55:05.983445",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/854577837016.21025",
        "start": "2022-05-24 12:55:05.205161",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.9)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.27.1)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.4)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.5.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (4.2)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.9.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.3)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2022.5.18)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.12)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.2.1)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.3)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: pytz-deprecation-shim in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.1.0.post0)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.6.6)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (59.6.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (37.0.2)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.4.0)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.8)\nRequirement already satisfied: cachetools<6.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.4)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.4.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /usr/local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.1.1)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.6.0)\nRequirement already satisfied: tzdata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pytz-deprecation-shim->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (2022.1)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.2.0)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.15.0)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.21)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.9)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.27.1)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.4)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.5.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (4.2)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.9.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.3)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2022.5.18)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.12)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.2.1)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.3)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: pytz-deprecation-shim in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.1.0.post0)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.6.6)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (59.6.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (37.0.2)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.4.0)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.8)",
            "Requirement already satisfied: cachetools<6.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.4)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.4.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /usr/local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.1.1)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.6.0)",
            "Requirement already satisfied: tzdata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pytz-deprecation-shim->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (2022.1)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.2.0)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.15.0)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.21)"
        ]
    }
}
2022-05-24 12:55:11,020 p=31792 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:55:11,030 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Iinstall wheel module on all three nodes] *********************************************
2022-05-24 12:55:11,095 p=31792 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:55:17,287 p=31792 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:55:17,299 p=31792 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:55:17,300 p=31792 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:55:17,309 p=31792 u=moonja n=ansible | TASK [patroni-postgres : debug] ********************************************************************************
2022-05-24 12:55:17,351 p=31792 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "ansible_job_id": "468678560268.31179",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.796052",
        "end": "2022-05-24 12:55:13.362273",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/468678560268.31179",
        "start": "2022-05-24 12:55:11.566221",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-05-24 12:55:17,370 p=31792 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "ansible_job_id": "832762323360.30853",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.788299",
        "end": "2022-05-24 12:55:13.596001",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/832762323360.30853",
        "start": "2022-05-24 12:55:11.807702",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-05-24 12:55:17,371 p=31792 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "ansible_job_id": "448809867355.21250",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:01.772447",
        "end": "2022-05-24 12:55:13.213764",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/448809867355.21250",
        "start": "2022-05-24 12:55:11.441317",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-05-24 12:55:17,382 p=31792 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:55:17,395 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Install psycopg2-binary module on all three nodes] ************************************
2022-05-24 12:55:17,458 p=31792 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:55:23,625 p=31792 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:55:23,625 p=31792 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:55:23,625 p=31792 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:55:23,636 p=31792 u=moonja n=ansible | TASK [patroni-postgres : debug] ********************************************************************************
2022-05-24 12:55:23,681 p=31792 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "ansible_job_id": "662754212156.31404",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:02.326312",
        "end": "2022-05-24 12:55:20.352852",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/662754212156.31404",
        "start": "2022-05-24 12:55:18.026540",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.3",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.3"
        ]
    }
}
2022-05-24 12:55:23,699 p=31792 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "ansible_job_id": "159377637981.31078",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:02.446067",
        "end": "2022-05-24 12:55:20.691740",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/159377637981.31078",
        "start": "2022-05-24 12:55:18.245673",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.3",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.3"
        ]
    }
}
2022-05-24 12:55:23,700 p=31792 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "ansible_job_id": "20127112112.21475",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:02.327182",
        "end": "2022-05-24 12:55:20.211178",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/20127112112.21475",
        "start": "2022-05-24 12:55:17.883996",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.3",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.3"
        ]
    }
}
2022-05-24 12:55:23,712 p=31792 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:55:23,726 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Install pyopenssl modle on all three nodes for vmware-postgres version] ***************
2022-05-24 12:55:23,765 p=31792 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:55:23,783 p=31792 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:55:23,784 p=31792 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:55:23,796 p=31792 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:55:23,806 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Install pyrsistent modle on all three nodes for vmware-postgres version] **************
2022-05-24 12:55:23,827 p=31792 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:55:23,845 p=31792 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:55:23,863 p=31792 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:55:23,876 p=31792 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:55:23,886 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Install pyopenssl modle on all three nodes for vmware-postgres version] ***************
2022-05-24 12:55:23,908 p=31792 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 12:55:23,929 p=31792 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:55:23,947 p=31792 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:55:23,959 p=31792 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:55:23,970 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Install patroni modules on all three nodes for vmware-postgres version] ***************
2022-05-24 12:55:24,035 p=31792 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:55:30,026 p=31792 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:55:30,102 p=31792 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:55:30,102 p=31792 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:55:30,113 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] *****************************************
2022-05-24 12:55:30,190 p=31792 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:55:30,738 p=31792 u=moonja n=ansible | ok: [co7-node02]
2022-05-24 12:55:30,744 p=31792 u=moonja n=ansible | ok: [co7-node03]
2022-05-24 12:55:30,745 p=31792 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 12:55:30,755 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Create the etcd.yml configuration file for all nodes] *********************************
2022-05-24 12:55:30,820 p=31792 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:55:31,580 p=31792 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:55:31,588 p=31792 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:55:31,589 p=31792 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:55:31,600 p=31792 u=moonja n=ansible | TASK [patroni-postgres : debug] ********************************************************************************
2022-05-24 12:55:31,640 p=31792 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": true,
        "checksum": "769e988b934d65d39f12249c15d376c4996669fe",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "19223efc76b4385e7416280d86f42450",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 476,
        "src": "/var/tmp/ansible-tmp-1653364530.828119-39030-208261991439772/source",
        "state": "file",
        "uid": 26
    }
}
2022-05-24 12:55:31,659 p=31792 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": true,
        "checksum": "883861bce22a700d2112520c386edcd7517ff757",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "1d37dea46903e0e9f574323fe20d67db",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 476,
        "src": "/var/tmp/ansible-tmp-1653364530.8308868-39031-263782753156427/source",
        "state": "file",
        "uid": 26
    }
}
2022-05-24 12:55:31,660 p=31792 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": true,
        "checksum": "29df31fda413fbe1c71f5bc0c1b06f8eed49bb09",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "691adc294c915bb31a0a4960acf6eb09",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 476,
        "src": "/var/tmp/ansible-tmp-1653364530.8417962-39034-79944557465099/source",
        "state": "file",
        "uid": 26
    }
}
2022-05-24 12:55:31,673 p=31792 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:55:31,683 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of etcd into /etc/systemd/system] **************************
2022-05-24 12:55:31,746 p=31792 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:55:32,539 p=31792 u=moonja n=ansible | ok: [co7-node02]
2022-05-24 12:55:32,541 p=31792 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 12:55:32,546 p=31792 u=moonja n=ansible | ok: [co7-node03]
2022-05-24 12:55:32,554 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Reload and start etcd through systemd] ************************************************
2022-05-24 12:55:32,618 p=31792 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:55:36,596 p=31792 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:55:36,605 p=31792 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:55:36,606 p=31792 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:55:36,616 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Lists the members and identifies the current Leader.] *********************************
2022-05-24 12:55:36,677 p=31792 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:55:37,029 p=31792 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:55:37,045 p=31792 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:55:37,047 p=31792 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:55:37,057 p=31792 u=moonja n=ansible | TASK [patroni-postgres : debug] ********************************************************************************
2022-05-24 12:55:37,096 p=31792 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.022515",
        "end": "2022-05-24 12:55:37.053666",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:55:37.031151",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "7894cfd255567386, started, <co7-node01>, http://192.168.0.83:2380, http://192.168.0.83:2379\n90a8ce747786b32d, started, <co7-node03>, http://192.168.0.85:2380, http://192.168.0.85:2379\nd6b4e9cbe4abb38e, started, <co7-node02>, http://192.168.0.84:2380, http://192.168.0.84:2379",
        "stdout_lines": [
            "7894cfd255567386, started, <co7-node01>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "90a8ce747786b32d, started, <co7-node03>, http://192.168.0.85:2380, http://192.168.0.85:2379",
            "d6b4e9cbe4abb38e, started, <co7-node02>, http://192.168.0.84:2380, http://192.168.0.84:2379"
        ]
    }
}
2022-05-24 12:55:37,113 p=31792 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.020313",
        "end": "2022-05-24 12:55:37.270353",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:55:37.250040",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "7894cfd255567386, started, <co7-node01>, http://192.168.0.83:2380, http://192.168.0.83:2379\n90a8ce747786b32d, started, <co7-node03>, http://192.168.0.85:2380, http://192.168.0.85:2379\nd6b4e9cbe4abb38e, started, <co7-node02>, http://192.168.0.84:2380, http://192.168.0.84:2379",
        "stdout_lines": [
            "7894cfd255567386, started, <co7-node01>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "90a8ce747786b32d, started, <co7-node03>, http://192.168.0.85:2380, http://192.168.0.85:2379",
            "d6b4e9cbe4abb38e, started, <co7-node02>, http://192.168.0.84:2380, http://192.168.0.84:2379"
        ]
    }
}
2022-05-24 12:55:37,114 p=31792 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.019428",
        "end": "2022-05-24 12:55:36.916138",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:55:36.896710",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "7894cfd255567386, started, <co7-node01>, http://192.168.0.83:2380, http://192.168.0.83:2379\n90a8ce747786b32d, started, <co7-node03>, http://192.168.0.85:2380, http://192.168.0.85:2379\nd6b4e9cbe4abb38e, started, <co7-node02>, http://192.168.0.84:2380, http://192.168.0.84:2379",
        "stdout_lines": [
            "7894cfd255567386, started, <co7-node01>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "90a8ce747786b32d, started, <co7-node03>, http://192.168.0.85:2380, http://192.168.0.85:2379",
            "d6b4e9cbe4abb38e, started, <co7-node02>, http://192.168.0.84:2380, http://192.168.0.84:2379"
        ]
    }
}
2022-05-24 12:55:37,127 p=31792 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:55:37,137 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Set data directory for patroni cluster] ***********************************************
2022-05-24 12:55:37,596 p=31792 u=moonja n=ansible | changed: [co7-master]
2022-05-24 12:55:37,597 p=31792 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:55:37,598 p=31792 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:55:37,600 p=31792 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:55:37,610 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Create the patroni.yml configuration file for all nodes] ******************************
2022-05-24 12:55:37,691 p=31792 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:55:38,483 p=31792 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:55:38,485 p=31792 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:55:38,485 p=31792 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:55:38,498 p=31792 u=moonja n=ansible | TASK [patroni-postgres : debug] ********************************************************************************
2022-05-24 12:55:38,536 p=31792 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": true,
        "checksum": "3b1e102ae7529f4cda254b1d9e15365d4f7b62b9",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "23ecf725a99263311204436f93d2ce20",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 2537,
        "src": "/var/tmp/ansible-tmp-1653364537.723232-39343-258840588798182/source",
        "state": "file",
        "uid": 26
    }
}
2022-05-24 12:55:38,553 p=31792 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": true,
        "checksum": "e31ca4269812c466b675ab4ec02c8264cba90e94",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "1f31c547d854657c447f6e5084bbdb7c",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 2537,
        "src": "/var/tmp/ansible-tmp-1653364537.72813-39344-6667198312143/source",
        "state": "file",
        "uid": 26
    }
}
2022-05-24 12:55:38,554 p=31792 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": true,
        "checksum": "2d1c346da0622b66496f862811807b5e1da7019c",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "a9b5a7af685ecd78e98b6e4ca21c7726",
        "mode": "0644",
        "owner": "postgres",
        "secontext": "system_u:object_r:postgresql_db_t:s0",
        "size": 2537,
        "src": "/var/tmp/ansible-tmp-1653364537.731025-39347-123727980352730/source",
        "state": "file",
        "uid": 26
    }
}
2022-05-24 12:55:38,567 p=31792 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:55:38,577 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of patroni into /etc/systemd/system] ***********************
2022-05-24 12:55:38,638 p=31792 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:55:39,346 p=31792 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:55:39,354 p=31792 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:55:39,354 p=31792 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:55:39,364 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Reload and start systemd service of patroni] ******************************************
2022-05-24 12:55:39,426 p=31792 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:55:39,912 p=31792 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:55:39,913 p=31792 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:55:39,926 p=31792 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:55:39,938 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] *********
2022-05-24 12:55:39,967 p=39569 u=moonja n=ansible | Pausing for 60 seconds
2022-05-24 12:55:39,968 p=39569 u=moonja n=ansible | (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort)
2022-05-24 12:56:39,975 p=31792 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 12:56:39,987 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Remove cluster] ***********************************************************************
2022-05-24 12:56:40,024 p=31792 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 12:56:40,040 p=31792 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 12:56:40,052 p=31792 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:56:46,894 p=31792 u=moonja n=ansible | fatal: [co7-node01]: FAILED! => {"ansible_job_id": "708678593730.491", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n", "delta": "0:00:00.273204", "end": "2022-05-24 12:56:41.068746", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/708678593730.491", "start": "2022-05-24 12:56:40.795542", "started": 1, "stderr": "Aborted!", "stderr_lines": ["Aborted!"], "stdout": "+------------+--------------+---------+--------------+----+-----------+\n| Member     | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101146630509555444) ----+-----------+\n| co7-node01 | 192.168.0.83 | Replica | start failed |    |   unknown |\n| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |\n| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |\n+------------+--------------+---------+--------------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": This cluster currently is healthy. Please specify the master name to continue: ", "stdout_lines": ["+------------+--------------+---------+--------------+----+-----------+", "| Member     | Host         | Role    | State        | TL | Lag in MB |", "+ Cluster: vmtz_patroni_cluster (7101146630509555444) ----+-----------+", "| co7-node01 | 192.168.0.83 | Replica | start failed |    |   unknown |", "| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |", "| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |", "+------------+--------------+---------+--------------+----+-----------+", "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": This cluster currently is healthy. Please specify the master name to continue: "]}
2022-05-24 12:56:46,895 p=31792 u=moonja n=ansible | ...ignoring
2022-05-24 12:56:46,905 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] *********
2022-05-24 12:56:46,924 p=39888 u=moonja n=ansible | Pausing for 60 seconds
2022-05-24 12:56:46,925 p=39888 u=moonja n=ansible | (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort)
2022-05-24 12:57:46,935 p=31792 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 12:57:46,947 p=31792 u=moonja n=ansible | TASK [patroni-postgres : debug] ********************************************************************************
2022-05-24 12:57:46,995 p=31792 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "ansible_job_id": "708678593730.491",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n",
        "delta": "0:00:00.273204",
        "end": "2022-05-24 12:56:41.068746",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/708678593730.491",
        "start": "2022-05-24 12:56:40.795542",
        "started": 1,
        "stderr": "Aborted!",
        "stderr_lines": [
            "Aborted!"
        ],
        "stdout": "+------------+--------------+---------+--------------+----+-----------+\n| Member     | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101146630509555444) ----+-----------+\n| co7-node01 | 192.168.0.83 | Replica | start failed |    |   unknown |\n| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |\n| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |\n+------------+--------------+---------+--------------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": This cluster currently is healthy. Please specify the master name to continue: ",
        "stdout_lines": [
            "+------------+--------------+---------+--------------+----+-----------+",
            "| Member     | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101146630509555444) ----+-----------+",
            "| co7-node01 | 192.168.0.83 | Replica | start failed |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |",
            "| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |",
            "+------------+--------------+---------+--------------+----+-----------+",
            "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": This cluster currently is healthy. Please specify the master name to continue: "
        ]
    }
}
2022-05-24 12:57:47,012 p=31792 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:57:47,014 p=31792 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:57:47,023 p=31792 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:57:47,035 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Reinitialize patroni clsuter on all node] *********************************************
2022-05-24 12:57:47,093 p=31792 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:57:53,468 p=31792 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:57:54,269 p=31792 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:57:54,270 p=31792 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:57:54,279 p=31792 u=moonja n=ansible | TASK [patroni-postgres : debug] ********************************************************************************
2022-05-24 12:57:54,347 p=31792 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "ansible_job_id": "872188662527.801",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\nco7-node01\ny\ny\nEOF\n",
        "delta": "0:00:00.300161",
        "end": "2022-05-24 12:57:48.037689",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/872188662527.801",
        "start": "2022-05-24 12:57:47.737528",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+--------------+----+-----------+\n| Member     | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101146630509555444) ----+-----------+\n| co7-node01 | 192.168.0.83 | Replica | start failed |    |   unknown |\n| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |\n| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |\n+------------+--------------+---------+--------------+----+-----------+\nWhich member do you want to reinitialize [co7-node02, co7-node01, co7-node03]? []: Are you sure you want to reinitialize members co7-node01? [y/N]: Success: reinitialize for member co7-node01",
        "stdout_lines": [
            "+------------+--------------+---------+--------------+----+-----------+",
            "| Member     | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101146630509555444) ----+-----------+",
            "| co7-node01 | 192.168.0.83 | Replica | start failed |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |",
            "| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |",
            "+------------+--------------+---------+--------------+----+-----------+",
            "Which member do you want to reinitialize [co7-node02, co7-node01, co7-node03]? []: Are you sure you want to reinitialize members co7-node01? [y/N]: Success: reinitialize for member co7-node01"
        ]
    }
}
2022-05-24 12:57:54,396 p=31792 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "ansible_job_id": "171321846116.32642",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\nco7-node02\ny\ny\nEOF\n",
        "delta": "0:00:00.286315",
        "end": "2022-05-24 12:57:49.166788",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/171321846116.32642",
        "start": "2022-05-24 12:57:48.880473",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+--------------+----+-----------+\n| Member     | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101146630509555444) ----+-----------+\n| co7-node01 | 192.168.0.83 | Replica | start failed |    |   unknown |\n| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |\n| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |\n+------------+--------------+---------+--------------+----+-----------+\nWhich member do you want to reinitialize [co7-node02, co7-node01, co7-node03]? []: Are you sure you want to reinitialize members co7-node02? [y/N]: Failed: reinitialize for member co7-node02, status code=503, (I am the leader, can not reinitialize)",
        "stdout_lines": [
            "+------------+--------------+---------+--------------+----+-----------+",
            "| Member     | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101146630509555444) ----+-----------+",
            "| co7-node01 | 192.168.0.83 | Replica | start failed |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |",
            "| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |",
            "+------------+--------------+---------+--------------+----+-----------+",
            "Which member do you want to reinitialize [co7-node02, co7-node01, co7-node03]? []: Are you sure you want to reinitialize members co7-node02? [y/N]: Failed: reinitialize for member co7-node02, status code=503, (I am the leader, can not reinitialize)"
        ]
    }
}
2022-05-24 12:57:54,399 p=31792 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "ansible_job_id": "507773332018.23064",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\nco7-node03\ny\ny\nEOF\n",
        "delta": "0:00:03.188594",
        "end": "2022-05-24 12:57:51.706799",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/507773332018.23064",
        "start": "2022-05-24 12:57:48.518205",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+--------------+----+-----------+\n| Member     | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101146630509555444) ----+-----------+\n| co7-node01 | 192.168.0.83 | Replica | start failed |    |   unknown |\n| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |\n| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |\n+------------+--------------+---------+--------------+----+-----------+\nWhich member do you want to reinitialize [co7-node03, co7-node02, co7-node01]? []: Are you sure you want to reinitialize members co7-node03? [y/N]: Failed: reinitialize for member co7-node03, status code=503, (doing crash recovery in a single user mode already in progress)\nDo you want to cancel it and reinitialize anyway? [y/N]: Success: reinitialize for member co7-node03",
        "stdout_lines": [
            "+------------+--------------+---------+--------------+----+-----------+",
            "| Member     | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101146630509555444) ----+-----------+",
            "| co7-node01 | 192.168.0.83 | Replica | start failed |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |",
            "| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |",
            "+------------+--------------+---------+--------------+----+-----------+",
            "Which member do you want to reinitialize [co7-node03, co7-node02, co7-node01]? []: Are you sure you want to reinitialize members co7-node03? [y/N]: Failed: reinitialize for member co7-node03, status code=503, (doing crash recovery in a single user mode already in progress)",
            "Do you want to cancel it and reinitialize anyway? [y/N]: Success: reinitialize for member co7-node03"
        ]
    }
}
2022-05-24 12:57:54,400 p=31792 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:57:54,412 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] *********
2022-05-24 12:57:54,435 p=40142 u=moonja n=ansible | Pausing for 60 seconds
2022-05-24 12:57:54,435 p=40142 u=moonja n=ansible | (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort)
2022-05-24 12:58:54,443 p=31792 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 12:58:54,456 p=31792 u=moonja n=ansible | TASK [patroni-postgres : debug] ********************************************************************************
2022-05-24 12:58:54,501 p=31792 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "ansible_job_id": "872188662527.801",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\nco7-node01\ny\ny\nEOF\n",
        "delta": "0:00:00.300161",
        "end": "2022-05-24 12:57:48.037689",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/872188662527.801",
        "start": "2022-05-24 12:57:47.737528",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+--------------+----+-----------+\n| Member     | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101146630509555444) ----+-----------+\n| co7-node01 | 192.168.0.83 | Replica | start failed |    |   unknown |\n| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |\n| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |\n+------------+--------------+---------+--------------+----+-----------+\nWhich member do you want to reinitialize [co7-node02, co7-node01, co7-node03]? []: Are you sure you want to reinitialize members co7-node01? [y/N]: Success: reinitialize for member co7-node01",
        "stdout_lines": [
            "+------------+--------------+---------+--------------+----+-----------+",
            "| Member     | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101146630509555444) ----+-----------+",
            "| co7-node01 | 192.168.0.83 | Replica | start failed |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |",
            "| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |",
            "+------------+--------------+---------+--------------+----+-----------+",
            "Which member do you want to reinitialize [co7-node02, co7-node01, co7-node03]? []: Are you sure you want to reinitialize members co7-node01? [y/N]: Success: reinitialize for member co7-node01"
        ]
    }
}
2022-05-24 12:58:54,548 p=31792 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "ansible_job_id": "171321846116.32642",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\nco7-node02\ny\ny\nEOF\n",
        "delta": "0:00:00.286315",
        "end": "2022-05-24 12:57:49.166788",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/171321846116.32642",
        "start": "2022-05-24 12:57:48.880473",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+--------------+----+-----------+\n| Member     | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101146630509555444) ----+-----------+\n| co7-node01 | 192.168.0.83 | Replica | start failed |    |   unknown |\n| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |\n| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |\n+------------+--------------+---------+--------------+----+-----------+\nWhich member do you want to reinitialize [co7-node02, co7-node01, co7-node03]? []: Are you sure you want to reinitialize members co7-node02? [y/N]: Failed: reinitialize for member co7-node02, status code=503, (I am the leader, can not reinitialize)",
        "stdout_lines": [
            "+------------+--------------+---------+--------------+----+-----------+",
            "| Member     | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101146630509555444) ----+-----------+",
            "| co7-node01 | 192.168.0.83 | Replica | start failed |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |",
            "| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |",
            "+------------+--------------+---------+--------------+----+-----------+",
            "Which member do you want to reinitialize [co7-node02, co7-node01, co7-node03]? []: Are you sure you want to reinitialize members co7-node02? [y/N]: Failed: reinitialize for member co7-node02, status code=503, (I am the leader, can not reinitialize)"
        ]
    }
}
2022-05-24 12:58:54,552 p=31792 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "ansible_job_id": "507773332018.23064",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\nco7-node03\ny\ny\nEOF\n",
        "delta": "0:00:03.188594",
        "end": "2022-05-24 12:57:51.706799",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/507773332018.23064",
        "start": "2022-05-24 12:57:48.518205",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+--------------+----+-----------+\n| Member     | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101146630509555444) ----+-----------+\n| co7-node01 | 192.168.0.83 | Replica | start failed |    |   unknown |\n| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |\n| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |\n+------------+--------------+---------+--------------+----+-----------+\nWhich member do you want to reinitialize [co7-node03, co7-node02, co7-node01]? []: Are you sure you want to reinitialize members co7-node03? [y/N]: Failed: reinitialize for member co7-node03, status code=503, (doing crash recovery in a single user mode already in progress)\nDo you want to cancel it and reinitialize anyway? [y/N]: Success: reinitialize for member co7-node03",
        "stdout_lines": [
            "+------------+--------------+---------+--------------+----+-----------+",
            "| Member     | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101146630509555444) ----+-----------+",
            "| co7-node01 | 192.168.0.83 | Replica | start failed |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |",
            "| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |",
            "+------------+--------------+---------+--------------+----+-----------+",
            "Which member do you want to reinitialize [co7-node03, co7-node02, co7-node01]? []: Are you sure you want to reinitialize members co7-node03? [y/N]: Failed: reinitialize for member co7-node03, status code=503, (doing crash recovery in a single user mode already in progress)",
            "Do you want to cancel it and reinitialize anyway? [y/N]: Success: reinitialize for member co7-node03"
        ]
    }
}
2022-05-24 12:58:54,552 p=31792 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:58:54,563 p=31792 u=moonja n=ansible | TASK [patroni-postgres : Run the patronictl command-line utility to view the cluster state with Patroni started on all three nodes,] ***
2022-05-24 12:58:54,625 p=31792 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 12:58:55,447 p=31792 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 12:58:56,156 p=31792 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 12:58:56,158 p=31792 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 12:58:56,169 p=31792 u=moonja n=ansible | TASK [patroni-postgres : debug] ********************************************************************************
2022-05-24 12:58:56,208 p=31792 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.277320",
        "end": "2022-05-24 12:58:55.448929",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:58:55.171609",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101146630509555444) -----------+\n| co7-node01 | 192.168.0.83 | Replica | running |  1 |         0 |\n| co7-node02 | 192.168.0.84 | Leader  | running |  1 |           |\n| co7-node03 | 192.168.0.85 | Replica | running |  1 |         0 |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101146630509555444) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | running |  1 |         0 |",
            "| co7-node02 | 192.168.0.84 | Leader  | running |  1 |           |",
            "| co7-node03 | 192.168.0.85 | Replica | running |  1 |         0 |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 12:58:56,247 p=31792 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.288080",
        "end": "2022-05-24 12:58:56.394426",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:58:56.106346",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101146630509555444) -----------+\n| co7-node01 | 192.168.0.83 | Replica | running |  1 |         0 |\n| co7-node02 | 192.168.0.84 | Leader  | running |  1 |           |\n| co7-node03 | 192.168.0.85 | Replica | running |  1 |         0 |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101146630509555444) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | running |  1 |         0 |",
            "| co7-node02 | 192.168.0.84 | Leader  | running |  1 |           |",
            "| co7-node03 | 192.168.0.85 | Replica | running |  1 |         0 |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 12:58:56,250 p=31792 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.291419",
        "end": "2022-05-24 12:58:56.021340",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 12:58:55.729921",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101146630509555444) -----------+\n| co7-node01 | 192.168.0.83 | Replica | running |  1 |         0 |\n| co7-node02 | 192.168.0.84 | Leader  | running |  1 |           |\n| co7-node03 | 192.168.0.85 | Replica | running |  1 |         0 |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101146630509555444) -----------+",
            "| co7-node01 | 192.168.0.83 | Replica | running |  1 |         0 |",
            "| co7-node02 | 192.168.0.84 | Leader  | running |  1 |           |",
            "| co7-node03 | 192.168.0.85 | Replica | running |  1 |         0 |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 12:58:56,251 p=31792 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 12:58:56,295 p=31792 u=moonja n=ansible | PLAY RECAP *****************************************************************************************************
2022-05-24 12:58:56,295 p=31792 u=moonja n=ansible | co7-master                 : ok=23   changed=6    unreachable=0    failed=0    skipped=23   rescued=0    ignored=0   
2022-05-24 12:58:56,296 p=31792 u=moonja n=ansible | co7-node01                 : ok=46   changed=24   unreachable=0    failed=0    skipped=3    rescued=0    ignored=1   
2022-05-24 12:58:56,296 p=31792 u=moonja n=ansible | co7-node02                 : ok=42   changed=23   unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   
2022-05-24 12:58:56,296 p=31792 u=moonja n=ansible | co7-node03                 : ok=42   changed=23   unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   
2022-05-24 13:05:48,577 p=42977 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature 
will be removed from ansible-core in version 2.14. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2022-05-24 13:05:48,588 p=42977 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-05-24 13:05:48,818 p=42977 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be 
removed in version 2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2022-05-24 13:05:48,874 p=42977 u=moonja n=ansible | PLAY [all] *****************************************************************************************************
2022-05-24 13:05:48,898 p=42977 u=moonja n=ansible | TASK [Gathering Facts] *****************************************************************************************
2022-05-24 13:05:50,275 p=42977 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 13:05:50,733 p=42977 u=moonja n=ansible | ok: [co7-master]
2022-05-24 13:05:50,742 p=42977 u=moonja n=ansible | ok: [co7-node02]
2022-05-24 13:05:50,749 p=42977 u=moonja n=ansible | ok: [co7-node03]
2022-05-24 13:05:50,767 p=42977 u=moonja n=ansible | TASK [pgbackrest : Copy the vmwawre-postgres rpm file to all hosts in cluster] *********************************
2022-05-24 13:05:50,786 p=42977 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 13:05:50,802 p=42977 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 13:05:50,819 p=42977 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 13:05:51,902 p=42977 u=moonja n=ansible | ok: [co7-master]
2022-05-24 13:05:51,914 p=42977 u=moonja n=ansible | TASK [pgbackrest : Install VMware Postgres on all hosts as root] ***********************************************
2022-05-24 13:05:51,935 p=42977 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 13:05:51,951 p=42977 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 13:05:51,967 p=42977 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 13:05:58,751 p=42977 u=moonja n=ansible | ok: [co7-master]
2022-05-24 13:05:58,759 p=42977 u=moonja n=ansible | TASK [pgbackrest : Edit patroni.yml for pgBackrest] ************************************************************
2022-05-24 13:05:58,919 p=42977 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  listen: '192.168.0.81:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'}) 
2022-05-24 13:05:58,920 p=42977 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  connect_address: '192.168.0.81:5432'", 'line': "  connect_address: '192.168.0.81:5532'", 'state': 'present'}) 
2022-05-24 13:05:58,920 p=42977 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'}) 
2022-05-24 13:05:59,396 p=42977 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  listen: '192.168.0.85:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 13:05:59,404 p=42977 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  listen: '192.168.0.83:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 13:05:59,404 p=42977 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  listen: '192.168.0.84:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 13:05:59,706 p=42977 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  connect_address: '192.168.0.85:5432'", 'line': "  connect_address: '192.168.0.85:5532'", 'state': 'present'})
2022-05-24 13:05:59,707 p=42977 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  connect_address: '192.168.0.83:5432'", 'line': "  connect_address: '192.168.0.83:5532'", 'state': 'present'})
2022-05-24 13:05:59,708 p=42977 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  connect_address: '192.168.0.84:5432'", 'line': "  connect_address: '192.168.0.84:5532'", 'state': 'present'})
2022-05-24 13:06:00,017 p=42977 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 13:06:00,041 p=42977 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 13:06:00,045 p=42977 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 13:06:00,053 p=42977 u=moonja n=ansible | TASK [pgbackrest : Edit patroni.yml for pgBackrest] ************************************************************
2022-05-24 13:06:00,123 p=42977 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'}) 
2022-05-24 13:06:00,124 p=42977 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'}) 
2022-05-24 13:06:00,477 p=42977 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 13:06:00,494 p=42977 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 13:06:00,495 p=42977 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 13:06:00,911 p=42977 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 13:06:00,912 p=42977 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 13:06:00,912 p=42977 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 13:06:00,927 p=42977 u=moonja n=ansible | TASK [pgbackrest : Create directories and files in all nodes] **************************************************
2022-05-24 13:06:01,576 p=42977 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 13:06:01,577 p=42977 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 13:06:01,594 p=42977 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 13:06:01,595 p=42977 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 13:06:01,916 p=42977 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 13:06:01,925 p=42977 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 13:06:01,936 p=42977 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 13:06:01,948 p=42977 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 13:06:02,236 p=42977 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 13:06:02,239 p=42977 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 13:06:02,252 p=42977 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 13:06:02,254 p=42977 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 13:06:02,571 p=42977 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 13:06:02,578 p=42977 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 13:06:02,601 p=42977 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 13:06:02,604 p=42977 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 13:06:02,969 p=42977 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 13:06:02,974 p=42977 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 13:06:02,980 p=42977 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 13:06:02,986 p=42977 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 13:06:03,305 p=42977 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 13:06:03,306 p=42977 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 13:06:03,315 p=42977 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 13:06:03,318 p=42977 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 13:06:03,331 p=42977 u=moonja n=ansible | TASK [pgbackrest : Allow ssh connection for postgres user in SELinux policy] ***********************************
2022-05-24 13:06:03,922 p=42977 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 13:06:03,923 p=42977 u=moonja n=ansible | changed: [co7-master]
2022-05-24 13:06:03,923 p=42977 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 13:06:03,927 p=42977 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 13:06:03,938 p=42977 u=moonja n=ansible | TASK [pgbackrest : Exchange ssh keys to allow password-less login between all nodes] ***************************
2022-05-24 13:06:04,515 p=42977 u=moonja n=ansible | changed: [co7-master]
2022-05-24 13:06:04,538 p=42977 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 13:06:04,738 p=42977 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 13:06:05,024 p=42977 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 13:06:05,036 p=42977 u=moonja n=ansible | TASK [pgbackrest : Fetch the keyfile from the node to master] **************************************************
2022-05-24 13:06:05,599 p=42977 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 13:06:05,601 p=42977 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 13:06:05,611 p=42977 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 13:06:05,611 p=42977 u=moonja n=ansible | changed: [co7-master]
2022-05-24 13:06:05,624 p=42977 u=moonja n=ansible | TASK [pgbackrest : Copy the key add to authorized_keys using Ansible module] ***********************************
2022-05-24 13:06:05,641 p=43884 u=moonja n=ansible | [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or {% %}.
Found: {{ item != ansible_hostname }}

2022-05-24 13:06:05,651 p=42977 u=moonja n=ansible | skipping: [co7-node01] => (item=co7-node01) 
2022-05-24 13:06:05,655 p=43885 u=moonja n=ansible | [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or {% %}.
Found: {{ item != ansible_hostname }}

2022-05-24 13:06:05,673 p=43887 u=moonja n=ansible | [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or {% %}.
Found: {{ item != ansible_hostname }}

2022-05-24 13:06:05,690 p=43891 u=moonja n=ansible | [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or {% %}.
Found: {{ item != ansible_hostname }}

2022-05-24 13:06:06,310 p=42977 u=moonja n=ansible | changed: [co7-node02] => (item=co7-node01)
2022-05-24 13:06:06,312 p=42977 u=moonja n=ansible | changed: [co7-node03] => (item=co7-node01)
2022-05-24 13:06:06,312 p=42977 u=moonja n=ansible | skipping: [co7-node02] => (item=co7-node02) 
2022-05-24 13:06:06,326 p=42977 u=moonja n=ansible | changed: [co7-master] => (item=co7-node01)
2022-05-24 13:06:06,327 p=42977 u=moonja n=ansible | changed: [co7-node01] => (item=co7-node02)
2022-05-24 13:06:06,673 p=42977 u=moonja n=ansible | changed: [co7-node03] => (item=co7-node02)
2022-05-24 13:06:06,674 p=42977 u=moonja n=ansible | skipping: [co7-node03] => (item=co7-node03) 
2022-05-24 13:06:06,683 p=42977 u=moonja n=ansible | changed: [co7-node02] => (item=co7-node03)
2022-05-24 13:06:06,683 p=42977 u=moonja n=ansible | changed: [co7-node01] => (item=co7-node03)
2022-05-24 13:06:06,697 p=42977 u=moonja n=ansible | changed: [co7-master] => (item=co7-node02)
2022-05-24 13:06:07,023 p=42977 u=moonja n=ansible | changed: [co7-node03] => (item=co7-master)
2022-05-24 13:06:07,048 p=42977 u=moonja n=ansible | changed: [co7-node02] => (item=co7-master)
2022-05-24 13:06:07,050 p=42977 u=moonja n=ansible | changed: [co7-node01] => (item=co7-master)
2022-05-24 13:06:07,069 p=42977 u=moonja n=ansible | changed: [co7-master] => (item=co7-node03)
2022-05-24 13:06:07,070 p=42977 u=moonja n=ansible | skipping: [co7-master] => (item=co7-master) 
2022-05-24 13:06:07,088 p=42977 u=moonja n=ansible | TASK [pgbackrest : The ssh-keyscan for known_hosts file] *******************************************************
2022-05-24 13:06:07,174 p=42977 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 13:06:07,584 p=42977 u=moonja n=ansible | changed: [co7-node02 -> co7-master(None)]
2022-05-24 13:06:07,586 p=42977 u=moonja n=ansible | changed: [co7-node01 -> co7-master(None)]
2022-05-24 13:06:07,587 p=42977 u=moonja n=ansible | changed: [co7-node03 -> co7-master(None)]
2022-05-24 13:06:07,597 p=42977 u=moonja n=ansible | TASK [pgbackrest : The ssh-keyscan for known_hosts file] *******************************************************
2022-05-24 13:06:07,663 p=42977 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 13:06:08,051 p=42977 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 13:06:08,057 p=42977 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 13:06:08,060 p=42977 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 13:06:08,081 p=42977 u=moonja n=ansible | TASK [pgbackrest : Input key] **********************************************************************************
2022-05-24 13:06:08,174 p=42977 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 13:06:08,504 p=42977 u=moonja n=ansible | changed: [co7-node03 -> co7-master(None)] => (item=co7-node03 ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBCw3T4DjyF88OSwmXjXK1z6SzO1qm3YMTAQdeIlBzoQJxAQ2qiaSnZZzGQk7B5ODmS4UFh80grvzm2WjWS3cyyM=)
2022-05-24 13:06:08,520 p=42977 u=moonja n=ansible | changed: [co7-node02 -> co7-master(None)] => (item=co7-node02 ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBKOiG3ubpx4pRAU6ZMg5W5JOC/6ryHoSTKsMz8tC/RTGxcvmvpyaUeE4r4imIAyucmKUo2Y721KvbW5g1/Kjt+o=)
2022-05-24 13:06:08,525 p=42977 u=moonja n=ansible | changed: [co7-node01 -> co7-master(None)] => (item=co7-node01 ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBLoXGv1czw5vny45YMnnJnK14bCFNpqV5ZvrL0U+g+64T1YUr6eqXWdDTcTX1DZUTnFC9HAby0cS6zZGQvRfXiY=)
2022-05-24 13:06:08,536 p=42977 u=moonja n=ansible | TASK [pgbackrest : Input key] **********************************************************************************
2022-05-24 13:06:08,600 p=42977 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 13:06:08,863 p=42977 u=moonja n=ansible | changed: [co7-node01] => (item=co7-master ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBH5R4iPHfdOTR6op3EHkF+lB1ezHrv7PiAK5tc8EmmThK795DDwtDOYKx1zFbnnGQgyQM8tCPrSBHMZD0y+72Yg=)
2022-05-24 13:06:08,870 p=42977 u=moonja n=ansible | changed: [co7-node02] => (item=co7-master ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBH5R4iPHfdOTR6op3EHkF+lB1ezHrv7PiAK5tc8EmmThK795DDwtDOYKx1zFbnnGQgyQM8tCPrSBHMZD0y+72Yg=)
2022-05-24 13:06:08,880 p=42977 u=moonja n=ansible | changed: [co7-node03] => (item=co7-master ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBH5R4iPHfdOTR6op3EHkF+lB1ezHrv7PiAK5tc8EmmThK795DDwtDOYKx1zFbnnGQgyQM8tCPrSBHMZD0y+72Yg=)
2022-05-24 13:06:08,889 p=42977 u=moonja n=ansible | TASK [pgbackrest : Create repository location] *****************************************************************
2022-05-24 13:06:08,913 p=42977 u=moonja n=ansible | skipping: [co7-node01] => (item={'path': '/var/lib/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '750'}) 
2022-05-24 13:06:08,923 p=42977 u=moonja n=ansible | skipping: [co7-node02] => (item={'path': '/var/lib/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '750'}) 
2022-05-24 13:06:08,946 p=42977 u=moonja n=ansible | skipping: [co7-node03] => (item={'path': '/var/lib/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '750'}) 
2022-05-24 13:06:09,442 p=42977 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '750'})
2022-05-24 13:06:09,455 p=42977 u=moonja n=ansible | TASK [pgbackrest : Configure pgbackrest.conf for patroni nodes] ************************************************
2022-05-24 13:06:09,517 p=42977 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 13:06:10,283 p=42977 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 13:06:10,288 p=42977 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 13:06:10,289 p=42977 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 13:06:10,300 p=42977 u=moonja n=ansible | TASK [pgbackrest : Configure pgbackrest.conf for repository node] **********************************************
2022-05-24 13:06:10,320 p=42977 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 13:06:10,337 p=42977 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 13:06:10,353 p=42977 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 13:06:10,951 p=42977 u=moonja n=ansible | changed: [co7-master]
2022-05-24 13:06:10,960 p=42977 u=moonja n=ansible | TASK [pgbackrest : Reload and start systemd service of patroni] ************************************************
2022-05-24 13:06:11,023 p=42977 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 13:06:14,202 p=42977 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 13:06:14,670 p=42977 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 13:06:15,384 p=42977 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 13:06:15,398 p=42977 u=moonja n=ansible | TASK [pgbackrest : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ***************
2022-05-24 13:06:15,420 p=44424 u=moonja n=ansible | Pausing for 60 seconds
2022-05-24 13:06:15,439 p=44424 u=moonja n=ansible | (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort)
2022-05-24 13:07:15,427 p=42977 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 13:07:15,437 p=42977 u=moonja n=ansible | TASK [pgbackrest : Create the stanza on the repository host (only needs to be done on this host)] **************
2022-05-24 13:07:15,459 p=42977 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 13:07:15,475 p=42977 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 13:07:15,492 p=42977 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 13:08:56,853 p=42977 u=moonja n=ansible |  [ERROR]: User interrupted execution

2022-05-24 13:21:28,433 p=51674 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be removed from 
ansible-core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-05-24 13:21:28,446 p=51674 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-05-24 13:21:28,717 p=51674 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed in version 
2.16. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-05-24 13:21:28,773 p=51674 u=moonja n=ansible | PLAY [all] **************************************************************************************************************************
2022-05-24 13:21:28,800 p=51674 u=moonja n=ansible | TASK [Gathering Facts] **************************************************************************************************************
2022-05-24 13:21:30,281 p=51674 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 13:21:30,614 p=51674 u=moonja n=ansible | ok: [co7-node02]
2022-05-24 13:21:30,616 p=51674 u=moonja n=ansible | ok: [co7-master]
2022-05-24 13:21:30,618 p=51674 u=moonja n=ansible | ok: [co7-node03]
2022-05-24 13:21:30,636 p=51674 u=moonja n=ansible | TASK [pgbackrest : Stop the stanza on the repository host (only needs to be done on this host)] *************************************
2022-05-24 13:21:30,656 p=51674 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 13:21:30,670 p=51674 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 13:21:30,687 p=51674 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 13:21:31,330 p=51674 u=moonja n=ansible | changed: [co7-master]
2022-05-24 13:21:31,340 p=51674 u=moonja n=ansible | TASK [pgbackrest : debug] ***********************************************************************************************************
2022-05-24 13:21:31,374 p=51674 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 13:21:31,390 p=51674 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 13:21:31,393 p=51674 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 13:21:31,407 p=51674 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": true,
        "cmd": [
            "/usr/bin/pgbackrest",
            "--stanza=main",
            "--log-level-console=info",
            "stop"
        ],
        "delta": "0:00:00.005742",
        "end": "2022-05-24 13:21:31.695637",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 13:21:31.689895",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "2022-05-24 13:21:31.695 P00   INFO: stop command begin 2.31: --exec-id=16060-7943fde3 --log-level-console=info --pg1-host=192.168.0.83 --pg2-host=192.168.0.84 --pg3-host=192.168.0.85 --repo1-path=/var/lib/pgbackrest --stanza=main\n2022-05-24 13:21:31.695 P00   INFO: stop command end: completed successfully (2ms)",
        "stdout_lines": [
            "2022-05-24 13:21:31.695 P00   INFO: stop command begin 2.31: --exec-id=16060-7943fde3 --log-level-console=info --pg1-host=192.168.0.83 --pg2-host=192.168.0.84 --pg3-host=192.168.0.85 --repo1-path=/var/lib/pgbackrest --stanza=main",
            "2022-05-24 13:21:31.695 P00   INFO: stop command end: completed successfully (2ms)"
        ]
    }
}
2022-05-24 13:21:31,416 p=51674 u=moonja n=ansible | TASK [pgbackrest : Delete main.stop file for pgbackrest] ****************************************************************************
2022-05-24 13:21:31,438 p=51674 u=moonja n=ansible | skipping: [co7-node01] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 13:21:31,454 p=51674 u=moonja n=ansible | skipping: [co7-node02] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 13:21:31,470 p=51674 u=moonja n=ansible | skipping: [co7-node03] => (item=/tmp/pgbackrest/main.stop) 
2022-05-24 13:21:32,105 p=51674 u=moonja n=ansible | changed: [co7-master] => (item=/tmp/pgbackrest/main.stop)
2022-05-24 13:21:32,117 p=51674 u=moonja n=ansible | TASK [pgbackrest : Delete the stanza on the repository host (only needs to be done on this host)] ***********************************
2022-05-24 13:21:32,136 p=51674 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 13:21:32,152 p=51674 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 13:21:32,168 p=51674 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 13:21:32,487 p=51674 u=moonja n=ansible | fatal: [co7-master]: FAILED! => {"changed": true, "cmd": ["/usr/bin/pgbackrest", "--stanza=main", "--log-level-console=info", "stanza-delete", "--force"], "delta": "0:00:00.005746", "end": "2022-05-24 13:21:32.857775", "msg": "non-zero return code", "rc": 55, "start": "2022-05-24 13:21:32.852029", "stderr": "ERROR: [055]: stop file does not exist for stanza 'main'\n       HINT: has the pgbackrest stop command been run on this server for this stanza?", "stderr_lines": ["ERROR: [055]: stop file does not exist for stanza 'main'", "       HINT: has the pgbackrest stop command been run on this server for this stanza?"], "stdout": "2022-05-24 13:21:32.856 P00   INFO: stanza-delete command begin 2.31: --exec-id=16215-6528bd39 --force --log-level-console=info --pg1-host=192.168.0.83 --pg2-host=192.168.0.84 --pg3-host=192.168.0.85 --pg1-path=/var/lib/pgsql/patroni_data --pg2-path=/var/lib/pgsql/patroni_data --pg3-path=/var/lib/pgsql/patroni_data --pg1-port=5532 --pg2-port=5532 --pg3-port=5532 --pg1-socket-path=/var/lib/pgsql/patroni_data --pg2-socket-path=/var/lib/pgsql/patroni_data --pg3-socket-path=/var/lib/pgsql/patroni_data --repo1-path=/var/lib/pgbackrest --stanza=main\n2022-05-24 13:21:32.857 P00   INFO: stanza-delete command end: aborted with exception [055]", "stdout_lines": ["2022-05-24 13:21:32.856 P00   INFO: stanza-delete command begin 2.31: --exec-id=16215-6528bd39 --force --log-level-console=info --pg1-host=192.168.0.83 --pg2-host=192.168.0.84 --pg3-host=192.168.0.85 --pg1-path=/var/lib/pgsql/patroni_data --pg2-path=/var/lib/pgsql/patroni_data --pg3-path=/var/lib/pgsql/patroni_data --pg1-port=5532 --pg2-port=5532 --pg3-port=5532 --pg1-socket-path=/var/lib/pgsql/patroni_data --pg2-socket-path=/var/lib/pgsql/patroni_data --pg3-socket-path=/var/lib/pgsql/patroni_data --repo1-path=/var/lib/pgbackrest --stanza=main", "2022-05-24 13:21:32.857 P00   INFO: stanza-delete command end: aborted with exception [055]"]}
2022-05-24 13:21:32,487 p=51674 u=moonja n=ansible | ...ignoring
2022-05-24 13:21:32,496 p=51674 u=moonja n=ansible | TASK [pgbackrest : debug] ***********************************************************************************************************
2022-05-24 13:21:32,532 p=51674 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 13:21:32,549 p=51674 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 13:21:32,551 p=51674 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 13:21:32,564 p=51674 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": true,
        "cmd": [
            "/usr/bin/pgbackrest",
            "--stanza=main",
            "--log-level-console=info",
            "stanza-delete",
            "--force"
        ],
        "delta": "0:00:00.005746",
        "end": "2022-05-24 13:21:32.857775",
        "failed": true,
        "msg": "non-zero return code",
        "rc": 55,
        "start": "2022-05-24 13:21:32.852029",
        "stderr": "ERROR: [055]: stop file does not exist for stanza 'main'\n       HINT: has the pgbackrest stop command been run on this server for this stanza?",
        "stderr_lines": [
            "ERROR: [055]: stop file does not exist for stanza 'main'",
            "       HINT: has the pgbackrest stop command been run on this server for this stanza?"
        ],
        "stdout": "2022-05-24 13:21:32.856 P00   INFO: stanza-delete command begin 2.31: --exec-id=16215-6528bd39 --force --log-level-console=info --pg1-host=192.168.0.83 --pg2-host=192.168.0.84 --pg3-host=192.168.0.85 --pg1-path=/var/lib/pgsql/patroni_data --pg2-path=/var/lib/pgsql/patroni_data --pg3-path=/var/lib/pgsql/patroni_data --pg1-port=5532 --pg2-port=5532 --pg3-port=5532 --pg1-socket-path=/var/lib/pgsql/patroni_data --pg2-socket-path=/var/lib/pgsql/patroni_data --pg3-socket-path=/var/lib/pgsql/patroni_data --repo1-path=/var/lib/pgbackrest --stanza=main\n2022-05-24 13:21:32.857 P00   INFO: stanza-delete command end: aborted with exception [055]",
        "stdout_lines": [
            "2022-05-24 13:21:32.856 P00   INFO: stanza-delete command begin 2.31: --exec-id=16215-6528bd39 --force --log-level-console=info --pg1-host=192.168.0.83 --pg2-host=192.168.0.84 --pg3-host=192.168.0.85 --pg1-path=/var/lib/pgsql/patroni_data --pg2-path=/var/lib/pgsql/patroni_data --pg3-path=/var/lib/pgsql/patroni_data --pg1-port=5532 --pg2-port=5532 --pg3-port=5532 --pg1-socket-path=/var/lib/pgsql/patroni_data --pg2-socket-path=/var/lib/pgsql/patroni_data --pg3-socket-path=/var/lib/pgsql/patroni_data --repo1-path=/var/lib/pgbackrest --stanza=main",
            "2022-05-24 13:21:32.857 P00   INFO: stanza-delete command end: aborted with exception [055]"
        ]
    }
}
2022-05-24 13:21:32,575 p=51674 u=moonja n=ansible | TASK [pgbackrest : Kill process of pgbackrest on repository] ************************************************************************
2022-05-24 13:21:32,610 p=51674 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 13:21:32,626 p=51674 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 13:21:32,627 p=51674 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 13:21:33,053 p=51674 u=moonja n=ansible | fatal: [co7-master]: FAILED! => {"changed": false, "cmd": "killall pgbackrest", "msg": "[Errno 2] No such file or directory", "rc": 2, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2022-05-24 13:21:33,053 p=51674 u=moonja n=ansible | ...ignoring
2022-05-24 13:21:33,062 p=51674 u=moonja n=ansible | TASK [pgbackrest : debug] ***********************************************************************************************************
2022-05-24 13:21:33,097 p=51674 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 13:21:33,116 p=51674 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 13:21:33,117 p=51674 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 13:21:33,129 p=51674 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "cmd": "killall pgbackrest",
        "failed": true,
        "msg": "[Errno 2] No such file or directory",
        "rc": 2,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-05-24 13:21:33,139 p=51674 u=moonja n=ansible | TASK [pgbackrest : Delete configuration file for pgbackrest] ************************************************************************
2022-05-24 13:21:33,493 p=51674 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 13:21:33,508 p=51674 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 13:21:33,527 p=51674 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 13:21:33,532 p=51674 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-24 13:21:33,543 p=51674 u=moonja n=ansible | TASK [pgbackrest : Delete repository location for pgbackrest] ***********************************************************************
2022-05-24 13:21:33,564 p=51674 u=moonja n=ansible | skipping: [co7-node01] => (item=/var/lib/pgbackrest) 
2022-05-24 13:21:33,583 p=51674 u=moonja n=ansible | skipping: [co7-node02] => (item=/var/lib/pgbackrest) 
2022-05-24 13:21:33,599 p=51674 u=moonja n=ansible | skipping: [co7-node03] => (item=/var/lib/pgbackrest) 
2022-05-24 13:21:34,124 p=51674 u=moonja n=ansible | changed: [co7-master] => (item=/var/lib/pgbackrest)
2022-05-24 13:21:34,136 p=51674 u=moonja n=ansible | TASK [pgbackrest : Delete ssh keys to allow password-less login between all nodes] **************************************************
2022-05-24 13:21:34,490 p=51674 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/id_rsa)
2022-05-24 13:21:34,491 p=51674 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/id_rsa)
2022-05-24 13:21:34,491 p=51674 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/id_rsa)
2022-05-24 13:21:34,502 p=51674 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/id_rsa)
2022-05-24 13:21:34,792 p=51674 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/id_rsa.pub)
2022-05-24 13:21:34,802 p=51674 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/id_rsa.pub)
2022-05-24 13:21:34,805 p=51674 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/id_rsa.pub)
2022-05-24 13:21:34,807 p=51674 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/id_rsa.pub)
2022-05-24 13:21:35,083 p=51674 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/authorized_keys)
2022-05-24 13:21:35,097 p=51674 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/authorized_keys)
2022-05-24 13:21:35,107 p=51674 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/authorized_keys)
2022-05-24 13:21:35,107 p=51674 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/authorized_keys)
2022-05-24 13:21:35,382 p=51674 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh)
2022-05-24 13:21:35,400 p=51674 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh)
2022-05-24 13:21:35,402 p=51674 u=moonja n=ansible | changed: [co7-master] => (item=.ssh)
2022-05-24 13:21:35,416 p=51674 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh)
2022-05-24 13:21:35,427 p=51674 u=moonja n=ansible | TASK [pgbackrest : Delete directories and files in all nodes] ***********************************************************************
2022-05-24 13:21:35,803 p=51674 u=moonja n=ansible | changed: [co7-node02] => (item=/var/log/pgbackrest)
2022-05-24 13:21:35,808 p=51674 u=moonja n=ansible | changed: [co7-node03] => (item=/var/log/pgbackrest)
2022-05-24 13:21:35,840 p=51674 u=moonja n=ansible | changed: [co7-node01] => (item=/var/log/pgbackrest)
2022-05-24 13:21:35,842 p=51674 u=moonja n=ansible | changed: [co7-master] => (item=/var/log/pgbackrest)
2022-05-24 13:21:36,102 p=51674 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest/conf.d)
2022-05-24 13:21:36,107 p=51674 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest/conf.d)
2022-05-24 13:21:36,151 p=51674 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest/conf.d)
2022-05-24 13:21:36,154 p=51674 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest/conf.d)
2022-05-24 13:21:36,414 p=51674 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest)
2022-05-24 13:21:36,422 p=51674 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest)
2022-05-24 13:21:36,454 p=51674 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest)
2022-05-24 13:21:36,469 p=51674 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest)
2022-05-24 13:21:36,479 p=51674 u=moonja n=ansible | TASK [pgbackrest : Delete lines for pgbackrest in patroni.yml] **********************************************************************
2022-05-24 13:21:36,545 p=51674 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'}) 
2022-05-24 13:21:36,546 p=51674 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_command:*', 'state': 'absent'}) 
2022-05-24 13:21:37,025 p=51674 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 13:21:37,033 p=51674 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 13:21:37,035 p=51674 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-24 13:21:37,309 p=51674 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 13:21:37,323 p=51674 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 13:21:37,325 p=51674 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-24 13:21:37,335 p=51674 u=moonja n=ansible | TASK [pgbackrest : Return previous values in patroni.yml for pgBackrest] ************************************************************
2022-05-24 13:21:37,429 p=51674 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.81:5432'", 'state': 'present'}) 
2022-05-24 13:21:37,431 p=51674 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  connect_address: '192.168.0.81:5532'", 'line': "  connect_address: '192.168.0.81:5432'", 'state': 'present'}) 
2022-05-24 13:21:37,431 p=51674 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'}) 
2022-05-24 13:21:37,843 p=51674 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.83:5432'", 'state': 'present'})
2022-05-24 13:21:37,866 p=51674 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.85:5432'", 'state': 'present'})
2022-05-24 13:21:37,867 p=51674 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.84:5432'", 'state': 'present'})
2022-05-24 13:21:38,194 p=51674 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  connect_address: '192.168.0.83:5532'", 'line': "  connect_address: '192.168.0.83:5432'", 'state': 'present'})
2022-05-24 13:21:38,209 p=51674 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  connect_address: '192.168.0.84:5532'", 'line': "  connect_address: '192.168.0.84:5432'", 'state': 'present'})
2022-05-24 13:21:38,209 p=51674 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  connect_address: '192.168.0.85:5532'", 'line': "  connect_address: '192.168.0.85:5432'", 'state': 'present'})
2022-05-24 13:21:38,487 p=51674 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 13:21:38,523 p=51674 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 13:21:38,526 p=51674 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-24 13:21:38,537 p=51674 u=moonja n=ansible | TASK [pgbackrest : Reload and start systemd service of patroni] *********************************************************************
2022-05-24 13:21:38,602 p=51674 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 13:21:40,413 p=51674 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 13:21:41,017 p=51674 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 13:21:44,244 p=51674 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 13:21:44,254 p=51674 u=moonja n=ansible | TASK [pgbackrest : Check the config on each of the two postgres hosts] **************************************************************
2022-05-24 13:21:44,317 p=51674 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 13:21:44,885 p=51674 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 13:21:44,894 p=51674 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 13:21:44,926 p=51674 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 13:21:44,935 p=51674 u=moonja n=ansible | TASK [pgbackrest : debug] ***********************************************************************************************************
2022-05-24 13:21:44,972 p=51674 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.319479",
        "end": "2022-05-24 13:21:44.896072",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 13:21:44.576593",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+-------------------+---------+---------+----+-----------+\n| Member     | Host              | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101146630509555444) ----+-----------+\n| co7-node01 | 192.168.0.83:5432 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84:5432 | Leader  | running |  5 |           |\n| co7-node03 | 192.168.0.85:5532 | Replica | stopped |    |   unknown |\n+------------+-------------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+-------------------+---------+---------+----+-----------+",
            "| Member     | Host              | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101146630509555444) ----+-----------+",
            "| co7-node01 | 192.168.0.83:5432 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84:5432 | Leader  | running |  5 |           |",
            "| co7-node03 | 192.168.0.85:5532 | Replica | stopped |    |   unknown |",
            "+------------+-------------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 13:21:44,990 p=51674 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.296115",
        "end": "2022-05-24 13:21:45.117969",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 13:21:44.821854",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+-------------------+---------+---------+----+-----------+\n| Member     | Host              | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101146630509555444) ----+-----------+\n| co7-node01 | 192.168.0.83:5432 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84:5432 | Leader  | running |  5 |           |\n| co7-node03 | 192.168.0.85:5532 | Replica | stopped |    |   unknown |\n+------------+-------------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+-------------------+---------+---------+----+-----------+",
            "| Member     | Host              | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101146630509555444) ----+-----------+",
            "| co7-node01 | 192.168.0.83:5432 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84:5432 | Leader  | running |  5 |           |",
            "| co7-node03 | 192.168.0.85:5532 | Replica | stopped |    |   unknown |",
            "+------------+-------------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 13:21:44,991 p=51674 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.320333",
        "end": "2022-05-24 13:21:44.796884",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 13:21:44.476551",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+-------------------+---------+---------+----+-----------+\n| Member     | Host              | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101146630509555444) ----+-----------+\n| co7-node01 | 192.168.0.83:5432 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84:5432 | Leader  | running |  5 |           |\n| co7-node03 | 192.168.0.85:5532 | Replica | stopped |    |   unknown |\n+------------+-------------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+-------------------+---------+---------+----+-----------+",
            "| Member     | Host              | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101146630509555444) ----+-----------+",
            "| co7-node01 | 192.168.0.83:5432 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84:5432 | Leader  | running |  5 |           |",
            "| co7-node03 | 192.168.0.85:5532 | Replica | stopped |    |   unknown |",
            "+------------+-------------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-24 13:21:45,003 p=51674 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 13:21:45,047 p=51674 u=moonja n=ansible | PLAY RECAP **************************************************************************************************************************
2022-05-24 13:21:45,048 p=51674 u=moonja n=ansible | co7-master                 : ok=13   changed=7    unreachable=0    failed=0    skipped=4    rescued=0    ignored=2   
2022-05-24 13:21:45,048 p=51674 u=moonja n=ansible | co7-node01                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 13:21:45,048 p=51674 u=moonja n=ansible | co7-node02                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 13:21:45,048 p=51674 u=moonja n=ansible | co7-node03                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-24 14:20:47,620 p=68464 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This
 feature will be removed from ansible-core in version 2.14. Deprecation warnings can be disabled by
 setting deprecation_warnings=False in ansible.cfg.
2022-05-24 14:20:47,631 p=68464 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-05-24 14:20:47,889 p=68464 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This 
feature will be removed in version 2.16. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2022-05-24 14:20:47,948 p=68464 u=moonja n=ansible | PLAY [all] *****************************************************************************************
2022-05-24 14:20:47,977 p=68464 u=moonja n=ansible | TASK [Gathering Facts] *****************************************************************************
2022-05-24 14:20:49,597 p=68464 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 14:20:50,095 p=68464 u=moonja n=ansible | ok: [co7-node02]
2022-05-24 14:20:50,098 p=68464 u=moonja n=ansible | ok: [co7-node03]
2022-05-24 14:20:50,099 p=68464 u=moonja n=ansible | ok: [co7-master]
2022-05-24 14:20:50,117 p=68464 u=moonja n=ansible | TASK [pgbackrest : Copy the vmwawre-postgres rpm file to all hosts in cluster] *********************
2022-05-24 14:20:50,136 p=68464 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 14:20:50,149 p=68464 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 14:20:50,164 p=68464 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 14:20:51,299 p=68464 u=moonja n=ansible | ok: [co7-master]
2022-05-24 14:20:51,311 p=68464 u=moonja n=ansible | TASK [pgbackrest : Install VMware Postgres on all hosts as root] ***********************************
2022-05-24 14:20:51,344 p=68464 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 14:20:51,358 p=68464 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 14:20:51,359 p=68464 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 14:20:58,053 p=68464 u=moonja n=ansible | ok: [co7-master]
2022-05-24 14:20:58,061 p=68464 u=moonja n=ansible | TASK [pgbackrest : Edit patroni.yml for pgBackrest] ************************************************
2022-05-24 14:20:58,151 p=68464 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  listen: '192.168.0.81:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'}) 
2022-05-24 14:20:58,152 p=68464 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  connect_address: '192.168.0.81:5432'", 'line': "  connect_address: '192.168.0.81:5532'", 'state': 'present'}) 
2022-05-24 14:20:58,153 p=68464 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'}) 
2022-05-24 14:20:58,765 p=68464 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  listen: '192.168.0.85:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 14:20:58,775 p=68464 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  listen: '192.168.0.84:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 14:20:58,775 p=68464 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  listen: '192.168.0.83:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-24 14:20:59,079 p=68464 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  connect_address: '192.168.0.84:5432'", 'line': "  connect_address: '192.168.0.84:5532'", 'state': 'present'})
2022-05-24 14:20:59,080 p=68464 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  connect_address: '192.168.0.85:5432'", 'line': "  connect_address: '192.168.0.85:5532'", 'state': 'present'})
2022-05-24 14:20:59,081 p=68464 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  connect_address: '192.168.0.83:5432'", 'line': "  connect_address: '192.168.0.83:5532'", 'state': 'present'})
2022-05-24 14:20:59,364 p=68464 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 14:20:59,371 p=68464 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 14:20:59,372 p=68464 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-24 14:20:59,382 p=68464 u=moonja n=ansible | TASK [pgbackrest : Edit patroni.yml for pgBackrest] ************************************************
2022-05-24 14:20:59,449 p=68464 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'}) 
2022-05-24 14:20:59,450 p=68464 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'}) 
2022-05-24 14:20:59,803 p=68464 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 14:20:59,804 p=68464 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 14:20:59,806 p=68464 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-24 14:21:00,089 p=68464 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 14:21:00,111 p=68464 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 14:21:00,111 p=68464 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-24 14:21:00,121 p=68464 u=moonja n=ansible | TASK [pgbackrest : Create directories and files in all nodes] **************************************
2022-05-24 14:21:00,749 p=68464 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 14:21:00,753 p=68464 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 14:21:00,757 p=68464 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 14:21:00,758 p=68464 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 14:21:01,115 p=68464 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 14:21:01,118 p=68464 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 14:21:01,120 p=68464 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 14:21:01,124 p=68464 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-24 14:21:01,412 p=68464 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 14:21:01,425 p=68464 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 14:21:01,429 p=68464 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 14:21:01,431 p=68464 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-24 14:21:01,704 p=68464 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 14:21:01,730 p=68464 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 14:21:01,748 p=68464 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 14:21:01,762 p=68464 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 14:21:02,003 p=68464 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 14:21:02,043 p=68464 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 14:21:02,047 p=68464 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 14:21:02,073 p=68464 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-24 14:21:02,337 p=68464 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 14:21:02,337 p=68464 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 14:21:02,354 p=68464 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 14:21:02,376 p=68464 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-24 14:21:02,389 p=68464 u=moonja n=ansible | TASK [pgbackrest : Allow ssh connection for postgres user in SELinux policy] ***********************
2022-05-24 14:21:02,987 p=68464 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 14:21:02,989 p=68464 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 14:21:03,000 p=68464 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 14:21:03,010 p=68464 u=moonja n=ansible | changed: [co7-master]
2022-05-24 14:21:03,028 p=68464 u=moonja n=ansible | TASK [pgbackrest : Exchange ssh keys to allow password-less login between all nodes] ***************
2022-05-24 14:21:03,823 p=68464 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 14:21:03,844 p=68464 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 14:21:04,173 p=68464 u=moonja n=ansible | changed: [co7-master]
2022-05-24 14:21:04,470 p=68464 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 14:21:04,482 p=68464 u=moonja n=ansible | TASK [pgbackrest : Fetch the keyfile from the node to master] **************************************
2022-05-24 14:21:05,024 p=68464 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 14:21:05,025 p=68464 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 14:21:05,037 p=68464 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 14:21:05,039 p=68464 u=moonja n=ansible | changed: [co7-master]
2022-05-24 14:21:05,050 p=68464 u=moonja n=ansible | TASK [pgbackrest : Copy the key add to authorized_keys using Ansible module] ***********************
2022-05-24 14:21:05,066 p=69353 u=moonja n=ansible | [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or
{% %}. Found: {{ item != ansible_hostname }}

2022-05-24 14:21:05,081 p=69354 u=moonja n=ansible | [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or
{% %}. Found: {{ item != ansible_hostname }}

2022-05-24 14:21:05,091 p=68464 u=moonja n=ansible | skipping: [co7-node01] => (item=co7-node01) 
2022-05-24 14:21:05,095 p=69355 u=moonja n=ansible | [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or
{% %}. Found: {{ item != ansible_hostname }}

2022-05-24 14:21:05,114 p=69356 u=moonja n=ansible | [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or
{% %}. Found: {{ item != ansible_hostname }}

2022-05-24 14:21:05,787 p=68464 u=moonja n=ansible | changed: [co7-master] => (item=co7-node01)
2022-05-24 14:21:05,802 p=68464 u=moonja n=ansible | changed: [co7-node01] => (item=co7-node02)
2022-05-24 14:21:05,805 p=68464 u=moonja n=ansible | changed: [co7-node02] => (item=co7-node01)
2022-05-24 14:21:05,814 p=68464 u=moonja n=ansible | skipping: [co7-node02] => (item=co7-node02) 
2022-05-24 14:21:05,904 p=68464 u=moonja n=ansible | changed: [co7-node03] => (item=co7-node01)
2022-05-24 14:21:06,498 p=68464 u=moonja n=ansible | changed: [co7-node02] => (item=co7-node03)
2022-05-24 14:21:06,499 p=68464 u=moonja n=ansible | changed: [co7-node01] => (item=co7-node03)
2022-05-24 14:21:06,514 p=68464 u=moonja n=ansible | changed: [co7-master] => (item=co7-node02)
2022-05-24 14:21:06,547 p=68464 u=moonja n=ansible | changed: [co7-node03] => (item=co7-node02)
2022-05-24 14:21:06,547 p=68464 u=moonja n=ansible | skipping: [co7-node03] => (item=co7-node03) 
2022-05-24 14:21:06,898 p=68464 u=moonja n=ansible | changed: [co7-master] => (item=co7-node03)
2022-05-24 14:21:06,899 p=68464 u=moonja n=ansible | skipping: [co7-master] => (item=co7-master) 
2022-05-24 14:21:06,901 p=68464 u=moonja n=ansible | changed: [co7-node02] => (item=co7-master)
2022-05-24 14:21:06,922 p=68464 u=moonja n=ansible | changed: [co7-node01] => (item=co7-master)
2022-05-24 14:21:06,943 p=68464 u=moonja n=ansible | changed: [co7-node03] => (item=co7-master)
2022-05-24 14:21:06,960 p=68464 u=moonja n=ansible | TASK [pgbackrest : The ssh-keyscan for known_hosts file] *******************************************
2022-05-24 14:21:07,036 p=68464 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 14:21:07,391 p=68464 u=moonja n=ansible | changed: [co7-node03 -> co7-master(None)]
2022-05-24 14:21:07,411 p=68464 u=moonja n=ansible | changed: [co7-node02 -> co7-master(None)]
2022-05-24 14:21:07,421 p=68464 u=moonja n=ansible | changed: [co7-node01 -> co7-master(None)]
2022-05-24 14:21:07,431 p=68464 u=moonja n=ansible | TASK [pgbackrest : The ssh-keyscan for known_hosts file] *******************************************
2022-05-24 14:21:07,491 p=68464 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 14:21:07,785 p=68464 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 14:21:07,793 p=68464 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 14:21:07,807 p=68464 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 14:21:07,827 p=68464 u=moonja n=ansible | TASK [pgbackrest : Input key] **********************************************************************
2022-05-24 14:21:07,915 p=68464 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 14:21:08,269 p=68464 u=moonja n=ansible | changed: [co7-node02 -> co7-master(None)] => (item=co7-node02 ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBKOiG3ubpx4pRAU6ZMg5W5JOC/6ryHoSTKsMz8tC/RTGxcvmvpyaUeE4r4imIAyucmKUo2Y721KvbW5g1/Kjt+o=)
2022-05-24 14:21:08,274 p=68464 u=moonja n=ansible | changed: [co7-node01 -> co7-master(None)] => (item=co7-node01 ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBLoXGv1czw5vny45YMnnJnK14bCFNpqV5ZvrL0U+g+64T1YUr6eqXWdDTcTX1DZUTnFC9HAby0cS6zZGQvRfXiY=)
2022-05-24 14:21:08,294 p=68464 u=moonja n=ansible | changed: [co7-node03 -> co7-master(None)] => (item=co7-node03 ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBCw3T4DjyF88OSwmXjXK1z6SzO1qm3YMTAQdeIlBzoQJxAQ2qiaSnZZzGQk7B5ODmS4UFh80grvzm2WjWS3cyyM=)
2022-05-24 14:21:08,302 p=68464 u=moonja n=ansible | TASK [pgbackrest : Input key] **********************************************************************
2022-05-24 14:21:08,364 p=68464 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 14:21:08,613 p=68464 u=moonja n=ansible | changed: [co7-node01] => (item=co7-master ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBH5R4iPHfdOTR6op3EHkF+lB1ezHrv7PiAK5tc8EmmThK795DDwtDOYKx1zFbnnGQgyQM8tCPrSBHMZD0y+72Yg=)
2022-05-24 14:21:08,623 p=68464 u=moonja n=ansible | changed: [co7-node02] => (item=co7-master ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBH5R4iPHfdOTR6op3EHkF+lB1ezHrv7PiAK5tc8EmmThK795DDwtDOYKx1zFbnnGQgyQM8tCPrSBHMZD0y+72Yg=)
2022-05-24 14:21:08,637 p=68464 u=moonja n=ansible | changed: [co7-node03] => (item=co7-master ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBH5R4iPHfdOTR6op3EHkF+lB1ezHrv7PiAK5tc8EmmThK795DDwtDOYKx1zFbnnGQgyQM8tCPrSBHMZD0y+72Yg=)
2022-05-24 14:21:08,646 p=68464 u=moonja n=ansible | TASK [pgbackrest : Create repository location] *****************************************************
2022-05-24 14:21:08,667 p=68464 u=moonja n=ansible | skipping: [co7-node01] => (item={'path': '/var/lib/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '750'}) 
2022-05-24 14:21:08,677 p=68464 u=moonja n=ansible | skipping: [co7-node02] => (item={'path': '/var/lib/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '750'}) 
2022-05-24 14:21:08,698 p=68464 u=moonja n=ansible | skipping: [co7-node03] => (item={'path': '/var/lib/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '750'}) 
2022-05-24 14:21:09,162 p=68464 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '750'})
2022-05-24 14:21:09,175 p=68464 u=moonja n=ansible | TASK [pgbackrest : Configure pgbackrest.conf for patroni nodes] ************************************
2022-05-24 14:21:09,232 p=68464 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 14:21:09,962 p=68464 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 14:21:09,962 p=68464 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 14:21:09,988 p=68464 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 14:21:09,997 p=68464 u=moonja n=ansible | TASK [pgbackrest : Configure pgbackrest.conf for repository node] **********************************
2022-05-24 14:21:10,016 p=68464 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 14:21:10,033 p=68464 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 14:21:10,050 p=68464 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 14:21:10,996 p=68464 u=moonja n=ansible | changed: [co7-master]
2022-05-24 14:21:11,006 p=68464 u=moonja n=ansible | TASK [pgbackrest : Reload and start systemd service of patroni] ************************************
2022-05-24 14:21:11,066 p=68464 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 14:21:12,180 p=68464 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 14:21:12,837 p=68464 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 14:21:14,310 p=68464 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 14:21:14,324 p=68464 u=moonja n=ansible | TASK [pgbackrest : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ***
2022-05-24 14:21:14,342 p=69895 u=moonja n=ansible | Pausing for 60 seconds
2022-05-24 14:21:14,343 p=69895 u=moonja n=ansible | (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort)
2022-05-24 14:22:14,351 p=68464 u=moonja n=ansible | ok: [co7-node01]
2022-05-24 14:22:14,363 p=68464 u=moonja n=ansible | TASK [pgbackrest : Check the config on each of the two postgres hosts] *****************************
2022-05-24 14:22:14,426 p=68464 u=moonja n=ansible | skipping: [co7-master]
2022-05-24 14:22:15,234 p=68464 u=moonja n=ansible | changed: [co7-node01]
2022-05-24 14:22:15,944 p=68464 u=moonja n=ansible | changed: [co7-node02]
2022-05-24 14:22:15,952 p=68464 u=moonja n=ansible | changed: [co7-node03]
2022-05-24 14:22:15,963 p=68464 u=moonja n=ansible | TASK [pgbackrest : debug] **************************************************************************
2022-05-24 14:22:15,999 p=68464 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.274985",
        "end": "2022-05-24 14:22:15.177374",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 14:22:14.902389",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+-------------------+---------+--------------+----+-----------+\n| Member     | Host              | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101146630509555444) ----+----+-----------+\n| co7-node01 | 192.168.0.83:5532 | Replica | running      | 12 |         0 |\n| co7-node02 | 192.168.0.84:5532 | Replica | start failed |    |   unknown |\n| co7-node03 | 192.168.0.85:5532 | Leader  | running      | 12 |           |\n+------------+-------------------+---------+--------------+----+-----------+",
        "stdout_lines": [
            "+------------+-------------------+---------+--------------+----+-----------+",
            "| Member     | Host              | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101146630509555444) ----+----+-----------+",
            "| co7-node01 | 192.168.0.83:5532 | Replica | running      | 12 |         0 |",
            "| co7-node02 | 192.168.0.84:5532 | Replica | start failed |    |   unknown |",
            "| co7-node03 | 192.168.0.85:5532 | Leader  | running      | 12 |           |",
            "+------------+-------------------+---------+--------------+----+-----------+"
        ]
    }
}
2022-05-24 14:22:16,014 p=68464 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.288469",
        "end": "2022-05-24 14:22:16.120757",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 14:22:15.832288",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+-------------------+---------+--------------+----+-----------+\n| Member     | Host              | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101146630509555444) ----+----+-----------+\n| co7-node01 | 192.168.0.83:5532 | Replica | running      | 12 |         0 |\n| co7-node02 | 192.168.0.84:5532 | Replica | start failed |    |   unknown |\n| co7-node03 | 192.168.0.85:5532 | Leader  | running      | 12 |           |\n+------------+-------------------+---------+--------------+----+-----------+",
        "stdout_lines": [
            "+------------+-------------------+---------+--------------+----+-----------+",
            "| Member     | Host              | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101146630509555444) ----+----+-----------+",
            "| co7-node01 | 192.168.0.83:5532 | Replica | running      | 12 |         0 |",
            "| co7-node02 | 192.168.0.84:5532 | Replica | start failed |    |   unknown |",
            "| co7-node03 | 192.168.0.85:5532 | Leader  | running      | 12 |           |",
            "+------------+-------------------+---------+--------------+----+-----------+"
        ]
    }
}
2022-05-24 14:22:16,015 p=68464 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.295525",
        "end": "2022-05-24 14:22:15.764215",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-24 14:22:15.468690",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+-------------------+---------+--------------+----+-----------+\n| Member     | Host              | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101146630509555444) ----+----+-----------+\n| co7-node01 | 192.168.0.83:5532 | Replica | running      | 12 |         0 |\n| co7-node02 | 192.168.0.84:5532 | Replica | start failed |    |   unknown |\n| co7-node03 | 192.168.0.85:5532 | Leader  | running      | 12 |           |\n+------------+-------------------+---------+--------------+----+-----------+",
        "stdout_lines": [
            "+------------+-------------------+---------+--------------+----+-----------+",
            "| Member     | Host              | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101146630509555444) ----+----+-----------+",
            "| co7-node01 | 192.168.0.83:5532 | Replica | running      | 12 |         0 |",
            "| co7-node02 | 192.168.0.84:5532 | Replica | start failed |    |   unknown |",
            "| co7-node03 | 192.168.0.85:5532 | Leader  | running      | 12 |           |",
            "+------------+-------------------+---------+--------------+----+-----------+"
        ]
    }
}
2022-05-24 14:22:16,027 p=68464 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-24 14:22:16,036 p=68464 u=moonja n=ansible | TASK [pgbackrest : Check the config on all postgres hosts. the difference in output. The WAL log will only be archived from the primary.] ***
2022-05-24 14:22:16,054 p=68464 u=moonja n=ansible | skipping: [co7-node01]
2022-05-24 14:22:16,085 p=68464 u=moonja n=ansible | skipping: [co7-node02]
2022-05-24 14:22:16,086 p=68464 u=moonja n=ansible | skipping: [co7-node03]
2022-05-24 14:23:31,768 p=68464 u=moonja n=ansible |  [ERROR]: User interrupted execution

2022-05-25 01:19:33,449 p=52334 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is
 being removed. This feature will be removed from ansible-core in version 2.14.
 Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2022-05-25 01:19:33,465 p=52334 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use
-vvvv to see details

2022-05-25 01:19:33,802 p=52334 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks 
instead. This feature will be removed in version 2.16. Deprecation warnings can
 be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-05-25 01:19:33,867 p=52334 u=moonja n=ansible | PLAY [all] *********************************************************************
2022-05-25 01:19:33,897 p=52334 u=moonja n=ansible | TASK [Gathering Facts] *********************************************************
2022-05-25 01:19:51,767 p=52334 u=moonja n=ansible | ok: [co7-master]
2022-05-25 01:19:53,669 p=52334 u=moonja n=ansible | ok: [co7-node01]
2022-05-25 01:19:54,894 p=52334 u=moonja n=ansible | ok: [co7-node02]
2022-05-25 01:19:57,114 p=52334 u=moonja n=ansible | ok: [co7-node03]
2022-05-25 01:19:57,132 p=52334 u=moonja n=ansible | TASK [pgbackrest : Stop the stanza on the repository host (only needs to be done on this host)] ***
2022-05-25 01:19:57,152 p=52334 u=moonja n=ansible | skipping: [co7-node01]
2022-05-25 01:19:57,182 p=52334 u=moonja n=ansible | skipping: [co7-node02]
2022-05-25 01:19:57,182 p=52334 u=moonja n=ansible | skipping: [co7-node03]
2022-05-25 01:19:58,327 p=52334 u=moonja n=ansible | changed: [co7-master]
2022-05-25 01:19:58,338 p=52334 u=moonja n=ansible | TASK [pgbackrest : debug] ******************************************************
2022-05-25 01:19:58,372 p=52334 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 01:19:58,388 p=52334 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 01:19:58,389 p=52334 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 01:19:58,402 p=52334 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": true,
        "cmd": [
            "/usr/bin/pgbackrest",
            "--stanza=main",
            "--log-level-console=info",
            "stop"
        ],
        "delta": "0:00:00.167584",
        "end": "2022-05-25 01:19:58.253896",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-25 01:19:58.086312",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "2022-05-25 01:19:58.253 P00   INFO: stop command begin 2.31: --exec-id=1614-2028d20f --log-level-console=info --pg1-host=192.168.0.83 --pg2-host=192.168.0.84 --pg3-host=192.168.0.85 --repo1-path=/var/lib/pgbackrest --stanza=main\n2022-05-25 01:19:58.253 P00   INFO: stop command end: completed successfully (34ms)",
        "stdout_lines": [
            "2022-05-25 01:19:58.253 P00   INFO: stop command begin 2.31: --exec-id=1614-2028d20f --log-level-console=info --pg1-host=192.168.0.83 --pg2-host=192.168.0.84 --pg3-host=192.168.0.85 --repo1-path=/var/lib/pgbackrest --stanza=main",
            "2022-05-25 01:19:58.253 P00   INFO: stop command end: completed successfully (34ms)"
        ]
    }
}
2022-05-25 01:19:58,410 p=52334 u=moonja n=ansible | TASK [pgbackrest : Delete main.stop file for pgbackrest] ***********************
2022-05-25 01:19:58,431 p=52334 u=moonja n=ansible | skipping: [co7-node01] => (item=/tmp/pgbackrest/main.stop) 
2022-05-25 01:19:58,447 p=52334 u=moonja n=ansible | skipping: [co7-node02] => (item=/tmp/pgbackrest/main.stop) 
2022-05-25 01:19:58,463 p=52334 u=moonja n=ansible | skipping: [co7-node03] => (item=/tmp/pgbackrest/main.stop) 
2022-05-25 01:19:59,095 p=52334 u=moonja n=ansible | changed: [co7-master] => (item=/tmp/pgbackrest/main.stop)
2022-05-25 01:19:59,107 p=52334 u=moonja n=ansible | TASK [pgbackrest : Delete the stanza on the repository host (only needs to be done on this host)] ***
2022-05-25 01:19:59,140 p=52334 u=moonja n=ansible | skipping: [co7-node01]
2022-05-25 01:19:59,156 p=52334 u=moonja n=ansible | skipping: [co7-node02]
2022-05-25 01:19:59,157 p=52334 u=moonja n=ansible | skipping: [co7-node03]
2022-05-25 01:19:59,463 p=52334 u=moonja n=ansible | fatal: [co7-master]: FAILED! => {"changed": true, "cmd": ["/usr/bin/pgbackrest", "--stanza=main", "--log-level-console=info", "stanza-delete", "--force"], "delta": "0:00:00.006077", "end": "2022-05-25 01:19:59.390481", "msg": "non-zero return code", "rc": 55, "start": "2022-05-25 01:19:59.384404", "stderr": "ERROR: [055]: stop file does not exist for stanza 'main'\n       HINT: has the pgbackrest stop command been run on this server for this stanza?", "stderr_lines": ["ERROR: [055]: stop file does not exist for stanza 'main'", "       HINT: has the pgbackrest stop command been run on this server for this stanza?"], "stdout": "2022-05-25 01:19:59.389 P00   INFO: stanza-delete command begin 2.31: --exec-id=1769-8213692b --force --log-level-console=info --pg1-host=192.168.0.83 --pg2-host=192.168.0.84 --pg3-host=192.168.0.85 --pg1-path=/var/lib/pgsql/patroni_data --pg2-path=/var/lib/pgsql/patroni_data --pg3-path=/var/lib/pgsql/patroni_data --pg1-port=5532 --pg2-port=5532 --pg3-port=5532 --pg1-socket-path=/var/lib/pgsql/patroni_data --pg2-socket-path=/var/lib/pgsql/patroni_data --pg3-socket-path=/var/lib/pgsql/patroni_data --repo1-path=/var/lib/pgbackrest --stanza=main\n2022-05-25 01:19:59.390 P00   INFO: stanza-delete command end: aborted with exception [055]", "stdout_lines": ["2022-05-25 01:19:59.389 P00   INFO: stanza-delete command begin 2.31: --exec-id=1769-8213692b --force --log-level-console=info --pg1-host=192.168.0.83 --pg2-host=192.168.0.84 --pg3-host=192.168.0.85 --pg1-path=/var/lib/pgsql/patroni_data --pg2-path=/var/lib/pgsql/patroni_data --pg3-path=/var/lib/pgsql/patroni_data --pg1-port=5532 --pg2-port=5532 --pg3-port=5532 --pg1-socket-path=/var/lib/pgsql/patroni_data --pg2-socket-path=/var/lib/pgsql/patroni_data --pg3-socket-path=/var/lib/pgsql/patroni_data --repo1-path=/var/lib/pgbackrest --stanza=main", "2022-05-25 01:19:59.390 P00   INFO: stanza-delete command end: aborted with exception [055]"]}
2022-05-25 01:19:59,464 p=52334 u=moonja n=ansible | ...ignoring
2022-05-25 01:19:59,473 p=52334 u=moonja n=ansible | TASK [pgbackrest : debug] ******************************************************
2022-05-25 01:19:59,507 p=52334 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 01:19:59,524 p=52334 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 01:19:59,524 p=52334 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 01:19:59,538 p=52334 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": true,
        "cmd": [
            "/usr/bin/pgbackrest",
            "--stanza=main",
            "--log-level-console=info",
            "stanza-delete",
            "--force"
        ],
        "delta": "0:00:00.006077",
        "end": "2022-05-25 01:19:59.390481",
        "failed": true,
        "msg": "non-zero return code",
        "rc": 55,
        "start": "2022-05-25 01:19:59.384404",
        "stderr": "ERROR: [055]: stop file does not exist for stanza 'main'\n       HINT: has the pgbackrest stop command been run on this server for this stanza?",
        "stderr_lines": [
            "ERROR: [055]: stop file does not exist for stanza 'main'",
            "       HINT: has the pgbackrest stop command been run on this server for this stanza?"
        ],
        "stdout": "2022-05-25 01:19:59.389 P00   INFO: stanza-delete command begin 2.31: --exec-id=1769-8213692b --force --log-level-console=info --pg1-host=192.168.0.83 --pg2-host=192.168.0.84 --pg3-host=192.168.0.85 --pg1-path=/var/lib/pgsql/patroni_data --pg2-path=/var/lib/pgsql/patroni_data --pg3-path=/var/lib/pgsql/patroni_data --pg1-port=5532 --pg2-port=5532 --pg3-port=5532 --pg1-socket-path=/var/lib/pgsql/patroni_data --pg2-socket-path=/var/lib/pgsql/patroni_data --pg3-socket-path=/var/lib/pgsql/patroni_data --repo1-path=/var/lib/pgbackrest --stanza=main\n2022-05-25 01:19:59.390 P00   INFO: stanza-delete command end: aborted with exception [055]",
        "stdout_lines": [
            "2022-05-25 01:19:59.389 P00   INFO: stanza-delete command begin 2.31: --exec-id=1769-8213692b --force --log-level-console=info --pg1-host=192.168.0.83 --pg2-host=192.168.0.84 --pg3-host=192.168.0.85 --pg1-path=/var/lib/pgsql/patroni_data --pg2-path=/var/lib/pgsql/patroni_data --pg3-path=/var/lib/pgsql/patroni_data --pg1-port=5532 --pg2-port=5532 --pg3-port=5532 --pg1-socket-path=/var/lib/pgsql/patroni_data --pg2-socket-path=/var/lib/pgsql/patroni_data --pg3-socket-path=/var/lib/pgsql/patroni_data --repo1-path=/var/lib/pgbackrest --stanza=main",
            "2022-05-25 01:19:59.390 P00   INFO: stanza-delete command end: aborted with exception [055]"
        ]
    }
}
2022-05-25 01:19:59,547 p=52334 u=moonja n=ansible | TASK [pgbackrest : Kill process of pgbackrest on repository] *******************
2022-05-25 01:19:59,579 p=52334 u=moonja n=ansible | skipping: [co7-node01]
2022-05-25 01:19:59,595 p=52334 u=moonja n=ansible | skipping: [co7-node02]
2022-05-25 01:19:59,596 p=52334 u=moonja n=ansible | skipping: [co7-node03]
2022-05-25 01:20:00,077 p=52334 u=moonja n=ansible | fatal: [co7-master]: FAILED! => {"changed": false, "cmd": "killall pgbackrest", "msg": "[Errno 2] No such file or directory", "rc": 2, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2022-05-25 01:20:00,077 p=52334 u=moonja n=ansible | ...ignoring
2022-05-25 01:20:00,085 p=52334 u=moonja n=ansible | TASK [pgbackrest : debug] ******************************************************
2022-05-25 01:20:00,119 p=52334 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 01:20:00,136 p=52334 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 01:20:00,137 p=52334 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 01:20:00,149 p=52334 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "cmd": "killall pgbackrest",
        "failed": true,
        "msg": "[Errno 2] No such file or directory",
        "rc": 2,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-05-25 01:20:00,158 p=52334 u=moonja n=ansible | TASK [pgbackrest : Delete configuration file for pgbackrest] *******************
2022-05-25 01:20:00,531 p=52334 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-25 01:20:01,483 p=52334 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-25 01:20:01,497 p=52334 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-25 01:20:01,613 p=52334 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-25 01:20:01,623 p=52334 u=moonja n=ansible | TASK [pgbackrest : Delete repository location for pgbackrest] ******************
2022-05-25 01:20:01,644 p=52334 u=moonja n=ansible | skipping: [co7-node01] => (item=/var/lib/pgbackrest) 
2022-05-25 01:20:01,661 p=52334 u=moonja n=ansible | skipping: [co7-node02] => (item=/var/lib/pgbackrest) 
2022-05-25 01:20:01,677 p=52334 u=moonja n=ansible | skipping: [co7-node03] => (item=/var/lib/pgbackrest) 
2022-05-25 01:20:03,929 p=52334 u=moonja n=ansible | changed: [co7-master] => (item=/var/lib/pgbackrest)
2022-05-25 01:20:03,941 p=52334 u=moonja n=ansible | TASK [pgbackrest : Delete ssh keys to allow password-less login between all nodes] ***
2022-05-25 01:20:04,280 p=52334 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/id_rsa)
2022-05-25 01:20:04,290 p=52334 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/id_rsa)
2022-05-25 01:20:04,309 p=52334 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/id_rsa)
2022-05-25 01:20:04,310 p=52334 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/id_rsa)
2022-05-25 01:20:04,603 p=52334 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/id_rsa.pub)
2022-05-25 01:20:04,606 p=52334 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/id_rsa.pub)
2022-05-25 01:20:04,632 p=52334 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/id_rsa.pub)
2022-05-25 01:20:04,645 p=52334 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/id_rsa.pub)
2022-05-25 01:20:04,905 p=52334 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/authorized_keys)
2022-05-25 01:20:04,906 p=52334 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/authorized_keys)
2022-05-25 01:20:04,931 p=52334 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/authorized_keys)
2022-05-25 01:20:04,949 p=52334 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/authorized_keys)
2022-05-25 01:20:05,211 p=52334 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh)
2022-05-25 01:20:05,212 p=52334 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh)
2022-05-25 01:20:05,223 p=52334 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh)
2022-05-25 01:20:05,231 p=52334 u=moonja n=ansible | changed: [co7-master] => (item=.ssh)
2022-05-25 01:20:05,242 p=52334 u=moonja n=ansible | TASK [pgbackrest : Delete directories and files in all nodes] ******************
2022-05-25 01:20:05,628 p=52334 u=moonja n=ansible | changed: [co7-master] => (item=/var/log/pgbackrest)
2022-05-25 01:20:05,632 p=52334 u=moonja n=ansible | changed: [co7-node03] => (item=/var/log/pgbackrest)
2022-05-25 01:20:05,954 p=52334 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest/conf.d)
2022-05-25 01:20:05,955 p=52334 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest/conf.d)
2022-05-25 01:20:06,223 p=52334 u=moonja n=ansible | changed: [co7-node01] => (item=/var/log/pgbackrest)
2022-05-25 01:20:06,286 p=52334 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest)
2022-05-25 01:20:06,289 p=52334 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest)
2022-05-25 01:20:06,642 p=52334 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest/conf.d)
2022-05-25 01:20:07,132 p=52334 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest)
2022-05-25 01:20:07,253 p=52334 u=moonja n=ansible | changed: [co7-node02] => (item=/var/log/pgbackrest)
2022-05-25 01:20:07,613 p=52334 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest/conf.d)
2022-05-25 01:20:08,000 p=52334 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest)
2022-05-25 01:20:08,011 p=52334 u=moonja n=ansible | TASK [pgbackrest : Delete lines for pgbackrest in patroni.yml] *****************
2022-05-25 01:20:08,078 p=52334 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'}) 
2022-05-25 01:20:08,079 p=52334 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_command:*', 'state': 'absent'}) 
2022-05-25 01:20:08,858 p=52334 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-25 01:20:08,957 p=52334 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-25 01:20:08,989 p=52334 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-25 01:20:09,178 p=52334 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-25 01:20:09,240 p=52334 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-25 01:20:09,306 p=52334 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-25 01:20:09,316 p=52334 u=moonja n=ansible | TASK [pgbackrest : Return previous values in patroni.yml for pgBackrest] *******
2022-05-25 01:20:09,407 p=52334 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.81:5432'", 'state': 'present'}) 
2022-05-25 01:20:09,408 p=52334 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  connect_address: '192.168.0.81:5532'", 'line': "  connect_address: '192.168.0.81:5432'", 'state': 'present'}) 
2022-05-25 01:20:09,408 p=52334 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'}) 
2022-05-25 01:20:09,666 p=52334 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.83:5432'", 'state': 'present'})
2022-05-25 01:20:09,667 p=52334 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.84:5432'", 'state': 'present'})
2022-05-25 01:20:09,693 p=52334 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.85:5432'", 'state': 'present'})
2022-05-25 01:20:09,956 p=52334 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  connect_address: '192.168.0.84:5532'", 'line': "  connect_address: '192.168.0.84:5432'", 'state': 'present'})
2022-05-25 01:20:09,957 p=52334 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  connect_address: '192.168.0.83:5532'", 'line': "  connect_address: '192.168.0.83:5432'", 'state': 'present'})
2022-05-25 01:20:10,017 p=52334 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  connect_address: '192.168.0.85:5532'", 'line': "  connect_address: '192.168.0.85:5432'", 'state': 'present'})
2022-05-25 01:20:10,279 p=52334 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-25 01:20:10,284 p=52334 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-25 01:20:10,324 p=52334 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-25 01:20:10,334 p=52334 u=moonja n=ansible | TASK [pgbackrest : Reload and start systemd service of patroni] ****************
2022-05-25 01:20:10,394 p=52334 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 01:20:12,276 p=52334 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 01:20:12,324 p=52334 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 01:20:17,201 p=52334 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 01:20:17,213 p=52334 u=moonja n=ansible | TASK [pgbackrest : Check the config on each of the two postgres hosts] *********
2022-05-25 01:20:17,272 p=52334 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 01:20:20,754 p=52334 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 01:20:20,966 p=52334 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 01:20:21,294 p=52334 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 01:20:21,303 p=52334 u=moonja n=ansible | TASK [pgbackrest : debug] ******************************************************
2022-05-25 01:20:21,340 p=52334 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:03.750250",
        "end": "2022-05-25 01:20:21.068007",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-25 01:20:17.317757",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101146630509555444) -----------+\n| co7-node01 | 192.168.0.83 | Leader  | running | 17 |           |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101146630509555444) -----------+",
            "| co7-node01 | 192.168.0.83 | Leader  | running | 17 |           |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-25 01:20:21,357 p=52334 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:03.314006",
        "end": "2022-05-25 01:20:20.422409",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-25 01:20:17.108403",
        "stderr": "2022-05-25 01:20:20,341 - ERROR - Exception when loading file: /var/lib/pgsql/patroni_data/patroni.dynamic.json\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/patroni/config.py\", line 157, in _load_cache\n    self.set_dynamic_configuration(json.load(f))\n  File \"/usr/lib64/python3.6/json/__init__.py\", line 299, in load\n    parse_constant=parse_constant, object_pairs_hook=object_pairs_hook, **kw)\n  File \"/usr/lib64/python3.6/json/__init__.py\", line 354, in loads\n    return _default_decoder.decode(s)\n  File \"/usr/lib64/python3.6/json/decoder.py\", line 339, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n  File \"/usr/lib64/python3.6/json/decoder.py\", line 357, in raw_decode\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\njson.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)",
        "stderr_lines": [
            "2022-05-25 01:20:20,341 - ERROR - Exception when loading file: /var/lib/pgsql/patroni_data/patroni.dynamic.json",
            "Traceback (most recent call last):",
            "  File \"/usr/local/lib/python3.6/site-packages/patroni/config.py\", line 157, in _load_cache",
            "    self.set_dynamic_configuration(json.load(f))",
            "  File \"/usr/lib64/python3.6/json/__init__.py\", line 299, in load",
            "    parse_constant=parse_constant, object_pairs_hook=object_pairs_hook, **kw)",
            "  File \"/usr/lib64/python3.6/json/__init__.py\", line 354, in loads",
            "    return _default_decoder.decode(s)",
            "  File \"/usr/lib64/python3.6/json/decoder.py\", line 339, in decode",
            "    obj, end = self.raw_decode(s, idx=_w(s, 0).end())",
            "  File \"/usr/lib64/python3.6/json/decoder.py\", line 357, in raw_decode",
            "    raise JSONDecodeError(\"Expecting value\", s, err.value) from None",
            "json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)"
        ],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101146630509555444) -----------+\n| co7-node01 | 192.168.0.83 | Leader  | running | 17 |           |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101146630509555444) -----------+",
            "| co7-node01 | 192.168.0.83 | Leader  | running | 17 |           |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-25 01:20:21,357 p=52334 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:03.195714",
        "end": "2022-05-25 01:20:21.037970",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-25 01:20:17.842256",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+---------+----+-----------+\n| Member     | Host         | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101146630509555444) -----------+\n| co7-node01 | 192.168.0.83 | Leader  | stopped |    |           |\n| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |\n+------------+--------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+---------+----+-----------+",
            "| Member     | Host         | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101146630509555444) -----------+",
            "| co7-node01 | 192.168.0.83 | Leader  | stopped |    |           |",
            "| co7-node02 | 192.168.0.84 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85 | Replica | stopped |    |   unknown |",
            "+------------+--------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-25 01:20:21,368 p=52334 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 01:20:21,414 p=52334 u=moonja n=ansible | PLAY RECAP *********************************************************************
2022-05-25 01:20:21,414 p=52334 u=moonja n=ansible | co7-master                 : ok=13   changed=7    unreachable=0    failed=0    skipped=4    rescued=0    ignored=2   
2022-05-25 01:20:21,414 p=52334 u=moonja n=ansible | co7-node01                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-25 01:20:21,414 p=52334 u=moonja n=ansible | co7-node02                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-25 01:20:21,414 p=52334 u=moonja n=ansible | co7-node03                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-25 01:21:03,817 p=53445 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is
 being removed. This feature will be removed from ansible-core in version 2.14.
 Deprecation warnings can be disabled by setting deprecation_warnings=False in 
ansible.cfg.
2022-05-25 01:21:03,828 p=53445 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use
-vvvv to see details

2022-05-25 01:21:04,062 p=53445 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks 
instead. This feature will be removed in version 2.16. Deprecation warnings can
 be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-05-25 01:21:04,129 p=53445 u=moonja n=ansible | PLAY [all] *********************************************************************
2022-05-25 01:21:04,162 p=53445 u=moonja n=ansible | TASK [Gathering Facts] *********************************************************
2022-05-25 01:21:05,362 p=53445 u=moonja n=ansible | ok: [co7-node03]
2022-05-25 01:21:05,364 p=53445 u=moonja n=ansible | ok: [co7-node01]
2022-05-25 01:21:05,371 p=53445 u=moonja n=ansible | ok: [co7-node02]
2022-05-25 01:21:05,376 p=53445 u=moonja n=ansible | ok: [co7-master]
2022-05-25 01:21:05,393 p=53445 u=moonja n=ansible | TASK [patroni-postgres : Stop services for patroni and etcd] *******************
2022-05-25 01:21:05,456 p=53445 u=moonja n=ansible | skipping: [co7-master] => (item=patroni) 
2022-05-25 01:21:05,457 p=53445 u=moonja n=ansible | skipping: [co7-master] => (item=etcd) 
2022-05-25 01:21:07,457 p=53445 u=moonja n=ansible | changed: [co7-node02] => (item=patroni)
2022-05-25 01:21:07,459 p=53445 u=moonja n=ansible | changed: [co7-node03] => (item=patroni)
2022-05-25 01:21:07,829 p=53445 u=moonja n=ansible | ok: [co7-node03] => (item=etcd)
2022-05-25 01:21:07,833 p=53445 u=moonja n=ansible | ok: [co7-node02] => (item=etcd)
2022-05-25 01:21:10,634 p=53445 u=moonja n=ansible | changed: [co7-node01] => (item=patroni)
2022-05-25 01:21:10,973 p=53445 u=moonja n=ansible | ok: [co7-node01] => (item=etcd)
2022-05-25 01:21:10,984 p=53445 u=moonja n=ansible | TASK [patroni-postgres : Kill etcd process] ************************************
2022-05-25 01:21:11,043 p=53445 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 01:21:18,030 p=53445 u=moonja n=ansible | fatal: [co7-node02]: FAILED! => {"ansible_job_id": "516316448724.3244", "changed": true, "cmd": "( killall etcd )", "delta": "0:00:00.003005", "end": "2022-05-25 01:21:11.997241", "finished": 1, "msg": "non-zero return code", "rc": 127, "results_file": "/var/lib/pgsql/.ansible_async/516316448724.3244", "start": "2022-05-25 01:21:11.994236", "started": 1, "stderr": "/bin/sh: killall: command not found", "stderr_lines": ["/bin/sh: killall: command not found"], "stdout": "", "stdout_lines": []}
2022-05-25 01:21:18,030 p=53445 u=moonja n=ansible | ...ignoring
2022-05-25 01:21:18,039 p=53445 u=moonja n=ansible | fatal: [co7-node03]: FAILED! => {"ansible_job_id": "150830044399.3323", "changed": true, "cmd": "( killall etcd )", "delta": "0:00:00.003093", "end": "2022-05-25 01:21:12.590099", "finished": 1, "msg": "non-zero return code", "rc": 127, "results_file": "/var/lib/pgsql/.ansible_async/150830044399.3323", "start": "2022-05-25 01:21:12.587006", "started": 1, "stderr": "/bin/sh: killall: command not found", "stderr_lines": ["/bin/sh: killall: command not found"], "stdout": "", "stdout_lines": []}
2022-05-25 01:21:18,039 p=53445 u=moonja n=ansible | ...ignoring
2022-05-25 01:21:18,039 p=53445 u=moonja n=ansible | fatal: [co7-node01]: FAILED! => {"ansible_job_id": "334764694772.3332", "changed": true, "cmd": "( killall etcd )", "delta": "0:00:00.003744", "end": "2022-05-25 01:21:12.140315", "finished": 1, "msg": "non-zero return code", "rc": 127, "results_file": "/var/lib/pgsql/.ansible_async/334764694772.3332", "start": "2022-05-25 01:21:12.136571", "started": 1, "stderr": "/bin/sh: killall: command not found", "stderr_lines": ["/bin/sh: killall: command not found"], "stdout": "", "stdout_lines": []}
2022-05-25 01:21:18,039 p=53445 u=moonja n=ansible | ...ignoring
2022-05-25 01:21:18,048 p=53445 u=moonja n=ansible | TASK [patroni-postgres : Delete configuration file for patroni and systemd] ****
2022-05-25 01:21:18,657 p=53445 u=moonja n=ansible | ok: [co7-master] => (item=/var/lib/pgsql/patroni.yml)
2022-05-25 01:21:18,658 p=53445 u=moonja n=ansible | changed: [co7-node01] => (item=/var/lib/pgsql/patroni.yml)
2022-05-25 01:21:18,665 p=53445 u=moonja n=ansible | changed: [co7-node03] => (item=/var/lib/pgsql/patroni.yml)
2022-05-25 01:21:18,666 p=53445 u=moonja n=ansible | changed: [co7-node02] => (item=/var/lib/pgsql/patroni.yml)
2022-05-25 01:21:18,950 p=53445 u=moonja n=ansible | ok: [co7-master] => (item=/etc/systemd/system/patroni.service)
2022-05-25 01:21:18,954 p=53445 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/systemd/system/patroni.service)
2022-05-25 01:21:18,967 p=53445 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/systemd/system/patroni.service)
2022-05-25 01:21:18,977 p=53445 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/systemd/system/patroni.service)
2022-05-25 01:21:19,263 p=53445 u=moonja n=ansible | ok: [co7-master] => (item=/var/lib/pgsql/postgresql0.yml)
2022-05-25 01:21:19,268 p=53445 u=moonja n=ansible | ok: [co7-node01] => (item=/var/lib/pgsql/postgresql0.yml)
2022-05-25 01:21:19,272 p=53445 u=moonja n=ansible | ok: [co7-node03] => (item=/var/lib/pgsql/postgresql0.yml)
2022-05-25 01:21:19,273 p=53445 u=moonja n=ansible | ok: [co7-node02] => (item=/var/lib/pgsql/postgresql0.yml)
2022-05-25 01:21:19,550 p=53445 u=moonja n=ansible | ok: [co7-master] => (item=/var/lib/pgsql/patroni_member.log)
2022-05-25 01:21:19,569 p=53445 u=moonja n=ansible | ok: [co7-node03] => (item=/var/lib/pgsql/patroni_member.log)
2022-05-25 01:21:19,576 p=53445 u=moonja n=ansible | ok: [co7-node02] => (item=/var/lib/pgsql/patroni_member.log)
2022-05-25 01:21:19,577 p=53445 u=moonja n=ansible | ok: [co7-node01] => (item=/var/lib/pgsql/patroni_member.log)
2022-05-25 01:21:19,880 p=53445 u=moonja n=ansible | ok: [co7-master] => (item=/var/lib/pgsql/etcd.yml)
2022-05-25 01:21:19,906 p=53445 u=moonja n=ansible | changed: [co7-node03] => (item=/var/lib/pgsql/etcd.yml)
2022-05-25 01:21:19,916 p=53445 u=moonja n=ansible | changed: [co7-node02] => (item=/var/lib/pgsql/etcd.yml)
2022-05-25 01:21:19,917 p=53445 u=moonja n=ansible | changed: [co7-node01] => (item=/var/lib/pgsql/etcd.yml)
2022-05-25 01:21:20,174 p=53445 u=moonja n=ansible | ok: [co7-master] => (item=/var/lib/pgsql/etcd_logfile)
2022-05-25 01:21:20,197 p=53445 u=moonja n=ansible | ok: [co7-node03] => (item=/var/lib/pgsql/etcd_logfile)
2022-05-25 01:21:20,216 p=53445 u=moonja n=ansible | ok: [co7-node01] => (item=/var/lib/pgsql/etcd_logfile)
2022-05-25 01:21:20,219 p=53445 u=moonja n=ansible | ok: [co7-node02] => (item=/var/lib/pgsql/etcd_logfile)
2022-05-25 01:21:20,263 p=53445 u=moonja n=ansible | TASK [patroni-postgres : Delete data directory for patroni cluster] ************
2022-05-25 01:21:20,660 p=53445 u=moonja n=ansible | changed: [co7-node01] => (item=backups)
2022-05-25 01:21:20,702 p=53445 u=moonja n=ansible | changed: [co7-master] => (item=backups)
2022-05-25 01:21:20,729 p=53445 u=moonja n=ansible | changed: [co7-node03] => (item=backups)
2022-05-25 01:21:20,734 p=53445 u=moonja n=ansible | changed: [co7-node02] => (item=backups)
2022-05-25 01:21:20,976 p=53445 u=moonja n=ansible | changed: [co7-node01] => (item=data)
2022-05-25 01:21:21,019 p=53445 u=moonja n=ansible | changed: [co7-master] => (item=data)
2022-05-25 01:21:21,022 p=53445 u=moonja n=ansible | changed: [co7-node03] => (item=data)
2022-05-25 01:21:21,050 p=53445 u=moonja n=ansible | changed: [co7-node02] => (item=data)
2022-05-25 01:21:21,307 p=53445 u=moonja n=ansible | changed: [co7-master] => (item=patroni_data)
2022-05-25 01:21:21,319 p=53445 u=moonja n=ansible | changed: [co7-node01] => (item=patroni_data)
2022-05-25 01:21:21,404 p=53445 u=moonja n=ansible | changed: [co7-node02] => (item=patroni_data)
2022-05-25 01:21:23,499 p=53445 u=moonja n=ansible | changed: [co7-node03] => (item=patroni_data)
2022-05-25 01:21:23,510 p=53445 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] *********
2022-05-25 01:21:23,569 p=53445 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 01:21:23,873 p=53445 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 01:21:23,902 p=53445 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 01:21:23,902 p=53445 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 01:21:23,912 p=53445 u=moonja n=ansible | TASK [patroni-postgres : Uninstall pip modules of Patroni prerequisites on all three nodes] ***
2022-05-25 01:21:23,972 p=53445 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 01:21:35,278 p=53445 u=moonja n=ansible | fatal: [co7-node03]: FAILED! => {"ansible_job_id": "961611970541.4312", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:09.812255", "end": "2022-05-25 01:21:34.708300", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/961611970541.4312", "start": "2022-05-25 01:21:24.896045", "started": 1, "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nWARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.", "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.", "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.", "WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.9\nUninstalling urllib3-1.26.9:\n  Successfully uninstalled urllib3-1.26.9\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.9", "Uninstalling urllib3-1.26.9:", "  Successfully uninstalled urllib3-1.26.9", "Found existing installation: PyYAML 3.13"]}
2022-05-25 01:21:35,278 p=53445 u=moonja n=ansible | ...ignoring
2022-05-25 01:21:35,325 p=53445 u=moonja n=ansible | fatal: [co7-node02]: FAILED! => {"ansible_job_id": "113971807042.4233", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:09.308824", "end": "2022-05-25 01:21:33.459021", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/113971807042.4233", "start": "2022-05-25 01:21:24.150197", "started": 1, "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nWARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.", "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.", "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.", "WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.9\nUninstalling urllib3-1.26.9:\n  Successfully uninstalled urllib3-1.26.9\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.9", "Uninstalling urllib3-1.26.9:", "  Successfully uninstalled urllib3-1.26.9", "Found existing installation: PyYAML 3.13"]}
2022-05-25 01:21:35,325 p=53445 u=moonja n=ansible | ...ignoring
2022-05-25 01:21:35,923 p=53445 u=moonja n=ansible | fatal: [co7-node01]: FAILED! => {"ansible_job_id": "249587541026.4321", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )", "delta": "0:00:09.959365", "end": "2022-05-25 01:21:34.144170", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/root/.ansible_async/249587541026.4321", "start": "2022-05-25 01:21:24.184805", "started": 1, "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nWARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.", "stderr_lines": ["WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.", "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.", "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.", "WARNING: Skipping boto as it is not installed.", "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."], "stdout": "Found existing installation: urllib3 1.26.9\nUninstalling urllib3-1.26.9:\n  Successfully uninstalled urllib3-1.26.9\nFound existing installation: PyYAML 3.13", "stdout_lines": ["Found existing installation: urllib3 1.26.9", "Uninstalling urllib3-1.26.9:", "  Successfully uninstalled urllib3-1.26.9", "Found existing installation: PyYAML 3.13"]}
2022-05-25 01:21:35,924 p=53445 u=moonja n=ansible | ...ignoring
2022-05-25 01:21:35,933 p=53445 u=moonja n=ansible | TASK [patroni-postgres : debug] ************************************************
2022-05-25 01:21:35,968 p=53445 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "ansible_job_id": "249587541026.4321",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )",
        "delta": "0:00:09.959365",
        "end": "2022-05-25 01:21:34.144170",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/root/.ansible_async/249587541026.4321",
        "start": "2022-05-25 01:21:24.184805",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nWARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "WARNING: Skipping boto as it is not installed.",
            "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."
        ],
        "stdout": "Found existing installation: urllib3 1.26.9\nUninstalling urllib3-1.26.9:\n  Successfully uninstalled urllib3-1.26.9\nFound existing installation: PyYAML 3.13",
        "stdout_lines": [
            "Found existing installation: urllib3 1.26.9",
            "Uninstalling urllib3-1.26.9:",
            "  Successfully uninstalled urllib3-1.26.9",
            "Found existing installation: PyYAML 3.13"
        ]
    }
}
2022-05-25 01:21:35,986 p=53445 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "ansible_job_id": "113971807042.4233",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )",
        "delta": "0:00:09.308824",
        "end": "2022-05-25 01:21:33.459021",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/root/.ansible_async/113971807042.4233",
        "start": "2022-05-25 01:21:24.150197",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nWARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "WARNING: Skipping boto as it is not installed.",
            "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."
        ],
        "stdout": "Found existing installation: urllib3 1.26.9\nUninstalling urllib3-1.26.9:\n  Successfully uninstalled urllib3-1.26.9\nFound existing installation: PyYAML 3.13",
        "stdout_lines": [
            "Found existing installation: urllib3 1.26.9",
            "Uninstalling urllib3-1.26.9:",
            "  Successfully uninstalled urllib3-1.26.9",
            "Found existing installation: PyYAML 3.13"
        ]
    }
}
2022-05-25 01:21:35,987 p=53445 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "ansible_job_id": "961611970541.4312",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall -r /var/lib/pgsql/requirements.txt -y )",
        "delta": "0:00:09.812255",
        "end": "2022-05-25 01:21:34.708300",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/root/.ansible_async/961611970541.4312",
        "start": "2022-05-25 01:21:24.896045",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nWARNING: Skipping boto as it is not installed.\nERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "WARNING: Skipping boto as it is not installed.",
            "ERROR: Cannot uninstall 'PyYAML'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall."
        ],
        "stdout": "Found existing installation: urllib3 1.26.9\nUninstalling urllib3-1.26.9:\n  Successfully uninstalled urllib3-1.26.9\nFound existing installation: PyYAML 3.13",
        "stdout_lines": [
            "Found existing installation: urllib3 1.26.9",
            "Uninstalling urllib3-1.26.9:",
            "  Successfully uninstalled urllib3-1.26.9",
            "Found existing installation: PyYAML 3.13"
        ]
    }
}
2022-05-25 01:21:35,999 p=53445 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 01:21:36,009 p=53445 u=moonja n=ansible | TASK [patroni-postgres : UnInstall wheel pip module on all three nodes] ********
2022-05-25 01:21:36,066 p=53445 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 01:21:41,957 p=53445 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 01:21:42,001 p=53445 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 01:21:42,075 p=53445 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 01:21:42,084 p=53445 u=moonja n=ansible | TASK [patroni-postgres : debug] ************************************************
2022-05-25 01:21:42,122 p=53445 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "ansible_job_id": "633173877371.4631",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )",
        "delta": "0:00:00.854833",
        "end": "2022-05-25 01:21:37.180771",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/633173877371.4631",
        "start": "2022-05-25 01:21:36.325938",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly."
        ],
        "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:\n  Successfully uninstalled wheel-0.37.1",
        "stdout_lines": [
            "Found existing installation: wheel 0.37.1",
            "Uninstalling wheel-0.37.1:",
            "  Successfully uninstalled wheel-0.37.1"
        ]
    }
}
2022-05-25 01:21:42,139 p=53445 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "ansible_job_id": "560462970847.4542",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )",
        "delta": "0:00:00.874426",
        "end": "2022-05-25 01:21:37.013291",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/560462970847.4542",
        "start": "2022-05-25 01:21:36.138865",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly."
        ],
        "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:\n  Successfully uninstalled wheel-0.37.1",
        "stdout_lines": [
            "Found existing installation: wheel 0.37.1",
            "Uninstalling wheel-0.37.1:",
            "  Successfully uninstalled wheel-0.37.1"
        ]
    }
}
2022-05-25 01:21:42,140 p=53445 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "ansible_job_id": "857341596096.4587",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall wheel -y )",
        "delta": "0:00:00.783042",
        "end": "2022-05-25 01:21:37.558266",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/857341596096.4587",
        "start": "2022-05-25 01:21:36.775224",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly."
        ],
        "stdout": "Found existing installation: wheel 0.37.1\nUninstalling wheel-0.37.1:\n  Successfully uninstalled wheel-0.37.1",
        "stdout_lines": [
            "Found existing installation: wheel 0.37.1",
            "Uninstalling wheel-0.37.1:",
            "  Successfully uninstalled wheel-0.37.1"
        ]
    }
}
2022-05-25 01:21:42,151 p=53445 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 01:21:42,161 p=53445 u=moonja n=ansible | TASK [patroni-postgres : Uninstall typing pip module on all three nodes] *******
2022-05-25 01:21:42,222 p=53445 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 01:21:48,538 p=53445 u=moonja n=ansible | fatal: [co7-node03]: FAILED! => {"ansible_job_id": "988008846453.4853", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall typing -y )", "delta": "0:00:02.185688", "end": "2022-05-25 01:21:45.252882", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/988008846453.4853", "start": "2022-05-25 01:21:43.067194", "started": 1, "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc' -> '/var/tmp/pip-uninstall-ko_fnwxf/typing.cpython-36.pyc'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc'", "stderr_lines": ["WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.", "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.", "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.", "ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc' -> '/var/tmp/pip-uninstall-ko_fnwxf/typing.cpython-36.pyc'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc'"], "stdout": "Found existing installation: typing 3.7.4.3\nUninstalling typing-3.7.4.3:", "stdout_lines": ["Found existing installation: typing 3.7.4.3", "Uninstalling typing-3.7.4.3:"]}
2022-05-25 01:21:48,538 p=53445 u=moonja n=ansible | ...ignoring
2022-05-25 01:21:48,539 p=53445 u=moonja n=ansible | fatal: [co7-node02]: FAILED! => {"ansible_job_id": "696296368659.4772", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall typing -y )", "delta": "0:00:02.168462", "end": "2022-05-25 01:21:44.478140", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/696296368659.4772", "start": "2022-05-25 01:21:42.309678", "started": 1, "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc' -> '/var/tmp/pip-uninstall-2_7p0_e_/typing.cpython-36.pyc'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc'", "stderr_lines": ["WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.", "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.", "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.", "ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc' -> '/var/tmp/pip-uninstall-2_7p0_e_/typing.cpython-36.pyc'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc'"], "stdout": "Found existing installation: typing 3.7.4.3\nUninstalling typing-3.7.4.3:", "stdout_lines": ["Found existing installation: typing 3.7.4.3", "Uninstalling typing-3.7.4.3:"]}
2022-05-25 01:21:48,539 p=53445 u=moonja n=ansible | ...ignoring
2022-05-25 01:21:48,540 p=53445 u=moonja n=ansible | fatal: [co7-node01]: FAILED! => {"ansible_job_id": "579460512714.4856", "changed": true, "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall typing -y )", "delta": "0:00:01.962965", "end": "2022-05-25 01:21:44.513707", "finished": 1, "msg": "non-zero return code", "rc": 2, "results_file": "/var/lib/pgsql/.ansible_async/579460512714.4856", "start": "2022-05-25 01:21:42.550742", "started": 1, "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc' -> '/var/tmp/pip-uninstall-4tgdrpp3/typing.cpython-36.pyc'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc'", "stderr_lines": ["WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.", "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.", "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.", "ERROR: Exception:", "Traceback (most recent call last):", "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move", "    os.rename(src, real_dst)", "PermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc' -> '/var/tmp/pip-uninstall-4tgdrpp3/typing.cpython-36.pyc'", "", "During handling of the above exception, another exception occurred:", "", "Traceback (most recent call last):", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper", "    status = run_func(*args)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run", "    verbose=self.verbosity > 0,", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall", "    uninstalled_pathset.remove(auto_confirm, verbose)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove", "    moved.stash(path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash", "    renames(path, new_path)", "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames", "    shutil.move(old, new)", "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move", "    os.unlink(src)", "PermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc'"], "stdout": "Found existing installation: typing 3.7.4.3\nUninstalling typing-3.7.4.3:", "stdout_lines": ["Found existing installation: typing 3.7.4.3", "Uninstalling typing-3.7.4.3:"]}
2022-05-25 01:21:48,540 p=53445 u=moonja n=ansible | ...ignoring
2022-05-25 01:21:48,548 p=53445 u=moonja n=ansible | TASK [patroni-postgres : debug] ************************************************
2022-05-25 01:21:48,587 p=53445 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "ansible_job_id": "579460512714.4856",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall typing -y )",
        "delta": "0:00:01.962965",
        "end": "2022-05-25 01:21:44.513707",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 2,
        "results_file": "/var/lib/pgsql/.ansible_async/579460512714.4856",
        "start": "2022-05-25 01:21:42.550742",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc' -> '/var/tmp/pip-uninstall-4tgdrpp3/typing.cpython-36.pyc'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc'",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "ERROR: Exception:",
            "Traceback (most recent call last):",
            "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move",
            "    os.rename(src, real_dst)",
            "PermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc' -> '/var/tmp/pip-uninstall-4tgdrpp3/typing.cpython-36.pyc'",
            "",
            "During handling of the above exception, another exception occurred:",
            "",
            "Traceback (most recent call last):",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper",
            "    status = run_func(*args)",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run",
            "    verbose=self.verbosity > 0,",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall",
            "    uninstalled_pathset.remove(auto_confirm, verbose)",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove",
            "    moved.stash(path)",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash",
            "    renames(path, new_path)",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames",
            "    shutil.move(old, new)",
            "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move",
            "    os.unlink(src)",
            "PermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc'"
        ],
        "stdout": "Found existing installation: typing 3.7.4.3\nUninstalling typing-3.7.4.3:",
        "stdout_lines": [
            "Found existing installation: typing 3.7.4.3",
            "Uninstalling typing-3.7.4.3:"
        ]
    }
}
2022-05-25 01:21:48,604 p=53445 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "ansible_job_id": "696296368659.4772",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall typing -y )",
        "delta": "0:00:02.168462",
        "end": "2022-05-25 01:21:44.478140",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 2,
        "results_file": "/var/lib/pgsql/.ansible_async/696296368659.4772",
        "start": "2022-05-25 01:21:42.309678",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc' -> '/var/tmp/pip-uninstall-2_7p0_e_/typing.cpython-36.pyc'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc'",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "ERROR: Exception:",
            "Traceback (most recent call last):",
            "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move",
            "    os.rename(src, real_dst)",
            "PermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc' -> '/var/tmp/pip-uninstall-2_7p0_e_/typing.cpython-36.pyc'",
            "",
            "During handling of the above exception, another exception occurred:",
            "",
            "Traceback (most recent call last):",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper",
            "    status = run_func(*args)",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run",
            "    verbose=self.verbosity > 0,",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall",
            "    uninstalled_pathset.remove(auto_confirm, verbose)",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove",
            "    moved.stash(path)",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash",
            "    renames(path, new_path)",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames",
            "    shutil.move(old, new)",
            "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move",
            "    os.unlink(src)",
            "PermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc'"
        ],
        "stdout": "Found existing installation: typing 3.7.4.3\nUninstalling typing-3.7.4.3:",
        "stdout_lines": [
            "Found existing installation: typing 3.7.4.3",
            "Uninstalling typing-3.7.4.3:"
        ]
    }
}
2022-05-25 01:21:48,605 p=53445 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "ansible_job_id": "988008846453.4853",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 uninstall typing -y )",
        "delta": "0:00:02.185688",
        "end": "2022-05-25 01:21:45.252882",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 2,
        "results_file": "/var/lib/pgsql/.ansible_async/988008846453.4853",
        "start": "2022-05-25 01:21:43.067194",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nERROR: Exception:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move\n    os.rename(src, real_dst)\nPermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc' -> '/var/tmp/pip-uninstall-ko_fnwxf/typing.cpython-36.pyc'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\n    status = run_func(*args)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run\n    verbose=self.verbosity > 0,\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove\n    moved.stash(path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash\n    renames(path, new_path)\n  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames\n    shutil.move(old, new)\n  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move\n    os.unlink(src)\nPermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc'",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "ERROR: Exception:",
            "Traceback (most recent call last):",
            "  File \"/usr/lib64/python3.6/shutil.py\", line 550, in move",
            "    os.rename(src, real_dst)",
            "PermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc' -> '/var/tmp/pip-uninstall-ko_fnwxf/typing.cpython-36.pyc'",
            "",
            "During handling of the above exception, another exception occurred:",
            "",
            "Traceback (most recent call last):",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper",
            "    status = run_func(*args)",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/commands/uninstall.py\", line 99, in run",
            "    verbose=self.verbosity > 0,",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_install.py\", line 671, in uninstall",
            "    uninstalled_pathset.remove(auto_confirm, verbose)",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 384, in remove",
            "    moved.stash(path)",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/req/req_uninstall.py\", line 282, in stash",
            "    renames(path, new_path)",
            "  File \"/usr/local/lib/python3.6/site-packages/pip/_internal/utils/misc.py\", line 307, in renames",
            "    shutil.move(old, new)",
            "  File \"/usr/lib64/python3.6/shutil.py\", line 565, in move",
            "    os.unlink(src)",
            "PermissionError: [Errno 13] Permission denied: '/usr/local/lib/python3.6/site-packages/__pycache__/typing.cpython-36.pyc'"
        ],
        "stdout": "Found existing installation: typing 3.7.4.3\nUninstalling typing-3.7.4.3:",
        "stdout_lines": [
            "Found existing installation: typing 3.7.4.3",
            "Uninstalling typing-3.7.4.3:"
        ]
    }
}
2022-05-25 01:21:48,617 p=53445 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 01:21:48,627 p=53445 u=moonja n=ansible | TASK [patroni-postgres : Uninstall setuptools rust on all three nodes] *********
2022-05-25 01:21:48,686 p=53445 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 01:21:54,729 p=53445 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 01:21:54,744 p=53445 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 01:21:54,744 p=53445 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 01:21:54,772 p=53445 u=moonja n=ansible | TASK [patroni-postgres : Uninstall patroni module on all three nodes] **********
2022-05-25 01:21:54,885 p=53445 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 01:22:01,271 p=53445 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 01:22:01,283 p=53445 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 01:22:01,283 p=53445 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 01:22:01,294 p=53445 u=moonja n=ansible | TASK [patroni-postgres : Uninstall pyopenssl module on all three nodes] ********
2022-05-25 01:22:01,318 p=53445 u=moonja n=ansible | skipping: [co7-node01]
2022-05-25 01:22:01,336 p=53445 u=moonja n=ansible | skipping: [co7-node02]
2022-05-25 01:22:01,352 p=53445 u=moonja n=ansible | skipping: [co7-node03]
2022-05-25 01:22:01,367 p=53445 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 01:22:01,378 p=53445 u=moonja n=ansible | TASK [patroni-postgres : Uninstall pyrsistent module on all three nodes] *******
2022-05-25 01:22:01,399 p=53445 u=moonja n=ansible | skipping: [co7-node01]
2022-05-25 01:22:01,416 p=53445 u=moonja n=ansible | skipping: [co7-node02]
2022-05-25 01:22:01,434 p=53445 u=moonja n=ansible | skipping: [co7-node03]
2022-05-25 01:22:01,448 p=53445 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 01:22:01,458 p=53445 u=moonja n=ansible | TASK [patroni-postgres : Uninstall wheel module on all three nodes] ************
2022-05-25 01:22:01,525 p=53445 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 01:22:07,737 p=53445 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 01:22:07,737 p=53445 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 01:22:07,796 p=53445 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 01:22:07,829 p=53445 u=moonja n=ansible | TASK [patroni-postgres : Uninstall psycopg2-binary module on all three nodes] ***
2022-05-25 01:22:07,908 p=53445 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 01:22:14,435 p=53445 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 01:22:14,532 p=53445 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 01:22:14,543 p=53445 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 01:22:14,553 p=53445 u=moonja n=ansible | TASK [patroni-postgres : Delete the dependencies file of etcd  on all three nodes] ***
2022-05-25 01:22:14,626 p=53445 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 01:22:15,055 p=53445 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 01:22:15,056 p=53445 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 01:22:15,056 p=53445 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 01:22:15,078 p=53445 u=moonja n=ansible | TASK [patroni-postgres : Uninstall RPM packages of the etcd and Patroni prerequisites on all three nodes] ***
2022-05-25 01:23:52,282 p=53445 u=moonja n=ansible | changed: [co7-node01] => (item=python3)
2022-05-25 01:23:58,408 p=53445 u=moonja n=ansible | ok: [co7-node01] => (item=python3-devel)
2022-05-25 01:24:08,380 p=53445 u=moonja n=ansible | changed: [co7-master] => (item=python3)
2022-05-25 01:24:13,383 p=53445 u=moonja n=ansible | changed: [co7-node03] => (item=python3)
2022-05-25 01:24:14,568 p=53445 u=moonja n=ansible | ok: [co7-master] => (item=python3-devel)
2022-05-25 01:24:15,095 p=53445 u=moonja n=ansible | changed: [co7-node01] => (item=gcc)
2022-05-25 01:24:15,305 p=53445 u=moonja n=ansible | changed: [co7-node02] => (item=python3)
2022-05-25 01:24:19,910 p=53445 u=moonja n=ansible | ok: [co7-node03] => (item=python3-devel)
2022-05-25 01:24:21,418 p=53445 u=moonja n=ansible | ok: [co7-node02] => (item=python3-devel)
2022-05-25 01:24:25,702 p=53445 u=moonja n=ansible | changed: [co7-master] => (item=gcc)
2022-05-25 01:24:26,180 p=53445 u=moonja n=ansible | changed: [co7-node01] => (item=etcd)
2022-05-25 01:24:36,353 p=53445 u=moonja n=ansible | changed: [co7-node03] => (item=gcc)
2022-05-25 01:24:37,383 p=53445 u=moonja n=ansible | changed: [co7-node01] => (item=python-psycopg2)
2022-05-25 01:24:37,936 p=53445 u=moonja n=ansible | changed: [co7-node02] => (item=gcc)
2022-05-25 01:24:42,380 p=53445 u=moonja n=ansible | changed: [co7-master] => (item=etcd)
2022-05-25 01:24:43,285 p=53445 u=moonja n=ansible | ok: [co7-node01] => (item=python3-pip)
2022-05-25 01:24:48,787 p=53445 u=moonja n=ansible | changed: [co7-node03] => (item=etcd)
2022-05-25 01:24:49,059 p=53445 u=moonja n=ansible | changed: [co7-node02] => (item=etcd)
2022-05-25 01:24:53,780 p=53445 u=moonja n=ansible | changed: [co7-master] => (item=python-psycopg2)
2022-05-25 01:24:54,382 p=53445 u=moonja n=ansible | changed: [co7-node01] => (item=python34-setuptools)
2022-05-25 01:24:59,756 p=53445 u=moonja n=ansible | ok: [co7-master] => (item=python3-pip)
2022-05-25 01:24:59,859 p=53445 u=moonja n=ansible | changed: [co7-node03] => (item=python-psycopg2)
2022-05-25 01:25:00,260 p=53445 u=moonja n=ansible | ok: [co7-node01] => (item=python27-python-setuptools)
2022-05-25 01:25:05,491 p=53445 u=moonja n=ansible | changed: [co7-node02] => (item=python-psycopg2)
2022-05-25 01:25:05,709 p=53445 u=moonja n=ansible | ok: [co7-node03] => (item=python3-pip)
2022-05-25 01:25:06,161 p=53445 u=moonja n=ansible | ok: [co7-node01] => (item=yamllint)
2022-05-25 01:25:11,041 p=53445 u=moonja n=ansible | changed: [co7-master] => (item=python34-setuptools)
2022-05-25 01:25:11,334 p=53445 u=moonja n=ansible | ok: [co7-node02] => (item=python3-pip)
2022-05-25 01:25:16,887 p=53445 u=moonja n=ansible | ok: [co7-master] => (item=python27-python-setuptools)
2022-05-25 01:25:22,084 p=53445 u=moonja n=ansible | changed: [co7-node03] => (item=python34-setuptools)
2022-05-25 01:25:22,489 p=53445 u=moonja n=ansible | changed: [co7-node01] => (item=daemonize)
2022-05-25 01:25:23,568 p=53445 u=moonja n=ansible | changed: [co7-node02] => (item=python34-setuptools)
2022-05-25 01:25:23,709 p=53445 u=moonja n=ansible | ok: [co7-master] => (item=yamllint)
2022-05-25 01:25:27,975 p=53445 u=moonja n=ansible | ok: [co7-node03] => (item=python27-python-setuptools)
2022-05-25 01:25:29,530 p=53445 u=moonja n=ansible | ok: [co7-node02] => (item=python27-python-setuptools)
2022-05-25 01:25:29,596 p=53445 u=moonja n=ansible | changed: [co7-master] => (item=daemonize)
2022-05-25 01:25:34,007 p=53445 u=moonja n=ansible | ok: [co7-node03] => (item=yamllint)
2022-05-25 01:25:35,782 p=53445 u=moonja n=ansible | ok: [co7-node02] => (item=yamllint)
2022-05-25 01:25:45,439 p=53445 u=moonja n=ansible | changed: [co7-node03] => (item=daemonize)
2022-05-25 01:25:47,451 p=53445 u=moonja n=ansible | changed: [co7-node02] => (item=daemonize)
2022-05-25 01:25:47,462 p=53445 u=moonja n=ansible | TASK [patroni-postgres : Uninstall VMware Postgres RPM package on all hosts as root] ***
2022-05-25 01:26:09,262 p=53445 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 01:26:09,274 p=53445 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 01:26:09,287 p=53445 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 01:26:09,287 p=53445 u=moonja n=ansible | changed: [co7-master]
2022-05-25 01:26:09,298 p=53445 u=moonja n=ansible | TASK [patroni-postgres : Delete the vmwawre-postgres rpm file to all hosts in cluster] ***
2022-05-25 01:26:09,705 p=53445 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 01:26:09,717 p=53445 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 01:26:09,726 p=53445 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 01:26:09,730 p=53445 u=moonja n=ansible | changed: [co7-master]
2022-05-25 01:26:09,741 p=53445 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] **********************************
2022-05-25 01:26:10,354 p=53445 u=moonja n=ansible | changed: [co7-master]
2022-05-25 01:26:10,406 p=53445 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 01:26:10,440 p=53445 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 01:26:10,708 p=53445 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 01:26:10,718 p=53445 u=moonja n=ansible | TASK [patroni-postgres : debug] ************************************************
2022-05-25 01:26:10,758 p=53445 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-05-25 01:26:10,776 p=53445 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-05-25 01:26:10,777 p=53445 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-05-25 01:26:10,790 p=53445 u=moonja n=ansible | ok: [co7-master] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-05-25 01:26:10,801 p=53445 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] *********************************
2022-05-25 01:26:11,194 p=53445 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 01:26:11,195 p=53445 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 01:26:11,195 p=53445 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 01:26:11,195 p=53445 u=moonja n=ansible | changed: [co7-master]
2022-05-25 01:26:11,207 p=53445 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] ***************************
2022-05-25 01:26:12,263 p=53445 u=moonja n=ansible | ok: [co7-node01]
2022-05-25 01:26:12,271 p=53445 u=moonja n=ansible | ok: [co7-node03]
2022-05-25 01:26:12,684 p=53445 u=moonja n=ansible | ok: [co7-master]
2022-05-25 01:26:12,684 p=53445 u=moonja n=ansible | ok: [co7-node02]
2022-05-25 01:26:12,731 p=53445 u=moonja n=ansible | PLAY RECAP *********************************************************************
2022-05-25 01:26:12,731 p=53445 u=moonja n=ansible | co7-master                 : ok=13   changed=6    unreachable=0    failed=0    skipped=13   rescued=0    ignored=0   
2022-05-25 01:26:12,731 p=53445 u=moonja n=ansible | co7-node01                 : ok=24   changed=18   unreachable=0    failed=0    skipped=2    rescued=0    ignored=3   
2022-05-25 01:26:12,731 p=53445 u=moonja n=ansible | co7-node02                 : ok=24   changed=18   unreachable=0    failed=0    skipped=2    rescued=0    ignored=3   
2022-05-25 01:26:12,731 p=53445 u=moonja n=ansible | co7-node03                 : ok=24   changed=18   unreachable=0    failed=0    skipped=2    rescued=0    ignored=3   
2022-05-25 21:47:14,440 p=32654 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be removed from ansible-
core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-05-25 21:47:14,451 p=32654 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-05-25 21:47:14,679 p=32654 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed in version 2.16. 
Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-05-25 21:47:14,741 p=32654 u=moonja n=ansible | PLAY [all] ********************************************************************************************************************************
2022-05-25 21:47:14,772 p=32654 u=moonja n=ansible | TASK [Gathering Facts] ********************************************************************************************************************
2022-05-25 21:47:35,403 p=32654 u=moonja n=ansible | ok: [co7-master]
2022-05-25 21:47:36,233 p=32654 u=moonja n=ansible | ok: [co7-node02]
2022-05-25 21:47:38,231 p=32654 u=moonja n=ansible | ok: [co7-node03]
2022-05-25 21:47:39,974 p=32654 u=moonja n=ansible | ok: [co7-node01]
2022-05-25 21:47:39,991 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Install rpm packages of firewalld] *******************************************************************************
2022-05-25 21:49:43,625 p=32654 u=moonja n=ansible | changed: [co7-master] => (item=firewalld)
2022-05-25 21:50:07,436 p=32654 u=moonja n=ansible | changed: [co7-node03] => (item=firewalld)
2022-05-25 21:50:26,810 p=32654 u=moonja n=ansible | changed: [co7-node02] => (item=firewalld)
2022-05-25 21:50:27,145 p=32654 u=moonja n=ansible | changed: [co7-node01] => (item=firewalld)
2022-05-25 21:50:27,155 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Stop and disable firewalld] **************************************************************************************
2022-05-25 21:50:28,979 p=32654 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 21:50:29,160 p=32654 u=moonja n=ansible | changed: [co7-master]
2022-05-25 21:50:29,267 p=32654 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 21:50:29,595 p=32654 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 21:50:29,605 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Flush iptables rules] ********************************************************************************************
2022-05-25 21:50:30,610 p=32654 u=moonja n=ansible | changed: [co7-master]
2022-05-25 21:50:30,676 p=32654 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 21:50:31,859 p=32654 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 21:50:31,994 p=32654 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 21:50:32,003 p=32654 u=moonja n=ansible | TASK [patroni-postgres : List iptables rules] *********************************************************************************************
2022-05-25 21:50:32,365 p=32654 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 21:50:32,376 p=32654 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 21:50:32,390 p=32654 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 21:50:32,391 p=32654 u=moonja n=ansible | changed: [co7-master]
2022-05-25 21:50:32,402 p=32654 u=moonja n=ansible | TASK [patroni-postgres : debug] ***********************************************************************************************************
2022-05-25 21:50:32,437 p=32654 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-05-25 21:50:32,454 p=32654 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-05-25 21:50:32,461 p=32654 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-05-25 21:50:32,467 p=32654 u=moonja n=ansible | ok: [co7-master] => {
    "msg": "Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain FORWARD (policy ACCEPT)\ntarget     prot opt source               destination         \n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination         "
}
2022-05-25 21:50:32,477 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Install the 'Development tools' package group for VMware Postgres Dependencies] **********************************
2022-05-25 21:50:39,842 p=32654 u=moonja n=ansible | ok: [co7-node02]
2022-05-25 21:50:39,848 p=32654 u=moonja n=ansible | ok: [co7-node01]
2022-05-25 21:50:39,914 p=32654 u=moonja n=ansible | ok: [co7-node03]
2022-05-25 21:50:39,914 p=32654 u=moonja n=ansible | ok: [co7-master]
2022-05-25 21:50:39,924 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Install the perl package for VMware Postgres Dependencies] *******************************************************
2022-05-25 21:50:47,268 p=32654 u=moonja n=ansible | ok: [co7-node02] => (item=perl)
2022-05-25 21:50:47,361 p=32654 u=moonja n=ansible | ok: [co7-master] => (item=perl)
2022-05-25 21:50:47,361 p=32654 u=moonja n=ansible | ok: [co7-node03] => (item=perl)
2022-05-25 21:50:48,373 p=32654 u=moonja n=ansible | ok: [co7-node01] => (item=perl)
2022-05-25 21:50:53,175 p=32654 u=moonja n=ansible | ok: [co7-node02] => (item=readline-devel)
2022-05-25 21:50:54,471 p=32654 u=moonja n=ansible | ok: [co7-node03] => (item=readline-devel)
2022-05-25 21:50:54,705 p=32654 u=moonja n=ansible | ok: [co7-master] => (item=readline-devel)
2022-05-25 21:50:54,824 p=32654 u=moonja n=ansible | ok: [co7-node01] => (item=readline-devel)
2022-05-25 21:51:00,286 p=32654 u=moonja n=ansible | ok: [co7-node02] => (item=libicu-devel)
2022-05-25 21:51:00,449 p=32654 u=moonja n=ansible | ok: [co7-node03] => (item=libicu-devel)
2022-05-25 21:51:00,619 p=32654 u=moonja n=ansible | ok: [co7-master] => (item=libicu-devel)
2022-05-25 21:51:00,725 p=32654 u=moonja n=ansible | ok: [co7-node01] => (item=libicu-devel)
2022-05-25 21:51:06,236 p=32654 u=moonja n=ansible | ok: [co7-node02] => (item=perl-libs)
2022-05-25 21:51:06,336 p=32654 u=moonja n=ansible | ok: [co7-node03] => (item=perl-libs)
2022-05-25 21:51:06,492 p=32654 u=moonja n=ansible | ok: [co7-master] => (item=perl-libs)
2022-05-25 21:51:06,569 p=32654 u=moonja n=ansible | ok: [co7-node01] => (item=perl-libs)
2022-05-25 21:51:06,580 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Copy the vmwawre-postgres rpm file to all hosts in cluster] ******************************************************
2022-05-25 21:51:08,235 p=32654 u=moonja n=ansible | changed: [co7-master]
2022-05-25 21:51:08,395 p=32654 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 21:51:08,398 p=32654 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 21:51:08,571 p=32654 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 21:51:08,579 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Install VMware Postgres on all hosts as root] ********************************************************************
2022-05-25 21:51:43,871 p=32654 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 21:51:45,053 p=32654 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 21:51:47,478 p=32654 u=moonja n=ansible | changed: [co7-master]
2022-05-25 21:51:50,881 p=32654 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 21:51:50,890 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Install the etcd and Patroni prerequisites on all three nodes] ***************************************************
2022-05-25 21:51:57,979 p=32654 u=moonja n=ansible | ok: [co7-master] => (item=python3)
2022-05-25 21:51:57,990 p=32654 u=moonja n=ansible | ok: [co7-node01] => (item=python3)
2022-05-25 21:51:58,053 p=32654 u=moonja n=ansible | ok: [co7-node03] => (item=python3)
2022-05-25 21:51:58,388 p=32654 u=moonja n=ansible | ok: [co7-node02] => (item=python3)
2022-05-25 21:52:25,205 p=32654 u=moonja n=ansible | changed: [co7-node03] => (item=python3-devel)
2022-05-25 21:52:33,431 p=32654 u=moonja n=ansible | changed: [co7-node02] => (item=python3-devel)
2022-05-25 21:52:33,453 p=32654 u=moonja n=ansible | changed: [co7-master] => (item=python3-devel)
2022-05-25 21:52:35,397 p=32654 u=moonja n=ansible | changed: [co7-node01] => (item=python3-devel)
2022-05-25 21:52:47,945 p=32654 u=moonja n=ansible | changed: [co7-node03] => (item=gcc)
2022-05-25 21:53:03,453 p=32654 u=moonja n=ansible | changed: [co7-node02] => (item=gcc)
2022-05-25 21:53:04,748 p=32654 u=moonja n=ansible | changed: [co7-master] => (item=gcc)
2022-05-25 21:53:05,119 p=32654 u=moonja n=ansible | changed: [co7-node03] => (item=etcd)
2022-05-25 21:53:05,132 p=32654 u=moonja n=ansible | changed: [co7-node01] => (item=gcc)
2022-05-25 21:53:22,196 p=32654 u=moonja n=ansible | changed: [co7-node03] => (item=python-psycopg2)
2022-05-25 21:53:27,726 p=32654 u=moonja n=ansible | changed: [co7-node02] => (item=etcd)
2022-05-25 21:53:27,749 p=32654 u=moonja n=ansible | changed: [co7-master] => (item=etcd)
2022-05-25 21:53:28,117 p=32654 u=moonja n=ansible | ok: [co7-node03] => (item=python3-pip)
2022-05-25 21:53:29,791 p=32654 u=moonja n=ansible | changed: [co7-node01] => (item=etcd)
2022-05-25 21:53:41,164 p=32654 u=moonja n=ansible | changed: [co7-node01] => (item=python-psycopg2)
2022-05-25 21:53:44,231 p=32654 u=moonja n=ansible | changed: [co7-node02] => (item=python-psycopg2)
2022-05-25 21:53:44,240 p=32654 u=moonja n=ansible | changed: [co7-master] => (item=python-psycopg2)
2022-05-25 21:53:44,662 p=32654 u=moonja n=ansible | changed: [co7-node03] => (item=python34-setuptools)
2022-05-25 21:53:48,005 p=32654 u=moonja n=ansible | ok: [co7-node01] => (item=python3-pip)
2022-05-25 21:53:51,098 p=32654 u=moonja n=ansible | ok: [co7-master] => (item=python3-pip)
2022-05-25 21:53:53,099 p=32654 u=moonja n=ansible | ok: [co7-node02] => (item=python3-pip)
2022-05-25 21:54:01,548 p=32654 u=moonja n=ansible | changed: [co7-node03] => (item=yamllint)
2022-05-25 21:54:04,346 p=32654 u=moonja n=ansible | changed: [co7-node02] => (item=python34-setuptools)
2022-05-25 21:54:04,488 p=32654 u=moonja n=ansible | changed: [co7-node01] => (item=python34-setuptools)
2022-05-25 21:54:07,840 p=32654 u=moonja n=ansible | changed: [co7-master] => (item=python34-setuptools)
2022-05-25 21:54:12,816 p=32654 u=moonja n=ansible | changed: [co7-node03] => (item=daemonize)
2022-05-25 21:54:19,150 p=32654 u=moonja n=ansible | changed: [co7-master] => (item=yamllint)
2022-05-25 21:54:20,760 p=32654 u=moonja n=ansible | changed: [co7-node02] => (item=yamllint)
2022-05-25 21:54:27,015 p=32654 u=moonja n=ansible | changed: [co7-node01] => (item=yamllint)
2022-05-25 21:54:46,476 p=32654 u=moonja n=ansible | changed: [co7-master] => (item=daemonize)
2022-05-25 21:54:49,061 p=32654 u=moonja n=ansible | changed: [co7-node02] => (item=daemonize)
2022-05-25 21:54:49,099 p=32654 u=moonja n=ansible | changed: [co7-node01] => (item=daemonize)
2022-05-25 21:54:49,112 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Install the dependencies of etcd  on all three nodes] ************************************************************
2022-05-25 21:54:49,178 p=32654 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 21:54:50,305 p=32654 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 21:54:50,371 p=32654 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 21:54:50,449 p=32654 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 21:54:50,458 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Install setuptools rust on all three nodes] **********************************************************************
2022-05-25 21:54:50,519 p=32654 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 21:55:12,268 p=32654 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 21:55:12,676 p=32654 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 21:55:12,693 p=32654 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 21:55:12,702 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Install typing pip module on all three nodes] ********************************************************************
2022-05-25 21:55:12,765 p=32654 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 21:55:18,668 p=32654 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 21:55:19,605 p=32654 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 21:55:19,605 p=32654 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 21:55:19,615 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Upgrade pip3 version] ********************************************************************************************
2022-05-25 21:55:19,682 p=32654 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 21:55:25,617 p=32654 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 21:55:26,639 p=32654 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 21:55:26,989 p=32654 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 21:55:26,998 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Install wheel module on all three nodes] *************************************************************************
2022-05-25 21:55:27,060 p=32654 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 21:55:33,065 p=32654 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 21:55:33,131 p=32654 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 21:55:33,132 p=32654 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 21:55:33,142 p=32654 u=moonja n=ansible | TASK [patroni-postgres : debug] ***********************************************************************************************************
2022-05-25 21:55:33,210 p=32654 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "ansible_job_id": "513581080016.7881",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:04.555421",
        "end": "2022-05-25 21:55:32.278442",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/513581080016.7881",
        "start": "2022-05-25 21:55:27.723021",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\n  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-05-25 21:55:33,260 p=32654 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "ansible_job_id": "591423601733.7781",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:04.511963",
        "end": "2022-05-25 21:55:32.247792",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/591423601733.7781",
        "start": "2022-05-25 21:55:27.735829",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\n  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-05-25 21:55:33,262 p=32654 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "ansible_job_id": "382703119549.7526",
        "changed": true,
        "cmd": "( cd /var/lib/pgsql ; export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:04.604237",
        "end": "2022-05-25 21:55:32.331196",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/382703119549.7526",
        "start": "2022-05-25 21:55:27.726959",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\n  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "  WARNING: The script wheel is installed in '/var/lib/pgsql/.local/bin' which is not on PATH.",
            "  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nCollecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-05-25 21:55:33,262 p=32654 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 21:55:33,272 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Install pip modules of Patroni prerequisites on all three nodes] *************************************************
2022-05-25 21:55:33,335 p=32654 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 21:55:39,357 p=32654 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 21:55:39,427 p=32654 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 21:55:39,427 p=32654 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 21:55:39,437 p=32654 u=moonja n=ansible | TASK [patroni-postgres : debug] ***********************************************************************************************************
2022-05-25 21:55:39,512 p=32654 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "ansible_job_id": "334603415077.8106",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.779254",
        "end": "2022-05-25 21:55:34.852343",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/334603415077.8106",
        "start": "2022-05-25 21:55:34.073089",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.9)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.27.1)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.4)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.5.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (4.2)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.9.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2022.5.18)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.3)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.12)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.2.1)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.3)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: pytz-deprecation-shim in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.1.0.post0)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (59.6.0)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.1)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.1)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.6.6)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.4.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (37.0.2)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.8)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: cachetools<6.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.4)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.4.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /usr/local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.1.1)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.6.0)\nRequirement already satisfied: tzdata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pytz-deprecation-shim->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (2022.1)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.2.0)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.15.0)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.21)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.9)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.27.1)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.4)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.5.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (4.2)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.9.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2022.5.18)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.3)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.12)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.2.1)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.3)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: pytz-deprecation-shim in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.1.0.post0)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (59.6.0)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.1)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.1)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.6.6)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.4.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (37.0.2)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.8)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: cachetools<6.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.4)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.4.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /usr/local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.1.1)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.6.0)",
            "Requirement already satisfied: tzdata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pytz-deprecation-shim->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (2022.1)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.2.0)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.15.0)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.21)"
        ]
    }
}
2022-05-25 21:55:39,561 p=32654 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "ansible_job_id": "983111152521.8006",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.771587",
        "end": "2022-05-25 21:55:34.846163",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/983111152521.8006",
        "start": "2022-05-25 21:55:34.074576",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.9)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.27.1)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.4)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.5.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (4.2)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.9.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.3)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2022.5.18)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.12)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.2.1)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.3)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: pytz-deprecation-shim in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.1.0.post0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.1)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.1)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (59.6.0)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.6.6)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.4.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (37.0.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.8)\nRequirement already satisfied: cachetools<6.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.4)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.4.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /usr/local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.1.1)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.6.0)\nRequirement already satisfied: tzdata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pytz-deprecation-shim->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (2022.1)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.2.0)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.15.0)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.21)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.9)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.27.1)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.4)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.5.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (4.2)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.9.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.3)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2022.5.18)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.12)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.2.1)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.3)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: pytz-deprecation-shim in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.1.0.post0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.1)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.1)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (59.6.0)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.6.6)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.4.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (37.0.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.8)",
            "Requirement already satisfied: cachetools<6.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.4)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.4.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /usr/local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.1.1)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.6.0)",
            "Requirement already satisfied: tzdata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pytz-deprecation-shim->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (2022.1)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.2.0)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.15.0)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.21)"
        ]
    }
}
2022-05-25 21:55:39,563 p=32654 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "ansible_job_id": "646895341395.7751",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install -r /var/lib/pgsql/requirements.txt )",
        "delta": "0:00:00.801815",
        "end": "2022-05-25 21:55:34.888958",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/646895341395.7751",
        "start": "2022-05-25 21:55:34.087143",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly."
        ],
        "stdout": "Defaulting to user installation because normal site-packages is not writeable\nRequirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.9)\nRequirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)\nRequirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.27.1)\nRequirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)\nRequirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)\nRequirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)\nRequirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)\nRequirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.4)\nRequirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.5.0)\nRequirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (4.2)\nRequirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)\nRequirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.9.0)\nRequirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)\nRequirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)\nRequirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.12)\nRequirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2022.5.18)\nRequirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.3)\nRequirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.2.1)\nRequirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.3)\nRequirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)\nRequirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)\nRequirement already satisfied: pytz-deprecation-shim in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.1.0.post0)\nRequirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)\nRequirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.6.6)\nRequirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (59.6.0)\nRequirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.1)\nRequirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.1)\nRequirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.4.0)\nRequirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (37.0.2)\nRequirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)\nRequirement already satisfied: cachetools<6.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.4)\nRequirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.8)\nRequirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.4.0)\nRequirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.6.0)\nRequirement already satisfied: typing-extensions>=3.6.4 in /usr/local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.1.1)\nRequirement already satisfied: tzdata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pytz-deprecation-shim->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (2022.1)\nRequirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.2.0)\nRequirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.15.0)\nRequirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)\nRequirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.21)",
        "stdout_lines": [
            "Defaulting to user installation because normal site-packages is not writeable",
            "Requirement already satisfied: urllib3!=1.21,>=1.19.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 1)) (1.26.9)",
            "Requirement already satisfied: boto in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 2)) (2.49.0)",
            "Requirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 3)) (3.13)",
            "Requirement already satisfied: requests in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 4)) (2.27.1)",
            "Requirement already satisfied: six>=1.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 5)) (1.16.0)",
            "Requirement already satisfied: kazoo>=1.3.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 6)) (2.8.0)",
            "Requirement already satisfied: python-etcd<0.5,>=0.4.3 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 7)) (0.4.5)",
            "Requirement already satisfied: python-consul>=0.7.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 8)) (1.1.0)",
            "Requirement already satisfied: click>=4.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 9)) (8.0.4)",
            "Requirement already satisfied: prettytable>=0.7 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 10)) (2.5.0)",
            "Requirement already satisfied: tzlocal in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 11)) (4.2)",
            "Requirement already satisfied: python-dateutil in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 12)) (2.8.2)",
            "Requirement already satisfied: psutil>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 13)) (5.9.0)",
            "Requirement already satisfied: cdiff in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 14)) (1.0)",
            "Requirement already satisfied: kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from -r /var/lib/pgsql/requirements.txt (line 15)) (7.0.0)",
            "Requirement already satisfied: charset-normalizer~=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2.0.12)",
            "Requirement already satisfied: certifi>=2017.4.17 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (2022.5.18)",
            "Requirement already satisfied: idna<4,>=2.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests->-r /var/lib/pgsql/requirements.txt (line 4)) (3.3)",
            "Requirement already satisfied: dnspython>=1.13.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from python-etcd<0.5,>=0.4.3->-r /var/lib/pgsql/requirements.txt (line 7)) (2.2.1)",
            "Requirement already satisfied: importlib-metadata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.8.3)",
            "Requirement already satisfied: wcwidth in /var/lib/pgsql/.local/lib/python3.6/site-packages (from prettytable>=0.7->-r /var/lib/pgsql/requirements.txt (line 10)) (0.2.5)",
            "Requirement already satisfied: backports.zoneinfo in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.2.1)",
            "Requirement already satisfied: pytz-deprecation-shim in /var/lib/pgsql/.local/lib/python3.6/site-packages (from tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (0.1.0.post0)",
            "Requirement already satisfied: adal>=1.0.2 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.2.7)",
            "Requirement already satisfied: google-auth>=1.0.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.6.6)",
            "Requirement already satisfied: setuptools>=21.0.0 in /usr/local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (59.6.0)",
            "Requirement already satisfied: websocket-client!=0.40.0,!=0.41.*,!=0.42.*,>=0.32.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.1)",
            "Requirement already satisfied: requests-oauthlib in /var/lib/pgsql/.local/lib/python3.6/site-packages (from kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.3.1)",
            "Requirement already satisfied: PyJWT<3,>=1.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.4.0)",
            "Requirement already satisfied: cryptography>=1.1.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (37.0.2)",
            "Requirement already satisfied: pyasn1-modules>=0.2.1 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.2.8)",
            "Requirement already satisfied: cachetools<6.0,>=2.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.2.4)",
            "Requirement already satisfied: rsa<5,>=3.1.4 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (4.8)",
            "Requirement already satisfied: importlib-resources in /var/lib/pgsql/.local/lib/python3.6/site-packages (from backports.zoneinfo->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (5.4.0)",
            "Requirement already satisfied: zipp>=0.5 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (3.6.0)",
            "Requirement already satisfied: typing-extensions>=3.6.4 in /usr/local/lib/python3.6/site-packages (from importlib-metadata->click>=4.1->-r /var/lib/pgsql/requirements.txt (line 9)) (4.1.1)",
            "Requirement already satisfied: tzdata in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pytz-deprecation-shim->tzlocal->-r /var/lib/pgsql/requirements.txt (line 11)) (2022.1)",
            "Requirement already satisfied: oauthlib>=3.0.0 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from requests-oauthlib->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (3.2.0)",
            "Requirement already satisfied: cffi>=1.12 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (1.15.0)",
            "Requirement already satisfied: pyasn1<0.5.0,>=0.4.6 in /var/lib/pgsql/.local/lib/python3.6/site-packages (from pyasn1-modules>=0.2.1->google-auth>=1.0.1->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (0.4.8)",
            "Requirement already satisfied: pycparser in /var/lib/pgsql/.local/lib/python3.6/site-packages (from cffi>=1.12->cryptography>=1.1.0->adal>=1.0.2->kubernetes!=4.0.*,!=5.0.*,<=7.0.0,>=2.0.0->-r /var/lib/pgsql/requirements.txt (line 15)) (2.21)"
        ]
    }
}
2022-05-25 21:55:39,564 p=32654 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 21:55:39,572 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Iinstall wheel module on all three nodes] ************************************************************************
2022-05-25 21:55:39,637 p=32654 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 21:55:45,721 p=32654 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 21:55:45,745 p=32654 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 21:55:45,745 p=32654 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 21:55:45,753 p=32654 u=moonja n=ansible | TASK [patroni-postgres : debug] ***********************************************************************************************************
2022-05-25 21:55:45,810 p=32654 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "ansible_job_id": "269394622461.8331",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:02.099762",
        "end": "2022-05-25 21:55:42.507744",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/269394622461.8331",
        "start": "2022-05-25 21:55:40.407982",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-05-25 21:55:45,860 p=32654 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "ansible_job_id": "880671080979.8231",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:02.155448",
        "end": "2022-05-25 21:55:42.568124",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/880671080979.8231",
        "start": "2022-05-25 21:55:40.412676",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-05-25 21:55:45,862 p=32654 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "ansible_job_id": "348954564409.7976",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install wheel )",
        "delta": "0:00:02.163738",
        "end": "2022-05-25 21:55:42.552694",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/348954564409.7976",
        "start": "2022-05-25 21:55:40.388956",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting wheel\n  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)\nInstalling collected packages: wheel\nSuccessfully installed wheel-0.37.1",
        "stdout_lines": [
            "Collecting wheel",
            "  Using cached wheel-0.37.1-py2.py3-none-any.whl (35 kB)",
            "Installing collected packages: wheel",
            "Successfully installed wheel-0.37.1"
        ]
    }
}
2022-05-25 21:55:45,862 p=32654 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 21:55:45,871 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Install psycopg2-binary module on all three nodes] ***************************************************************
2022-05-25 21:55:45,937 p=32654 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 21:55:52,903 p=32654 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 21:55:52,938 p=32654 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 21:55:53,355 p=32654 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 21:55:53,363 p=32654 u=moonja n=ansible | TASK [patroni-postgres : debug] ***********************************************************************************************************
2022-05-25 21:55:53,410 p=32654 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "ansible_job_id": "380492202674.8556",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:02.950154",
        "end": "2022-05-25 21:55:49.674663",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/380492202674.8556",
        "start": "2022-05-25 21:55:46.724509",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.3",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.3"
        ]
    }
}
2022-05-25 21:55:53,460 p=32654 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "ansible_job_id": "803770494409.8456",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:02.894320",
        "end": "2022-05-25 21:55:49.617865",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/803770494409.8456",
        "start": "2022-05-25 21:55:46.723545",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.3",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.3"
        ]
    }
}
2022-05-25 21:55:53,461 p=32654 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "ansible_job_id": "572395930099.8201",
        "changed": true,
        "cmd": "( export PATH=$PATH:/usr/local/bin && pip3 install psycopg2-binary )",
        "delta": "0:00:02.984224",
        "end": "2022-05-25 21:55:49.708999",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/root/.ansible_async/572395930099.8201",
        "start": "2022-05-25 21:55:46.724775",
        "started": 1,
        "stderr": "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.\nPlease see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.\nTo avoid this problem you can invoke Python with '-m pip' instead of running pip directly.\nWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv",
        "stderr_lines": [
            "WARNING: pip is being invoked by an old script wrapper. This will fail in a future version of pip.",
            "Please see https://github.com/pypa/pip/issues/5599 for advice on fixing the underlying issue.",
            "To avoid this problem you can invoke Python with '-m pip' instead of running pip directly.",
            "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"
        ],
        "stdout": "Collecting psycopg2-binary\n  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\nInstalling collected packages: psycopg2-binary\nSuccessfully installed psycopg2-binary-2.9.3",
        "stdout_lines": [
            "Collecting psycopg2-binary",
            "  Using cached psycopg2_binary-2.9.3-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)",
            "Installing collected packages: psycopg2-binary",
            "Successfully installed psycopg2-binary-2.9.3"
        ]
    }
}
2022-05-25 21:55:53,462 p=32654 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 21:55:53,473 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Install pyopenssl modle on all three nodes for vmware-postgres version] ******************************************
2022-05-25 21:55:53,493 p=32654 u=moonja n=ansible | skipping: [co7-node01]
2022-05-25 21:55:53,510 p=32654 u=moonja n=ansible | skipping: [co7-node02]
2022-05-25 21:55:53,527 p=32654 u=moonja n=ansible | skipping: [co7-node03]
2022-05-25 21:55:53,539 p=32654 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 21:55:53,550 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Install pyrsistent modle on all three nodes for vmware-postgres version] *****************************************
2022-05-25 21:55:53,571 p=32654 u=moonja n=ansible | skipping: [co7-node01]
2022-05-25 21:55:53,588 p=32654 u=moonja n=ansible | skipping: [co7-node02]
2022-05-25 21:55:53,605 p=32654 u=moonja n=ansible | skipping: [co7-node03]
2022-05-25 21:55:53,618 p=32654 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 21:55:53,628 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Install pyopenssl modle on all three nodes for vmware-postgres version] ******************************************
2022-05-25 21:55:53,648 p=32654 u=moonja n=ansible | skipping: [co7-node01]
2022-05-25 21:55:53,683 p=32654 u=moonja n=ansible | skipping: [co7-node02]
2022-05-25 21:55:53,684 p=32654 u=moonja n=ansible | skipping: [co7-node03]
2022-05-25 21:55:53,696 p=32654 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 21:55:53,706 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Install patroni modules on all three nodes for vmware-postgres version] ******************************************
2022-05-25 21:55:53,768 p=32654 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 21:55:59,667 p=32654 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 21:55:59,680 p=32654 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 21:55:59,681 p=32654 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 21:55:59,690 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Change the permissions on the /tmp directory] ********************************************************************
2022-05-25 21:55:59,754 p=32654 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 21:56:00,245 p=32654 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 21:56:00,258 p=32654 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 21:56:00,259 p=32654 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 21:56:00,269 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Create the etcd.yml configuration file for all nodes] ************************************************************
2022-05-25 21:56:00,332 p=32654 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 21:56:00,934 p=32654 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 21:56:00,945 p=32654 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 21:56:00,965 p=32654 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 21:56:00,975 p=32654 u=moonja n=ansible | TASK [patroni-postgres : debug] ***********************************************************************************************************
2022-05-25 21:56:01,014 p=32654 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": true,
        "checksum": "769e988b934d65d39f12249c15d376c4996669fe",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "19223efc76b4385e7416280d86f42450",
        "mode": "0644",
        "owner": "postgres",
        "size": 476,
        "src": "/var/tmp/ansible-tmp-1653483360.332364-42640-264936408603266/source",
        "state": "file",
        "uid": 26
    }
}
2022-05-25 21:56:01,031 p=32654 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": true,
        "checksum": "883861bce22a700d2112520c386edcd7517ff757",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "1d37dea46903e0e9f574323fe20d67db",
        "mode": "0644",
        "owner": "postgres",
        "size": 476,
        "src": "/var/tmp/ansible-tmp-1653483360.3525052-42641-186270372909862/source",
        "state": "file",
        "uid": 26
    }
}
2022-05-25 21:56:01,060 p=32654 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": true,
        "checksum": "29df31fda413fbe1c71f5bc0c1b06f8eed49bb09",
        "dest": "/var/lib/pgsql/etcd.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "691adc294c915bb31a0a4960acf6eb09",
        "mode": "0644",
        "owner": "postgres",
        "size": 476,
        "src": "/var/tmp/ansible-tmp-1653483360.368248-42645-265855912104282/source",
        "state": "file",
        "uid": 26
    }
}
2022-05-25 21:56:01,061 p=32654 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 21:56:01,074 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of etcd into /etc/systemd/system] *****************************************************
2022-05-25 21:56:01,136 p=32654 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 21:56:02,082 p=32654 u=moonja n=ansible | ok: [co7-node03]
2022-05-25 21:56:02,100 p=32654 u=moonja n=ansible | ok: [co7-node02]
2022-05-25 21:56:02,100 p=32654 u=moonja n=ansible | ok: [co7-node01]
2022-05-25 21:56:02,109 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Reload and start etcd through systemd] ***************************************************************************
2022-05-25 21:56:02,174 p=32654 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 21:56:08,442 p=32654 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 21:56:08,460 p=32654 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 21:56:08,460 p=32654 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 21:56:08,471 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Lists the members and identifies the current Leader.] ************************************************************
2022-05-25 21:56:08,533 p=32654 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 21:56:08,847 p=32654 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 21:56:08,849 p=32654 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 21:56:08,856 p=32654 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 21:56:08,865 p=32654 u=moonja n=ansible | TASK [patroni-postgres : debug] ***********************************************************************************************************
2022-05-25 21:56:08,909 p=32654 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.019188",
        "end": "2022-05-25 21:56:09.103909",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-25 21:56:09.084721",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "7894cfd255567386, started, <co7-node01>, http://192.168.0.83:2380, http://192.168.0.83:2379\n90a8ce747786b32d, started, <co7-node03>, http://192.168.0.85:2380, http://192.168.0.85:2379\nd6b4e9cbe4abb38e, started, <co7-node02>, http://192.168.0.84:2380, http://192.168.0.84:2379",
        "stdout_lines": [
            "7894cfd255567386, started, <co7-node01>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "90a8ce747786b32d, started, <co7-node03>, http://192.168.0.85:2380, http://192.168.0.85:2379",
            "d6b4e9cbe4abb38e, started, <co7-node02>, http://192.168.0.84:2380, http://192.168.0.84:2379"
        ]
    }
}
2022-05-25 21:56:08,960 p=32654 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.018860",
        "end": "2022-05-25 21:56:09.102469",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-25 21:56:09.083609",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "7894cfd255567386, started, <co7-node01>, http://192.168.0.83:2380, http://192.168.0.83:2379\n90a8ce747786b32d, started, <co7-node03>, http://192.168.0.85:2380, http://192.168.0.85:2379\nd6b4e9cbe4abb38e, started, <co7-node02>, http://192.168.0.84:2380, http://192.168.0.84:2379",
        "stdout_lines": [
            "7894cfd255567386, started, <co7-node01>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "90a8ce747786b32d, started, <co7-node03>, http://192.168.0.85:2380, http://192.168.0.85:2379",
            "d6b4e9cbe4abb38e, started, <co7-node02>, http://192.168.0.84:2380, http://192.168.0.84:2379"
        ]
    }
}
2022-05-25 21:56:08,961 p=32654 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": true,
        "cmd": "( export ETCDCTL_API=3 && etcdctl member list )",
        "delta": "0:00:00.017943",
        "end": "2022-05-25 21:56:09.111996",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-25 21:56:09.094053",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "7894cfd255567386, started, <co7-node01>, http://192.168.0.83:2380, http://192.168.0.83:2379\n90a8ce747786b32d, started, <co7-node03>, http://192.168.0.85:2380, http://192.168.0.85:2379\nd6b4e9cbe4abb38e, started, <co7-node02>, http://192.168.0.84:2380, http://192.168.0.84:2379",
        "stdout_lines": [
            "7894cfd255567386, started, <co7-node01>, http://192.168.0.83:2380, http://192.168.0.83:2379",
            "90a8ce747786b32d, started, <co7-node03>, http://192.168.0.85:2380, http://192.168.0.85:2379",
            "d6b4e9cbe4abb38e, started, <co7-node02>, http://192.168.0.84:2380, http://192.168.0.84:2379"
        ]
    }
}
2022-05-25 21:56:08,961 p=32654 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 21:56:08,970 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Set data directory for patroni cluster] **************************************************************************
2022-05-25 21:56:09,329 p=32654 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 21:56:09,340 p=32654 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 21:56:09,345 p=32654 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 21:56:11,661 p=32654 u=moonja n=ansible | changed: [co7-master]
2022-05-25 21:56:11,671 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Create the patroni.yml configuration file for all nodes] *********************************************************
2022-05-25 21:56:11,732 p=32654 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 21:56:12,425 p=32654 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 21:56:12,433 p=32654 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 21:56:12,434 p=32654 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 21:56:12,444 p=32654 u=moonja n=ansible | TASK [patroni-postgres : debug] ***********************************************************************************************************
2022-05-25 21:56:12,484 p=32654 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": true,
        "checksum": "3b1e102ae7529f4cda254b1d9e15365d4f7b62b9",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "23ecf725a99263311204436f93d2ce20",
        "mode": "0644",
        "owner": "postgres",
        "size": 2537,
        "src": "/var/tmp/ansible-tmp-1653483371.7426329-42980-116090998335394/source",
        "state": "file",
        "uid": 26
    }
}
2022-05-25 21:56:12,509 p=32654 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": true,
        "checksum": "e31ca4269812c466b675ab4ec02c8264cba90e94",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "1f31c547d854657c447f6e5084bbdb7c",
        "mode": "0644",
        "owner": "postgres",
        "size": 2537,
        "src": "/var/tmp/ansible-tmp-1653483371.7637372-42981-29596587605770/source",
        "state": "file",
        "uid": 26
    }
}
2022-05-25 21:56:12,511 p=32654 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": true,
        "checksum": "2d1c346da0622b66496f862811807b5e1da7019c",
        "dest": "/var/lib/pgsql/patroni.yml",
        "diff": [],
        "failed": false,
        "gid": 26,
        "group": "postgres",
        "md5sum": "a9b5a7af685ecd78e98b6e4ca21c7726",
        "mode": "0644",
        "owner": "postgres",
        "size": 2537,
        "src": "/var/tmp/ansible-tmp-1653483371.769099-42984-46418429443624/source",
        "state": "file",
        "uid": 26
    }
}
2022-05-25 21:56:12,520 p=32654 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 21:56:12,529 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Copy systemd configuration of patroni into /etc/systemd/system] **************************************************
2022-05-25 21:56:12,592 p=32654 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 21:56:13,173 p=32654 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 21:56:13,221 p=32654 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 21:56:13,223 p=32654 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 21:56:13,234 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Reload and start systemd service of patroni] *********************************************************************
2022-05-25 21:56:13,295 p=32654 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 21:56:13,765 p=32654 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 21:56:13,769 p=32654 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 21:56:13,783 p=32654 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 21:56:13,795 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ************************************
2022-05-25 21:56:13,814 p=43218 u=moonja n=ansible | Pausing for 60 seconds
2022-05-25 21:56:13,814 p=43218 u=moonja n=ansible | (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort)
2022-05-25 21:57:13,819 p=32654 u=moonja n=ansible | ok: [co7-node01]
2022-05-25 21:57:13,828 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Remove cluster] **************************************************************************************************
2022-05-25 21:57:13,861 p=32654 u=moonja n=ansible | skipping: [co7-node02]
2022-05-25 21:57:13,877 p=32654 u=moonja n=ansible | skipping: [co7-node03]
2022-05-25 21:57:13,889 p=32654 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 21:57:20,709 p=32654 u=moonja n=ansible | fatal: [co7-node01]: FAILED! => {"ansible_job_id": "678179594519.10078", "changed": true, "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n", "delta": "0:00:01.519983", "end": "2022-05-25 21:57:16.197838", "finished": 1, "msg": "non-zero return code", "rc": 1, "results_file": "/var/lib/pgsql/.ansible_async/678179594519.10078", "start": "2022-05-25 21:57:14.677855", "started": 1, "stderr": "Aborted!", "stderr_lines": ["Aborted!"], "stdout": "+------------+--------------+---------+--------------+----+-----------+\n| Member     | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+-----------+\n| co7-node01 | 192.168.0.83 | Replica | start failed |    |   unknown |\n| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |\n| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |\n+------------+--------------+---------+--------------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": This cluster currently is healthy. Please specify the master name to continue: ", "stdout_lines": ["+------------+--------------+---------+--------------+----+-----------+", "| Member     | Host         | Role    | State        | TL | Lag in MB |", "+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+-----------+", "| co7-node01 | 192.168.0.83 | Replica | start failed |    |   unknown |", "| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |", "| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |", "+------------+--------------+---------+--------------+----+-----------+", "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": This cluster currently is healthy. Please specify the master name to continue: "]}
2022-05-25 21:57:20,709 p=32654 u=moonja n=ansible | ...ignoring
2022-05-25 21:57:20,717 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ************************************
2022-05-25 21:57:20,735 p=43455 u=moonja n=ansible | Pausing for 60 seconds
2022-05-25 21:57:20,736 p=43455 u=moonja n=ansible | (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort)
2022-05-25 21:58:20,739 p=32654 u=moonja n=ansible | ok: [co7-node01]
2022-05-25 21:58:20,748 p=32654 u=moonja n=ansible | TASK [patroni-postgres : debug] ***********************************************************************************************************
2022-05-25 21:58:20,810 p=32654 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "ansible_job_id": "678179594519.10078",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml remove vmtz_patroni_cluster <<EOF\nvmtz_patroni_cluster\nYes I am aware\nEOF\n",
        "delta": "0:00:01.519983",
        "end": "2022-05-25 21:57:16.197838",
        "failed": true,
        "finished": 1,
        "msg": "non-zero return code",
        "rc": 1,
        "results_file": "/var/lib/pgsql/.ansible_async/678179594519.10078",
        "start": "2022-05-25 21:57:14.677855",
        "started": 1,
        "stderr": "Aborted!",
        "stderr_lines": [
            "Aborted!"
        ],
        "stdout": "+------------+--------------+---------+--------------+----+-----------+\n| Member     | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+-----------+\n| co7-node01 | 192.168.0.83 | Replica | start failed |    |   unknown |\n| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |\n| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |\n+------------+--------------+---------+--------------+----+-----------+\nPlease confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": This cluster currently is healthy. Please specify the master name to continue: ",
        "stdout_lines": [
            "+------------+--------------+---------+--------------+----+-----------+",
            "| Member     | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+-----------+",
            "| co7-node01 | 192.168.0.83 | Replica | start failed |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |",
            "| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |",
            "+------------+--------------+---------+--------------+----+-----------+",
            "Please confirm the cluster name to remove: You are about to remove all information in DCS for vmtz_patroni_cluster, please type: \"Yes I am aware\": This cluster currently is healthy. Please specify the master name to continue: "
        ]
    }
}
2022-05-25 21:58:20,826 p=32654 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 21:58:20,827 p=32654 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 21:58:20,841 p=32654 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 21:58:20,851 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Reinitialize patroni clsuter on all node] ************************************************************************
2022-05-25 21:58:20,916 p=32654 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 21:58:26,988 p=32654 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 21:58:32,874 p=32654 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 21:58:33,336 p=32654 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 21:58:33,344 p=32654 u=moonja n=ansible | TASK [patroni-postgres : debug] ***********************************************************************************************************
2022-05-25 21:58:33,409 p=32654 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "ansible_job_id": "600980828909.10365",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\nco7-node01\ny\ny\nEOF\n",
        "delta": "0:00:00.281658",
        "end": "2022-05-25 21:58:21.933301",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/600980828909.10365",
        "start": "2022-05-25 21:58:21.651643",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+--------------+----+-----------+\n| Member     | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+-----------+\n| co7-node01 | 192.168.0.83 | Replica | start failed |    |   unknown |\n| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |\n| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |\n+------------+--------------+---------+--------------+----+-----------+\nWhich member do you want to reinitialize [co7-node02, co7-node01, co7-node03]? []: Are you sure you want to reinitialize members co7-node01? [y/N]: Success: reinitialize for member co7-node01",
        "stdout_lines": [
            "+------------+--------------+---------+--------------+----+-----------+",
            "| Member     | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+-----------+",
            "| co7-node01 | 192.168.0.83 | Replica | start failed |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |",
            "| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |",
            "+------------+--------------+---------+--------------+----+-----------+",
            "Which member do you want to reinitialize [co7-node02, co7-node01, co7-node03]? []: Are you sure you want to reinitialize members co7-node01? [y/N]: Success: reinitialize for member co7-node01"
        ]
    }
}
2022-05-25 21:58:33,459 p=32654 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "ansible_job_id": "386022762699.10015",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\nco7-node02\ny\ny\nEOF\n",
        "delta": "0:00:06.981027",
        "end": "2022-05-25 21:58:29.333433",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/386022762699.10015",
        "start": "2022-05-25 21:58:22.352406",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+------------------+----+-----------+\n| Member     | Host         | Role    | State            | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101657035335939735) ---+----+-----------+\n| co7-node01 | 192.168.0.83 | Replica | creating replica |    |   unknown |\n| co7-node02 | 192.168.0.84 | Leader  | running          |  1 |           |\n| co7-node03 | 192.168.0.85 | Replica | creating replica |    |   unknown |\n+------------+--------------+---------+------------------+----+-----------+\nWhich member do you want to reinitialize [co7-node02, co7-node01, co7-node03]? []: Are you sure you want to reinitialize members co7-node02? [y/N]: Failed: reinitialize for member co7-node02, status code=503, (I am the leader, can not reinitialize)",
        "stdout_lines": [
            "+------------+--------------+---------+------------------+----+-----------+",
            "| Member     | Host         | Role    | State            | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101657035335939735) ---+----+-----------+",
            "| co7-node01 | 192.168.0.83 | Replica | creating replica |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Leader  | running          |  1 |           |",
            "| co7-node03 | 192.168.0.85 | Replica | creating replica |    |   unknown |",
            "+------------+--------------+---------+------------------+----+-----------+",
            "Which member do you want to reinitialize [co7-node02, co7-node01, co7-node03]? []: Are you sure you want to reinitialize members co7-node02? [y/N]: Failed: reinitialize for member co7-node02, status code=503, (I am the leader, can not reinitialize)"
        ]
    }
}
2022-05-25 21:58:33,461 p=32654 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "ansible_job_id": "518679246815.9782",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\nco7-node03\ny\ny\nEOF\n",
        "delta": "0:00:05.805990",
        "end": "2022-05-25 21:58:28.130316",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/518679246815.9782",
        "start": "2022-05-25 21:58:22.324326",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+------------------+----+-----------+\n| Member     | Host         | Role    | State            | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101657035335939735) ---+----+-----------+\n| co7-node01 | 192.168.0.83 | Replica | creating replica |    |   unknown |\n| co7-node02 | 192.168.0.84 | Leader  | running          |  1 |           |\n| co7-node03 | 192.168.0.85 | Replica | start failed     |    |   unknown |\n+------------+--------------+---------+------------------+----+-----------+\nWhich member do you want to reinitialize [co7-node02, co7-node01, co7-node03]? []: Are you sure you want to reinitialize members co7-node03? [y/N]: Success: reinitialize for member co7-node03",
        "stdout_lines": [
            "+------------+--------------+---------+------------------+----+-----------+",
            "| Member     | Host         | Role    | State            | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101657035335939735) ---+----+-----------+",
            "| co7-node01 | 192.168.0.83 | Replica | creating replica |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Leader  | running          |  1 |           |",
            "| co7-node03 | 192.168.0.85 | Replica | start failed     |    |   unknown |",
            "+------------+--------------+---------+------------------+----+-----------+",
            "Which member do you want to reinitialize [co7-node02, co7-node01, co7-node03]? []: Are you sure you want to reinitialize members co7-node03? [y/N]: Success: reinitialize for member co7-node03"
        ]
    }
}
2022-05-25 21:58:33,462 p=32654 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 21:58:33,473 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ************************************
2022-05-25 21:58:33,491 p=43814 u=moonja n=ansible | Pausing for 60 seconds
2022-05-25 21:58:33,492 p=43814 u=moonja n=ansible | (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort)
2022-05-25 21:59:33,495 p=32654 u=moonja n=ansible | ok: [co7-node01]
2022-05-25 21:59:33,505 p=32654 u=moonja n=ansible | TASK [patroni-postgres : debug] ***********************************************************************************************************
2022-05-25 21:59:33,557 p=32654 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "ansible_job_id": "600980828909.10365",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\nco7-node01\ny\ny\nEOF\n",
        "delta": "0:00:00.281658",
        "end": "2022-05-25 21:58:21.933301",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/600980828909.10365",
        "start": "2022-05-25 21:58:21.651643",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+--------------+----+-----------+\n| Member     | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+-----------+\n| co7-node01 | 192.168.0.83 | Replica | start failed |    |   unknown |\n| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |\n| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |\n+------------+--------------+---------+--------------+----+-----------+\nWhich member do you want to reinitialize [co7-node02, co7-node01, co7-node03]? []: Are you sure you want to reinitialize members co7-node01? [y/N]: Success: reinitialize for member co7-node01",
        "stdout_lines": [
            "+------------+--------------+---------+--------------+----+-----------+",
            "| Member     | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+-----------+",
            "| co7-node01 | 192.168.0.83 | Replica | start failed |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |",
            "| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |",
            "+------------+--------------+---------+--------------+----+-----------+",
            "Which member do you want to reinitialize [co7-node02, co7-node01, co7-node03]? []: Are you sure you want to reinitialize members co7-node01? [y/N]: Success: reinitialize for member co7-node01"
        ]
    }
}
2022-05-25 21:59:33,608 p=32654 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "ansible_job_id": "386022762699.10015",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\nco7-node02\ny\ny\nEOF\n",
        "delta": "0:00:06.981027",
        "end": "2022-05-25 21:58:29.333433",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/386022762699.10015",
        "start": "2022-05-25 21:58:22.352406",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+------------------+----+-----------+\n| Member     | Host         | Role    | State            | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101657035335939735) ---+----+-----------+\n| co7-node01 | 192.168.0.83 | Replica | creating replica |    |   unknown |\n| co7-node02 | 192.168.0.84 | Leader  | running          |  1 |           |\n| co7-node03 | 192.168.0.85 | Replica | creating replica |    |   unknown |\n+------------+--------------+---------+------------------+----+-----------+\nWhich member do you want to reinitialize [co7-node02, co7-node01, co7-node03]? []: Are you sure you want to reinitialize members co7-node02? [y/N]: Failed: reinitialize for member co7-node02, status code=503, (I am the leader, can not reinitialize)",
        "stdout_lines": [
            "+------------+--------------+---------+------------------+----+-----------+",
            "| Member     | Host         | Role    | State            | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101657035335939735) ---+----+-----------+",
            "| co7-node01 | 192.168.0.83 | Replica | creating replica |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Leader  | running          |  1 |           |",
            "| co7-node03 | 192.168.0.85 | Replica | creating replica |    |   unknown |",
            "+------------+--------------+---------+------------------+----+-----------+",
            "Which member do you want to reinitialize [co7-node02, co7-node01, co7-node03]? []: Are you sure you want to reinitialize members co7-node02? [y/N]: Failed: reinitialize for member co7-node02, status code=503, (I am the leader, can not reinitialize)"
        ]
    }
}
2022-05-25 21:59:33,609 p=32654 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "ansible_job_id": "518679246815.9782",
        "changed": true,
        "cmd": "export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml reinit vmtz_patroni_cluster <<EOF\nco7-node03\ny\ny\nEOF\n",
        "delta": "0:00:05.805990",
        "end": "2022-05-25 21:58:28.130316",
        "failed": false,
        "finished": 1,
        "msg": "",
        "rc": 0,
        "results_file": "/var/lib/pgsql/.ansible_async/518679246815.9782",
        "start": "2022-05-25 21:58:22.324326",
        "started": 1,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+------------------+----+-----------+\n| Member     | Host         | Role    | State            | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101657035335939735) ---+----+-----------+\n| co7-node01 | 192.168.0.83 | Replica | creating replica |    |   unknown |\n| co7-node02 | 192.168.0.84 | Leader  | running          |  1 |           |\n| co7-node03 | 192.168.0.85 | Replica | start failed     |    |   unknown |\n+------------+--------------+---------+------------------+----+-----------+\nWhich member do you want to reinitialize [co7-node02, co7-node01, co7-node03]? []: Are you sure you want to reinitialize members co7-node03? [y/N]: Success: reinitialize for member co7-node03",
        "stdout_lines": [
            "+------------+--------------+---------+------------------+----+-----------+",
            "| Member     | Host         | Role    | State            | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101657035335939735) ---+----+-----------+",
            "| co7-node01 | 192.168.0.83 | Replica | creating replica |    |   unknown |",
            "| co7-node02 | 192.168.0.84 | Leader  | running          |  1 |           |",
            "| co7-node03 | 192.168.0.85 | Replica | start failed     |    |   unknown |",
            "+------------+--------------+---------+------------------+----+-----------+",
            "Which member do you want to reinitialize [co7-node02, co7-node01, co7-node03]? []: Are you sure you want to reinitialize members co7-node03? [y/N]: Success: reinitialize for member co7-node03"
        ]
    }
}
2022-05-25 21:59:33,610 p=32654 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 21:59:33,620 p=32654 u=moonja n=ansible | TASK [patroni-postgres : Run the patronictl command-line utility to view the cluster state with Patroni started on all three nodes,] ******
2022-05-25 21:59:33,685 p=32654 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 21:59:34,384 p=32654 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 21:59:35,037 p=32654 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 21:59:35,066 p=32654 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 21:59:35,076 p=32654 u=moonja n=ansible | TASK [patroni-postgres : debug] ***********************************************************************************************************
2022-05-25 21:59:35,117 p=32654 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.282655",
        "end": "2022-05-25 21:59:34.610661",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-25 21:59:34.328006",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+--------------+----+-----------+\n| Member     | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+-----------+\n| co7-node01 | 192.168.0.83 | Replica | running      |  1 |         0 |\n| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |\n| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |\n+------------+--------------+---------+--------------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+--------------+----+-----------+",
            "| Member     | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+-----------+",
            "| co7-node01 | 192.168.0.83 | Replica | running      |  1 |         0 |",
            "| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |",
            "| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |",
            "+------------+--------------+---------+--------------+----+-----------+"
        ]
    }
}
2022-05-25 21:59:35,157 p=32654 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.288050",
        "end": "2022-05-25 21:59:35.280324",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-25 21:59:34.992274",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+--------------+----+-----------+\n| Member     | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+-----------+\n| co7-node01 | 192.168.0.83 | Replica | running      |  1 |         0 |\n| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |\n| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |\n+------------+--------------+---------+--------------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+--------------+----+-----------+",
            "| Member     | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+-----------+",
            "| co7-node01 | 192.168.0.83 | Replica | running      |  1 |         0 |",
            "| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |",
            "| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |",
            "+------------+--------------+---------+--------------+----+-----------+"
        ]
    }
}
2022-05-25 21:59:35,159 p=32654 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": true,
        "cmd": "( export LC_ALL=en_US.utf-8 && /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.285849",
        "end": "2022-05-25 21:59:35.325542",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-25 21:59:35.039693",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+--------------+---------+--------------+----+-----------+\n| Member     | Host         | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+-----------+\n| co7-node01 | 192.168.0.83 | Replica | running      |  1 |         0 |\n| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |\n| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |\n+------------+--------------+---------+--------------+----+-----------+",
        "stdout_lines": [
            "+------------+--------------+---------+--------------+----+-----------+",
            "| Member     | Host         | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+-----------+",
            "| co7-node01 | 192.168.0.83 | Replica | running      |  1 |         0 |",
            "| co7-node02 | 192.168.0.84 | Leader  | running      |  1 |           |",
            "| co7-node03 | 192.168.0.85 | Replica | start failed |    |   unknown |",
            "+------------+--------------+---------+--------------+----+-----------+"
        ]
    }
}
2022-05-25 21:59:35,163 p=32654 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 21:59:35,207 p=32654 u=moonja n=ansible | PLAY RECAP ********************************************************************************************************************************
2022-05-25 21:59:35,208 p=32654 u=moonja n=ansible | co7-master                 : ok=23   changed=8    unreachable=0    failed=0    skipped=23   rescued=0    ignored=0   
2022-05-25 21:59:35,208 p=32654 u=moonja n=ansible | co7-node01                 : ok=46   changed=27   unreachable=0    failed=0    skipped=3    rescued=0    ignored=1   
2022-05-25 21:59:35,208 p=32654 u=moonja n=ansible | co7-node02                 : ok=42   changed=26   unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   
2022-05-25 21:59:35,208 p=32654 u=moonja n=ansible | co7-node03                 : ok=42   changed=26   unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   
2022-05-25 22:23:10,141 p=49999 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be removed from ansible-
core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-05-25 22:23:10,151 p=49999 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-05-25 22:23:10,364 p=49999 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed in version 2.16. 
Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-05-25 22:23:10,420 p=49999 u=moonja n=ansible | PLAY [all] ********************************************************************************************************************************
2022-05-25 22:23:10,446 p=49999 u=moonja n=ansible | TASK [Gathering Facts] ********************************************************************************************************************
2022-05-25 22:23:11,637 p=49999 u=moonja n=ansible | ok: [co7-node01]
2022-05-25 22:23:12,039 p=49999 u=moonja n=ansible | ok: [co7-master]
2022-05-25 22:23:12,040 p=49999 u=moonja n=ansible | ok: [co7-node03]
2022-05-25 22:23:12,041 p=49999 u=moonja n=ansible | ok: [co7-node02]
2022-05-25 22:23:12,057 p=49999 u=moonja n=ansible | TASK [pgbackrest : Copy the vmwawre-postgres rpm file to all hosts in cluster] ************************************************************
2022-05-25 22:23:12,075 p=49999 u=moonja n=ansible | skipping: [co7-node01]
2022-05-25 22:23:12,089 p=49999 u=moonja n=ansible | skipping: [co7-node02]
2022-05-25 22:23:12,105 p=49999 u=moonja n=ansible | skipping: [co7-node03]
2022-05-25 22:23:13,242 p=49999 u=moonja n=ansible | ok: [co7-master]
2022-05-25 22:23:13,252 p=49999 u=moonja n=ansible | TASK [pgbackrest : Install VMware Postgres on all hosts as root] **************************************************************************
2022-05-25 22:23:13,270 p=49999 u=moonja n=ansible | skipping: [co7-node01]
2022-05-25 22:23:13,298 p=49999 u=moonja n=ansible | skipping: [co7-node02]
2022-05-25 22:23:13,300 p=49999 u=moonja n=ansible | skipping: [co7-node03]
2022-05-25 22:23:20,157 p=49999 u=moonja n=ansible | ok: [co7-master]
2022-05-25 22:23:20,165 p=49999 u=moonja n=ansible | TASK [pgbackrest : Edit patroni.yml for pgBackrest] ***************************************************************************************
2022-05-25 22:23:20,250 p=49999 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  listen: '192.168.0.81:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'}) 
2022-05-25 22:23:20,251 p=49999 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  connect_address: '192.168.0.81:5432'", 'line': "  connect_address: '192.168.0.81:5532'", 'state': 'present'}) 
2022-05-25 22:23:20,252 p=49999 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'}) 
2022-05-25 22:23:20,712 p=49999 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  listen: '192.168.0.85:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-25 22:23:20,724 p=49999 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  listen: '192.168.0.84:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-25 22:23:20,725 p=49999 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  listen: '192.168.0.83:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-25 22:23:20,988 p=49999 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  connect_address: '192.168.0.85:5432'", 'line': "  connect_address: '192.168.0.85:5532'", 'state': 'present'})
2022-05-25 22:23:21,014 p=49999 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  connect_address: '192.168.0.84:5432'", 'line': "  connect_address: '192.168.0.84:5532'", 'state': 'present'})
2022-05-25 22:23:21,014 p=49999 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  connect_address: '192.168.0.83:5432'", 'line': "  connect_address: '192.168.0.83:5532'", 'state': 'present'})
2022-05-25 22:23:21,280 p=49999 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-25 22:23:21,314 p=49999 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-25 22:23:21,315 p=49999 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-25 22:23:21,325 p=49999 u=moonja n=ansible | TASK [pgbackrest : Edit patroni.yml for pgBackrest] ***************************************************************************************
2022-05-25 22:23:21,389 p=49999 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'}) 
2022-05-25 22:23:21,390 p=49999 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'}) 
2022-05-25 22:23:21,678 p=49999 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-25 22:23:21,698 p=49999 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-25 22:23:21,706 p=49999 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-25 22:23:21,976 p=49999 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-25 22:23:21,979 p=49999 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-25 22:23:22,001 p=49999 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-25 22:23:22,012 p=49999 u=moonja n=ansible | TASK [pgbackrest : Create directories and files in all nodes] *****************************************************************************
2022-05-25 22:23:22,588 p=49999 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-25 22:23:22,590 p=49999 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-25 22:23:22,593 p=49999 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-25 22:23:22,596 p=49999 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-25 22:23:22,886 p=49999 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-25 22:23:22,895 p=49999 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-25 22:23:22,896 p=49999 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-25 22:23:22,901 p=49999 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-25 22:23:23,174 p=49999 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-25 22:23:23,184 p=49999 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-25 22:23:23,192 p=49999 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-25 22:23:23,193 p=49999 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-25 22:23:23,515 p=49999 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-25 22:23:23,516 p=49999 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-25 22:23:23,545 p=49999 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-25 22:23:23,551 p=49999 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-25 22:23:23,818 p=49999 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-25 22:23:23,820 p=49999 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-25 22:23:23,857 p=49999 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-25 22:23:23,860 p=49999 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-25 22:23:24,130 p=49999 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-25 22:23:24,131 p=49999 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-25 22:23:24,159 p=49999 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-25 22:23:24,160 p=49999 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-25 22:23:24,173 p=49999 u=moonja n=ansible | TASK [pgbackrest : Allow ssh connection for postgres user in SELinux policy] **************************************************************
2022-05-25 22:23:24,796 p=49999 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 22:23:24,807 p=49999 u=moonja n=ansible | changed: [co7-master]
2022-05-25 22:23:24,812 p=49999 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 22:23:24,817 p=49999 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 22:23:24,829 p=49999 u=moonja n=ansible | TASK [pgbackrest : Exchange ssh keys to allow password-less login between all nodes] ******************************************************
2022-05-25 22:23:25,733 p=49999 u=moonja n=ansible | changed: [co7-master]
2022-05-25 22:23:26,030 p=49999 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 22:23:26,092 p=49999 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 22:23:26,215 p=49999 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 22:23:26,226 p=49999 u=moonja n=ansible | TASK [pgbackrest : Fetch the keyfile from the node to master] *****************************************************************************
2022-05-25 22:23:26,751 p=49999 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 22:23:26,751 p=49999 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 22:23:26,752 p=49999 u=moonja n=ansible | changed: [co7-master]
2022-05-25 22:23:26,752 p=49999 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 22:23:26,761 p=49999 u=moonja n=ansible | TASK [pgbackrest : Copy the key add to authorized_keys using Ansible module] **************************************************************
2022-05-25 22:23:26,776 p=50897 u=moonja n=ansible | [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or {% %}. Found: {{ item !=
ansible_hostname }}

2022-05-25 22:23:26,783 p=49999 u=moonja n=ansible | skipping: [co7-node01] => (item=co7-node01) 
2022-05-25 22:23:26,789 p=50898 u=moonja n=ansible | [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or {% %}. Found: {{ item !=
ansible_hostname }}

2022-05-25 22:23:26,804 p=50899 u=moonja n=ansible | [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or {% %}. Found: {{ item !=
ansible_hostname }}

2022-05-25 22:23:26,819 p=50904 u=moonja n=ansible | [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or {% %}. Found: {{ item !=
ansible_hostname }}

2022-05-25 22:23:27,393 p=49999 u=moonja n=ansible | changed: [co7-master] => (item=co7-node01)
2022-05-25 22:23:27,393 p=49999 u=moonja n=ansible | changed: [co7-node01] => (item=co7-node02)
2022-05-25 22:23:27,395 p=49999 u=moonja n=ansible | changed: [co7-node02] => (item=co7-node01)
2022-05-25 22:23:27,396 p=49999 u=moonja n=ansible | changed: [co7-node03] => (item=co7-node01)
2022-05-25 22:23:27,396 p=49999 u=moonja n=ansible | skipping: [co7-node02] => (item=co7-node02) 
2022-05-25 22:23:27,794 p=49999 u=moonja n=ansible | changed: [co7-node01] => (item=co7-node03)
2022-05-25 22:23:27,800 p=49999 u=moonja n=ansible | changed: [co7-node03] => (item=co7-node02)
2022-05-25 22:23:27,800 p=49999 u=moonja n=ansible | skipping: [co7-node03] => (item=co7-node03) 
2022-05-25 22:23:27,808 p=49999 u=moonja n=ansible | changed: [co7-node02] => (item=co7-node03)
2022-05-25 22:23:27,812 p=49999 u=moonja n=ansible | changed: [co7-master] => (item=co7-node02)
2022-05-25 22:23:28,139 p=49999 u=moonja n=ansible | changed: [co7-node03] => (item=co7-master)
2022-05-25 22:23:28,140 p=49999 u=moonja n=ansible | changed: [co7-node01] => (item=co7-master)
2022-05-25 22:23:28,156 p=49999 u=moonja n=ansible | changed: [co7-master] => (item=co7-node03)
2022-05-25 22:23:28,157 p=49999 u=moonja n=ansible | skipping: [co7-master] => (item=co7-master) 
2022-05-25 22:23:28,160 p=49999 u=moonja n=ansible | changed: [co7-node02] => (item=co7-master)
2022-05-25 22:23:28,176 p=49999 u=moonja n=ansible | TASK [pgbackrest : The ssh-keyscan for known_hosts file] **********************************************************************************
2022-05-25 22:23:28,253 p=49999 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 22:23:28,602 p=49999 u=moonja n=ansible | changed: [co7-node01 -> co7-master(None)]
2022-05-25 22:23:28,602 p=49999 u=moonja n=ansible | changed: [co7-node02 -> co7-master(None)]
2022-05-25 22:23:28,617 p=49999 u=moonja n=ansible | changed: [co7-node03 -> co7-master(None)]
2022-05-25 22:23:28,626 p=49999 u=moonja n=ansible | TASK [pgbackrest : The ssh-keyscan for known_hosts file] **********************************************************************************
2022-05-25 22:23:28,685 p=49999 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 22:23:29,194 p=49999 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 22:23:29,235 p=49999 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 22:23:29,240 p=49999 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 22:23:29,261 p=49999 u=moonja n=ansible | TASK [pgbackrest : Input key] *************************************************************************************************************
2022-05-25 22:23:29,344 p=49999 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 22:23:29,579 p=49999 u=moonja n=ansible | changed: [co7-node01 -> co7-master(None)] => (item=co7-node01 ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBLoXGv1czw5vny45YMnnJnK14bCFNpqV5ZvrL0U+g+64T1YUr6eqXWdDTcTX1DZUTnFC9HAby0cS6zZGQvRfXiY=)
2022-05-25 22:23:29,592 p=49999 u=moonja n=ansible | changed: [co7-node02 -> co7-master(None)] => (item=co7-node02 ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBKOiG3ubpx4pRAU6ZMg5W5JOC/6ryHoSTKsMz8tC/RTGxcvmvpyaUeE4r4imIAyucmKUo2Y721KvbW5g1/Kjt+o=)
2022-05-25 22:23:29,673 p=49999 u=moonja n=ansible | changed: [co7-node03 -> co7-master(None)] => (item=co7-node03 ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBCw3T4DjyF88OSwmXjXK1z6SzO1qm3YMTAQdeIlBzoQJxAQ2qiaSnZZzGQk7B5ODmS4UFh80grvzm2WjWS3cyyM=)
2022-05-25 22:23:29,683 p=49999 u=moonja n=ansible | TASK [pgbackrest : Input key] *************************************************************************************************************
2022-05-25 22:23:29,743 p=49999 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 22:23:30,001 p=49999 u=moonja n=ansible | changed: [co7-node02] => (item=co7-master ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBH5R4iPHfdOTR6op3EHkF+lB1ezHrv7PiAK5tc8EmmThK795DDwtDOYKx1zFbnnGQgyQM8tCPrSBHMZD0y+72Yg=)
2022-05-25 22:23:30,012 p=49999 u=moonja n=ansible | changed: [co7-node01] => (item=co7-master ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBH5R4iPHfdOTR6op3EHkF+lB1ezHrv7PiAK5tc8EmmThK795DDwtDOYKx1zFbnnGQgyQM8tCPrSBHMZD0y+72Yg=)
2022-05-25 22:23:30,028 p=49999 u=moonja n=ansible | changed: [co7-node03] => (item=co7-master ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBH5R4iPHfdOTR6op3EHkF+lB1ezHrv7PiAK5tc8EmmThK795DDwtDOYKx1zFbnnGQgyQM8tCPrSBHMZD0y+72Yg=)
2022-05-25 22:23:30,038 p=49999 u=moonja n=ansible | TASK [pgbackrest : Create repository location] ********************************************************************************************
2022-05-25 22:23:30,059 p=49999 u=moonja n=ansible | skipping: [co7-node01] => (item={'path': '/var/lib/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '750'}) 
2022-05-25 22:23:30,068 p=49999 u=moonja n=ansible | skipping: [co7-node02] => (item={'path': '/var/lib/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '750'}) 
2022-05-25 22:23:30,089 p=49999 u=moonja n=ansible | skipping: [co7-node03] => (item={'path': '/var/lib/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '750'}) 
2022-05-25 22:23:30,429 p=49999 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '750'})
2022-05-25 22:23:30,440 p=49999 u=moonja n=ansible | TASK [pgbackrest : Configure pgbackrest.conf for patroni nodes] ***************************************************************************
2022-05-25 22:23:30,497 p=49999 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 22:23:31,172 p=49999 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 22:23:31,173 p=49999 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 22:23:32,223 p=49999 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 22:23:32,232 p=49999 u=moonja n=ansible | TASK [pgbackrest : Configure pgbackrest.conf for repository node] *************************************************************************
2022-05-25 22:23:32,251 p=49999 u=moonja n=ansible | skipping: [co7-node01]
2022-05-25 22:23:32,266 p=49999 u=moonja n=ansible | skipping: [co7-node02]
2022-05-25 22:23:32,282 p=49999 u=moonja n=ansible | skipping: [co7-node03]
2022-05-25 22:23:33,037 p=49999 u=moonja n=ansible | changed: [co7-master]
2022-05-25 22:23:33,047 p=49999 u=moonja n=ansible | TASK [pgbackrest : Reload and start systemd service of patroni] ***************************************************************************
2022-05-25 22:23:33,104 p=49999 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 22:23:33,915 p=49999 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 22:23:36,337 p=49999 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 22:23:37,081 p=49999 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 22:23:37,091 p=49999 u=moonja n=ansible | TASK [pgbackrest : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ******************************************
2022-05-25 22:23:37,110 p=51438 u=moonja n=ansible | Pausing for 60 seconds
2022-05-25 22:23:37,111 p=51438 u=moonja n=ansible | (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort)
2022-05-25 22:24:37,133 p=49999 u=moonja n=ansible | ok: [co7-node01]
2022-05-25 22:24:37,142 p=49999 u=moonja n=ansible | TASK [pgbackrest : Check the config on each of the two postgres hosts] ********************************************************************
2022-05-25 22:24:37,199 p=49999 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 22:24:37,825 p=49999 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 22:24:38,474 p=49999 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 22:24:38,477 p=49999 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 22:24:38,487 p=49999 u=moonja n=ansible | TASK [pgbackrest : debug] *****************************************************************************************************************
2022-05-25 22:24:38,534 p=49999 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.286590",
        "end": "2022-05-25 22:24:37.841391",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-25 22:24:37.554801",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+-------------------+---------+--------------+----+-----------+\n| Member     | Host              | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+----+-----------+\n| co7-node01 | 192.168.0.83:5532 | Leader  | running      |  8 |           |\n| co7-node02 | 192.168.0.84:5532 | Replica | start failed |    |   unknown |\n| co7-node03 | 192.168.0.85:5532 | Replica | starting     |    |   unknown |\n+------------+-------------------+---------+--------------+----+-----------+",
        "stdout_lines": [
            "+------------+-------------------+---------+--------------+----+-----------+",
            "| Member     | Host              | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+----+-----------+",
            "| co7-node01 | 192.168.0.83:5532 | Leader  | running      |  8 |           |",
            "| co7-node02 | 192.168.0.84:5532 | Replica | start failed |    |   unknown |",
            "| co7-node03 | 192.168.0.85:5532 | Replica | starting     |    |   unknown |",
            "+------------+-------------------+---------+--------------+----+-----------+"
        ]
    }
}
2022-05-25 22:24:38,583 p=49999 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.285503",
        "end": "2022-05-25 22:24:38.490813",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-25 22:24:38.205310",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+-------------------+---------+--------------+----+-----------+\n| Member     | Host              | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+----+-----------+\n| co7-node01 | 192.168.0.83:5532 | Leader  | running      |  8 |           |\n| co7-node02 | 192.168.0.84:5532 | Replica | start failed |    |   unknown |\n| co7-node03 | 192.168.0.85:5532 | Replica | starting     |    |   unknown |\n+------------+-------------------+---------+--------------+----+-----------+",
        "stdout_lines": [
            "+------------+-------------------+---------+--------------+----+-----------+",
            "| Member     | Host              | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+----+-----------+",
            "| co7-node01 | 192.168.0.83:5532 | Leader  | running      |  8 |           |",
            "| co7-node02 | 192.168.0.84:5532 | Replica | start failed |    |   unknown |",
            "| co7-node03 | 192.168.0.85:5532 | Replica | starting     |    |   unknown |",
            "+------------+-------------------+---------+--------------+----+-----------+"
        ]
    }
}
2022-05-25 22:24:38,633 p=49999 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.286942",
        "end": "2022-05-25 22:24:38.484963",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-25 22:24:38.198021",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+-------------------+---------+--------------+----+-----------+\n| Member     | Host              | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+----+-----------+\n| co7-node01 | 192.168.0.83:5532 | Leader  | running      |  8 |           |\n| co7-node02 | 192.168.0.84:5532 | Replica | start failed |    |   unknown |\n| co7-node03 | 192.168.0.85:5532 | Replica | starting     |    |   unknown |\n+------------+-------------------+---------+--------------+----+-----------+",
        "stdout_lines": [
            "+------------+-------------------+---------+--------------+----+-----------+",
            "| Member     | Host              | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+----+-----------+",
            "| co7-node01 | 192.168.0.83:5532 | Leader  | running      |  8 |           |",
            "| co7-node02 | 192.168.0.84:5532 | Replica | start failed |    |   unknown |",
            "| co7-node03 | 192.168.0.85:5532 | Replica | starting     |    |   unknown |",
            "+------------+-------------------+---------+--------------+----+-----------+"
        ]
    }
}
2022-05-25 22:24:38,634 p=49999 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 22:24:38,646 p=49999 u=moonja n=ansible | TASK [pgbackrest : Check the config on all postgres hosts. the difference in output. The WAL log will only be archived from the primary.] ***
2022-05-25 22:24:38,665 p=49999 u=moonja n=ansible | skipping: [co7-node01]
2022-05-25 22:24:38,697 p=49999 u=moonja n=ansible | skipping: [co7-node02]
2022-05-25 22:24:38,697 p=49999 u=moonja n=ansible | skipping: [co7-node03]
2022-05-25 22:27:07,220 p=49999 u=moonja n=ansible |  [ERROR]: User interrupted execution

2022-05-25 22:27:11,544 p=53867 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be removed from ansible-
core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-05-25 22:27:11,554 p=53867 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-05-25 22:27:11,792 p=53867 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed in version 2.16. 
Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-05-25 22:27:11,843 p=53867 u=moonja n=ansible | PLAY [all] ********************************************************************************************************************************
2022-05-25 22:27:11,869 p=53867 u=moonja n=ansible | TASK [Gathering Facts] ********************************************************************************************************************
2022-05-25 22:27:13,011 p=53867 u=moonja n=ansible | ok: [co7-master]
2022-05-25 22:27:13,014 p=53867 u=moonja n=ansible | ok: [co7-node01]
2022-05-25 22:27:13,464 p=53867 u=moonja n=ansible | ok: [co7-node03]
2022-05-25 22:27:13,465 p=53867 u=moonja n=ansible | ok: [co7-node02]
2022-05-25 22:27:13,481 p=53867 u=moonja n=ansible | TASK [pgbackrest : Stop the stanza on the repository host (only needs to be done on this host)] *******************************************
2022-05-25 22:27:13,501 p=53867 u=moonja n=ansible | skipping: [co7-node01]
2022-05-25 22:27:13,514 p=53867 u=moonja n=ansible | skipping: [co7-node02]
2022-05-25 22:27:13,530 p=53867 u=moonja n=ansible | skipping: [co7-node03]
2022-05-25 22:27:14,092 p=53867 u=moonja n=ansible | changed: [co7-master]
2022-05-25 22:27:14,102 p=53867 u=moonja n=ansible | TASK [pgbackrest : debug] *****************************************************************************************************************
2022-05-25 22:27:14,137 p=53867 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 22:27:14,153 p=53867 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 22:27:14,153 p=53867 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 22:27:14,586 p=53867 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": true,
        "cmd": [
            "/usr/bin/pgbackrest",
            "--stanza=main",
            "--log-level-console=info",
            "stop"
        ],
        "delta": "0:00:00.004867",
        "end": "2022-05-25 22:27:14.101235",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-25 22:27:14.096368",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "2022-05-25 22:27:14.100 P00   INFO: stop command begin 2.31: --exec-id=9410-306534c3 --log-level-console=info --pg1-host=192.168.0.83 --pg2-host=192.168.0.84 --pg3-host=192.168.0.85 --repo1-path=/var/lib/pgbackrest --stanza=main\n2022-05-25 22:27:14.100 P00   INFO: stop command end: completed successfully (0ms)",
        "stdout_lines": [
            "2022-05-25 22:27:14.100 P00   INFO: stop command begin 2.31: --exec-id=9410-306534c3 --log-level-console=info --pg1-host=192.168.0.83 --pg2-host=192.168.0.84 --pg3-host=192.168.0.85 --repo1-path=/var/lib/pgbackrest --stanza=main",
            "2022-05-25 22:27:14.100 P00   INFO: stop command end: completed successfully (0ms)"
        ]
    }
}
2022-05-25 22:27:14,597 p=53867 u=moonja n=ansible | TASK [pgbackrest : Delete main.stop file for pgbackrest] **********************************************************************************
2022-05-25 22:27:14,621 p=53867 u=moonja n=ansible | skipping: [co7-node01] => (item=/tmp/pgbackrest/main.stop) 
2022-05-25 22:27:14,638 p=53867 u=moonja n=ansible | skipping: [co7-node02] => (item=/tmp/pgbackrest/main.stop) 
2022-05-25 22:27:14,653 p=53867 u=moonja n=ansible | skipping: [co7-node03] => (item=/tmp/pgbackrest/main.stop) 
2022-05-25 22:27:15,288 p=53867 u=moonja n=ansible | changed: [co7-master] => (item=/tmp/pgbackrest/main.stop)
2022-05-25 22:27:15,299 p=53867 u=moonja n=ansible | TASK [pgbackrest : Delete the stanza on the repository host (only needs to be done on this host)] *****************************************
2022-05-25 22:27:15,318 p=53867 u=moonja n=ansible | skipping: [co7-node01]
2022-05-25 22:27:15,334 p=53867 u=moonja n=ansible | skipping: [co7-node02]
2022-05-25 22:27:15,349 p=53867 u=moonja n=ansible | skipping: [co7-node03]
2022-05-25 22:27:15,836 p=53867 u=moonja n=ansible | changed: [co7-master]
2022-05-25 22:27:15,844 p=53867 u=moonja n=ansible | TASK [pgbackrest : debug] *****************************************************************************************************************
2022-05-25 22:27:15,878 p=53867 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 22:27:15,894 p=53867 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 22:27:15,896 p=53867 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 22:27:15,908 p=53867 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": true,
        "cmd": [
            "/usr/bin/pgbackrest",
            "--stanza=main",
            "--log-level-console=info",
            "stanza-delete",
            "--force"
        ],
        "delta": "0:00:00.005005",
        "end": "2022-05-25 22:27:15.843752",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-25 22:27:15.838747",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "2022-05-25 22:27:15.843 P00   INFO: stanza-delete command begin 2.31: --exec-id=9565-7b797f91 --force --log-level-console=info --pg1-host=192.168.0.83 --pg2-host=192.168.0.84 --pg3-host=192.168.0.85 --pg1-path=/var/lib/pgsql/patroni_data --pg2-path=/var/lib/pgsql/patroni_data --pg3-path=/var/lib/pgsql/patroni_data --pg1-port=5532 --pg2-port=5532 --pg3-port=5532 --pg1-socket-path=/var/lib/pgsql/patroni_data --pg2-socket-path=/var/lib/pgsql/patroni_data --pg3-socket-path=/var/lib/pgsql/patroni_data --repo1-path=/var/lib/pgbackrest --stanza=main\n2022-05-25 22:27:15.843 P00   INFO: stanza-delete command end: completed successfully (1ms)",
        "stdout_lines": [
            "2022-05-25 22:27:15.843 P00   INFO: stanza-delete command begin 2.31: --exec-id=9565-7b797f91 --force --log-level-console=info --pg1-host=192.168.0.83 --pg2-host=192.168.0.84 --pg3-host=192.168.0.85 --pg1-path=/var/lib/pgsql/patroni_data --pg2-path=/var/lib/pgsql/patroni_data --pg3-path=/var/lib/pgsql/patroni_data --pg1-port=5532 --pg2-port=5532 --pg3-port=5532 --pg1-socket-path=/var/lib/pgsql/patroni_data --pg2-socket-path=/var/lib/pgsql/patroni_data --pg3-socket-path=/var/lib/pgsql/patroni_data --repo1-path=/var/lib/pgbackrest --stanza=main",
            "2022-05-25 22:27:15.843 P00   INFO: stanza-delete command end: completed successfully (1ms)"
        ]
    }
}
2022-05-25 22:27:15,917 p=53867 u=moonja n=ansible | TASK [pgbackrest : Kill process of pgbackrest on repository] ******************************************************************************
2022-05-25 22:27:15,950 p=53867 u=moonja n=ansible | skipping: [co7-node01]
2022-05-25 22:27:15,965 p=53867 u=moonja n=ansible | skipping: [co7-node02]
2022-05-25 22:27:15,966 p=53867 u=moonja n=ansible | skipping: [co7-node03]
2022-05-25 22:27:16,289 p=53867 u=moonja n=ansible | fatal: [co7-master]: FAILED! => {"changed": false, "cmd": "killall pgbackrest", "msg": "[Errno 2] No such file or directory", "rc": 2, "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2022-05-25 22:27:16,289 p=53867 u=moonja n=ansible | ...ignoring
2022-05-25 22:27:16,298 p=53867 u=moonja n=ansible | TASK [pgbackrest : debug] *****************************************************************************************************************
2022-05-25 22:27:16,330 p=53867 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 22:27:16,347 p=53867 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 22:27:16,348 p=53867 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 22:27:16,359 p=53867 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "cmd": "killall pgbackrest",
        "failed": true,
        "msg": "[Errno 2] No such file or directory",
        "rc": 2,
        "stderr": "",
        "stderr_lines": [],
        "stdout": "",
        "stdout_lines": []
    }
}
2022-05-25 22:27:16,369 p=53867 u=moonja n=ansible | TASK [pgbackrest : Delete configuration file for pgbackrest] ******************************************************************************
2022-05-25 22:27:16,691 p=53867 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-25 22:27:16,694 p=53867 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-25 22:27:16,713 p=53867 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-25 22:27:16,723 p=53867 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest/pgbackrest.conf)
2022-05-25 22:27:16,733 p=53867 u=moonja n=ansible | TASK [pgbackrest : Delete repository location for pgbackrest] *****************************************************************************
2022-05-25 22:27:16,753 p=53867 u=moonja n=ansible | skipping: [co7-node01] => (item=/var/lib/pgbackrest) 
2022-05-25 22:27:16,769 p=53867 u=moonja n=ansible | skipping: [co7-node02] => (item=/var/lib/pgbackrest) 
2022-05-25 22:27:16,784 p=53867 u=moonja n=ansible | skipping: [co7-node03] => (item=/var/lib/pgbackrest) 
2022-05-25 22:27:17,293 p=53867 u=moonja n=ansible | changed: [co7-master] => (item=/var/lib/pgbackrest)
2022-05-25 22:27:17,303 p=53867 u=moonja n=ansible | TASK [pgbackrest : Delete ssh keys to allow password-less login between all nodes] ********************************************************
2022-05-25 22:27:17,652 p=53867 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/id_rsa)
2022-05-25 22:27:17,670 p=53867 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/id_rsa)
2022-05-25 22:27:17,675 p=53867 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/id_rsa)
2022-05-25 22:27:17,693 p=53867 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/id_rsa)
2022-05-25 22:27:17,957 p=53867 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/id_rsa.pub)
2022-05-25 22:27:17,962 p=53867 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/id_rsa.pub)
2022-05-25 22:27:17,969 p=53867 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/id_rsa.pub)
2022-05-25 22:27:17,979 p=53867 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/id_rsa.pub)
2022-05-25 22:27:18,254 p=53867 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh/authorized_keys)
2022-05-25 22:27:18,272 p=53867 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh/authorized_keys)
2022-05-25 22:27:18,275 p=53867 u=moonja n=ansible | changed: [co7-master] => (item=.ssh/authorized_keys)
2022-05-25 22:27:18,281 p=53867 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh/authorized_keys)
2022-05-25 22:27:18,537 p=53867 u=moonja n=ansible | changed: [co7-node01] => (item=.ssh)
2022-05-25 22:27:18,566 p=53867 u=moonja n=ansible | changed: [co7-node03] => (item=.ssh)
2022-05-25 22:27:18,575 p=53867 u=moonja n=ansible | changed: [co7-master] => (item=.ssh)
2022-05-25 22:27:18,592 p=53867 u=moonja n=ansible | changed: [co7-node02] => (item=.ssh)
2022-05-25 22:27:18,603 p=53867 u=moonja n=ansible | TASK [pgbackrest : Delete directories and files in all nodes] *****************************************************************************
2022-05-25 22:27:18,952 p=53867 u=moonja n=ansible | changed: [co7-node01] => (item=/var/log/pgbackrest)
2022-05-25 22:27:18,968 p=53867 u=moonja n=ansible | changed: [co7-master] => (item=/var/log/pgbackrest)
2022-05-25 22:27:18,970 p=53867 u=moonja n=ansible | changed: [co7-node02] => (item=/var/log/pgbackrest)
2022-05-25 22:27:18,970 p=53867 u=moonja n=ansible | changed: [co7-node03] => (item=/var/log/pgbackrest)
2022-05-25 22:27:19,285 p=53867 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest/conf.d)
2022-05-25 22:27:19,321 p=53867 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest/conf.d)
2022-05-25 22:27:19,341 p=53867 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest/conf.d)
2022-05-25 22:27:19,343 p=53867 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest/conf.d)
2022-05-25 22:27:19,564 p=53867 u=moonja n=ansible | changed: [co7-node01] => (item=/etc/pgbackrest)
2022-05-25 22:27:19,626 p=53867 u=moonja n=ansible | changed: [co7-node02] => (item=/etc/pgbackrest)
2022-05-25 22:27:19,636 p=53867 u=moonja n=ansible | changed: [co7-master] => (item=/etc/pgbackrest)
2022-05-25 22:27:19,645 p=53867 u=moonja n=ansible | changed: [co7-node03] => (item=/etc/pgbackrest)
2022-05-25 22:27:19,655 p=53867 u=moonja n=ansible | TASK [pgbackrest : Delete lines for pgbackrest in patroni.yml] ****************************************************************************
2022-05-25 22:27:19,767 p=53867 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'}) 
2022-05-25 22:27:19,768 p=53867 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_command:*', 'state': 'absent'}) 
2022-05-25 22:27:20,250 p=53867 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-25 22:27:20,250 p=53867 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-25 22:27:20,273 p=53867 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_mode:*', 'state': 'absent'})
2022-05-25 22:27:20,541 p=53867 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-25 22:27:20,550 p=53867 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-25 22:27:20,573 p=53867 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_command:*', 'state': 'absent'})
2022-05-25 22:27:20,582 p=53867 u=moonja n=ansible | TASK [pgbackrest : Return previous values in patroni.yml for pgBackrest] ******************************************************************
2022-05-25 22:27:20,672 p=53867 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.81:5432'", 'state': 'present'}) 
2022-05-25 22:27:20,674 p=53867 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  connect_address: '192.168.0.81:5532'", 'line': "  connect_address: '192.168.0.81:5432'", 'state': 'present'}) 
2022-05-25 22:27:20,674 p=53867 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'}) 
2022-05-25 22:27:20,960 p=53867 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.83:5432'", 'state': 'present'})
2022-05-25 22:27:20,970 p=53867 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.84:5432'", 'state': 'present'})
2022-05-25 22:27:20,970 p=53867 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  listen: '0.0.0.0:5532'", 'line': "  listen: '192.168.0.85:5432'", 'state': 'present'})
2022-05-25 22:27:21,243 p=53867 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  connect_address: '192.168.0.83:5532'", 'line': "  connect_address: '192.168.0.83:5432'", 'state': 'present'})
2022-05-25 22:27:21,255 p=53867 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  connect_address: '192.168.0.85:5532'", 'line': "  connect_address: '192.168.0.85:5432'", 'state': 'present'})
2022-05-25 22:27:21,255 p=53867 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  connect_address: '192.168.0.84:5532'", 'line': "  connect_address: '192.168.0.84:5432'", 'state': 'present'})
2022-05-25 22:27:21,511 p=53867 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-25 22:27:21,536 p=53867 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-25 22:27:21,539 p=53867 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    port: 5532', 'line': '    port: 5432', 'state': 'present'})
2022-05-25 22:27:21,548 p=53867 u=moonja n=ansible | TASK [pgbackrest : Reload and start systemd service of patroni] ***************************************************************************
2022-05-25 22:27:21,607 p=53867 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 22:27:23,169 p=53867 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 22:27:23,831 p=53867 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 22:27:26,781 p=53867 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 22:27:26,791 p=53867 u=moonja n=ansible | TASK [pgbackrest : Check the config on each of the two postgres hosts] ********************************************************************
2022-05-25 22:27:26,850 p=53867 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 22:27:27,408 p=53867 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 22:27:27,418 p=53867 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 22:27:27,421 p=53867 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 22:27:27,429 p=53867 u=moonja n=ansible | TASK [pgbackrest : debug] *****************************************************************************************************************
2022-05-25 22:27:27,466 p=53867 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.309311",
        "end": "2022-05-25 22:27:27.415419",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-25 22:27:27.106108",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+-------------------+---------+---------+----+-----------+\n| Member     | Host              | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+-----------+\n| co7-node01 | 192.168.0.83:5532 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84:5432 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85:5432 | Replica | stopped |    |   unknown |\n+------------+-------------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+-------------------+---------+---------+----+-----------+",
            "| Member     | Host              | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+-----------+",
            "| co7-node01 | 192.168.0.83:5532 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84:5432 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85:5432 | Replica | stopped |    |   unknown |",
            "+------------+-------------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-25 22:27:27,482 p=53867 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.306140",
        "end": "2022-05-25 22:27:27.425823",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-25 22:27:27.119683",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+-------------------+---------+---------+----+-----------+\n| Member     | Host              | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+-----------+\n| co7-node01 | 192.168.0.83:5532 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84:5432 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85:5432 | Replica | stopped |    |   unknown |\n+------------+-------------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+-------------------+---------+---------+----+-----------+",
            "| Member     | Host              | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+-----------+",
            "| co7-node01 | 192.168.0.83:5532 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84:5432 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85:5432 | Replica | stopped |    |   unknown |",
            "+------------+-------------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-25 22:27:27,483 p=53867 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.306420",
        "end": "2022-05-25 22:27:27.430091",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-25 22:27:27.123671",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+-------------------+---------+---------+----+-----------+\n| Member     | Host              | Role    | State   | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+-----------+\n| co7-node01 | 192.168.0.83:5532 | Replica | stopped |    |   unknown |\n| co7-node02 | 192.168.0.84:5432 | Replica | stopped |    |   unknown |\n| co7-node03 | 192.168.0.85:5432 | Replica | stopped |    |   unknown |\n+------------+-------------------+---------+---------+----+-----------+",
        "stdout_lines": [
            "+------------+-------------------+---------+---------+----+-----------+",
            "| Member     | Host              | Role    | State   | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+-----------+",
            "| co7-node01 | 192.168.0.83:5532 | Replica | stopped |    |   unknown |",
            "| co7-node02 | 192.168.0.84:5432 | Replica | stopped |    |   unknown |",
            "| co7-node03 | 192.168.0.85:5432 | Replica | stopped |    |   unknown |",
            "+------------+-------------------+---------+---------+----+-----------+"
        ]
    }
}
2022-05-25 22:27:27,494 p=53867 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 22:27:27,537 p=53867 u=moonja n=ansible | PLAY RECAP ********************************************************************************************************************************
2022-05-25 22:27:27,537 p=53867 u=moonja n=ansible | co7-master                 : ok=13   changed=7    unreachable=0    failed=0    skipped=4    rescued=0    ignored=1   
2022-05-25 22:27:27,537 p=53867 u=moonja n=ansible | co7-node01                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-25 22:27:27,537 p=53867 u=moonja n=ansible | co7-node02                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-25 22:27:27,537 p=53867 u=moonja n=ansible | co7-node03                 : ok=12   changed=7    unreachable=0    failed=0    skipped=5    rescued=0    ignored=0   
2022-05-25 22:28:40,506 p=54971 u=moonja n=ansible | [DEPRECATION WARNING]: COMMAND_WARNINGS option, the command warnings feature is being removed. This feature will be removed from ansible-
core in version 2.14. Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-05-25 22:28:40,516 p=54971 u=moonja n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-05-25 22:28:40,734 p=54971 u=moonja n=ansible | [DEPRECATION WARNING]: "include" is deprecated, use include_tasks/import_tasks instead. This feature will be removed in version 2.16. 
Deprecation warnings can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-05-25 22:28:40,791 p=54971 u=moonja n=ansible | PLAY [all] ********************************************************************************************************************************
2022-05-25 22:28:40,819 p=54971 u=moonja n=ansible | TASK [Gathering Facts] ********************************************************************************************************************
2022-05-25 22:28:41,932 p=54971 u=moonja n=ansible | ok: [co7-master]
2022-05-25 22:28:41,938 p=54971 u=moonja n=ansible | ok: [co7-node01]
2022-05-25 22:28:42,352 p=54971 u=moonja n=ansible | ok: [co7-node02]
2022-05-25 22:28:42,358 p=54971 u=moonja n=ansible | ok: [co7-node03]
2022-05-25 22:28:42,374 p=54971 u=moonja n=ansible | TASK [pgbackrest : Copy the vmwawre-postgres rpm file to all hosts in cluster] ************************************************************
2022-05-25 22:28:42,392 p=54971 u=moonja n=ansible | skipping: [co7-node01]
2022-05-25 22:28:42,407 p=54971 u=moonja n=ansible | skipping: [co7-node02]
2022-05-25 22:28:42,422 p=54971 u=moonja n=ansible | skipping: [co7-node03]
2022-05-25 22:28:43,381 p=54971 u=moonja n=ansible | ok: [co7-master]
2022-05-25 22:28:43,391 p=54971 u=moonja n=ansible | TASK [pgbackrest : Install VMware Postgres on all hosts as root] **************************************************************************
2022-05-25 22:28:43,409 p=54971 u=moonja n=ansible | skipping: [co7-node01]
2022-05-25 22:28:43,423 p=54971 u=moonja n=ansible | skipping: [co7-node02]
2022-05-25 22:28:43,438 p=54971 u=moonja n=ansible | skipping: [co7-node03]
2022-05-25 22:28:50,118 p=54971 u=moonja n=ansible | ok: [co7-master]
2022-05-25 22:28:50,126 p=54971 u=moonja n=ansible | TASK [pgbackrest : Edit patroni.yml for pgBackrest] ***************************************************************************************
2022-05-25 22:28:50,215 p=54971 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  listen: '192.168.0.81:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'}) 
2022-05-25 22:28:50,217 p=54971 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': "^  connect_address: '192.168.0.81:5432'", 'line': "  connect_address: '192.168.0.81:5532'", 'state': 'present'}) 
2022-05-25 22:28:50,217 p=54971 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'}) 
2022-05-25 22:28:50,675 p=54971 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  listen: '192.168.0.83:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-25 22:28:50,687 p=54971 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  listen: '192.168.0.85:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-25 22:28:50,687 p=54971 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  listen: '192.168.0.84:5432'", 'line': "  listen: '0.0.0.0:5532'", 'state': 'present'})
2022-05-25 22:28:50,953 p=54971 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': "^  connect_address: '192.168.0.83:5432'", 'line': "  connect_address: '192.168.0.83:5532'", 'state': 'present'})
2022-05-25 22:28:50,961 p=54971 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': "^  connect_address: '192.168.0.84:5432'", 'line': "  connect_address: '192.168.0.84:5532'", 'state': 'present'})
2022-05-25 22:28:50,962 p=54971 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': "^  connect_address: '192.168.0.85:5432'", 'line': "  connect_address: '192.168.0.85:5532'", 'state': 'present'})
2022-05-25 22:28:51,231 p=54971 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-25 22:28:51,232 p=54971 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-25 22:28:51,233 p=54971 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    port: 5432', 'line': '    port: 5532', 'state': 'present'})
2022-05-25 22:28:51,242 p=54971 u=moonja n=ansible | TASK [pgbackrest : Edit patroni.yml for pgBackrest] ***************************************************************************************
2022-05-25 22:28:51,308 p=54971 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'}) 
2022-05-25 22:28:51,309 p=54971 u=moonja n=ansible | skipping: [co7-master] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'}) 
2022-05-25 22:28:51,619 p=54971 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-25 22:28:51,623 p=54971 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-25 22:28:51,639 p=54971 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^  parameters:', 'line': '    archive_mode: "on"', 'state': 'present'})
2022-05-25 22:28:51,907 p=54971 u=moonja n=ansible | changed: [co7-node01] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-25 22:28:51,914 p=54971 u=moonja n=ansible | changed: [co7-node03] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-25 22:28:51,915 p=54971 u=moonja n=ansible | changed: [co7-node02] => (item={'regexp': '^    archive_mode:*', 'line': '    archive_command: "pgbackrest --stanze=main archive-push %p"', 'state': 'present'})
2022-05-25 22:28:51,925 p=54971 u=moonja n=ansible | TASK [pgbackrest : Create directories and files in all nodes] *****************************************************************************
2022-05-25 22:28:52,516 p=54971 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-25 22:28:52,519 p=54971 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-25 22:28:52,532 p=54971 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-25 22:28:52,547 p=54971 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-25 22:28:52,872 p=54971 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-25 22:28:52,876 p=54971 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-25 22:28:52,878 p=54971 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-25 22:28:52,883 p=54971 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest/conf.d', 'state': 'directory', 'owner': 'root', 'group': 'root', 'mode': '755'})
2022-05-25 22:28:53,248 p=54971 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-25 22:28:53,250 p=54971 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-25 22:28:53,251 p=54971 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-25 22:28:53,252 p=54971 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/log/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '770'})
2022-05-25 22:28:53,558 p=54971 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-25 22:28:53,562 p=54971 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-25 22:28:53,578 p=54971 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-25 22:28:53,587 p=54971 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/etc/pgbackrest/pgbackrest.conf', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-25 22:28:53,903 p=54971 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-25 22:28:53,914 p=54971 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-25 22:28:53,916 p=54971 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-25 22:28:53,921 p=54971 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/lib/pgsql/.ssh', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '700'})
2022-05-25 22:28:54,196 p=54971 u=moonja n=ansible | changed: [co7-node03] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-25 22:28:54,208 p=54971 u=moonja n=ansible | changed: [co7-node02] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-25 22:28:54,218 p=54971 u=moonja n=ansible | changed: [co7-node01] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-25 22:28:54,219 p=54971 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgsql/.ssh/authorized_keys', 'state': 'touch', 'owner': 'postgres', 'group': 'postgres', 'mode': '640'})
2022-05-25 22:28:54,233 p=54971 u=moonja n=ansible | TASK [pgbackrest : Allow ssh connection for postgres user in SELinux policy] **************************************************************
2022-05-25 22:28:54,766 p=54971 u=moonja n=ansible | changed: [co7-master]
2022-05-25 22:28:54,767 p=54971 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 22:28:54,781 p=54971 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 22:28:54,781 p=54971 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 22:28:54,791 p=54971 u=moonja n=ansible | TASK [pgbackrest : Exchange ssh keys to allow password-less login between all nodes] ******************************************************
2022-05-25 22:28:55,309 p=54971 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 22:28:55,580 p=54971 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 22:28:55,871 p=54971 u=moonja n=ansible | changed: [co7-master]
2022-05-25 22:28:56,128 p=54971 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 22:28:56,139 p=54971 u=moonja n=ansible | TASK [pgbackrest : Fetch the keyfile from the node to master] *****************************************************************************
2022-05-25 22:28:56,628 p=54971 u=moonja n=ansible | changed: [co7-master]
2022-05-25 22:28:56,629 p=54971 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 22:28:56,639 p=54971 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 22:28:56,647 p=54971 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 22:28:56,657 p=54971 u=moonja n=ansible | TASK [pgbackrest : Copy the key add to authorized_keys using Ansible module] **************************************************************
2022-05-25 22:28:56,672 p=55880 u=moonja n=ansible | [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or {% %}. Found: {{ item !=
ansible_hostname }}

2022-05-25 22:28:56,680 p=54971 u=moonja n=ansible | skipping: [co7-node01] => (item=co7-node01) 
2022-05-25 22:28:56,686 p=55881 u=moonja n=ansible | [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or {% %}. Found: {{ item !=
ansible_hostname }}

2022-05-25 22:28:56,702 p=55883 u=moonja n=ansible | [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or {% %}. Found: {{ item !=
ansible_hostname }}

2022-05-25 22:28:56,718 p=55887 u=moonja n=ansible | [WARNING]: conditional statements should not include jinja2 templating delimiters such as {{ }} or {% %}. Found: {{ item !=
ansible_hostname }}

2022-05-25 22:28:57,305 p=54971 u=moonja n=ansible | changed: [co7-master] => (item=co7-node01)
2022-05-25 22:28:57,306 p=54971 u=moonja n=ansible | changed: [co7-node01] => (item=co7-node02)
2022-05-25 22:28:57,309 p=54971 u=moonja n=ansible | changed: [co7-node03] => (item=co7-node01)
2022-05-25 22:28:57,313 p=54971 u=moonja n=ansible | changed: [co7-node02] => (item=co7-node01)
2022-05-25 22:28:57,316 p=54971 u=moonja n=ansible | skipping: [co7-node02] => (item=co7-node02) 
2022-05-25 22:28:57,696 p=54971 u=moonja n=ansible | changed: [co7-node02] => (item=co7-node03)
2022-05-25 22:28:57,698 p=54971 u=moonja n=ansible | changed: [co7-node03] => (item=co7-node02)
2022-05-25 22:28:57,698 p=54971 u=moonja n=ansible | skipping: [co7-node03] => (item=co7-node03) 
2022-05-25 22:28:57,705 p=54971 u=moonja n=ansible | changed: [co7-master] => (item=co7-node02)
2022-05-25 22:28:57,707 p=54971 u=moonja n=ansible | changed: [co7-node01] => (item=co7-node03)
2022-05-25 22:28:58,041 p=54971 u=moonja n=ansible | changed: [co7-node03] => (item=co7-master)
2022-05-25 22:28:58,046 p=54971 u=moonja n=ansible | changed: [co7-node02] => (item=co7-master)
2022-05-25 22:28:58,052 p=54971 u=moonja n=ansible | changed: [co7-node01] => (item=co7-master)
2022-05-25 22:28:58,064 p=54971 u=moonja n=ansible | changed: [co7-master] => (item=co7-node03)
2022-05-25 22:28:58,064 p=54971 u=moonja n=ansible | skipping: [co7-master] => (item=co7-master) 
2022-05-25 22:28:58,083 p=54971 u=moonja n=ansible | TASK [pgbackrest : The ssh-keyscan for known_hosts file] **********************************************************************************
2022-05-25 22:28:58,169 p=54971 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 22:28:58,478 p=54971 u=moonja n=ansible | changed: [co7-node03 -> co7-master(None)]
2022-05-25 22:28:58,482 p=54971 u=moonja n=ansible | changed: [co7-node01 -> co7-master(None)]
2022-05-25 22:28:58,522 p=54971 u=moonja n=ansible | changed: [co7-node02 -> co7-master(None)]
2022-05-25 22:28:58,531 p=54971 u=moonja n=ansible | TASK [pgbackrest : The ssh-keyscan for known_hosts file] **********************************************************************************
2022-05-25 22:28:58,596 p=54971 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 22:28:58,873 p=54971 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 22:28:58,883 p=54971 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 22:28:58,894 p=54971 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 22:28:58,914 p=54971 u=moonja n=ansible | TASK [pgbackrest : Input key] *************************************************************************************************************
2022-05-25 22:28:59,016 p=54971 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 22:28:59,280 p=54971 u=moonja n=ansible | changed: [co7-node01 -> co7-master(None)] => (item=co7-node01 ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBLoXGv1czw5vny45YMnnJnK14bCFNpqV5ZvrL0U+g+64T1YUr6eqXWdDTcTX1DZUTnFC9HAby0cS6zZGQvRfXiY=)
2022-05-25 22:28:59,299 p=54971 u=moonja n=ansible | changed: [co7-node03 -> co7-master(None)] => (item=co7-node03 ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBCw3T4DjyF88OSwmXjXK1z6SzO1qm3YMTAQdeIlBzoQJxAQ2qiaSnZZzGQk7B5ODmS4UFh80grvzm2WjWS3cyyM=)
2022-05-25 22:28:59,341 p=54971 u=moonja n=ansible | changed: [co7-node02 -> co7-master(None)] => (item=co7-node02 ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBKOiG3ubpx4pRAU6ZMg5W5JOC/6ryHoSTKsMz8tC/RTGxcvmvpyaUeE4r4imIAyucmKUo2Y721KvbW5g1/Kjt+o=)
2022-05-25 22:28:59,351 p=54971 u=moonja n=ansible | TASK [pgbackrest : Input key] *************************************************************************************************************
2022-05-25 22:28:59,413 p=54971 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 22:28:59,710 p=54971 u=moonja n=ansible | changed: [co7-node01] => (item=co7-master ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBH5R4iPHfdOTR6op3EHkF+lB1ezHrv7PiAK5tc8EmmThK795DDwtDOYKx1zFbnnGQgyQM8tCPrSBHMZD0y+72Yg=)
2022-05-25 22:28:59,711 p=54971 u=moonja n=ansible | changed: [co7-node02] => (item=co7-master ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBH5R4iPHfdOTR6op3EHkF+lB1ezHrv7PiAK5tc8EmmThK795DDwtDOYKx1zFbnnGQgyQM8tCPrSBHMZD0y+72Yg=)
2022-05-25 22:28:59,718 p=54971 u=moonja n=ansible | changed: [co7-node03] => (item=co7-master ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBH5R4iPHfdOTR6op3EHkF+lB1ezHrv7PiAK5tc8EmmThK795DDwtDOYKx1zFbnnGQgyQM8tCPrSBHMZD0y+72Yg=)
2022-05-25 22:28:59,727 p=54971 u=moonja n=ansible | TASK [pgbackrest : Create repository location] ********************************************************************************************
2022-05-25 22:28:59,751 p=54971 u=moonja n=ansible | skipping: [co7-node01] => (item={'path': '/var/lib/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '750'}) 
2022-05-25 22:28:59,763 p=54971 u=moonja n=ansible | skipping: [co7-node02] => (item={'path': '/var/lib/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '750'}) 
2022-05-25 22:28:59,784 p=54971 u=moonja n=ansible | skipping: [co7-node03] => (item={'path': '/var/lib/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '750'}) 
2022-05-25 22:29:00,232 p=54971 u=moonja n=ansible | changed: [co7-master] => (item={'path': '/var/lib/pgbackrest', 'state': 'directory', 'owner': 'postgres', 'group': 'postgres', 'mode': '750'})
2022-05-25 22:29:00,243 p=54971 u=moonja n=ansible | TASK [pgbackrest : Configure pgbackrest.conf for patroni nodes] ***************************************************************************
2022-05-25 22:29:00,300 p=54971 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 22:29:01,088 p=54971 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 22:29:01,088 p=54971 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 22:29:01,968 p=54971 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 22:29:01,978 p=54971 u=moonja n=ansible | TASK [pgbackrest : Configure pgbackrest.conf for repository node] *************************************************************************
2022-05-25 22:29:01,996 p=54971 u=moonja n=ansible | skipping: [co7-node01]
2022-05-25 22:29:02,012 p=54971 u=moonja n=ansible | skipping: [co7-node02]
2022-05-25 22:29:02,028 p=54971 u=moonja n=ansible | skipping: [co7-node03]
2022-05-25 22:29:02,948 p=54971 u=moonja n=ansible | changed: [co7-master]
2022-05-25 22:29:02,957 p=54971 u=moonja n=ansible | TASK [pgbackrest : Reload and start systemd service of patroni] ***************************************************************************
2022-05-25 22:29:03,016 p=54971 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 22:29:05,253 p=54971 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 22:29:05,767 p=54971 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 22:29:09,143 p=54971 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 22:29:09,154 p=54971 u=moonja n=ansible | TASK [pgbackrest : Pause for 1 minutes to wait for compleiting initializaion of patroni cluster] ******************************************
2022-05-25 22:29:09,171 p=56435 u=moonja n=ansible | Pausing for 60 seconds
2022-05-25 22:29:09,172 p=56435 u=moonja n=ansible | (ctrl+C then 'C' = continue early, ctrl+C then 'A' = abort)
2022-05-25 22:30:09,178 p=54971 u=moonja n=ansible | ok: [co7-node01]
2022-05-25 22:30:09,187 p=54971 u=moonja n=ansible | TASK [pgbackrest : Check the config on each of the two postgres hosts] ********************************************************************
2022-05-25 22:30:09,247 p=54971 u=moonja n=ansible | skipping: [co7-master]
2022-05-25 22:30:09,921 p=54971 u=moonja n=ansible | changed: [co7-node01]
2022-05-25 22:30:10,600 p=54971 u=moonja n=ansible | changed: [co7-node03]
2022-05-25 22:30:10,602 p=54971 u=moonja n=ansible | changed: [co7-node02]
2022-05-25 22:30:10,611 p=54971 u=moonja n=ansible | TASK [pgbackrest : debug] *****************************************************************************************************************
2022-05-25 22:30:10,632 p=54971 u=moonja n=ansible | ok: [co7-node01] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.273631",
        "end": "2022-05-25 22:30:09.931342",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-25 22:30:09.657711",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+-------------------+---------+--------------+----+-----------+\n| Member     | Host              | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+----+-----------+\n| co7-node01 | 192.168.0.83:5532 | Leader  | running      | 10 |           |\n| co7-node02 | 192.168.0.84:5532 | Replica | start failed |    |   unknown |\n| co7-node03 | 192.168.0.85:5532 | Replica | starting     |    |   unknown |\n+------------+-------------------+---------+--------------+----+-----------+",
        "stdout_lines": [
            "+------------+-------------------+---------+--------------+----+-----------+",
            "| Member     | Host              | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+----+-----------+",
            "| co7-node01 | 192.168.0.83:5532 | Leader  | running      | 10 |           |",
            "| co7-node02 | 192.168.0.84:5532 | Replica | start failed |    |   unknown |",
            "| co7-node03 | 192.168.0.85:5532 | Replica | starting     |    |   unknown |",
            "+------------+-------------------+---------+--------------+----+-----------+"
        ]
    }
}
2022-05-25 22:30:10,648 p=54971 u=moonja n=ansible | ok: [co7-node02] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.291066",
        "end": "2022-05-25 22:30:10.606400",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-25 22:30:10.315334",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+-------------------+---------+--------------+----+-----------+\n| Member     | Host              | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+----+-----------+\n| co7-node01 | 192.168.0.83:5532 | Leader  | running      | 10 |           |\n| co7-node02 | 192.168.0.84:5532 | Replica | start failed |    |   unknown |\n| co7-node03 | 192.168.0.85:5532 | Replica | starting     |    |   unknown |\n+------------+-------------------+---------+--------------+----+-----------+",
        "stdout_lines": [
            "+------------+-------------------+---------+--------------+----+-----------+",
            "| Member     | Host              | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+----+-----------+",
            "| co7-node01 | 192.168.0.83:5532 | Leader  | running      | 10 |           |",
            "| co7-node02 | 192.168.0.84:5532 | Replica | start failed |    |   unknown |",
            "| co7-node03 | 192.168.0.85:5532 | Replica | starting     |    |   unknown |",
            "+------------+-------------------+---------+--------------+----+-----------+"
        ]
    }
}
2022-05-25 22:30:10,665 p=54971 u=moonja n=ansible | ok: [co7-node03] => {
    "msg": {
        "changed": true,
        "cmd": "( /usr/local/bin/patronictl -c /var/lib/pgsql/patroni.yml list )",
        "delta": "0:00:00.288477",
        "end": "2022-05-25 22:30:10.603328",
        "failed": false,
        "msg": "",
        "rc": 0,
        "start": "2022-05-25 22:30:10.314851",
        "stderr": "",
        "stderr_lines": [],
        "stdout": "+------------+-------------------+---------+--------------+----+-----------+\n| Member     | Host              | Role    | State        | TL | Lag in MB |\n+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+----+-----------+\n| co7-node01 | 192.168.0.83:5532 | Leader  | running      | 10 |           |\n| co7-node02 | 192.168.0.84:5532 | Replica | start failed |    |   unknown |\n| co7-node03 | 192.168.0.85:5532 | Replica | starting     |    |   unknown |\n+------------+-------------------+---------+--------------+----+-----------+",
        "stdout_lines": [
            "+------------+-------------------+---------+--------------+----+-----------+",
            "| Member     | Host              | Role    | State        | TL | Lag in MB |",
            "+ Cluster: vmtz_patroni_cluster (7101657035335939735) ----+----+-----------+",
            "| co7-node01 | 192.168.0.83:5532 | Leader  | running      | 10 |           |",
            "| co7-node02 | 192.168.0.84:5532 | Replica | start failed |    |   unknown |",
            "| co7-node03 | 192.168.0.85:5532 | Replica | starting     |    |   unknown |",
            "+------------+-------------------+---------+--------------+----+-----------+"
        ]
    }
}
2022-05-25 22:30:10,675 p=54971 u=moonja n=ansible | ok: [co7-master] => {
    "msg": {
        "changed": false,
        "skip_reason": "Conditional result was False",
        "skipped": true
    }
}
2022-05-25 22:30:10,685 p=54971 u=moonja n=ansible | TASK [pgbackrest : meta] ******************************************************************************************************************
2022-05-25 22:30:10,692 p=54971 u=moonja n=ansible | PLAY RECAP ********************************************************************************************************************************
2022-05-25 22:30:10,692 p=54971 u=moonja n=ansible | co7-master                 : ok=11   changed=7    unreachable=0    failed=0    skipped=9    rescued=0    ignored=0   
2022-05-25 22:30:10,692 p=54971 u=moonja n=ansible | co7-node01                 : ok=17   changed=14   unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   
2022-05-25 22:30:10,692 p=54971 u=moonja n=ansible | co7-node02                 : ok=16   changed=14   unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   
2022-05-25 22:30:10,693 p=54971 u=moonja n=ansible | co7-node03                 : ok=16   changed=14   unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   
